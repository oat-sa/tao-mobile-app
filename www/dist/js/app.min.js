var requirejs,require,define;!function(global,setTimeout){function commentReplace(match,singlePrefix){return singlePrefix||""}function isFunction(it){return"[object Function]"===ostring.call(it)}function isArray(it){return"[object Array]"===ostring.call(it)}function each(ary,func){if(ary){var i;for(i=0;i<ary.length&&(!ary[i]||!func(ary[i],i,ary));i+=1);}}function eachReverse(ary,func){if(ary){var i;for(i=ary.length-1;i>-1&&(!ary[i]||!func(ary[i],i,ary));i-=1);}}function hasProp(obj,prop){return hasOwn.call(obj,prop)}function getOwn(obj,prop){return hasProp(obj,prop)&&obj[prop]}function eachProp(obj,func){var prop
;for(prop in obj)if(hasProp(obj,prop)&&func(obj[prop],prop))break}function mixin(target,source,force,deepStringMixin){return source&&eachProp(source,function(value,prop){!force&&hasProp(target,prop)||(!deepStringMixin||"object"!=typeof value||!value||isArray(value)||isFunction(value)||value instanceof RegExp?target[prop]=value:(target[prop]||(target[prop]={}),mixin(target[prop],value,force,deepStringMixin)))}),target}function bind(obj,fn){return function(){return fn.apply(obj,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(err){throw err}function getGlobal(value){if(!value)return value;var g=global
;return each(value.split("."),function(part){g=g[part]}),g}function makeError(id,msg,err,requireModules){var e=new Error(msg+"\nhttps://requirejs.org/docs/errors.html#"+id);return e.requireType=id,e.requireModules=requireModules,err&&(e.originalError=err),e}function newContext(contextName){function trimDots(ary){var i,part;for(i=0;i<ary.length;i++)if("."===(part=ary[i]))ary.splice(i,1),i-=1;else if(".."===part){if(0===i||1===i&&".."===ary[2]||".."===ary[i-1])continue;i>0&&(ary.splice(i-1,2),i-=2)}}function normalize(name,baseName,applyMap){
var mapValue,nameParts,i,j,nameSegment,lastIndex,foundMap,foundI,foundStarMap,starI,normalizedBaseParts,baseParts=baseName&&baseName.split("/"),map=config.map,starMap=map&&map["*"];if(name&&(name=name.split("/"),lastIndex=name.length-1,config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])&&(name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,"")),"."===name[0].charAt(0)&&baseParts&&(normalizedBaseParts=baseParts.slice(0,baseParts.length-1),name=normalizedBaseParts.concat(name)),trimDots(name),name=name.join("/")),applyMap&&map&&(baseParts||starMap)){nameParts=name.split("/");outerLoop:for(i=nameParts.length;i>0;i-=1){
if(nameSegment=nameParts.slice(0,i).join("/"),baseParts)for(j=baseParts.length;j>0;j-=1)if((mapValue=getOwn(map,baseParts.slice(0,j).join("/")))&&(mapValue=getOwn(mapValue,nameSegment))){foundMap=mapValue,foundI=i;break outerLoop}!foundStarMap&&starMap&&getOwn(starMap,nameSegment)&&(foundStarMap=getOwn(starMap,nameSegment),starI=i)}!foundMap&&foundStarMap&&(foundMap=foundStarMap,foundI=starI),foundMap&&(nameParts.splice(0,foundI,foundMap),name=nameParts.join("/"))}return getOwn(config.pkgs,name)||name}function removeScript(name){isBrowser&&each(scripts(),function(scriptNode){
if(scriptNode.getAttribute("data-requiremodule")===name&&scriptNode.getAttribute("data-requirecontext")===context.contextName)return scriptNode.parentNode.removeChild(scriptNode),!0})}function hasPathFallback(id){var pathConfig=getOwn(config.paths,id);if(pathConfig&&isArray(pathConfig)&&pathConfig.length>1)return pathConfig.shift(),context.require.undef(id),context.makeRequire(null,{skipMap:!0})([id]),!0}function splitPrefix(name){var prefix,index=name?name.indexOf("!"):-1;return index>-1&&(prefix=name.substring(0,index),name=name.substring(index+1,name.length)),[prefix,name]}function makeModuleMap(name,parentModuleMap,isNormalized,applyMap){
var url,pluginModule,suffix,nameParts,prefix=null,parentName=parentModuleMap?parentModuleMap.name:null,originalName=name,isDefine=!0,normalizedName="";return name||(isDefine=!1,name="_@r"+(requireCounter+=1)),nameParts=splitPrefix(name),prefix=nameParts[0],name=nameParts[1],prefix&&(prefix=normalize(prefix,parentName,applyMap),pluginModule=getOwn(defined,prefix)),name&&(prefix?normalizedName=isNormalized?name:pluginModule&&pluginModule.normalize?pluginModule.normalize(name,function(name){return normalize(name,parentName,applyMap)}):-1===name.indexOf("!")?normalize(name,parentName,applyMap):name:(normalizedName=normalize(name,parentName,applyMap),
nameParts=splitPrefix(normalizedName),prefix=nameParts[0],normalizedName=nameParts[1],isNormalized=!0,url=context.nameToUrl(normalizedName))),suffix=!prefix||pluginModule||isNormalized?"":"_unnormalized"+(unnormalizedCounter+=1),{prefix:prefix,name:normalizedName,parentMap:parentModuleMap,unnormalized:!!suffix,url:url,originalName:originalName,isDefine:isDefine,id:(prefix?prefix+"!"+normalizedName:normalizedName)+suffix}}function getModule(depMap){var id=depMap.id,mod=getOwn(registry,id);return mod||(mod=registry[id]=new context.Module(depMap)),mod}function on(depMap,name,fn){var id=depMap.id,mod=getOwn(registry,id)
;!hasProp(defined,id)||mod&&!mod.defineEmitComplete?(mod=getModule(depMap),mod.error&&"error"===name?fn(mod.error):mod.on(name,fn)):"defined"===name&&fn(defined[id])}function onError(err,errback){var ids=err.requireModules,notified=!1;errback?errback(err):(each(ids,function(id){var mod=getOwn(registry,id);mod&&(mod.error=err,mod.events.error&&(notified=!0,mod.emit("error",err)))}),notified||req.onError(err))}function takeGlobalQueue(){globalDefQueue.length&&(each(globalDefQueue,function(queueItem){var id=queueItem[0];"string"==typeof id&&(context.defQueueMap[id]=!0),defQueue.push(queueItem)}),globalDefQueue=[])}function cleanRegistry(id){delete registry[id],
delete enabledRegistry[id]}function breakCycle(mod,traced,processed){var id=mod.map.id;mod.error?mod.emit("error",mod.error):(traced[id]=!0,each(mod.depMaps,function(depMap,i){var depId=depMap.id,dep=getOwn(registry,depId);!dep||mod.depMatched[i]||processed[depId]||(getOwn(traced,depId)?(mod.defineDep(i,defined[depId]),mod.check()):breakCycle(dep,traced,processed))}),processed[id]=!0)}function checkLoaded(){var err,usingPathFallback,waitInterval=1e3*config.waitSeconds,expired=waitInterval&&context.startTime+waitInterval<(new Date).getTime(),noLoads=[],reqCalls=[],stillLoading=!1,needCycleCheck=!0;if(!inCheckLoaded){if(inCheckLoaded=!0,
eachProp(enabledRegistry,function(mod){var map=mod.map,modId=map.id;if(mod.enabled&&(map.isDefine||reqCalls.push(mod),!mod.error))if(!mod.inited&&expired)hasPathFallback(modId)?(usingPathFallback=!0,stillLoading=!0):(noLoads.push(modId),removeScript(modId));else if(!mod.inited&&mod.fetched&&map.isDefine&&(stillLoading=!0,!map.prefix))return needCycleCheck=!1}),expired&&noLoads.length)return err=makeError("timeout","Load timeout for modules: "+noLoads,null,noLoads),err.contextName=context.contextName,onError(err);needCycleCheck&&each(reqCalls,function(mod){breakCycle(mod,{},{})}),
expired&&!usingPathFallback||!stillLoading||!isBrowser&&!isWebWorker||checkLoadedTimeoutId||(checkLoadedTimeoutId=setTimeout(function(){checkLoadedTimeoutId=0,checkLoaded()},50)),inCheckLoaded=!1}}function callGetModule(args){hasProp(defined,args[0])||getModule(makeModuleMap(args[0],null,!0)).init(args[1],args[2])}function removeListener(node,func,name,ieName){node.detachEvent&&!isOpera?ieName&&node.detachEvent(ieName,func):node.removeEventListener(name,func,!1)}function getScriptData(evt){var node=evt.currentTarget||evt.srcElement;return removeListener(node,context.onScriptLoad,"load","onreadystatechange"),removeListener(node,context.onScriptError,"error"),
{node:node,id:node&&node.getAttribute("data-requiremodule")}}function intakeDefines(){var args;for(takeGlobalQueue();defQueue.length;){if(args=defQueue.shift(),null===args[0])return onError(makeError("mismatch","Mismatched anonymous define() module: "+args[args.length-1]));callGetModule(args)}context.defQueueMap={}}var inCheckLoaded,Module,context,handlers,checkLoadedTimeoutId,config={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},registry={},enabledRegistry={},undefEvents={},defQueue=[],defined={},urlFetched={},bundlesMap={},requireCounter=1,unnormalizedCounter=1;return handlers={require:function(mod){
return mod.require?mod.require:mod.require=context.makeRequire(mod.map)},exports:function(mod){if(mod.usingExports=!0,mod.map.isDefine)return mod.exports?defined[mod.map.id]=mod.exports:mod.exports=defined[mod.map.id]={}},module:function(mod){return mod.module?mod.module:mod.module={id:mod.map.id,uri:mod.map.url,config:function(){return getOwn(config.config,mod.map.id)||{}},exports:mod.exports||(mod.exports={})}}},Module=function(map){this.events=getOwn(undefEvents,map.id)||{},this.map=map,this.shim=getOwn(config.shim,map.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},Module.prototype={
init:function(depMaps,factory,errback,options){options=options||{},this.inited||(this.factory=factory,errback?this.on("error",errback):this.events.error&&(errback=bind(this,function(err){this.emit("error",err)})),this.depMaps=depMaps&&depMaps.slice(0),this.errback=errback,this.inited=!0,this.ignore=options.ignore,options.enabled||this.enabled?this.enable():this.check())},defineDep:function(i,depExports){this.depMatched[i]||(this.depMatched[i]=!0,this.depCount-=1,this.depExports[i]=depExports)},fetch:function(){if(!this.fetched){this.fetched=!0,context.startTime=(new Date).getTime();var map=this.map
;if(!this.shim)return map.prefix?this.callPlugin():this.load();context.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return map.prefix?this.callPlugin():this.load()}))}},load:function(){var url=this.map.url;urlFetched[url]||(urlFetched[url]=!0,context.load(this.map.id,url))},check:function(){if(this.enabled&&!this.enabling){var err,cjsModule,id=this.map.id,depExports=this.depExports,exports=this.exports,factory=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(factory)){
if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{exports=context.execCb(id,factory,depExports,exports)}catch(e){err=e}else exports=context.execCb(id,factory,depExports,exports);if(this.map.isDefine&&void 0===exports&&(cjsModule=this.module,cjsModule?exports=cjsModule.exports:this.usingExports&&(exports=this.exports)),err)return err.requireMap=this.map,err.requireModules=this.map.isDefine?[this.map.id]:null,err.requireType=this.map.isDefine?"define":"require",onError(this.error=err)}else exports=factory;if(this.exports=exports,this.map.isDefine&&!this.ignore&&(defined[id]=exports,req.onResourceLoad)){var resLoadMaps=[]
;each(this.depMaps,function(depMap){resLoadMaps.push(depMap.normalizedMap||depMap)}),req.onResourceLoad(context,this.map,resLoadMaps)}cleanRegistry(id),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(context.defQueueMap,id)||this.fetch()}},callPlugin:function(){var map=this.map,id=map.id,pluginMap=makeModuleMap(map.prefix);this.depMaps.push(pluginMap),on(pluginMap,"defined",bind(this,function(plugin){
var load,normalizedMap,normalizedMod,bundleId=getOwn(bundlesMap,this.map.id),name=this.map.name,parentName=this.map.parentMap?this.map.parentMap.name:null,localRequire=context.makeRequire(map.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(plugin.normalize&&(name=plugin.normalize(name,function(name){return normalize(name,parentName,!0)})||""),normalizedMap=makeModuleMap(map.prefix+"!"+name,this.map.parentMap,!0),on(normalizedMap,"defined",bind(this,function(value){this.map.normalizedMap=normalizedMap,this.init([],function(){return value},null,{enabled:!0,ignore:!0})})),
void((normalizedMod=getOwn(registry,normalizedMap.id))&&(this.depMaps.push(normalizedMap),this.events.error&&normalizedMod.on("error",bind(this,function(err){this.emit("error",err)})),normalizedMod.enable()))):bundleId?(this.map.url=context.nameToUrl(bundleId),void this.load()):(load=bind(this,function(value){this.init([],function(){return value},null,{enabled:!0})}),load.error=bind(this,function(err){this.inited=!0,this.error=err,err.requireModules=[id],eachProp(registry,function(mod){0===mod.map.id.indexOf(id+"_unnormalized")&&cleanRegistry(mod.map.id)}),onError(err)}),load.fromText=bind(this,function(text,textAlt){
var moduleName=map.name,moduleMap=makeModuleMap(moduleName),hasInteractive=useInteractive;textAlt&&(text=textAlt),hasInteractive&&(useInteractive=!1),getModule(moduleMap),hasProp(config.config,id)&&(config.config[moduleName]=config.config[id]);try{req.exec(text)}catch(e){return onError(makeError("fromtexteval","fromText eval for "+id+" failed: "+e,e,[id]))}hasInteractive&&(useInteractive=!0),this.depMaps.push(moduleMap),context.completeLoad(moduleName),localRequire([moduleName],load)}),void plugin.load(map.name,localRequire,load,config))})),context.enable(pluginMap,this),this.pluginMaps[pluginMap.id]=pluginMap},enable:function(){
enabledRegistry[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(depMap,i){var id,mod,handler;if("string"==typeof depMap){if(depMap=makeModuleMap(depMap,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[i]=depMap,handler=getOwn(handlers,depMap.id))return void(this.depExports[i]=handler(this));this.depCount+=1,on(depMap,"defined",bind(this,function(depExports){this.undefed||(this.defineDep(i,depExports),this.check())})),this.errback?on(depMap,"error",bind(this,this.errback)):this.events.error&&on(depMap,"error",bind(this,function(err){this.emit("error",err)}))}id=depMap.id,mod=registry[id],
hasProp(handlers,id)||!mod||mod.enabled||context.enable(depMap,this)})),eachProp(this.pluginMaps,bind(this,function(pluginMap){var mod=getOwn(registry,pluginMap.id);mod&&!mod.enabled&&context.enable(pluginMap,this)})),this.enabling=!1,this.check()},on:function(name,cb){var cbs=this.events[name];cbs||(cbs=this.events[name]=[]),cbs.push(cb)},emit:function(name,evt){each(this.events[name],function(cb){cb(evt)}),"error"===name&&delete this.events[name]}},context={config:config,contextName:contextName,registry:registry,defined:defined,urlFetched:urlFetched,defQueue:defQueue,defQueueMap:{},Module:Module,makeModuleMap:makeModuleMap,nextTick:req.nextTick,
onError:onError,configure:function(cfg){if(cfg.baseUrl&&"/"!==cfg.baseUrl.charAt(cfg.baseUrl.length-1)&&(cfg.baseUrl+="/"),"string"==typeof cfg.urlArgs){var urlArgs=cfg.urlArgs;cfg.urlArgs=function(id,url){return(-1===url.indexOf("?")?"?":"&")+urlArgs}}var shim=config.shim,objs={paths:!0,bundles:!0,config:!0,map:!0};eachProp(cfg,function(value,prop){objs[prop]?(config[prop]||(config[prop]={}),mixin(config[prop],value,!0,!0)):config[prop]=value}),cfg.bundles&&eachProp(cfg.bundles,function(value,prop){each(value,function(v){v!==prop&&(bundlesMap[v]=prop)})}),cfg.shim&&(eachProp(cfg.shim,function(value,id){isArray(value)&&(value={deps:value}),
!value.exports&&!value.init||value.exportsFn||(value.exportsFn=context.makeShimExports(value)),shim[id]=value}),config.shim=shim),cfg.packages&&each(cfg.packages,function(pkgObj){var location,name;pkgObj="string"==typeof pkgObj?{name:pkgObj}:pkgObj,name=pkgObj.name,location=pkgObj.location,location&&(config.paths[name]=pkgObj.location),config.pkgs[name]=pkgObj.name+"/"+(pkgObj.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(registry,function(mod,id){mod.inited||mod.map.unnormalized||(mod.map=makeModuleMap(id,null,!0))}),(cfg.deps||cfg.callback)&&context.require(cfg.deps||[],cfg.callback)},makeShimExports:function(value){
function fn(){var ret;return value.init&&(ret=value.init.apply(global,arguments)),ret||value.exports&&getGlobal(value.exports)}return fn},makeRequire:function(relMap,options){function localRequire(deps,callback,errback){var id,map,requireMod;return options.enableBuildCallback&&callback&&isFunction(callback)&&(callback.__requireJsBuild=!0),"string"==typeof deps?isFunction(callback)?onError(makeError("requireargs","Invalid require call"),errback):relMap&&hasProp(handlers,deps)?handlers[deps](registry[relMap.id]):req.get?req.get(context,deps,relMap,localRequire):(map=makeModuleMap(deps,relMap,!1,!0),id=map.id,
hasProp(defined,id)?defined[id]:onError(makeError("notloaded",'Module name "'+id+'" has not been loaded yet for context: '+contextName+(relMap?"":". Use require([])")))):(intakeDefines(),context.nextTick(function(){intakeDefines(),requireMod=getModule(makeModuleMap(null,relMap)),requireMod.skipMap=options.skipMap,requireMod.init(deps,callback,errback,{enabled:!0}),checkLoaded()}),localRequire)}return options=options||{},mixin(localRequire,{isBrowser:isBrowser,toUrl:function(moduleNamePlusExt){var ext,index=moduleNamePlusExt.lastIndexOf("."),segment=moduleNamePlusExt.split("/")[0],isRelative="."===segment||".."===segment
;return-1!==index&&(!isRelative||index>1)&&(ext=moduleNamePlusExt.substring(index,moduleNamePlusExt.length),moduleNamePlusExt=moduleNamePlusExt.substring(0,index)),context.nameToUrl(normalize(moduleNamePlusExt,relMap&&relMap.id,!0),ext,!0)},defined:function(id){return hasProp(defined,makeModuleMap(id,relMap,!1,!0).id)},specified:function(id){return id=makeModuleMap(id,relMap,!1,!0).id,hasProp(defined,id)||hasProp(registry,id)}}),relMap||(localRequire.undef=function(id){takeGlobalQueue();var map=makeModuleMap(id,relMap,!0),mod=getOwn(registry,id);mod.undefed=!0,removeScript(id),delete defined[id],delete urlFetched[map.url],delete undefEvents[id],
eachReverse(defQueue,function(args,i){args[0]===id&&defQueue.splice(i,1)}),delete context.defQueueMap[id],mod&&(mod.events.defined&&(undefEvents[id]=mod.events),cleanRegistry(id))}),localRequire},enable:function(depMap){getOwn(registry,depMap.id)&&getModule(depMap).enable()},completeLoad:function(moduleName){var found,args,mod,shim=getOwn(config.shim,moduleName)||{},shExports=shim.exports;for(takeGlobalQueue();defQueue.length;){if(args=defQueue.shift(),null===args[0]){if(args[0]=moduleName,found)break;found=!0}else args[0]===moduleName&&(found=!0);callGetModule(args)}if(context.defQueueMap={},mod=getOwn(registry,moduleName),
!found&&!hasProp(defined,moduleName)&&mod&&!mod.inited){if(!(!config.enforceDefine||shExports&&getGlobal(shExports)))return hasPathFallback(moduleName)?void 0:onError(makeError("nodefine","No define call for "+moduleName,null,[moduleName]));callGetModule([moduleName,shim.deps||[],shim.exportsFn])}checkLoaded()},nameToUrl:function(moduleName,ext,skipExt){var paths,syms,i,parentModule,url,parentPath,bundleId,pkgMain=getOwn(config.pkgs,moduleName);if(pkgMain&&(moduleName=pkgMain),bundleId=getOwn(bundlesMap,moduleName))return context.nameToUrl(bundleId,ext,skipExt);if(req.jsExtRegExp.test(moduleName))url=moduleName+(ext||"");else{for(paths=config.paths,
syms=moduleName.split("/"),i=syms.length;i>0;i-=1)if(parentModule=syms.slice(0,i).join("/"),parentPath=getOwn(paths,parentModule)){isArray(parentPath)&&(parentPath=parentPath[0]),syms.splice(0,i,parentPath);break}url=syms.join("/"),url+=ext||(/^data\:|^blob\:|\?/.test(url)||skipExt?"":".js"),url=("/"===url.charAt(0)||url.match(/^[\w\+\.\-]+:/)?"":config.baseUrl)+url}return config.urlArgs&&!/^blob\:/.test(url)?url+config.urlArgs(moduleName,url):url},load:function(id,url){req.load(context,id,url)},execCb:function(name,callback,args,exports){return callback.apply(exports,args)},onScriptLoad:function(evt){
if("load"===evt.type||readyRegExp.test((evt.currentTarget||evt.srcElement).readyState)){interactiveScript=null;var data=getScriptData(evt);context.completeLoad(data.id)}},onScriptError:function(evt){var data=getScriptData(evt);if(!hasPathFallback(data.id)){var parents=[];return eachProp(registry,function(value,key){0!==key.indexOf("_@r")&&each(value.depMaps,function(depMap){if(depMap.id===data.id)return parents.push(key),!0})}),onError(makeError("scripterror",'Script error for "'+data.id+(parents.length?'", needed by: '+parents.join(", "):'"'),evt,[data.id]))}}},context.require=context.makeRequire(),context}function getInteractiveScript(){
return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(script){if("interactive"===script.readyState)return interactiveScript=script}),interactiveScript)}
var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.6",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1
;if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(deps,callback,errback,optional){var context,config,contextName=defContextName;return isArray(deps)||"string"==typeof deps||(config=deps,isArray(callback)?(deps=callback,callback=errback,errback=optional):deps=[]),config&&config.context&&(contextName=config.context),context=getOwn(contexts,contextName),context||(context=contexts[contextName]=req.s.newContext(contextName)),config&&context.configure(config),context.require(deps,callback,errback)},
req.config=function(config){return req(config)},req.nextTick=void 0!==setTimeout?function(fn){setTimeout(fn,4)}:function(fn){fn()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(prop){req[prop]=function(){var ctx=contexts[defContextName];return ctx.require[prop].apply(ctx,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],(baseElement=document.getElementsByTagName("base")[0])&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,
req.createNode=function(config,moduleName,url){var node=config.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return node.type=config.scriptType||"text/javascript",node.charset="utf-8",node.async=!0,node},req.load=function(context,moduleName,url){var node,config=context&&context.config||{};if(isBrowser)return node=req.createNode(config,moduleName,url),node.setAttribute("data-requirecontext",context.contextName),node.setAttribute("data-requiremodule",moduleName),
!node.attachEvent||node.attachEvent.toString&&node.attachEvent.toString().indexOf("[native code")<0||isOpera?(node.addEventListener("load",context.onScriptLoad,!1),node.addEventListener("error",context.onScriptError,!1)):(useInteractive=!0,node.attachEvent("onreadystatechange",context.onScriptLoad)),node.src=url,config.onNodeCreated&&config.onNodeCreated(node,config,moduleName,url),currentlyAddingScript=node,baseElement?head.insertBefore(node,baseElement):head.appendChild(node),currentlyAddingScript=null,node;if(isWebWorker)try{setTimeout(function(){},0),importScripts(url),context.completeLoad(moduleName)}catch(e){
context.onError(makeError("importscripts","importScripts failed for "+moduleName+" at "+url,e,[moduleName]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(script){if(head||(head=script.parentNode),dataMain=script.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(name,deps,callback){var node,context
;"string"!=typeof name&&(callback=deps,deps=name,name=null),isArray(deps)||(callback=deps,deps=null),!deps&&isFunction(callback)&&(deps=[],callback.length&&(callback.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(match,dep){deps.push(dep)}),deps=(1===callback.length?["require"]:["require","exports","module"]).concat(deps))),useInteractive&&(node=currentlyAddingScript||getInteractiveScript())&&(name||(name=node.getAttribute("data-requiremodule")),context=contexts[node.getAttribute("data-requirecontext")]),context?(context.defQueue.push([name,deps,callback]),
context.defQueueMap[name]=!0):globalDefQueue.push([name,deps,callback])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),define("lib/require",function(){}),function(a,b){function G(a){var b=F[a]={};return p.each(a.split(s),function(a,c){b[c]=!0}),b}function J(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(I,"-$1").toLowerCase();if("string"==typeof(d=a.getAttribute(e))){try{d="true"===d||"false"!==d&&("null"===d?null:+d+""===d?+d:H.test(d)?p.parseJSON(d):d)}catch(f){}p.data(a,c,d)}else d=b}return d}function K(a){var b
;for(b in a)if(("data"!==b||!p.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function ba(){return!1}function bb(){return!0}function bh(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function bi(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}function bj(a,b,c){if(b=b||0,p.isFunction(b))return p.grep(a,function(a,d){return!!b.call(a,d,a)===c});if(b.nodeType)return p.grep(a,function(a,d){return a===b===c});if("string"==typeof b){var d=p.grep(a,function(a){return 1===a.nodeType});if(be.test(b))return p.filter(b,d,!c);b=p.filter(b,d)}return p.grep(a,function(a,d){return p.inArray(a,b)>=0===c})}function bk(a){
var b=bl.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function bC(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function bD(a,b){if(1===b.nodeType&&p.hasData(a)){var c,d,e,f=p._data(a),g=p._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)p.event.add(b,c,h[c][d])}g.data&&(g.data=p.extend({},g.data))}}function bE(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),
p.support.html5Clone&&a.innerHTML&&!p.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&bv.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(p.expando))}function bF(a){return void 0!==a.getElementsByTagName?a.getElementsByTagName("*"):void 0!==a.querySelectorAll?a.querySelectorAll("*"):[]}function bG(a){bv.test(a.type)&&(a.defaultChecked=a.checked)}function bX(a,b){if(b in a)return b
;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=bV.length;e--;)if((b=bV[e]+c)in a)return b;return d}function bY(a,b){return a=b||a,"none"===p.css(a,"display")||!p.contains(a.ownerDocument,a)}function bZ(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)c=a[f],c.style&&(e[f]=p._data(c,"olddisplay"),b?(!e[f]&&"none"===c.style.display&&(c.style.display=""),""===c.style.display&&bY(c)&&(e[f]=p._data(c,"olddisplay",cb(c.nodeName)))):(d=bH(c,"display"),!e[f]&&"none"!==d&&p._data(c,"olddisplay",d)));for(f=0;f<g;f++)c=a[f],c.style&&(b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?e[f]||"":"none"));return a}function b$(a,b,c){var d=bO.exec(b)
;return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function b_(a,b,c,d){for(var e=c===(d?"border":"content")?4:"width"===b?1:0,f=0;e<4;e+=2)"margin"===c&&(f+=p.css(a,c+bU[e],!0)),d?("content"===c&&(f-=parseFloat(bH(a,"padding"+bU[e]))||0),"margin"!==c&&(f-=parseFloat(bH(a,"border"+bU[e]+"Width"))||0)):(f+=parseFloat(bH(a,"padding"+bU[e]))||0,"padding"!==c&&(f+=parseFloat(bH(a,"border"+bU[e]+"Width"))||0));return f}function ca(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e=!0,f=p.support.boxSizing&&"border-box"===p.css(a,"boxSizing");if(d<=0){if(d=bH(a,b),(d<0||null==d)&&(d=a.style[b]),bP.test(d))return d
;e=f&&(p.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+b_(a,b,c||(f?"border":"content"),e)+"px"}function cb(a){if(bR[a])return bR[a];var b=p("<"+a+">").appendTo(e.body),c=b.css("display");return b.remove(),"none"!==c&&""!==c||(bI=e.body.appendChild(bI||p.extend(e.createElement("iframe"),{frameBorder:0,width:0,height:0})),bJ&&bI.createElement||(bJ=(bI.contentWindow||bI.contentDocument).document,bJ.write("<!doctype html><html><body>"),bJ.close()),b=bJ.body.appendChild(bJ.createElement(a)),c=bH(b,"display"),e.body.removeChild(bI)),bR[a]=c,c}function ch(a,b,c,d){var e;if(p.isArray(b))p.each(b,function(b,e){
c||cd.test(a)?d(a,e):ch(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==p.type(b))d(a,b);else for(e in b)ch(a+"["+e+"]",b[e],c,d)}function cy(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(s),h=0,i=g.length;if(p.isFunction(c))for(;h<i;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function cz(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===cu;j<k&&(l||!h);j++)"string"==typeof(h=i[j](c,d,e))&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=cz(a,c,d,e,h,g)));return(l||!h)&&!g["*"]&&(h=cz(a,c,d,e,"*",g)),h}
function cA(a,c){var d,e,f=p.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&p.extend(!0,a,e)}function cB(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);for(;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}if(g)return g!==j[0]&&j.unshift(g),d[g]}function cC(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),
g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if("*"!==e){if("*"!==h&&h!==e){if(!(c=i[h+" "+e]||i["* "+e]))for(d in i)if(f=d.split(" "),f[1]===e&&(c=i[h+" "+f[0]]||i["* "+f[0]])){!0===c?c=i[d]:!0!==i[d]&&(e=f[0],g.splice(j--,0,e));break}if(!0!==c)if(c&&a.throws)b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function cK(){try{return new a.XMLHttpRequest}catch(b){}}function cL(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function cT(){return setTimeout(function(){cM=b},0),cM=p.now()}function cU(a,b){
p.each(b,function(b,c){for(var d=(cS[b]||[]).concat(cS["*"]),e=0,f=d.length;e<f;e++)if(d[e].call(a,b,c))return})}function cV(a,b,c){var d,e=0,g=cR.length,h=p.Deferred().always(function(){delete i.elem}),i=function(){for(var b=cM||cT(),c=Math.max(0,j.startTime+j.duration-b),d=1-(c/j.duration||0),e=0,f=j.tweens.length;e<f;e++)j.tweens[e].run(d);return h.notifyWith(a,[j,d,c]),d<1&&f?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:p.extend({},b),opts:p.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:cM||cT(),duration:c.duration,tweens:[],createTween:function(b,c,d){
var e=p.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(e),e},stop:function(b){for(var c=0,d=b?j.tweens.length:0;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(cW(k,j.opts.specialEasing);e<g;e++)if(d=cR[e].call(j,a,k,j.opts))return d;return cU(j,k),p.isFunction(j.opts.start)&&j.opts.start.call(a,j),p.fx.timer(p.extend(i,{anim:j,queue:j.opts.queue,elem:a})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function cW(a,b){var c,d,e,f,g;for(c in a)if(d=p.camelCase(c),e=b[d],f=a[c],p.isArray(f)&&(e=f[1],f=a[c]=f[0]),
c!==d&&(a[d]=f,delete a[c]),g=p.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function cX(a,b,c){var d,e,f,g,h,i,j,k,l=this,m=a.style,n={},o=[],q=a.nodeType&&bY(a);c.queue||(j=p._queueHooks(a,"fx"),null==j.unqueued&&(j.unqueued=0,k=j.empty.fire,j.empty.fire=function(){j.unqueued||k()}),j.unqueued++,l.always(function(){l.always(function(){j.unqueued--,p.queue(a,"fx").length||j.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],
"inline"===p.css(a,"display")&&"none"===p.css(a,"float")&&(p.support.inlineBlockNeedsLayout&&"inline"!==cb(a.nodeName)?m.zoom=1:m.display="inline-block")),c.overflow&&(m.overflow="hidden",p.support.shrinkWrapBlocks||l.done(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b)if(f=b[d],cO.exec(f)){if(delete b[d],f===(q?"hide":"show"))continue;o.push(d)}if(g=o.length)for(h=p._data(a,"fxshow")||p._data(a,"fxshow",{}),q?p(a).show():l.done(function(){p(a).hide()}),l.done(function(){var b;p.removeData(a,"fxshow",!0);for(b in n)p.style(a,b,n[b])}),d=0;d<g;d++)e=o[d],i=l.createTween(e,q?h[e]:0),
n[e]=h[e]||p.style(a,e),e in h||(h[e]=i.start,q&&(i.end=i.start,i.start="width"===e||"height"===e?1:0))}function cY(a,b,c,d,e){return new cY.prototype.init(a,b,c,d,e)}function cZ(a,b){for(var c,d={height:a},e=0;e<4;e+=2-b)c=bU[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function c_(a){return p.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var c,d,e=a.document,f=a.location,g=a.navigator,h=a.jQuery,i=a.$,j=Array.prototype.push,k=Array.prototype.slice,l=Array.prototype.indexOf,m=Object.prototype.toString,n=Object.prototype.hasOwnProperty,o=String.prototype.trim,p=function(a,b){return new p.fn.init(a,b,c)
},q=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,r=/\S/,s=/\s+/,t=r.test(" ")?/^[\s\xA0]+|[\s\xA0]+$/g:/^\s+|\s+$/g,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,y=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,z=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,A=/^-ms-/,B=/-([\da-z])/gi,C=function(a,b){return(b+"").toUpperCase()},D=function(){e.addEventListener?(e.removeEventListener("DOMContentLoaded",D,!1),p.ready()):"complete"===e.readyState&&(e.detachEvent("onreadystatechange",D),p.ready())},E={};p.fn=p.prototype={constructor:p,init:function(a,c,d){var f,g,i
;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("string"==typeof a){if((f="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:u.exec(a))&&(f[1]||!c)){if(f[1])return c=c instanceof p?c[0]:c,i=c&&c.nodeType?c.ownerDocument||c:e,a=p.parseHTML(f[1],i,!0),v.test(f[1])&&p.isPlainObject(c)&&this.attr.call(a,c,!0),p.merge(this,a);if((g=e.getElementById(f[2]))&&g.parentNode){if(g.id!==f[2])return d.find(a);this.length=1,this[0]=g}return this.context=e,this.selector=a,this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}return p.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,
this.context=a.context),p.makeArray(a,this))},selector:"",jquery:"1.8.0",length:0,size:function(){return this.length},toArray:function(){return k.call(this)},get:function(a){return null==a?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=p.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return p.each(this,a,b)},ready:function(a){return p.ready.promise().done(a),this},eq:function(a){return a=+a,-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},slice:function(){return this.pushStack(k.apply(this,arguments),"slice",k.call(arguments).join(","))},map:function(a){return this.pushStack(p.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:j,sort:[].sort,splice:[].splice},p.fn.init.prototype=p.fn,p.extend=p.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"!=typeof h&&!p.isFunction(h)&&(h={}),j===i&&(h=this,--i);i<j;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],
h!==e&&(k&&e&&(p.isPlainObject(e)||(f=p.isArray(e)))?(f?(f=!1,g=d&&p.isArray(d)?d:[]):g=d&&p.isPlainObject(d)?d:{},h[c]=p.extend(k,g,e)):e!==b&&(h[c]=e));return h},p.extend({noConflict:function(b){return a.$===p&&(a.$=i),b&&a.jQuery===p&&(a.jQuery=h),p},isReady:!1,readyWait:1,holdReady:function(a){a?p.readyWait++:p.ready(!0)},ready:function(a){if(!0===a?!--p.readyWait:!p.isReady){if(!e.body)return setTimeout(p.ready,1);p.isReady=!0,!0!==a&&--p.readyWait>0||(d.resolveWith(e,[p]),p.fn.trigger&&p(e).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===p.type(a)},isArray:Array.isArray||function(a){return"array"===p.type(a)},
isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):E[m.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==p.type(a)||a.nodeType||p.isWindow(a))return!1;try{if(a.constructor&&!n.call(a,"constructor")&&!n.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||n.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;return a&&"string"==typeof a?("boolean"==typeof b&&(c=b,b=0),b=b||e,
(d=v.exec(a))?[b.createElement(d[1])]:(d=p.buildFragment([a],b,c?null:[]),p.merge([],(d.cacheable?p.clone(d.fragment):d.fragment).childNodes))):null},parseJSON:function(b){return b&&"string"==typeof b?(b=p.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):w.test(b.replace(y,"@").replace(z,"]").replace(x,""))?new Function("return "+b)():void p.error("Invalid JSON: "+b)):null},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}
return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&p.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&r.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(A,"ms-").replace(B,C)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||p.isFunction(a);if(d)if(h){for(e in a)if(!1===c.apply(a[e],d))break}else for(;f<g&&!1!==c.apply(a[f++],d););else if(h){for(e in a)if(!1===c.call(a[e],e,a[e]))break}else for(;f<g&&!1!==c.call(a[f],f,a[f++]););return a},trim:o?function(a){
return null==a?"":o.call(a)}:function(a){return null==a?"":a.toString().replace(t,"")},makeArray:function(a,b){var c,d=b||[];return null!=a&&(c=p.type(a),null==a.length||"string"===c||"function"===c||"regexp"===c||p.isWindow(a)?j.call(d,a):p.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(l)return l.call(b,a,c);for(d=b.length,c=c?c<0?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;f<d;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;f<g;f++)d=!!b(a[f],f),c!==d&&e.push(a[f])
;return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length;if(a instanceof p||i!==b&&"number"==typeof i&&(i>0&&a[0]&&a[i-1]||0===i||p.isArray(a)))for(;h<i;h++)null!=(e=c(a[h],h,d))&&(g[g.length]=e);else for(f in a)null!=(e=c(a[f],f,d))&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(d=a[c],c=a,a=d),p.isFunction(a)?(e=k.call(arguments,2),f=function(){return a.apply(c,e.concat(k.call(arguments)))},f.guid=a.guid=a.guid||f.guid||p.guid++,f):b},access:function(a,c,d,e,f,g,h){var i,j=null==d,k=0,l=a.length;if(d&&"object"==typeof d){for(k in d)p.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){
if(i=h===b&&p.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call(p(a),c)}):(c.call(a,e),c=null)),c)for(;k<l;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()}}),p.ready.promise=function(b){if(!d)if(d=p.Deferred(),"complete"===e.readyState||"loading"!==e.readyState&&e.addEventListener)setTimeout(p.ready,1);else if(e.addEventListener)e.addEventListener("DOMContentLoaded",D,!1),a.addEventListener("load",p.ready,!1);else{e.attachEvent("onreadystatechange",D),a.attachEvent("onload",p.ready);var c=!1;try{c=null==a.frameElement&&e.documentElement}catch(f){}
c&&c.doScroll&&function g(){if(!p.isReady){try{c.doScroll("left")}catch(a){return setTimeout(g,50)}p.ready()}}()}return d.promise(b)},p.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){E["[object "+b+"]"]=b.toLowerCase()}),c=p(e);var F={};p.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):p.extend({},a);var c,d,e,f,g,h,i=[],j=!a.once&&[],k=function(b){for(c=a.memory&&b,d=!0,h=f||0,f=0,g=i.length,e=!0;i&&h<g;h++)if(!1===i[h].apply(b[0],b[1])&&a.stopOnFalse){c=!1;break}e=!1,i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var b=i.length;(function d(b){p.each(b,function(b,c){
!p.isFunction(c)||a.unique&&l.has(c)?c&&c.length&&d(c):i.push(c)})})(arguments),e?g=i.length:c&&(f=b,k(c))}return this},remove:function(){return i&&p.each(arguments,function(a,b){for(var c;(c=p.inArray(b,i,c))>-1;)i.splice(c,1),e&&(c<=g&&g--,c<=h&&h--)}),this},has:function(a){return p.inArray(a,i)>-1},empty:function(){return i=[],this},disable:function(){return i=j=c=b,this},disabled:function(){return!i},lock:function(){return j=b,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],i&&(!d||j)&&(e?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){
return!!d}};return l},p.extend({Deferred:function(a){var b=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return p.Deferred(function(c){p.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]](p.isFunction(g)?function(){var a=g.apply(this,arguments);a&&p.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){
return"object"==typeof a?p.extend(a,d):d}},e={};return d.pipe=d.then,p.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var h,i,j,b=0,c=k.call(arguments),d=c.length,e=1!==d||a&&p.isFunction(a.promise)?d:0,f=1===e?a:p.Deferred(),g=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?k.call(arguments):d,c===h?f.notifyWith(b,c):--e||f.resolveWith(b,c)}};if(d>1)for(h=new Array(d),i=new Array(d),
j=new Array(d);b<d;b++)c[b]&&p.isFunction(c[b].promise)?c[b].promise().done(g(b,j,c)).fail(f.reject).progress(g(b,i,h)):--e;return e||f.resolveWith(j,c),f.promise()}}),p.support=function(){var b,c,d,f,g,h,i,j,k,l,m,n=e.createElement("div");if(n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=n.getElementsByTagName("*"),d=n.getElementsByTagName("a")[0],d.style.cssText="top:1px;float:left;opacity:.5",!c||!c.length||!d)return{};f=e.createElement("select"),g=f.appendChild(e.createElement("option")),h=n.getElementsByTagName("input")[0],b={leadingWhitespace:3===n.firstChild.nodeType,
tbody:!n.getElementsByTagName("tbody").length,htmlSerialize:!!n.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===h.value,optSelected:g.selected,getSetAttribute:"t"!==n.className,enctype:!!e.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==e.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===e.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,
pixelPosition:!1},h.checked=!0,b.noCloneChecked=h.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!g.disabled;try{delete n.test}catch(o){b.deleteExpando=!1}if(!n.addEventListener&&n.attachEvent&&n.fireEvent&&(n.attachEvent("onclick",m=function(){b.noCloneEvent=!1}),n.cloneNode(!0).fireEvent("onclick"),n.detachEvent("onclick",m)),h=e.createElement("input"),h.value="t",h.setAttribute("type","radio"),b.radioValue="t"===h.value,h.setAttribute("checked","checked"),h.setAttribute("name","t"),n.appendChild(h),i=e.createDocumentFragment(),i.appendChild(n.lastChild),b.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=h.checked,
i.removeChild(h),i.appendChild(n),n.attachEvent)for(k in{submit:!0,change:!0,focusin:!0})j="on"+k,l=j in n,l||(n.setAttribute(j,"return;"),l="function"==typeof n[j]),b[k+"Bubbles"]=l;return p(function(){var c,d,f,g,h="padding:0;margin:0;border:0;display:block;overflow:hidden;",i=e.getElementsByTagName("body")[0];i&&(c=e.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",i.insertBefore(c,i.firstChild),d=e.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",f=d.getElementsByTagName("td"),f[0].style.cssText="padding:0;margin:0;border:0;display:none",
l=0===f[0].offsetHeight,f[0].style.display="",f[1].style.display="none",b.reliableHiddenOffsets=l&&0===f[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===d.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==i.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(d,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(d,null)||{width:"4px"}).width,g=e.createElement("div"),g.style.cssText=d.style.cssText=h,g.style.marginRight=g.style.width="0",
d.style.width="1px",d.appendChild(g),b.reliableMarginRight=!parseFloat((a.getComputedStyle(g,null)||{}).marginRight)),void 0!==d.style.zoom&&(d.innerHTML="",d.style.cssText=h+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==d.offsetWidth,c.style.zoom=1),i.removeChild(c),c=d=f=g=null)}),i.removeChild(n),c=d=f=g=h=i=n=null,b}();var H=/^(?:\{.*\}|\[.*\])$/,I=/([A-Z])/g;p.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(p.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,
object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return!!(a=a.nodeType?p.cache[a[p.expando]]:a[p.expando])&&!K(a)},data:function(a,c,d,e){if(p.acceptData(a)){var f,g,h=p.expando,i="string"==typeof c,j=a.nodeType,k=j?p.cache:a,l=j?a[h]:a[h]&&h;if(l&&k[l]&&(e||k[l].data)||!i||d!==b)return l||(j?a[h]=l=p.deletedIds.pop()||++p.uuid:l=h),k[l]||(k[l]={},j||(k[l].toJSON=p.noop)),"object"!=typeof c&&"function"!=typeof c||(e?k[l]=p.extend(k[l],c):k[l].data=p.extend(k[l].data,c)),f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[p.camelCase(c)]=d),i?null==(g=f[c])&&(g=f[p.camelCase(c)]):g=f,g}},removeData:function(a,b,c){
if(p.acceptData(a)){var d,e,f,g=a.nodeType,h=g?p.cache:a,i=g?a[p.expando]:p.expando;if(h[i]){if(b&&(d=c?h[i]:h[i].data)){p.isArray(b)||(b in d?b=[b]:(b=p.camelCase(b),b=b in d?[b]:b.split(" ")));for(e=0,f=b.length;e<f;e++)delete d[b[e]];if(!(c?K:p.isEmptyObject)(d))return}(c||(delete h[i].data,K(h[i])))&&(g?p.cleanData([a],!0):p.support.deleteExpando||h!=h.window?delete h[i]:h[i]=null)}}},_data:function(a,b,c){return p.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&p.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===b}}),p.fn.extend({data:function(a,c){var d,e,f,g,h,i=this[0],j=0,k=null;if(a===b){
if(this.length&&(k=p.data(i),1===i.nodeType&&!p._data(i,"parsedAttrs"))){for(f=i.attributes,h=f.length;j<h;j++)g=f[j].name,0===g.indexOf("data-")&&(g=p.camelCase(g.substring(5)),J(i,g,k[g]));p._data(i,"parsedAttrs",!0)}return k}return"object"==typeof a?this.each(function(){p.data(this,a)}):(d=a.split(".",2),d[1]=d[1]?"."+d[1]:"",e=d[1]+"!",p.access(this,function(c){if(c===b)return k=this.triggerHandler("getData"+e,[d[0]]),k===b&&i&&(k=p.data(i,a),k=J(i,a,k)),k===b&&d[1]?this.data(d[0]):k;d[1]=c,this.each(function(){var b=p(this);b.triggerHandler("setData"+e,d),p.data(this,a,c),b.triggerHandler("changeData"+e,d)})},null,c,arguments.length>1,null,!1))},
removeData:function(a){return this.each(function(){p.removeData(this,a)})}}),p.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=p._data(a,b),c&&(!d||p.isArray(c)?d=p._data(a,b,p.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=p.queue(a,b),d=c.shift(),e=p._queueHooks(a,b),f=function(){p.dequeue(a,b)};"inprogress"===d&&(d=c.shift()),d&&("fx"===b&&c.unshift("inprogress"),delete e.stop,d.call(a,f,e)),!c.length&&e&&e.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return p._data(a,c)||p._data(a,c,{empty:p.Callbacks("once memory").add(function(){p.removeData(a,b+"queue",!0),p.removeData(a,c,!0)})})}}),
p.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?p.queue(this[0],a):c===b?this:this.each(function(){var b=p.queue(this,a,c);p._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})},delay:function(a,b){return a=p.fx?p.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=p.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,
a=b),a=a||"fx";h--;)(d=p._data(g[h],a+"queueHooks"))&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var L,M,N,O=/[\t\r\n]/g,P=/\r/g,Q=/^(?:button|input)$/i,R=/^(?:button|input|object|select|textarea)$/i,S=/^a(?:rea|)$/i,T=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,U=p.support.getSetAttribute;p.fn.extend({attr:function(a,b){return p.access(this,p.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})},prop:function(a,b){return p.access(this,p.prop,a,b,arguments.length>1)},removeProp:function(a){
return a=p.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(p.isFunction(a))return this.each(function(b){p(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(s),c=0,d=this.length;c<d;c++)if(e=this[c],1===e.nodeType)if(e.className||1!==b.length){for(f=" "+e.className+" ",g=0,h=b.length;g<h;g++)~f.indexOf(" "+b[g]+" ")||(f+=b[g]+" ");e.className=p.trim(f)}else e.className=a;return this},removeClass:function(a){var c,d,e,f,g,h,i;if(p.isFunction(a))return this.each(function(b){p(this).removeClass(a.call(this,b,this.className))})
;if(a&&"string"==typeof a||a===b)for(c=(a||"").split(s),h=0,i=this.length;h<i;h++)if(e=this[h],1===e.nodeType&&e.className){for(d=(" "+e.className+" ").replace(O," "),f=0,g=c.length;f<g;f++)for(;d.indexOf(" "+c[f]+" ")>-1;)d=d.replace(" "+c[f]+" "," ");e.className=a?p.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return p.isFunction(a)?this.each(function(c){p(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var e,f=0,g=p(this),h=b,i=a.split(s);e=i[f++];)h=d?h:!g.hasClass(e),
g[h?"addClass":"removeClass"](e);else"undefined"!==c&&"boolean"!==c||(this.className&&p._data(this,"__className__",this.className),this.className=this.className||!1===a?"":p._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;c<d;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(O," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=p.isFunction(a),this.each(function(d){var f,g=p(this);1===this.nodeType&&(f=e?a.call(this,d,g.val()):a,null==f?f="":"number"==typeof f?f+="":p.isArray(f)&&(f=p.map(f,function(a){return null==a?"":a+""})),
c=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f))});if(f)return c=p.valHooks[f.type]||p.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(P,""):null==d?"":d)}}}),p.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],h=a.options,i="select-one"===a.type;if(f<0)return null;for(c=i?f:0,d=i?f+1:h.length;c<d;c++)if(e=h[c],
e.selected&&(p.support.optDisabled?!e.disabled:null===e.getAttribute("disabled"))&&(!e.parentNode.disabled||!p.nodeName(e.parentNode,"optgroup"))){if(b=p(e).val(),i)return b;g.push(b)}return i&&!g.length&&h.length?p(h[f]).val():g},set:function(a,b){var c=p.makeArray(b);return p(a).find("option").each(function(){this.selected=p.inArray(p(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(a&&3!==i&&8!==i&&2!==i)return e&&p.isFunction(p.fn[c])?p(a)[c](d):void 0===a.getAttribute?p.prop(a,c,d):((h=1!==i||!p.isXMLDoc(a))&&(c=c.toLowerCase(),g=p.attrHooks[c]||(T.test(c)?M:L)),
d!==b?null===d?void p.removeAttr(a,c):g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,""+d),d):g&&"get"in g&&h&&null!==(f=g.get(a,c))?f:(f=a.getAttribute(c),null===f?b:f))},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&1===a.nodeType)for(d=b.split(s);g<d.length;g++)(e=d[g])&&(c=p.propFix[e]||e,f=T.test(e),f||p.attr(a,e,""),a.removeAttribute(U?e:c),f&&c in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(Q.test(a.nodeName)&&a.parentNode)p.error("type property can't be changed");else if(!p.support.radioValue&&"radio"===b&&p.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){
return L&&p.nodeName(a,"button")?L.get(a,b):b in a?a.value:null},set:function(a,b,c){if(L&&p.nodeName(a,"button"))return L.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!p.isXMLDoc(a),g&&(c=p.propFix[c]||c,f=p.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{
tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):R.test(a.nodeName)||S.test(a.nodeName)&&a.href?0:b}}}}),M={get:function(a,c){var d,e=p.prop(a,c);return!0===e||"boolean"!=typeof e&&(d=a.getAttributeNode(c))&&!1!==d.nodeValue?c.toLowerCase():b},set:function(a,b,c){var d;return!1===b?p.removeAttr(a,c):(d=p.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},U||(N={name:!0,id:!0,coords:!0},L=p.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(N[c]?""!==d.value:d.specified)?d.value:b},set:function(a,b,c){var d=a.getAttributeNode(c)
;return d||(d=e.createAttribute(c),a.setAttributeNode(d)),d.value=b+""}},p.each(["width","height"],function(a,b){p.attrHooks[b]=p.extend(p.attrHooks[b],{set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}})}),p.attrHooks.contenteditable={get:L.get,set:function(a,b,c){""===b&&(b="false"),L.set(a,b,c)}}),p.support.hrefNormalized||p.each(["href","src","width","height"],function(a,c){p.attrHooks[c]=p.extend(p.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null===d?b:d}})}),p.support.style||(p.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),
p.support.optSelected||(p.propHooks.selected=p.extend(p.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),p.support.enctype||(p.propFix.enctype="encoding"),p.support.checkOn||p.each(["radio","checkbox"],function(){p.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]=p.extend(p.valHooks[this],{set:function(a,b){if(p.isArray(b))return a.checked=p.inArray(p(a).val(),b)>=0}})})
;var V=/^(?:textarea|input|select)$/i,W=/^([^\.]*|)(?:\.(.+)|)$/,X=/(?:^|\s)hover(\.\S+|)\b/,Y=/^key/,Z=/^(?:mouse|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=function(a){return p.event.special.hover?a:a.replace(X,"mouseenter$1 mouseleave$1")};p.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,q,r;if(3!==a.nodeType&&8!==a.nodeType&&c&&d&&(g=p._data(a))){for(d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=p.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return void 0===p||a&&p.event.triggered===a.type?b:p.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=p.trim(_(c)).split(" "),
j=0;j<c.length;j++)k=W.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),r=p.event.special[l]||{},l=(f?r.delegateType:r.bindType)||l,r=p.event.special[l]||{},n=p.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,namespace:m.join(".")},o),q=i[l],q||(q=i[l]=[],q.delegateCount=0,r.setup&&!1!==r.setup.call(a,e,m,h)||(a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h))),r.add&&(r.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?q.splice(q.delegateCount++,0,n):q.push(n),p.event.global[l]=!0;a=null}},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,q,r=p.hasData(a)&&p._data(a)
;if(r&&(m=r.events)){for(b=p.trim(_(b||"")).split(" "),f=0;f<b.length;f++)if(g=W.exec(b[f])||[],h=i=g[1],j=g[2],h){for(n=p.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=0;l<o.length;l++)q=o[l],(e||i===q.origType)&&(!c||c.guid===q.guid)&&(!j||j.test(q.namespace))&&(!d||d===q.selector||"**"===d&&q.selector)&&(o.splice(l--,1),q.selector&&o.delegateCount--,n.remove&&n.remove.call(a,q));0===o.length&&k!==o.length&&((!n.teardown||!1===n.teardown.call(a,j,r.handle))&&p.removeEvent(a,h,r.handle),delete m[h])
}else for(h in m)p.event.remove(a,h+b[f],c,d,!0);p.isEmptyObject(m)&&(delete r.handle,p.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,f,g){if(!f||3!==f.nodeType&&8!==f.nodeType){var h,i,j,k,l,m,n,o,q,r,s=c.type||c,t=[];if($.test(s+p.event.triggered))return;if(s.indexOf("!")>=0&&(s=s.slice(0,-1),i=!0),s.indexOf(".")>=0&&(t=s.split("."),s=t.shift(),t.sort()),(!f||p.event.customEvent[s])&&!p.event.global[s])return;if(c="object"==typeof c?c[p.expando]?c:new p.Event(s,c):new p.Event(s),c.type=s,c.isTrigger=!0,c.exclusive=i,c.namespace=t.join("."),
c.namespace_re=c.namespace?new RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,m=s.indexOf(":")<0?"on"+s:"",!f){h=p.cache;for(j in h)h[j].events&&h[j].events[s]&&p.event.trigger(c,d,h[j].handle.elem,!0);return}if(c.result=b,c.target||(c.target=f),d=null!=d?p.makeArray(d):[],d.unshift(c),n=p.event.special[s]||{},n.trigger&&!1===n.trigger.apply(f,d))return;if(q=[[f,n.bindType||s]],!g&&!n.noBubble&&!p.isWindow(f)){for(r=n.delegateType||s,k=$.test(r+s)?f:f.parentNode,l=f;k;k=k.parentNode)q.push([k,r]),l=k;l===(f.ownerDocument||e)&&q.push([l.defaultView||l.parentWindow||a,r])}for(j=0;j<q.length&&!c.isPropagationStopped();j++)k=q[j][0],c.type=q[j][1],
o=(p._data(k,"events")||{})[c.type]&&p._data(k,"handle"),o&&o.apply(k,d),(o=m&&k[m])&&p.acceptData(k)&&!1===o.apply(k,d)&&c.preventDefault();return c.type=s,!g&&!c.isDefaultPrevented()&&(!n._default||!1===n._default.apply(f.ownerDocument,d))&&("click"!==s||!p.nodeName(f,"a"))&&p.acceptData(f)&&m&&f[s]&&("focus"!==s&&"blur"!==s||0!==c.target.offsetWidth)&&!p.isWindow(f)&&(l=f[m],l&&(f[m]=null),p.event.triggered=s,f[s](),p.event.triggered=b,l&&(f[m]=l)),c.result}},dispatch:function(c){c=p.event.fix(c||a.event)
;var d,e,f,g,h,i,j,k,l,m,o=(p._data(this,"events")||{})[c.type]||[],q=o.delegateCount,r=[].slice.call(arguments),s=!c.exclusive&&!c.namespace,t=p.event.special[c.type]||{},u=[];if(r[0]=c,c.delegateTarget=this,!t.preDispatch||!1!==t.preDispatch.call(this,c)){if(q&&(!c.button||"click"!==c.type))for(g=p(this),g.context=this,f=c.target;f!=this;f=f.parentNode||this)if(!0!==f.disabled||"click"!==c.type){for(i={},k=[],g[0]=f,d=0;d<q;d++)l=o[d],m=l.selector,i[m]===b&&(i[m]=g.is(m)),i[m]&&k.push(l);k.length&&u.push({elem:f,matches:k})}for(o.length>q&&u.push({elem:this,matches:o.slice(q)}),d=0;d<u.length&&!c.isPropagationStopped();d++)for(j=u[d],
c.currentTarget=j.elem,e=0;e<j.matches.length&&!c.isImmediatePropagationStopped();e++)l=j.matches[e],(s||!c.namespace&&!l.namespace||c.namespace_re&&c.namespace_re.test(l.namespace))&&(c.data=l.data,c.handleObj=l,(h=((p.event.special[l.origType]||{}).handle||l.handler).apply(j.elem,r))!==b&&(c.result=h,!1===h&&(c.preventDefault(),c.stopPropagation())));return t.postDispatch&&t.postDispatch.call(this,c),c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),
filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,f,g,h=c.button,i=c.fromElement;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||e,f=d.documentElement,g=d.body,a.pageX=c.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?c.toElement:i),
!a.which&&h!==b&&(a.which=1&h?1:2&h?3:4&h?2:0),a}},fix:function(a){if(a[p.expando])return a;var b,c,d=a,f=p.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props;for(a=p.Event(d),b=g.length;b;)c=g[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||e),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,f.filter?f.filter(a,d):a},special:{ready:{setup:p.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){p.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},
simulate:function(a,b,c,d){var e=p.extend(new p.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?p.event.trigger(e,null,b):p.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},p.event.handle=p.event.dispatch,p.removeEvent=e.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(void 0===a[d]&&(a[d]=null),a.detachEvent(d,c))},p.Event=function(a,b){if(!(this instanceof p.Event))return new p.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,
this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?bb:ba):this.type=a,b&&p.extend(this,b),this.timeStamp=a&&a.timeStamp||p.now(),this[p.expando]=!0},p.Event.prototype={preventDefault:function(){this.isDefaultPrevented=bb;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=bb;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bb,this.stopPropagation()},isDefaultPrevented:ba,isPropagationStopped:ba,
isImmediatePropagationStopped:ba},p.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){p.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;f.selector;return e&&(e===d||p.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),p.support.submitBubbles||(p.event.special.submit={setup:function(){if(p.nodeName(this,"form"))return!1;p.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=p.nodeName(c,"input")||p.nodeName(c,"button")?c.form:b;d&&!p._data(d,"_submit_attached")&&(p.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),
p._data(d,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&p.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(p.nodeName(this,"form"))return!1;p.event.remove(this,"._submit")}}),p.support.changeBubbles||(p.event.special.change={setup:function(){if(V.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(p.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),p.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),
p.event.simulate("change",this,a,!0)})),!1;p.event.add(this,"beforeactivate._change",function(a){var b=a.target;V.test(b.nodeName)&&!p._data(b,"_change_attached")&&(p.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&p.event.simulate("change",this.parentNode,a,!0)}),p._data(b,"_change_attached",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){return p.event.remove(this,"._change"),V.test(this.nodeName)}}),p.support.focusinBubbles||p.each({focus:"focusin",blur:"focusout"
},function(a,b){var c=0,d=function(a){p.event.simulate(b,a.target,p.event.fix(a),!0)};p.event.special[b]={setup:function(){0==c++&&e.addEventListener(a,d,!0)},teardown:function(){0==--c&&e.removeEventListener(a,d,!0)}}}),p.fn.extend({on:function(a,c,d,e,f){var g,h;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(h in a)this.on(h,c,d,a[h],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),!1===e)e=ba;else if(!e)return this;return 1===f&&(g=e,e=function(a){return p().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=p.guid++)),this.each(function(){p.event.add(this,a,e,d,c)})},
one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,p(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,c,a[f]);return this}return!1!==c&&"function"!=typeof c||(d=c,c=b),!1===d&&(d=ba),this.each(function(){p.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return p(this.context).on(a,this.selector,b,c),this},die:function(a,b){return p(this.context).off(a,this.selector||"**",b),this},
delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1==arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){p.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return p.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||p.guid++,d=0,e=function(c){var e=(p._data(this,"lastToggle"+a.guid)||0)%d;return p._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),
p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){p.fn[b]=function(a,c){return null==c&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},Y.test(b)&&(p.event.fixHooks[b]=p.event.keyHooks),Z.test(b)&&(p.event.fixHooks[b]=p.event.mouseHooks)}),function(a,b){function bd(a,b,c,d){for(var e=0,f=b.length;e<f;e++)Z(a,b[e],c,d)}function be(a,b,c,d,e,f){var g,h=$.setFilters[b.toLowerCase()];return h||Z.error(b),(a||!(g=e))&&bd(a||"*",d,g=[],e),g.length>0?h(g,c,f):[]}
function bf(a,c,d,e,f){for(var g,h,i,j,k,l,m,n,p=0,q=f.length,s=L.POS,t=new RegExp("^"+s.source+"(?!"+r+")","i"),u=function(){for(var a=1,c=arguments.length-2;a<c;a++)arguments[a]===b&&(g[a]=b)};p<q;p++){for(s.exec(""),a=f[p],j=[],i=0,k=e;g=s.exec(a);)(n=s.lastIndex=g.index+g[0].length)>i&&(m=a.slice(i,g.index),i=n,l=[c],B.test(m)&&(k&&(l=k),k=e),(h=H.test(m))&&(m=m.slice(0,-5).replace(B,"$&*")),g.length>1&&g[0].replace(t,u),k=be(m,g[1],g[2],l,k,h));k?(j=j.concat(k),(m=a.slice(i))&&")"!==m?B.test(m)?bd(m,j,d,e):Z(m,c,d,e?e.concat(k):k):o.apply(d,j)):Z(a,c,d,e)}return 1===q?d:Z.uniqueSort(d)}function bg(a,b,c){
for(var d,e,f,g=[],i=0,j=D.exec(a),k=!j.pop()&&!j.pop(),l=k&&a.match(C)||[""],m=$.preFilter,n=$.filter,o=!c&&b!==h;null!=(e=l[i])&&k;i++)for(g.push(d=[]),o&&(e=" "+e);e;){k=!1,(j=B.exec(e))&&(e=e.slice(j[0].length),k=d.push({part:j.pop().replace(A," "),captures:j}));for(f in n)(j=L[f].exec(e))&&(!m[f]||(j=m[f](j,b,c)))&&(e=e.slice(j.shift().length),k=d.push({part:f,captures:j}));if(!k)break}return k||Z.error(a),g}function bh(a,b,e){var f=b.dir,g=m++;return a||(a=function(a){return a===e}),b.first?function(b,c){for(;b=b[f];)if(1===b.nodeType)return a(b,c)&&b}:function(b,e){for(var h,i=g+"."+d,j=i+"."+c;b=b[f];)if(1===b.nodeType){
if((h=b[q])===j)return b.sizset;if("string"==typeof h&&0===h.indexOf(i)){if(b.sizset)return b}else{if(b[q]=j,a(b,e))return b.sizset=!0,b;b.sizset=!1}}}}function bi(a,b){return a?function(c,d){var e=b(c,d);return e&&a(!0===e?c:e,d)}:b}function bj(a,b,c){for(var d,e,f=0;d=a[f];f++)$.relative[d.part]?e=bh(e,$.relative[d.part],b):(d.captures.push(b,c),e=bi(e,$.filter[d.part].apply(null,d.captures)));return e}function bk(a){return function(b,c){for(var d,e=0;d=a[e];e++)if(d(b,c))return!0;return!1}}
var c,d,e,f,g,h=a.document,i=h.documentElement,j="undefined",k=!1,l=!0,m=0,n=[].slice,o=[].push,q=("sizcache"+Math.random()).replace(".",""),r="[\\x20\\t\\r\\n\\f]",s="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",t=s.replace("w","w#"),v="\\["+r+"*("+s+")"+r+"*(?:([*^$|!~]?=)"+r+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+t+")|)|)"+r+"*\\]",w=":("+s+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|((?:[^,]|\\\\,|(?:,(?=[^\\[]*\\]))|(?:,(?=[^\\(]*\\))))*))\\)|)",x=":(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\)|)(?=[^-]|$)",y=r+"*([\\x20\\t\\r\\n\\f>+~])"+r+"*",z="(?=[^\\x20\\t\\r\\n\\f])(?:\\\\.|"+v+"|"+w.replace(2,7)+"|[^\\\\(),])+",A=new RegExp("^"+r+"+|((?:^|[^\\\\])(?:\\\\.)*)"+r+"+$","g"),B=new RegExp("^"+y),C=new RegExp(z+"?(?="+r+"*,|$)","g"),D=new RegExp("^(?:(?!,)(?:(?:^|,)"+r+"*"+z+")*?|"+r+"*(.*?))(\\)|$)"),E=new RegExp(z.slice(19,-6)+"\\x20\\t\\r\\n\\f>+~])+|"+y,"g"),F=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,G=/[\x20\t\r\n\f]*[+~]/,H=/:not\($/,I=/h\d/i,J=/input|select|textarea|button/i,K=/\\(?!\\)/g,L={
ID:new RegExp("^#("+s+")"),CLASS:new RegExp("^\\.("+s+")"),NAME:new RegExp("^\\[name=['\"]?("+s+")['\"]?\\]"),TAG:new RegExp("^("+s.replace("[-","[-\\*")+")"),ATTR:new RegExp("^"+v),PSEUDO:new RegExp("^"+w),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+r+"*(even|odd|(([+-]|)(\\d*)n|)"+r+"*(?:([+-]|)"+r+"*(\\d+)|))"+r+"*\\)|)","i"),POS:new RegExp(x,"ig"),needsContext:new RegExp("^"+r+"*[>+~]|"+x,"i")},M={},N=[],O={},P=[],Q=function(a){return a.sizzleFilter=!0,a},R=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}},S=function(a){return function(b){var c=b.nodeName.toLowerCase()
;return("input"===c||"button"===c)&&b.type===a}},T=function(a){var b=!1,c=h.createElement("div");try{b=a(c)}catch(d){}return c=null,b},U=T(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),V=T(function(a){a.id=q+0,a.innerHTML="<a name='"+q+"'></a><div name='"+q+"'></div>",i.insertBefore(a,i.firstChild);var b=h.getElementsByName&&h.getElementsByName(q).length===2+h.getElementsByName(q+0).length;return g=!h.getElementById(q),i.removeChild(a),b}),W=T(function(a){return a.appendChild(h.createComment("")),0===a.getElementsByTagName("*").length}),X=T(function(a){
return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==j&&"#"===a.firstChild.getAttribute("href")}),Y=T(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!a.getElementsByClassName||0===a.getElementsByClassName("e").length)&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length)}),Z=function(a,b,c,d){c=c||[],b=b||h;var e,f,g,i,j=b.nodeType;if(1!==j&&9!==j)return[];if(!a||"string"!=typeof a)return c;if(!(g=ba(b))&&!d&&(e=F.exec(a)))if(i=e[1]){if(9===j){if(!(f=b.getElementById(i))||!f.parentNode)return c;if(f.id===i)return c.push(f),c
}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(i))&&bb(b,f)&&f.id===i)return c.push(f),c}else{if(e[2])return o.apply(c,n.call(b.getElementsByTagName(a),0)),c;if((i=e[3])&&Y&&b.getElementsByClassName)return o.apply(c,n.call(b.getElementsByClassName(i),0)),c}return bm(a,b,c,d,g)},$=Z.selectors={cacheLength:50,match:L,order:["ID","TAG"],attrHandle:{},createPseudo:Q,find:{ID:g?function(a,b,c){if(typeof b.getElementById!==j&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==j&&!d){var e=c.getElementById(a)
;return e?e.id===a||typeof e.getAttributeNode!==j&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:W?function(a,b){if(typeof b.getElementsByTagName!==j)return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var d,e=[],f=0;d=c[f];f++)1===d.nodeType&&e.push(d);return e}return c}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(K,""),a[3]=(a[4]||a[5]||"").replace(K,""),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),
"nth"===a[1]?(a[2]||Z.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&Z.error(a[0]),a},PSEUDO:function(a){var b,c=a[4];return L.CHILD.test(a[0])?null:(c&&(b=D.exec(c))&&b.pop()&&(a[0]=a[0].slice(0,b[0].length-c.length-1),c=b[0].slice(0,-1)),a.splice(2,3,c||a[3]),a)}},filter:{ID:g?function(a){return a=a.replace(K,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(K,""),function(b){var c=typeof b.getAttributeNode!==j&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(K,"").toLowerCase(),function(b){
return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=M[a];return b||(b=M[a]=new RegExp("(^|"+r+")"+a+"("+r+"|$)"),N.push(a),N.length>$.cacheLength&&delete M[N.shift()]),function(a){return b.test(a.className||typeof a.getAttribute!==j&&a.getAttribute("class")||"")}},ATTR:function(a,b,c){return b?function(d){var e=Z.attr(d,a),f=e+"";if(null==e)return"!="===b;switch(b){case"=":return f===c;case"!=":return f!==c;case"^=":return c&&0===f.indexOf(c);case"*=":return c&&f.indexOf(c)>-1;case"$=":return c&&f.substr(f.length-c.length)===c;case"~=":return(" "+f+" ").indexOf(c)>-1;case"|=":return f===c||f.substr(0,c.length+1)===c+"-"}}:function(b){
return null!=Z.attr(b,a)}},CHILD:function(a,b,c,d){if("nth"===a){var e=m++;return function(a){var b,f,g=0,h=a;if(1===c&&0===d)return!0;if((b=a.parentNode)&&(b[q]!==e||!a.sizset)){for(h=b.firstChild;h&&(1!==h.nodeType||(h.sizset=++g,h!==a));h=h.nextSibling);b[q]=e}return f=a.sizset-d,0===c?0===f:f%c==0&&f/c>=0}}return function(b){var c=b;switch(a){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(a,b,c,d){var e=$.pseudos[a]||$.pseudos[a.toLowerCase()];return e||Z.error("unsupported pseudo: "+a),e.sizzleFilter?e(b,c,d):e
}},pseudos:{not:Q(function(a,b,c){var d=bl(a.replace(A,"$1"),b,c);return function(a){return!d(a)}}),enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},parent:function(a){return!$.pseudos.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if(a.nodeName>"@"||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},contains:Q(function(a){return function(b){return(b.textContent||b.innerText||bc(b)).indexOf(a)>-1}}),
has:Q(function(a){return function(b){return Z(a,b).length>0}}),header:function(a){return I.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:R("radio"),checkbox:R("checkbox"),file:R("file"),password:R("password"),image:R("image"),submit:S("submit"),reset:S("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return J.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&(!!a.type||!!a.href)},
active:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b,c){return c?a.slice(1):[a[0]]},last:function(a,b,c){var d=a.pop();return c?a:[d]},even:function(a,b,c){for(var d=[],e=c?1:0,f=a.length;e<f;e+=2)d.push(a[e]);return d},odd:function(a,b,c){for(var d=[],e=c?0:1,f=a.length;e<f;e+=2)d.push(a[e]);return d},lt:function(a,b,c){return c?a.slice(+b):a.slice(0,+b)},gt:function(a,b,c){return c?a.slice(0,+b+1):a.slice(+b+1)},eq:function(a,b,c){var d=a.splice(+b,1);return c?a:d}}};$.setFilters.nth=$.setFilters.eq,$.filters=$.pseudos,X||($.attrHandle={href:function(a){return a.getAttribute("href",2)},type:function(a){
return a.getAttribute("type")}}),V&&($.order.push("NAME"),$.find.NAME=function(a,b){if(typeof b.getElementsByName!==j)return b.getElementsByName(a)}),Y&&($.order.splice(1,0,"CLASS"),$.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!==j&&!c)return b.getElementsByClassName(a)});try{n.call(i.childNodes,0)[0].nodeType}catch(_){n=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}var ba=Z.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},bb=Z.contains=i.compareDocumentPosition?function(a,b){return!!(16&a.compareDocumentPosition(b))}:i.contains?function(a,b){
var c=9===a.nodeType?a.documentElement:a,d=b.parentNode;return a===d||!!(d&&1===d.nodeType&&c.contains&&c.contains(d))}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1},bc=Z.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=bc(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=bc(b);return c};Z.attr=function(a,b){var c,d=ba(a);return d||(b=b.toLowerCase()),$.attrHandle[b]?$.attrHandle[b](a):U||d?a.getAttribute(b):(c=a.getAttributeNode(b),c?"boolean"==typeof a[b]?a[b]?b:null:c.specified?c.value:null:null)},
Z.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},[0,0].sort(function(){return l=0}),i.compareDocumentPosition?e=function(a,b){return a===b?(k=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b):a.compareDocumentPosition)?-1:1}:(e=function(a,b){if(a===b)return k=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],g=[],h=a.parentNode,i=b.parentNode,j=h;if(h===i)return f(a,b);if(!h)return-1;if(!i)return 1;for(;j;)e.unshift(j),j=j.parentNode;for(j=i;j;)g.unshift(j),j=j.parentNode;c=e.length,d=g.length
;for(var l=0;l<c&&l<d;l++)if(e[l]!==g[l])return f(e[l],g[l]);return l===c?f(a,g[l],-1):f(e[l],b,1)},f=function(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}),Z.uniqueSort=function(a){var b,c=1;if(e&&(k=l,a.sort(e),k))for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1);return a};var bl=Z.compile=function(a,b,c){var d,e,f,g=O[a];if(g&&g.context===b)return g;for(e=bg(a,b,c),f=0;d=e[f];f++)e[f]=bj(d,b,c);return g=O[a]=bk(e),g.context=b,g.runs=g.dirruns=0,P.push(a),P.length>$.cacheLength&&delete O[P.shift()],g};Z.matches=function(a,b){return Z(a,null,null,b)},Z.matchesSelector=function(a,b){
return Z(b,null,null,[a]).length>0};var bm=function(a,b,e,f,g){a=a.replace(A,"$1");var h,i,j,k,l,m,p,q,r,s=a.match(C),t=a.match(E),u=b.nodeType;if(L.POS.test(a))return bf(a,b,e,f,s);if(f)h=n.call(f,0);else if(s&&1===s.length){if(t.length>1&&9===u&&!g&&(s=L.ID.exec(t[0]))){if(!(b=$.find.ID(s[1],b,g)[0]))return e;a=a.slice(t.shift().length)}for(q=(s=G.exec(t[0]))&&!s.index&&b.parentNode||b,r=t.pop(),m=r.split(":not")[0],j=0,k=$.order.length;j<k;j++)if(p=$.order[j],s=L[p].exec(m)){if(null==(h=$.find[p]((s[1]||"").replace(K,""),q,g)))continue;m===r&&((a=a.slice(0,a.length-r.length)+m.replace(L[p],""))||o.apply(e,n.call(h,0)));break}}if(a)for(i=bl(a,b,g),
d=i.dirruns++,null==h&&(h=$.find.TAG("*",G.test(a)&&b.parentNode||b)),j=0;l=h[j];j++)c=i.runs++,i(l,b)&&e.push(l);return e};h.querySelectorAll&&function(){var a,b=bm,c=/'|\\/g,d=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,e=[],f=[":active"],g=i.matchesSelector||i.mozMatchesSelector||i.webkitMatchesSelector||i.oMatchesSelector||i.msMatchesSelector;T(function(a){a.innerHTML="<select><option selected></option></select>",a.querySelectorAll("[selected]").length||e.push("\\["+r+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||e.push(":checked")}),T(function(a){a.innerHTML="<p test=''></p>",
a.querySelectorAll("[test^='']").length&&e.push("[*^$]="+r+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'>",a.querySelectorAll(":enabled").length||e.push(":enabled",":disabled")}),e=e.length&&new RegExp(e.join("|")),bm=function(a,d,f,g,h){if(!(g||h||e&&e.test(a)))if(9===d.nodeType)try{return o.apply(f,n.call(d.querySelectorAll(a),0)),f}catch(i){}else if(1===d.nodeType&&"object"!==d.nodeName.toLowerCase()){var j=d.getAttribute("id"),k=j||q,l=G.test(a)&&d.parentNode||d;j?k=k.replace(c,"\\$&"):d.setAttribute("id",k);try{return o.apply(f,n.call(l.querySelectorAll(a.replace(C,"[id='"+k+"'] $&")),0)),f}catch(i){}finally{j||d.removeAttribute("id")}}
return b(a,d,f,g,h)},g&&(T(function(b){a=g.call(b,"div");try{g.call(b,"[test!='']:sizzle"),f.push($.match.PSEUDO)}catch(c){}}),f=new RegExp(f.join("|")),Z.matchesSelector=function(b,c){if(c=c.replace(d,"='$1']"),!(ba(b)||f.test(c)||e&&e.test(c)))try{var h=g.call(b,c);if(h||a||b.document&&11!==b.document.nodeType)return h}catch(i){}return Z(c,null,null,[b]).length>0})}(),Z.attr=p.attr,p.find=Z,p.expr=Z.selectors,p.expr[":"]=p.expr.pseudos,p.unique=Z.uniqueSort,p.text=Z.getText,p.isXMLDoc=Z.isXML,p.contains=Z.contains}(a);var bc=/Until$/,bd=/^(?:parents|prev(?:Until|All))/,be=/^.[^:#\[\.,]*$/,bf=p.expr.match.needsContext,bg={children:!0,contents:!0,next:!0,
prev:!0};p.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if("string"!=typeof a)return p(a).filter(function(){for(b=0,c=h.length;b<c;b++)if(p.contains(h[b],this))return!0});for(g=this.pushStack("","find",a),b=0,c=this.length;b<c;b++)if(d=g.length,p.find(a,this[b],g),b>0)for(e=d;e<g.length;e++)for(f=0;f<d;f++)if(g[f]===g[e]){g.splice(e--,1);break}return g},has:function(a){var b,c=p(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(p.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(bj(this,a,!1),"not",a)},filter:function(a){return this.pushStack(bj(this,a,!0),"filter",a)},is:function(a){
return!!a&&("string"==typeof a?bf.test(a)?p(a,this.context).index(this[0])>=0:p.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=bf.test(a)||"string"!=typeof a?p(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(g?g.index(c)>-1:p.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}return f=f.length>1?p.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?"string"==typeof a?p.inArray(this[0],p(a)):p.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){
var c="string"==typeof a?p(a,b):p.makeArray(a&&a.nodeType?[a]:a),d=p.merge(this.get(),c);return this.pushStack(bh(c[0])||bh(d[0])?d:p.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),p.fn.andSelf=p.fn.addBack,p.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return p.dir(a,"parentNode")},parentsUntil:function(a,b,c){return p.dir(a,"parentNode",c)},next:function(a){return bi(a,"nextSibling")},prev:function(a){return bi(a,"previousSibling")},nextAll:function(a){return p.dir(a,"nextSibling")},prevAll:function(a){return p.dir(a,"previousSibling")},
nextUntil:function(a,b,c){return p.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return p.dir(a,"previousSibling",c)},siblings:function(a){return p.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return p.sibling(a.firstChild)},contents:function(a){return p.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:p.merge([],a.childNodes)}},function(a,b){p.fn[a]=function(c,d){var e=p.map(this,b,c);return bc.test(a)||(d=c),d&&"string"==typeof d&&(e=p.filter(d,e)),e=this.length>1&&!bg[a]?p.unique(e):e,this.length>1&&bd.test(a)&&(e=e.reverse()),this.pushStack(e,a,k.call(arguments).join(","))}}),p.extend({filter:function(a,b,c){
return c&&(a=":not("+a+")"),1===b.length?p.find.matchesSelector(b[0],a)?[b[0]]:[]:p.find.matches(a,b)},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!p(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}})
;var bl="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",bm=/ jQuery\d+="(?:null|\d+)"/g,bn=/^\s+/,bo=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bp=/<([\w:]+)/,bq=/<tbody/i,br=/<|&#?\w+;/,bs=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,bu=new RegExp("<(?:"+bl+")[\\s/>]","i"),bv=/^(?:checkbox|radio)$/,bw=/checked\s*(?:[^=]|=\s*.checked.)/i,bx=/\/(java|ecma)script/i,by=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,bz={option:[1,"<select multiple='multiple'>","</select>"],
legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bA=bk(e),bB=bA.appendChild(e.createElement("div"));bz.optgroup=bz.option,bz.tbody=bz.tfoot=bz.colgroup=bz.caption=bz.thead,bz.th=bz.td,p.support.htmlSerialize||(bz._default=[1,"X<div>","</div>"]),p.fn.extend({text:function(a){return p.access(this,function(a){return a===b?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||e).createTextNode(a))},null,a,arguments.length)},
wrapAll:function(a){if(p.isFunction(a))return this.each(function(b){p(this).wrapAll(a.call(this,b))});if(this[0]){var b=p(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return p.isFunction(a)?this.each(function(b){p(this).wrapInner(a.call(this,b))}):this.each(function(){var b=p(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=p.isFunction(a);return this.each(function(c){p(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){
return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!bh(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=p.clean(arguments);return this.pushStack(p.merge(a,this),"before",this.selector)}},after:function(){
if(!bh(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=p.clean(arguments);return this.pushStack(p.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)a&&!p.filter(a,[c]).length||(!b&&1===c.nodeType&&(p.cleanData(c.getElementsByTagName("*")),p.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&p.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){return a=null!=a&&a,
b=null==b?a:b,this.map(function(){return p.clone(this,a,b)})},html:function(a){return p.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(bm,""):b;if("string"==typeof a&&!bs.test(a)&&(p.support.htmlSerialize||!bu.test(a))&&(p.support.leadingWhitespace||!bn.test(a))&&!bz[(bp.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(bo,"<$1></$2>");try{for(;d<e;d++)c=this[d]||{},1===c.nodeType&&(p.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){
return bh(this[0])?this.length?this.pushStack(p(p.isFunction(a)?a():a),"replaceWith",a):this:p.isFunction(a)?this.each(function(b){var c=p(this),d=c.html();c.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=p(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;p(this).remove(),b?p(b).before(a):p(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],l=this.length;if(!p.support.checkClone&&l>1&&"string"==typeof j&&bw.test(j))return this.each(function(){p(this).domManip(a,c,d)});if(p.isFunction(j))return this.each(function(e){var f=p(this)
;a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){if(e=p.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,1===g.childNodes.length&&(g=f),f)for(c=c&&p.nodeName(f,"tr"),h=e.cacheable||l-1;i<l;i++)d.call(c&&p.nodeName(this[i],"table")?bC(this[i],"tbody"):this[i],i===h?g:p.clone(g,!0,!0));g=f=null,k.length&&p.each(k,function(a,b){b.src?p.ajax?p.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):p.error("no ajax"):p.globalEval((b.text||b.textContent||b.innerHTML||"").replace(by,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),p.buildFragment=function(a,c,d){var f,g,h,i=a[0];return c=c||e,
c=(c[0]||c).ownerDocument||c[0]||c,void 0===c.createDocumentFragment&&(c=e),1===a.length&&"string"==typeof i&&i.length<512&&c===e&&"<"===i.charAt(0)&&!bt.test(i)&&(p.support.checkClone||!bw.test(i))&&(p.support.html5Clone||!bu.test(i))&&(g=!0,f=p.fragments[i],h=f!==b),f||(f=c.createDocumentFragment(),p.clean(a,c,f,d),g&&(p.fragments[i]=h&&f)),{fragment:f,cacheable:g}},p.fragments={},p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){p.fn[a]=function(c){var d,e=0,f=[],g=p(c),h=g.length,i=1===this.length&&this[0].parentNode
;if((null==i||i&&11===i.nodeType&&1===i.childNodes.length)&&1===h)return g[b](this[0]),this;for(;e<h;e++)d=(e>0?this.clone(!0):this).get(),p(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),p.extend({clone:function(a,b,c){var d,e,f,g;if(p.support.html5Clone||p.isXMLDoc(a)||!bu.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(bB.innerHTML=a.outerHTML,bB.removeChild(g=bB.firstChild)),!(p.support.noCloneEvent&&p.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||p.isXMLDoc(a)))for(bE(a,g),d=bF(a),e=bF(g),f=0;d[f];++f)e[f]&&bE(d[f],e[f]);if(b&&(bD(a,g),c))for(d=bF(a),e=bF(g),f=0;d[f];++f)bD(d[f],e[f]);return d=e=null,g},
clean:function(a,b,c,d){var f,g,h,i,j,k,l,m,n,q,r,s=0,t=[];for(b&&void 0!==b.createDocumentFragment||(b=e),g=b===e&&bA;null!=(h=a[s]);s++)if("number"==typeof h&&(h+=""),h){if("string"==typeof h)if(br.test(h)){for(g=g||bk(b),l=l||g.appendChild(b.createElement("div")),h=h.replace(bo,"<$1></$2>"),i=(bp.exec(h)||["",""])[1].toLowerCase(),j=bz[i]||bz._default,k=j[0],l.innerHTML=j[1]+h+j[2];k--;)l=l.lastChild;if(!p.support.tbody)for(m=bq.test(h),n="table"!==i||m?"<table>"!==j[1]||m?[]:l.childNodes:l.firstChild&&l.firstChild.childNodes,f=n.length-1;f>=0;--f)p.nodeName(n[f],"tbody")&&!n[f].childNodes.length&&n[f].parentNode.removeChild(n[f])
;!p.support.leadingWhitespace&&bn.test(h)&&l.insertBefore(b.createTextNode(bn.exec(h)[0]),l.firstChild),h=l.childNodes,l=g.lastChild}else h=b.createTextNode(h);h.nodeType?t.push(h):t=p.merge(t,h)}if(l&&(g.removeChild(l),h=l=g=null),!p.support.appendChecked)for(s=0;null!=(h=t[s]);s++)p.nodeName(h,"input")?bG(h):void 0!==h.getElementsByTagName&&p.grep(h.getElementsByTagName("input"),bG);if(c)for(q=function(a){if(!a.type||bx.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)},s=0;null!=(h=t[s]);s++)p.nodeName(h,"script")&&q(h)||(c.appendChild(h),
void 0!==h.getElementsByTagName&&(r=p.grep(p.merge([],h.getElementsByTagName("script")),q),t.splice.apply(t,[s+1,0].concat(r)),s+=r.length));return t},cleanData:function(a,b){for(var c,d,e,f,g=0,h=p.expando,i=p.cache,j=p.support.deleteExpando,k=p.event.special;null!=(e=a[g]);g++)if((b||p.acceptData(e))&&(d=e[h],c=d&&i[d])){if(c.events)for(f in c.events)k[f]?p.event.remove(e,f):p.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,p.deletedIds.push(d))}}}),function(){var a,b;p.uaMatch=function(a){a=a.toLowerCase()
;var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=p.uaMatch(g.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.webkit&&(b.safari=!0),p.browser=b,p.sub=function(){function a(b,c){return new a.fn.init(b,c)}p.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,d){return d&&d instanceof p&&!(d instanceof a)&&(d=a(d)),p.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn
;var b=a(e);return a}}();var bH,bI,bJ,bK=/alpha\([^)]*\)/i,bL=/opacity=([^)]*)/,bM=/^(top|right|bottom|left)$/,bN=/^margin/,bO=new RegExp("^("+q+")(.*)$","i"),bP=new RegExp("^("+q+")(?!px)[a-z%]+$","i"),bQ=new RegExp("^([-+])=("+q+")","i"),bR={},bS={position:"absolute",visibility:"hidden",display:"block"},bT={letterSpacing:0,fontWeight:400,lineHeight:1},bU=["Top","Right","Bottom","Left"],bV=["Webkit","O","Moz","ms"],bW=p.fn.toggle;p.fn.extend({css:function(a,c){return p.access(this,function(a,c,d){return d!==b?p.style(a,c,d):p.css(a,c)},a,c,arguments.length>1)},show:function(){return bZ(this,!0)},hide:function(){return bZ(this)},toggle:function(a,b){
var c="boolean"==typeof a;return p.isFunction(a)&&p.isFunction(b)?bW.apply(this,arguments):this.each(function(){(c?a:bY(this))?p(this).show():p(this).hide()})}}),p.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bH(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:p.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=p.camelCase(c),j=a.style;if(c=p.cssProps[i]||(p.cssProps[i]=bX(j,i)),h=p.cssHooks[c]||p.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c]
;if("string"===(g=typeof d)&&(f=bQ.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(p.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"===g&&!p.cssNumber[i]&&(d+="px"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=p.camelCase(c);return c=p.cssProps[i]||(p.cssProps[i]=bX(a.style,i)),h=p.cssHooks[c]||p.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=bH(a,c)),"normal"===f&&c in bT&&(f=bT[c]),d||e!==b?(g=parseFloat(f),d||p.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),
a.getComputedStyle?bH=function(a,b){var c,d,e,f,g=getComputedStyle(a,null),h=a.style;return g&&(c=g[b],""===c&&!p.contains(a.ownerDocument.documentElement,a)&&(c=p.style(a,b)),bP.test(c)&&bN.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=c,c=g.width,h.width=d,h.minWidth=e,h.maxWidth=f)),c}:e.documentElement.currentStyle&&(bH=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return null==e&&f&&f[b]&&(e=f[b]),bP.test(e)&&!bM.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),
""===e?"auto":e}),p.each(["height","width"],function(a,b){p.cssHooks[b]={get:function(a,c,d){if(c)return 0!==a.offsetWidth||"none"!==bH(a,"display")?ca(a,b,d):p.swap(a,bS,function(){return ca(a,b,d)})},set:function(a,c,d){return b$(a,c,d?b_(a,b,d,p.support.boxSizing&&"border-box"===p.css(a,"boxSizing")):0)}}}),p.support.opacity||(p.cssHooks.opacity={get:function(a,b){return bL.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=p.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,
b>=1&&""===p.trim(f.replace(bK,""))&&c.removeAttribute&&(c.removeAttribute("filter"),d&&!d.filter)||(c.filter=bK.test(f)?f.replace(bK,e):f+" "+e)}}),p(function(){p.support.reliableMarginRight||(p.cssHooks.marginRight={get:function(a,b){return p.swap(a,{display:"inline-block"},function(){if(b)return bH(a,"marginRight")})}}),!p.support.pixelPosition&&p.fn.position&&p.each(["top","left"],function(a,b){p.cssHooks[b]={get:function(a,c){if(c){var d=bH(a,b);return bP.test(d)?p(a).position()[b]+"px":d}}}})}),p.expr&&p.expr.filters&&(p.expr.filters.hidden=function(a){
return 0===a.offsetWidth&&0===a.offsetHeight||!p.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||bH(a,"display"))},p.expr.filters.visible=function(a){return!p.expr.filters.hidden(a)}),p.each({margin:"",padding:"",border:"Width"},function(a,b){p.cssHooks[a+b]={expand:function(c){var d,e="string"==typeof c?c.split(" "):[c],f={};for(d=0;d<4;d++)f[a+bU[d]+b]=e[d]||e[d-2]||e[0];return f}},bN.test(a)||(p.cssHooks[a+b].set=b$)});var cc=/%20/g,cd=/\[\]$/,ce=/\r?\n/g,cf=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,cg=/^(?:select|textarea)/i;p.fn.extend({serialize:function(){
return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?p.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||cg.test(this.nodeName)||cf.test(this.type))}).map(function(a,b){var c=p(this).val();return null==c?null:p.isArray(c)?p.map(c,function(a,c){return{name:b.name,value:a.replace(ce,"\r\n")}}):{name:b.name,value:c.replace(ce,"\r\n")}}).get()}}),p.param=function(a,c){var d,e=[],f=function(a,b){b=p.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=p.ajaxSettings&&p.ajaxSettings.traditional),
p.isArray(a)||a.jquery&&!p.isPlainObject(a))p.each(a,function(){f(this.name,this.value)});else for(d in a)ch(d,a[d],c,f);return e.join("&").replace(cc,"+")};var ci,cj,ck=/#.*$/,cl=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,cm=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,cn=/^(?:GET|HEAD)$/,co=/^\/\//,cp=/\?/,cq=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,cr=/([?&])_=[^&]*/,cs=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ct=p.fn.load,cu={},cv={},cw=["*/"]+["*"];try{ci=f.href}catch(cx){ci=e.createElement("a"),ci.href="",ci=ci.href}cj=cs.exec(ci.toLowerCase())||[],p.fn.load=function(a,c,d){
if("string"!=typeof a&&ct)return ct.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),p.isFunction(c)?(d=c,c=b):"object"==typeof c&&(f="POST"),p.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b){d&&h.each(d,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?p("<div>").append(a.replace(cq,"")).find(e):a)}),this},p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){p.fn[b]=function(a){return this.on(b,a)}}),p.each(["get","post"],function(a,c){p[c]=function(a,d,e,f){return p.isFunction(d)&&(f=f||e,e=d,
d=b),p.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),p.extend({getScript:function(a,c){return p.get(a,b,c,"script")},getJSON:function(a,b,c){return p.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?cA(a,p.ajaxSettings):(b=a,a=p.ajaxSettings),cA(a,b),a},ajaxSettings:{url:ci,isLocal:cm.test(cj[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":cw},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{
"* text":a.String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:cy(cu),ajaxTransport:cy(cv),ajax:function(a,c){function y(a,c,f,i){var k,s,t,u,w,y=c;2!==v&&(v=2,h&&clearTimeout(h),g=b,e=i||"",x.readyState=a>0?4:0,f&&(u=cB(l,x,f)),a>=200&&a<300||304===a?(l.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(p.lastModified[d]=w),(w=x.getResponseHeader("Etag"))&&(p.etag[d]=w)),304===a?(y="notmodified",k=!0):(k=cC(l,u),y=k.state,s=k.data,t=k.error,k=!t)):(t=y,y&&!a||(y="error",a<0&&(a=0))),x.status=a,x.statusText=""+(c||y),k?o.resolveWith(m,[s,y,x]):o.rejectWith(m,[x,y,t]),x.statusCode(r),r=b,
j&&n.trigger("ajax"+(k?"Success":"Error"),[x,l,k?s:t]),q.fireWith(m,[x,y]),j&&(n.trigger("ajaxComplete",[x,l]),--p.active||p.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var d,e,f,g,h,i,j,k,l=p.ajaxSetup({},c),m=l.context||l,n=m!==l&&(m.nodeType||m instanceof p)?p(m):p.event,o=p.Deferred(),q=p.Callbacks("once memory"),r=l.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,setRequestHeader:function(a,b){if(!v){var c=a.toLowerCase();a=u[c]=u[c]||a,t[a]=b}return this},getAllResponseHeaders:function(){return 2===v?e:null},getResponseHeader:function(a){var c;if(2===v){if(!f)for(f={};c=cl.exec(e);)f[c[1].toLowerCase()]=c[2]
;c=f[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return v||(l.mimeType=a),this},abort:function(a){return a=a||w,g&&g.abort(a),y(0,a),this}};if(o.promise(x),x.success=x.done,x.error=x.fail,x.complete=q.add,x.statusCode=function(a){if(a){var b;if(v<2)for(b in a)r[b]=[r[b],a[b]];else b=a[x.status],x.always(b)}return this},l.url=((a||l.url)+"").replace(ck,"").replace(co,cj[1]+"//"),l.dataTypes=p.trim(l.dataType||"*").toLowerCase().split(s),null==l.crossDomain&&(i=cs.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]==cj[1]&&i[2]==cj[2]&&(i[3]||("http:"===i[1]?80:443))==(cj[3]||("http:"===cj[1]?80:443)))),
l.data&&l.processData&&"string"!=typeof l.data&&(l.data=p.param(l.data,l.traditional)),cz(cu,l,c,x),2===v)return x;if(j=l.global,l.type=l.type.toUpperCase(),l.hasContent=!cn.test(l.type),j&&0==p.active++&&p.event.trigger("ajaxStart"),!l.hasContent&&(l.data&&(l.url+=(cp.test(l.url)?"&":"?")+l.data,delete l.data),d=l.url,!1===l.cache)){var z=p.now(),A=l.url.replace(cr,"$1_="+z);l.url=A+(A===l.url?(cp.test(l.url)?"&":"?")+"_="+z:"")}(l.data&&l.hasContent&&!1!==l.contentType||c.contentType)&&x.setRequestHeader("Content-Type",l.contentType),l.ifModified&&(d=d||l.url,p.lastModified[d]&&x.setRequestHeader("If-Modified-Since",p.lastModified[d]),
p.etag[d]&&x.setRequestHeader("If-None-Match",p.etag[d])),x.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+cw+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)x.setRequestHeader(k,l.headers[k]);if(!l.beforeSend||!1!==l.beforeSend.call(m,x,l)&&2!==v){w="abort";for(k in{success:1,error:1,complete:1})x[k](l[k]);if(g=cz(cv,l,c,x)){x.readyState=1,j&&n.trigger("ajaxSend",[x,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){x.abort("timeout")},l.timeout));try{v=1,g.send(t,y)}catch(B){if(!(v<2))throw B;y(-1,B)}}else y(-1,"No Transport");return x}return x.abort()},active:0,lastModified:{},
etag:{}});var cD=[],cE=/\?/,cF=/(=)\?(?=&|$)|\?\?/,cG=p.now();p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=cD.pop()||p.expando+"_"+cG++;return this[a]=!0,a}}),p.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.data,j=c.url,k=!1!==c.jsonp,l=k&&cF.test(j),m=k&&!l&&"string"==typeof i&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&cF.test(i);if("jsonp"===c.dataTypes[0]||l||m)return f=c.jsonpCallback=p.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=a[f],l?c.url=j.replace(cF,"$1"+f):m?c.data=i.replace(cF,"$1"+f):k&&(c.url+=(cE.test(j)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){
return h||p.error(f+" was not called"),h[0]},c.dataTypes[0]="json",a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,cD.push(f)),h&&p.isFunction(g)&&g(h[0]),h=g=b}),"script"}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return p.globalEval(a),a}}}),p.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),p.ajaxTransport("script",function(a){if(a.crossDomain){
var c,d=e.head||e.getElementsByTagName("head")[0]||e.documentElement;return{send:function(f,g){c=e.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){(e||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||g(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var cH,cI=!!a.ActiveXObject&&function(){for(var a in cH)cH[a](0,1)},cJ=0;p.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&cK()||cL()}:cK,function(a){p.extend(p.support,{ajax:!!a,
cors:!!a&&"withCredentials"in a})}(p.ajaxSettings.xhr()),p.support.ajax&&p.ajaxTransport(function(c){if(!c.crossDomain||p.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=p.noop,
cI&&delete cH[g]),e)4!==i.readyState&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},(m=i.responseXML)&&m.documentElement&&(l.xml=m);try{l.text=i.responseText}catch(a){}try{j=i.statusText}catch(n){j=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async?4===i.readyState?setTimeout(d,0):(g=++cJ,cI&&(cH||(cH={},p(a).unload(cI)),cH[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var cM,cN,cO=/^(?:toggle|show|hide)$/,cP=new RegExp("^(?:([-+])=|)("+q+")([a-z%]*)$","i"),cQ=/queueHooks$/,cR=[cX],cS={"*":[function(a,b){
var c,d,e,f=this.createTween(a,b),g=cP.exec(b),h=f.cur(),i=+h||0,j=1;if(g){if(c=+g[2],"px"!==(d=g[3]||(p.cssNumber[a]?"":"px"))&&i){i=p.css(f.elem,a,!0)||c||1;do{e=j=j||".5",i/=j,p.style(f.elem,a,i+d),j=f.cur()/h}while(1!==j&&j!==e)}f.unit=d,f.start=i,f.end=g[1]?i+(g[1]+1)*c:c}return f}]};p.Animation=p.extend(cV,{tweener:function(a,b){p.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;d<e;d++)c=a[d],cS[c]=cS[c]||[],cS[c].unshift(b)},prefilter:function(a,b){b?cR.unshift(a):cR.push(a)}}),p.Tween=cY,cY.prototype={constructor:cY,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,
this.start=this.now=this.cur(),this.end=d,this.unit=f||(p.cssNumber[c]?"":"px")},cur:function(){var a=cY.propHooks[this.prop];return a&&a.get?a.get(this):cY.propHooks._default.get(this)},run:function(a){var b,c=cY.propHooks[this.prop];return this.pos=b=p.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration),this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):cY.propHooks._default.set(this),this}},cY.prototype.init.prototype=cY.prototype,cY.propHooks={_default:{get:function(a){var b
;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=p.css(a.elem,a.prop,!1,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){p.fx.step[a.prop]?p.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[p.cssProps[a.prop]]||p.cssHooks[a.prop])?p.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},cY.propHooks.scrollTop=cY.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},p.each(["toggle","show","hide"],function(a,b){var c=p.fn[b];p.fn[b]=function(d,e,f){return null==d||"boolean"==typeof d||!a&&p.isFunction(d)&&p.isFunction(e)?c.apply(this,arguments):this.animate(cZ(b,!0),d,e,f)}}),
p.fn.extend({fadeTo:function(a,b,c,d){return this.filter(bY).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=p.isEmptyObject(a),f=p.speed(b,c,d),g=function(){var b=cV(this,p.extend({},a),f);e&&b.stop(!0)};return e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=p.timers,g=p._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&cQ.test(c)&&e(g[c])
;for(c=f.length;c--;)f[c].elem===this&&(null==a||f[c].queue===a)&&(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&p.dequeue(this,a)})}}),p.each({slideDown:cZ("show"),slideUp:cZ("hide"),slideToggle:cZ("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){p.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),p.speed=function(a,b,c){var d=a&&"object"==typeof a?p.extend({},a):{complete:c||!c&&b||p.isFunction(a)&&a,duration:a,easing:c&&b||b&&!p.isFunction(b)&&b};return d.duration=p.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in p.fx.speeds?p.fx.speeds[d.duration]:p.fx.speeds._default,
null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){p.isFunction(d.old)&&d.old.call(this),d.queue&&p.dequeue(this,d.queue)},d},p.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},p.timers=[],p.fx=cY.prototype.init,p.fx.tick=function(){for(var a,b=p.timers,c=0;c<b.length;c++)!(a=b[c])()&&b[c]===a&&b.splice(c--,1);b.length||p.fx.stop()},p.fx.timer=function(a){a()&&p.timers.push(a)&&!cN&&(cN=setInterval(p.fx.tick,p.fx.interval))},p.fx.interval=13,p.fx.stop=function(){clearInterval(cN),cN=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fx.step={},
p.expr&&p.expr.filters&&(p.expr.filters.animated=function(a){return p.grep(p.timers,function(b){return a===b.elem}).length});var c$=/^(?:body|html)$/i;p.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){p.offset.setOffset(this,a,b)});var c,d,e,f,g,h,i,j,k,l,m=this[0],n=m&&m.ownerDocument;if(n)return(e=n.body)===m?p.offset.bodyOffset(m):(d=n.documentElement,p.contains(d,m)?(c=m.getBoundingClientRect(),f=c_(n),g=d.clientTop||e.clientTop||0,h=d.clientLeft||e.clientLeft||0,i=f.pageYOffset||d.scrollTop,j=f.pageXOffset||d.scrollLeft,k=c.top+i-g,l=c.left+j-h,{top:k,left:l}):{top:0,left:0})},p.offset={bodyOffset:function(a){
var b=a.offsetTop,c=a.offsetLeft;return p.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(p.css(a,"marginTop"))||0,c+=parseFloat(p.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=p.css(a,"position");"static"===d&&(a.style.position="relative");var l,m,e=p(a),f=e.offset(),g=p.css(a,"top"),h=p.css(a,"left"),i=("absolute"===d||"fixed"===d)&&p.inArray("auto",[g,h])>-1,j={},k={};i?(k=e.position(),l=k.top,m=k.left):(l=parseFloat(g)||0,m=parseFloat(h)||0),p.isFunction(b)&&(b=b.call(a,c,f)),null!=b.top&&(j.top=b.top-f.top+l),null!=b.left&&(j.left=b.left-f.left+m),"using"in b?b.using.call(a,j):e.css(j)}},p.fn.extend({
position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=c$.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(p.css(a,"marginTop"))||0,c.left-=parseFloat(p.css(a,"marginLeft"))||0,d.top+=parseFloat(p.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(p.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||e.body;a&&!c$.test(a.nodeName)&&"static"===p.css(a,"position");)a=a.offsetParent;return a||e.body})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);p.fn[a]=function(e){
return p.access(this,function(a,e,f){var g=c_(a);if(f===b)return g?c in g?g[c]:g.document.documentElement[e]:a[e];g?g.scrollTo(d?p(g).scrollLeft():f,d?f:p(g).scrollTop()):a[e]=f},a,e,arguments.length,null)}}),p.each({Height:"height",Width:"width"},function(a,c){p.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){p.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(!0===e||!0===f?"margin":"border");return p.access(this,function(c,d,e){var f;return p.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,
Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?p.css(c,d,e,h):p.style(c,d,e,h)},c,g?e:b,g)}})}),a.jQuery=a.$=p,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return p})}(window),function(){function n(n,t,e){e=(e||0)-1;for(var r=n?n.length:0;++e<r;)if(n[e]===t)return e;return-1}function t(t,e){var r=typeof e;if(t=t.l,"boolean"==r||null==e)return t[e]?0:-1;"number"!=r&&"string"!=r&&(r="object");var u="number"==r?e:b+e;return t=(t=t[r])&&t[u],"object"==r?t&&-1<n(t,e)?0:-1:t?0:-1}function e(n){var t=this.l,e=typeof n;if("boolean"==e||null==n)t[n]=!0;else{
"number"!=e&&"string"!=e&&(e="object");var r="number"==e?n:b+n,t=t[e]||(t[e]={});"object"==e?(t[r]||(t[r]=[])).push(n):t[r]=!0}}function r(n){return n.charCodeAt(0)}function u(n,t){for(var e=n.m,r=t.m,u=-1,o=e.length;++u<o;){var a=e[u],i=r[u];if(a!==i){if(a>i||void 0===a)return 1;if(a<i||void 0===i)return-1}}return n.n-t.n}function o(n){var t=-1,r=n.length,u=n[0],o=n[r/2|0],a=n[r-1];if(u&&"object"==typeof u&&o&&"object"==typeof o&&a&&"object"==typeof a)return!1;for(u=l(),u.false=u.null=u.true=u.undefined=!1,o=l(),o.k=n,o.l=u,o.push=e;++t<r;)o.push(n[t]);return o}function a(n){return"\\"+Y[n]}function i(){return v.pop()||[]}function l(){return y.pop()||{
k:null,l:null,m:null,false:!1,n:0,null:!1,number:null,object:null,push:null,string:null,true:!1,undefined:!1,o:null}}function f(n){return"function"!=typeof n.toString&&"string"==typeof(n+"")}function c(n){n.length=0,v.length<w&&v.push(n)}function p(n){var t=n.l;t&&p(t),n.k=n.l=n.m=n.object=n.number=n.string=n.o=null,y.length<w&&y.push(n)}function s(n,t,e){t||(t=0),void 0===e&&(e=n?n.length:0);var r=-1;e=e-t||0;for(var u=Array(0>e?0:e);++r<e;)u[r]=n[t+r];return u}function g(e){function v(n){return n&&"object"==typeof n&&!qe(n)&&we.call(n,"__wrapped__")?n:new y(n)}function y(n,t){this.__chain__=!!t,this.__wrapped__=n}function w(n){function t(){if(r){var n=s(r)
;je.apply(n,arguments)}if(this instanceof t){var o=nt(e.prototype),n=e.apply(o,n||arguments);return xt(n)?n:o}return e.apply(u,n||arguments)}var e=n[0],r=n[2],u=n[4];return ze(t,n),t}function Y(n,t,e,r,u){if(e){var o=e(n);if(void 0!==o)return o}if(!xt(n))return n;var a=he.call(n);if(!V[a]||!Le.nodeClass&&f(n))return n;var l=Te[a];switch(a){case L:case z:return new l(+n);case W:case M:return new l(n);case J:return o=l(n.source,S.exec(n)),o.lastIndex=n.lastIndex,o}if(a=qe(n),t){var p=!r;r||(r=i()),u||(u=i());for(var g=r.length;g--;)if(r[g]==n)return u[g];o=a?l(n.length):{}}else o=a?s(n):Ye({},n);return a&&(we.call(n,"index")&&(o.index=n.index),
we.call(n,"input")&&(o.input=n.input)),t?(r.push(n),u.push(o),(a?Xe:tr)(n,function(n,a){o[a]=Y(n,t,e,r,u)}),p&&(c(r),c(u)),o):o}function nt(n){return xt(n)?Se(n):{}}function tt(n,t,e){if("function"!=typeof n)return Ht;if(void 0===t||!("prototype"in n))return n;var r=n.__bindData__;if(void 0===r&&(Le.funcNames&&(r=!n.name),!(r=r||!Le.funcDecomp))){var u=be.call(n);Le.funcNames||(r=!A.test(u)),r||(r=B.test(u),ze(n,r))}if(!1===r||!0!==r&&1&r[1])return n;switch(e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,u){return n.call(t,e,r,u)};case 4:return function(e,r,u,o){
return n.call(t,e,r,u,o)}}return Mt(n,t)}function et(n){function t(){var n=l?a:this;if(u){var h=s(u);je.apply(h,arguments)}return(o||c)&&(h||(h=s(arguments)),o&&je.apply(h,o),c&&h.length<i)?(r|=16,et([e,p?r:-4&r,h,null,a,i])):(h||(h=arguments),f&&(e=n[g]),this instanceof t?(n=nt(e.prototype),h=e.apply(n,h),xt(h)?h:n):e.apply(n,h))}var e=n[0],r=n[1],u=n[2],o=n[3],a=n[4],i=n[5],l=1&r,f=2&r,c=4&r,p=8&r,g=e;return ze(t,n),t}function rt(e,r){var u=-1,a=ht(),i=e?e.length:0,l=i>=_&&a===n,f=[];if(l){var c=o(r);c?(a=t,r=c):l=!1}for(;++u<i;)c=e[u],0>a(r,c)&&f.push(c);return l&&p(r),f}function ot(n,t,e,r){r=(r||0)-1;for(var u=n?n.length:0,o=[];++r<u;){var a=n[r]
;if(a&&"object"==typeof a&&"number"==typeof a.length&&(qe(a)||dt(a))){t||(a=ot(a,t,e));var i=-1,l=a.length,f=o.length;for(o.length+=l;++i<l;)o[f++]=a[i]}else e||o.push(a)}return o}function at(n,t,e,r,u,o){if(e){var a=e(n,t);if(void 0!==a)return!!a}if(n===t)return 0!==n||1/n==1/t;if(n===n&&!(n&&X[typeof n]||t&&X[typeof t]))return!1;if(null==n||null==t)return n===t;var l=he.call(n),p=he.call(t);if(l==T&&(l=G),p==T&&(p=G),l!=p)return!1;switch(l){case L:case z:return+n==+t;case W:return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case J:case M:return n==ie(t)}if(!(p=l==$)){var s=we.call(n,"__wrapped__"),g=we.call(t,"__wrapped__")
;if(s||g)return at(s?n.__wrapped__:n,g?t.__wrapped__:t,e,r,u,o);if(l!=G||!Le.nodeClass&&(f(n)||f(t)))return!1;if(l=!Le.argsObject&&dt(n)?oe:n.constructor,s=!Le.argsObject&&dt(t)?oe:t.constructor,l!=s&&!(jt(l)&&l instanceof l&&jt(s)&&s instanceof s)&&"constructor"in n&&"constructor"in t)return!1}for(l=!u,u||(u=i()),o||(o=i()),s=u.length;s--;)if(u[s]==n)return o[s]==t;var h=0,a=!0;if(u.push(n),o.push(t),p){if(s=n.length,h=t.length,(a=h==s)||r)for(;h--;)if(p=s,g=t[h],r)for(;p--&&!(a=at(n[p],g,e,r,u,o)););else if(!(a=at(n[h],g,e,r,u,o)))break}else nr(t,function(t,i,l){return we.call(l,i)?(h++,a=we.call(n,i)&&at(n[i],t,e,r,u,o)):void 0}),
a&&!r&&nr(n,function(n,t,e){return we.call(e,t)?a=-1<--h:void 0});return u.pop(),o.pop(),l&&(c(u),c(o)),a}function it(n,t,e,r,u){(qe(t)?Dt:tr)(t,function(t,o){var a,i,l=t,f=n[o];if(t&&((i=qe(t))||er(t))){for(l=r.length;l--;)if(a=r[l]==t){f=u[l];break}if(!a){var c;e&&(l=e(f,t),c=void 0!==l)&&(f=l),c||(f=i?qe(f)?f:[]:er(f)?f:{}),r.push(t),u.push(f),c||it(f,t,e,r,u)}}else e&&void 0===(l=e(f,t))&&(l=t),void 0!==l&&(f=l);n[o]=f})}function lt(n,t){return n+de(Fe()*(t-n+1))}function ft(e,r,u){var a=-1,l=ht(),f=e?e.length:0,s=[],g=!r&&f>=_&&l===n,h=u||g?i():s;for(g&&(h=o(h),l=t);++a<f;){var v=e[a],y=u?u(v,a,e):v
;(r?!a||h[h.length-1]!==y:0>l(h,y))&&((u||g)&&h.push(y),s.push(v))}return g?(c(h.k),p(h)):u&&c(h),s}function ct(n){return function(t,e,r){var u={};if(e=v.createCallback(e,r,3),qe(t)){r=-1;for(var o=t.length;++r<o;){var a=t[r];n(u,a,e(a,r,t),t)}}else Xe(t,function(t,r,o){n(u,t,e(t,r,o),o)});return u}}function pt(n,t,e,r,u,o){var a=1&t,i=4&t,l=16&t,f=32&t;if(!(2&t||jt(n)))throw new le;l&&!e.length&&(t&=-17,l=e=!1),f&&!r.length&&(t&=-33,f=r=!1);var c=n&&n.__bindData__;return c&&!0!==c?(c=s(c),c[2]&&(c[2]=s(c[2])),c[3]&&(c[3]=s(c[3])),!a||1&c[1]||(c[4]=u),!a&&1&c[1]&&(t|=8),!i||4&c[1]||(c[5]=o),l&&je.apply(c[2]||(c[2]=[]),e),f&&Ee.apply(c[3]||(c[3]=[]),r),
c[1]|=t,pt.apply(null,c)):(1==t||17===t?w:et)([n,t,e,r,u,o])}function st(){Q.h=F,Q.b=Q.c=Q.g=Q.i="",Q.e="t",Q.j=!0;for(var n,t=0;n=arguments[t];t++)for(var e in n)Q[e]=n[e];t=Q.a,Q.d=/^[^,]+/.exec(t)[0],n=ee,t="return function("+t+"){",e=Q;var r="var n,t="+e.d+",E="+e.e+";if(!t)return E;"+e.i+";";e.b?(r+="var u=t.length;n=-1;if("+e.b+"){",Le.unindexedChars&&(r+="if(s(t)){t=t.split('')}"),r+="while(++n<u){"+e.g+";}}else{"):Le.nonEnumArgs&&(r+="var u=t.length;n=-1;if(u&&p(t)){while(++n<u){n+='';"+e.g+";}}else{"),Le.enumPrototypes&&(r+="var G=typeof t=='function';"),Le.enumErrorProps&&(r+="var F=t===k||t instanceof Error;");var u=[]
;if(Le.enumPrototypes&&u.push('!(G&&n=="prototype")'),Le.enumErrorProps&&u.push('!(F&&(n=="message"||n=="name"))'),e.j&&e.f)r+="var C=-1,D=B[typeof t]&&v(t),u=D?D.length:0;while(++C<u){n=D[C];",u.length&&(r+="if("+u.join("&&")+"){"),r+=e.g+";",u.length&&(r+="}"),r+="}";else if(r+="for(n in t){",e.j&&u.push("m.call(t, n)"),u.length&&(r+="if("+u.join("&&")+"){"),r+=e.g+";",u.length&&(r+="}"),r+="}",Le.nonEnumShadows){for(r+="if(t!==A){var i=t.constructor,r=t===(i&&i.prototype),f=t===J?I:t===k?j:L.call(t),x=y[f];",k=0;7>k;k++)r+="n='"+e.h[k]+"';if((!(r&&x[n])&&m.call(t,n))",e.j||(r+="||(!x[n]&&t[n]!==A[n])"),r+="){"+e.g+"}";r+="}"}
return(e.b||Le.nonEnumArgs)&&(r+="}"),r+=e.c+";return E",n("d,j,k,m,o,p,q,s,v,A,B,y,I,J,L",t+r+"}")(tt,q,ce,we,d,dt,qe,kt,Q.f,pe,X,$e,M,se,he)}function gt(n){return Ve[n]}function ht(){var t=(t=v.indexOf)===zt?n:t;return t}function vt(n){return"function"==typeof n&&ve.test(n)}function yt(n){var t,e;return!(!(n&&he.call(n)==G&&(t=n.constructor,!jt(t)||t instanceof t))||!Le.argsClass&&dt(n)||!Le.nodeClass&&f(n))&&(Le.ownLast?(nr(n,function(n,t,r){return e=we.call(r,t),!1}),!1!==e):(nr(n,function(n,t){e=t}),void 0===e||we.call(n,e)))}function mt(n){return He[n]}function dt(n){return n&&"object"==typeof n&&"number"==typeof n.length&&he.call(n)==T||!1}
function bt(n,t,e){var r=We(n),u=r.length;for(t=tt(t,e,3);u--&&(e=r[u],!1!==t(n[e],e,n)););return n}function _t(n){var t=[];return nr(n,function(n,e){jt(n)&&t.push(e)}),t.sort()}function wt(n){for(var t=-1,e=We(n),r=e.length,u={};++t<r;){var o=e[t];u[n[o]]=o}return u}function jt(n){return"function"==typeof n}function xt(n){return!(!n||!X[typeof n])}function Ct(n){return"number"==typeof n||n&&"object"==typeof n&&he.call(n)==W||!1}function kt(n){return"string"==typeof n||n&&"object"==typeof n&&he.call(n)==M||!1}function Et(n){for(var t=-1,e=We(n),r=e.length,u=Zt(r);++t<r;)u[t]=n[e[t]];return u}function Ot(n,t,e){var r=-1,u=ht(),o=n?n.length:0,a=!1
;return e=(0>e?Be(0,o+e):e)||0,qe(n)?a=-1<u(n,t,e):"number"==typeof o?a=-1<(kt(n)?n.indexOf(t,e):u(n,t,e)):Xe(n,function(n){return++r<e?void 0:!(a=n===t)}),a}function St(n,t,e){var r=!0;if(t=v.createCallback(t,e,3),qe(n)){e=-1;for(var u=n.length;++e<u&&(r=!!t(n[e],e,n)););}else Xe(n,function(n,e,u){return r=!!t(n,e,u)});return r}function At(n,t,e){var r=[];if(t=v.createCallback(t,e,3),qe(n)){e=-1;for(var u=n.length;++e<u;){var o=n[e];t(o,e,n)&&r.push(o)}}else Xe(n,function(n,e,u){t(n,e,u)&&r.push(n)});return r}function It(n,t,e){if(t=v.createCallback(t,e,3),!qe(n)){var r;return Xe(n,function(n,e,u){return t(n,e,u)?(r=n,!1):void 0}),r}e=-1
;for(var u=n.length;++e<u;){var o=n[e];if(t(o,e,n))return o}}function Dt(n,t,e){if(t&&void 0===e&&qe(n)){e=-1;for(var r=n.length;++e<r&&!1!==t(n[e],e,n););}else Xe(n,t,e);return n}function Nt(n,t,e){var r=n,u=n?n.length:0;if(t=t&&void 0===e?t:tt(t,e,3),qe(n))for(;u--&&!1!==t(n[u],u,n););else{if("number"!=typeof u)var o=We(n),u=o.length;else Le.unindexedChars&&kt(n)&&(r=n.split(""));Xe(n,function(n,e,a){return e=o?o[--u]:--u,t(r[e],e,a)})}return n}function Bt(n,t,e){var r=-1,u=n?n.length:0,o=Zt("number"==typeof u?u:0);if(t=v.createCallback(t,e,3),qe(n))for(;++r<u;)o[r]=t(n[r],r,n);else Xe(n,function(n,e,u){o[++r]=t(n,e,u)});return o}function Pt(n,t,e){
var u=-1/0,o=u;if("function"!=typeof t&&e&&e[t]===n&&(t=null),null==t&&qe(n)){e=-1;for(var a=n.length;++e<a;){var i=n[e];i>o&&(o=i)}}else t=null==t&&kt(n)?r:v.createCallback(t,e,3),Xe(n,function(n,e,r){(e=t(n,e,r))>u&&(u=e,o=n)});return o}function Rt(n,t,e,r){var u=3>arguments.length;if(t=v.createCallback(t,r,4),qe(n)){var o=-1,a=n.length;for(u&&(e=n[++o]);++o<a;)e=t(e,n[o],o,n)}else Xe(n,function(n,r,o){e=u?(u=!1,n):t(e,n,r,o)});return e}function Ft(n,t,e,r){var u=3>arguments.length;return t=v.createCallback(t,r,4),Nt(n,function(n,r,o){e=u?(u=!1,n):t(e,n,r,o)}),e}function Tt(n){var t=-1,e=n?n.length:0,r=Zt("number"==typeof e?e:0);return Dt(n,function(n){
var e=lt(0,++t);r[t]=r[e],r[e]=n}),r}function $t(n,t,e){var r;if(t=v.createCallback(t,e,3),qe(n)){e=-1;for(var u=n.length;++e<u&&!(r=t(n[e],e,n)););}else Xe(n,function(n,e,u){return!(r=t(n,e,u))});return!!r}function Lt(n,t,e){var r=0,u=n?n.length:0;if("number"!=typeof t&&null!=t){var o=-1;for(t=v.createCallback(t,e,3);++o<u&&t(n[o],o,n);)r++}else if(null==(r=t)||e)return n?n[0]:h;return s(n,0,Pe(Be(0,r),u))}function zt(t,e,r){if("number"==typeof r){var u=t?t.length:0;r=0>r?Be(0,u+r):r||0}else if(r)return r=Kt(t,e),t[r]===e?r:-1;return n(t,e,r)}function qt(n,t,e){if("number"!=typeof t&&null!=t){var r=0,u=-1,o=n?n.length:0
;for(t=v.createCallback(t,e,3);++u<o&&t(n[u],u,n);)r++}else r=null==t||e?1:Be(0,t);return s(n,r)}function Kt(n,t,e,r){var u=0,o=n?n.length:u;for(e=e?v.createCallback(e,r,1):Ht,t=e(t);u<o;)r=u+o>>>1,e(n[r])<t?u=r+1:o=r;return u}function Wt(n,t,e,r){return"boolean"!=typeof t&&null!=t&&(r=e,e="function"!=typeof t&&r&&r[t]===n?null:t,t=!1),null!=e&&(e=v.createCallback(e,r,3)),ft(n,t,e)}function Gt(){for(var n=1<arguments.length?arguments:arguments[0],t=-1,e=n?Pt(ar(n,"length")):0,r=Zt(0>e?0:e);++t<e;)r[t]=ar(n,t);return r}function Jt(n,t){var e=-1,r=n?n.length:0,u={};for(t||!r||qe(n[0])||(t=[]);++e<r;){var o=n[e];t?u[o]=t[e]:o&&(u[o[0]]=o[1])}return u}
function Mt(n,t){return 2<arguments.length?pt(n,17,s(arguments,2),null,t):pt(n,1,null,null,t)}function Vt(n,t,e){var r,u,o,a,i,l,f,c=0,p=!1,s=!0;if(!jt(n))throw new le;if(t=Be(0,t)||0,!0===e)var g=!0,s=!1;else xt(e)&&(g=e.leading,p="maxWait"in e&&(Be(t,e.maxWait)||0),s="trailing"in e?e.trailing:s);var v=function(){var e=t-(ir()-a);0<e?l=Ce(v,e):(u&&me(u),e=f,u=l=f=h,e&&(c=ir(),o=n.apply(i,r),l||u||(r=i=null)))},y=function(){l&&me(l),u=l=f=h,(s||p!==t)&&(c=ir(),o=n.apply(i,r),l||u||(r=i=null))};return function(){if(r=arguments,a=ir(),i=this,f=s&&(l||!g),!1===p)var e=g&&!l;else{u||g||(c=a);var h=p-(a-c),m=0>=h;m?(u&&(u=me(u)),c=a,o=n.apply(i,r)):u||(u=Ce(y,h))
}return m&&l?l=me(l):l||t===p||(l=Ce(v,t)),e&&(m=!0,o=n.apply(i,r)),!m||l||u||(r=i=null),o}}function Ht(n){return n}function Ut(n,t,e){var r=!0,u=t&&_t(t);t&&(e||u.length)||(null==e&&(e=t),o=y,t=n,n=v,u=_t(t)),!1===e?r=!1:xt(e)&&"chain"in e&&(r=e.chain);var o=n,a=jt(o);Dt(u,function(e){var u=n[e]=t[e];a&&(o.prototype[e]=function(){var t=this.__chain__,e=this.__wrapped__,a=[e];if(je.apply(a,arguments),a=u.apply(n,a),r||t){if(e===a&&xt(a))return this;a=new o(a),a.__chain__=t}return a})})}function Qt(){}function Xt(n){return function(t){return t[n]}}function Yt(){return this.__wrapped__}e=e?ut.defaults(Z.Object(),e,ut.pick(Z,R)):Z
;var Zt=e.Array,ne=e.Boolean,te=e.Date,ee=e.Function,re=e.Math,ue=e.Number,oe=e.Object,ae=e.RegExp,ie=e.String,le=e.TypeError,fe=[],ce=e.Error.prototype,pe=oe.prototype,se=ie.prototype,ge=e._,he=pe.toString,ve=ae("^"+ie(he).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),ye=re.ceil,me=e.clearTimeout,de=re.floor,be=ee.prototype.toString,_e=vt(_e=oe.getPrototypeOf)&&_e,we=pe.hasOwnProperty,je=fe.push,xe=pe.propertyIsEnumerable,Ce=e.setTimeout,ke=fe.splice,Ee=fe.unshift,Oe=function(){try{var n={},t=vt(t=oe.defineProperty)&&t,e=t(n,n,n)&&t}catch(r){}return e
}(),Se=vt(Se=oe.create)&&Se,Ae=vt(Ae=Zt.isArray)&&Ae,Ie=e.isFinite,De=e.isNaN,Ne=vt(Ne=oe.keys)&&Ne,Be=re.max,Pe=re.min,Re=e.parseInt,Fe=re.random,Te={};Te[$]=Zt,Te[L]=ne,Te[z]=te,Te[K]=ee,Te[G]=oe,Te[W]=ue,Te[J]=ae,Te[M]=ie;var $e={};$e[$]=$e[z]=$e[W]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},$e[L]=$e[M]={constructor:!0,toString:!0,valueOf:!0},$e[q]=$e[K]=$e[J]={constructor:!0,toString:!0},$e[G]={constructor:!0},function(){for(var n=F.length;n--;){var t,e=F[n];for(t in $e)we.call($e,t)&&!we.call($e[t],e)&&($e[t][e]=!1)}}(),y.prototype=v.prototype;var Le=v.support={};!function(){var n=function(){this.x=1},t={0:1,length:1},r=[];n.prototype={
valueOf:1,y:1};for(var u in new n)r.push(u);for(u in arguments);Le.argsClass=he.call(arguments)==T,Le.argsObject=arguments.constructor==oe&&!(arguments instanceof Zt),Le.enumErrorProps=xe.call(ce,"message")||xe.call(ce,"name"),Le.enumPrototypes=xe.call(n,"prototype"),Le.funcDecomp=!vt(e.WinRTError)&&B.test(g),Le.funcNames="string"==typeof ee.name,Le.nonEnumArgs=0!=u,Le.nonEnumShadows=!/valueOf/.test(r),Le.ownLast="x"!=r[0],Le.spliceObjects=(fe.splice.call(t,0,1),!t[0]),Le.unindexedChars="xx"!="x"[0]+oe("x")[0];try{Le.nodeClass=!(he.call(document)==G&&!({toString:0}+""))}catch(o){Le.nodeClass=!0}}(1),v.templateSettings={escape:/<%-([\s\S]+?)%>/g,
evaluate:/<%([\s\S]+?)%>/g,interpolate:I,variable:"",imports:{_:v}},Se||(nt=function(){function n(){}return function(t){if(xt(t)){n.prototype=t;var r=new n;n.prototype=null}return r||e.Object()}}());var ze=Oe?function(n,t){U.value=t,Oe(n,"__bindData__",U)}:Qt;Le.argsClass||(dt=function(n){return n&&"object"==typeof n&&"number"==typeof n.length&&we.call(n,"callee")&&!xe.call(n,"callee")||!1});var qe=Ae||function(n){return n&&"object"==typeof n&&"number"==typeof n.length&&he.call(n)==$||!1},Ke=st({a:"z",e:"[]",i:"if(!(B[typeof z]))return E",g:"E.push(n)"}),We=Ne?function(n){
return xt(n)?Le.enumPrototypes&&"function"==typeof n||Le.nonEnumArgs&&n.length&&dt(n)?Ke(n):Ne(n):[]}:Ke,Ge={a:"g,e,K",i:"e=e&&typeof K=='undefined'?e:d(e,K,3)",b:"typeof u=='number'",v:We,g:"if(e(t[n],n,g)===false)return E"},Je={a:"z,H,l",i:"var a=arguments,b=0,c=typeof l=='number'?2:a.length;while(++b<c){t=a[b];if(t&&B[typeof t]){",v:We,g:"if(typeof E[n]=='undefined')E[n]=t[n]",c:"}}"},Me={i:"if(!B[typeof t])return E;"+Ge.i,b:!1},Ve={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},He=wt(Ve),Ue=ae("("+We(He).join("|")+")","g"),Qe=ae("["+We(Ve).join("")+"]","g"),Xe=st(Ge),Ye=st(Je,{
i:Je.i.replace(";",";if(c>3&&typeof a[c-2]=='function'){var e=d(a[--c-1],a[c--],2)}else if(c>2&&typeof a[c-1]=='function'){e=a[--c]}"),g:"E[n]=e?e(E[n],t[n]):t[n]"}),Ze=st(Je),nr=st(Ge,Me,{j:!1}),tr=st(Ge,Me);jt(/x/)&&(jt=function(n){return"function"==typeof n&&he.call(n)==K});var er=_e?function(n){if(!n||he.call(n)!=G||!Le.argsClass&&dt(n))return!1;var t=n.valueOf,e=vt(t)&&(e=_e(t))&&_e(e);return e?n==e||_e(n)==e:yt(n)}:yt,rr=ct(function(n,t,e){we.call(n,e)?n[e]++:n[e]=1}),ur=ct(function(n,t,e){(we.call(n,e)?n[e]:n[e]=[]).push(t)}),or=ct(function(n,t,e){n[e]=t}),ar=Bt,ir=vt(ir=te.now)&&ir||function(){return(new te).getTime()
},lr=8==Re(j+"08")?Re:function(n,t){return Re(kt(n)?n.replace(D,""):n,t||0)};return v.after=function(n,t){if(!jt(t))throw new le;return function(){return 1>--n?t.apply(this,arguments):void 0}},v.assign=Ye,v.at=function(n){var t=arguments,e=-1,r=ot(t,!0,!1,1),t=t[2]&&t[2][t[1]]===n?1:r.length,u=Zt(t);for(Le.unindexedChars&&kt(n)&&(n=n.split(""));++e<t;)u[e]=n[r[e]];return u},v.bind=Mt,v.bindAll=function(n){for(var t=1<arguments.length?ot(arguments,!0,!1,1):_t(n),e=-1,r=t.length;++e<r;){var u=t[e];n[u]=pt(n[u],1,null,null,n)}return n},v.bindKey=function(n,t){return 2<arguments.length?pt(t,19,s(arguments,2),null,n):pt(t,3,null,null,n)},v.chain=function(n){
return n=new y(n),n.__chain__=!0,n},v.compact=function(n){for(var t=-1,e=n?n.length:0,r=[];++t<e;){var u=n[t];u&&r.push(u)}return r},v.compose=function(){for(var n=arguments,t=n.length;t--;)if(!jt(n[t]))throw new le;return function(){for(var t=arguments,e=n.length;e--;)t=[n[e].apply(this,t)];return t[0]}},v.constant=function(n){return function(){return n}},v.countBy=rr,v.create=function(n,t){var e=nt(n);return t?Ye(e,t):e},v.createCallback=function(n,t,e){var r=typeof n;if(null==n||"function"==r)return tt(n,t,e);if("object"!=r)return Xt(n);var u=We(n),o=u[0],a=n[o];return 1!=u.length||a!==a||xt(a)?function(t){
for(var e=u.length,r=!1;e--&&(r=at(t[u[e]],n[u[e]],null,!0)););return r}:function(n){return n=n[o],a===n&&(0!==a||1/a==1/n)}},v.curry=function(n,t){return t="number"==typeof t?t:+t||n.length,pt(n,4,null,null,null,t)},v.debounce=Vt,v.defaults=Ze,v.defer=function(n){if(!jt(n))throw new le;var t=s(arguments,1);return Ce(function(){n.apply(h,t)},1)},v.delay=function(n,t){if(!jt(n))throw new le;var e=s(arguments,2);return Ce(function(){n.apply(h,e)},t)},v.difference=function(n){return rt(n,ot(arguments,!0,!0,1))},v.filter=At,v.flatten=function(n,t,e,r){return"boolean"!=typeof t&&null!=t&&(r=e,e="function"!=typeof t&&r&&r[t]===n?null:t,t=!1),
null!=e&&(n=Bt(n,e,r)),ot(n,t)},v.forEach=Dt,v.forEachRight=Nt,v.forIn=nr,v.forInRight=function(n,t,e){var r=[];nr(n,function(n,t){r.push(t,n)});var u=r.length;for(t=tt(t,e,3);u--&&!1!==t(r[u--],r[u],n););return n},v.forOwn=tr,v.forOwnRight=bt,v.functions=_t,v.groupBy=ur,v.indexBy=or,v.initial=function(n,t,e){var r=0,u=n?n.length:0;if("number"!=typeof t&&null!=t){var o=u;for(t=v.createCallback(t,e,3);o--&&t(n[o],o,n);)r++}else r=null==t||e?1:t||r;return s(n,0,Pe(Be(0,u-r),u))},v.intersection=function(){for(var e=[],r=-1,u=arguments.length,a=i(),l=ht(),f=l===n,s=i();++r<u;){var g=arguments[r];(qe(g)||dt(g))&&(e.push(g),a.push(f&&g.length>=_&&o(r?e[r]:s)))}
var f=e[0],h=-1,v=f?f.length:0,y=[];n:for(;++h<v;){var m=a[0],g=f[h];if(0>(m?t(m,g):l(s,g))){for(r=u,(m||s).push(g);--r;)if(m=a[r],0>(m?t(m,g):l(e[r],g)))continue n;y.push(g)}}for(;u--;)(m=a[u])&&p(m);return c(a),c(s),y},v.invert=wt,v.invoke=function(n,t){var e=s(arguments,2),r=-1,u="function"==typeof t,o=n?n.length:0,a=Zt("number"==typeof o?o:0);return Dt(n,function(n){a[++r]=(u?t:n[t]).apply(n,e)}),a},v.keys=We,v.map=Bt,v.mapValues=function(n,t,e){var r={};return t=v.createCallback(t,e,3),tr(n,function(n,e,u){r[e]=t(n,e,u)}),r},v.max=Pt,v.memoize=function(n,t){if(!jt(n))throw new le;var e=function(){var r=e.cache,u=t?t.apply(this,arguments):b+arguments[0]
;return we.call(r,u)?r[u]:r[u]=n.apply(this,arguments)};return e.cache={},e},v.merge=function(n){var t=arguments,e=2;if(!xt(n))return n;if("number"!=typeof t[2]&&(e=t.length),3<e&&"function"==typeof t[e-2])var r=tt(t[--e-1],t[e--],2);else 2<e&&"function"==typeof t[e-1]&&(r=t[--e]);for(var t=s(arguments,1,e),u=-1,o=i(),a=i();++u<e;)it(n,t[u],r,o,a);return c(o),c(a),n},v.min=function(n,t,e){var u=1/0,o=u;if("function"!=typeof t&&e&&e[t]===n&&(t=null),null==t&&qe(n)){e=-1;for(var a=n.length;++e<a;){var i=n[e];i<o&&(o=i)}}else t=null==t&&kt(n)?r:v.createCallback(t,e,3),Xe(n,function(n,e,r){(e=t(n,e,r))<u&&(u=e,o=n)});return o},v.omit=function(n,t,e){var r={}
;if("function"!=typeof t){var u=[];nr(n,function(n,t){u.push(t)});for(var u=rt(u,ot(arguments,!0,!1,1)),o=-1,a=u.length;++o<a;){var i=u[o];r[i]=n[i]}}else t=v.createCallback(t,e,3),nr(n,function(n,e,u){t(n,e,u)||(r[e]=n)});return r},v.once=function(n){var t,e;if(!jt(n))throw new le;return function(){return t?e:(t=!0,e=n.apply(this,arguments),n=null,e)}},v.pairs=function(n){for(var t=-1,e=We(n),r=e.length,u=Zt(r);++t<r;){var o=e[t];u[t]=[o,n[o]]}return u},v.partial=function(n){return pt(n,16,s(arguments,1))},v.partialRight=function(n){return pt(n,32,null,s(arguments,1))},v.pick=function(n,t,e){var r={}
;if("function"!=typeof t)for(var u=-1,o=ot(arguments,!0,!1,1),a=xt(n)?o.length:0;++u<a;){var i=o[u];i in n&&(r[i]=n[i])}else t=v.createCallback(t,e,3),nr(n,function(n,e,u){t(n,e,u)&&(r[e]=n)});return r},v.pluck=ar,v.property=Xt,v.pull=function(n){for(var t=arguments,e=0,r=t.length,u=n?n.length:0;++e<r;)for(var o=-1,a=t[e];++o<u;)n[o]===a&&(ke.call(n,o--,1),u--);return n},v.range=function(n,t,e){n=+n||0,e="number"==typeof e?e:+e||1,null==t&&(t=n,n=0);var r=-1;t=Be(0,ye((t-n)/(e||1)));for(var u=Zt(t);++r<t;)u[r]=n,n+=e;return u},v.reject=function(n,t,e){return t=v.createCallback(t,e,3),At(n,function(n,e,r){return!t(n,e,r)})},v.remove=function(n,t,e){
var r=-1,u=n?n.length:0,o=[];for(t=v.createCallback(t,e,3);++r<u;)e=n[r],t(e,r,n)&&(o.push(e),ke.call(n,r--,1),u--);return o},v.rest=qt,v.shuffle=Tt,v.sortBy=function(n,t,e){var r=-1,o=qe(t),a=n?n.length:0,f=Zt("number"==typeof a?a:0);for(o||(t=v.createCallback(t,e,3)),Dt(n,function(n,e,u){var a=f[++r]=l();o?a.m=Bt(t,function(t){return n[t]}):(a.m=i())[0]=t(n,e,u),a.n=r,a.o=n}),a=f.length,f.sort(u);a--;)n=f[a],f[a]=n.o,o||c(n.m),p(n);return f},v.tap=function(n,t){return t(n),n},v.throttle=function(n,t,e){var r=!0,u=!0;if(!jt(n))throw new le;return!1===e?r=!1:xt(e)&&(r="leading"in e?e.leading:r,u="trailing"in e?e.trailing:u),H.leading=r,H.maxWait=t,
H.trailing=u,Vt(n,t,H)},v.times=function(n,t,e){n=-1<(n=+n)?n:0;var r=-1,u=Zt(n);for(t=tt(t,e,1);++r<n;)u[r]=t(r);return u},v.toArray=function(n){return n&&"number"==typeof n.length?Le.unindexedChars&&kt(n)?n.split(""):s(n):Et(n)},v.transform=function(n,t,e,r){var u=qe(n);if(null==e)if(u)e=[];else{var o=n&&n.constructor;e=nt(o&&o.prototype)}return t&&(t=v.createCallback(t,r,4),(u?Xe:tr)(n,function(n,r,u){return t(e,n,r,u)})),e},v.union=function(){return ft(ot(arguments,!0,!0))},v.uniq=Wt,v.values=Et,v.where=At,v.without=function(n){return rt(n,s(arguments,1))},v.wrap=function(n,t){return pt(t,16,[n])},v.xor=function(){for(var n=-1,t=arguments.length;++n<t;){
var e=arguments[n];if(qe(e)||dt(e))var r=r?ft(rt(r,e).concat(rt(e,r))):e}return r||[]},v.zip=Gt,v.zipObject=Jt,v.collect=Bt,v.drop=qt,v.each=Dt,v.eachRight=Nt,v.extend=Ye,v.methods=_t,v.object=Jt,v.select=At,v.tail=qt,v.unique=Wt,v.unzip=Gt,Ut(v),v.clone=function(n,t,e,r){return"boolean"!=typeof t&&null!=t&&(r=e,e=t,t=!1),Y(n,t,"function"==typeof e&&tt(e,r,1))},v.cloneDeep=function(n,t,e){return Y(n,!0,"function"==typeof t&&tt(t,e,1))},v.contains=Ot,v.escape=function(n){return null==n?"":ie(n).replace(Qe,gt)},v.every=St,v.find=It,v.findIndex=function(n,t,e){var r=-1,u=n?n.length:0;for(t=v.createCallback(t,e,3);++r<u;)if(t(n[r],r,n))return r;return-1},
v.findKey=function(n,t,e){var r;return t=v.createCallback(t,e,3),tr(n,function(n,e,u){return t(n,e,u)?(r=e,!1):void 0}),r},v.findLast=function(n,t,e){var r;return t=v.createCallback(t,e,3),Nt(n,function(n,e,u){return t(n,e,u)?(r=n,!1):void 0}),r},v.findLastIndex=function(n,t,e){var r=n?n.length:0;for(t=v.createCallback(t,e,3);r--;)if(t(n[r],r,n))return r;return-1},v.findLastKey=function(n,t,e){var r;return t=v.createCallback(t,e,3),bt(n,function(n,e,u){return t(n,e,u)?(r=e,!1):void 0}),r},v.has=function(n,t){return!!n&&we.call(n,t)},v.identity=Ht,v.indexOf=zt,v.isArguments=dt,v.isArray=qe,v.isBoolean=function(n){
return!0===n||!1===n||n&&"object"==typeof n&&he.call(n)==L||!1},v.isDate=function(n){return n&&"object"==typeof n&&he.call(n)==z||!1},v.isElement=function(n){return n&&1===n.nodeType||!1},v.isEmpty=function(n){var t=!0;if(!n)return t;var e=he.call(n),r=n.length;return e==$||e==M||(Le.argsClass?e==T:dt(n))||e==G&&"number"==typeof r&&jt(n.splice)?!r:(tr(n,function(){return t=!1}),t)},v.isEqual=function(n,t,e,r){return at(n,t,"function"==typeof e&&tt(e,r,2))},v.isFinite=function(n){return Ie(n)&&!De(parseFloat(n))},v.isFunction=jt,v.isNaN=function(n){return Ct(n)&&n!=+n},v.isNull=function(n){return null===n},v.isNumber=Ct,v.isObject=xt,v.isPlainObject=er,
v.isRegExp=function(n){return n&&X[typeof n]&&he.call(n)==J||!1},v.isString=kt,v.isUndefined=function(n){return void 0===n},v.lastIndexOf=function(n,t,e){var r=n?n.length:0;for("number"==typeof e&&(r=(0>e?Be(0,r+e):Pe(e,r-1))+1);r--;)if(n[r]===t)return r;return-1},v.mixin=Ut,v.noConflict=function(){return e._=ge,this},v.noop=Qt,v.now=ir,v.parseInt=lr,v.random=function(n,t,e){var r=null==n,u=null==t;return null==e&&("boolean"==typeof n&&u?(e=n,n=1):u||"boolean"!=typeof t||(e=t,u=!0)),r&&u&&(t=1),n=+n||0,u?(t=n,n=0):t=+t||0,e||n%1||t%1?(e=Fe(),Pe(n+e*(t-n+parseFloat("1e-"+((e+"").length-1))),t)):lt(n,t)},v.reduce=Rt,v.reduceRight=Ft,v.result=function(n,t){
if(n){var e=n[t];return jt(e)?n[t]():e}},v.runInContext=g,v.size=function(n){var t=n?n.length:0;return"number"==typeof t?t:We(n).length},v.some=$t,v.sortedIndex=Kt,v.template=function(n,t,e){var r=v.templateSettings;n=ie(n||""),e=Ze({},e,r);var u,o=Ze({},e.imports,r.imports),r=We(o),o=Et(o),i=0,l=e.interpolate||N,f="__p+='",l=ae((e.escape||N).source+"|"+l.source+"|"+(l===I?O:N).source+"|"+(e.evaluate||N).source+"|$","g");n.replace(l,function(t,e,r,o,l,c){return r||(r=o),f+=n.slice(i,c).replace(P,a),e&&(f+="'+__e("+e+")+'"),l&&(u=!0,f+="';"+l+";\n__p+='"),r&&(f+="'+((__t=("+r+"))==null?'':__t)+'"),i=c+t.length,t}),f+="';",l=e=e.variable,l||(e="obj",
f="with("+e+"){"+f+"}"),f=(u?f.replace(x,""):f).replace(C,"$1").replace(E,"$1;"),f="function("+e+"){"+(l?"":e+"||("+e+"={});")+"var __t,__p='',__e=_.escape"+(u?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+f+"return __p}";try{var c=ee(r,"return "+f).apply(h,o)}catch(p){throw p.source=f,p}return t?c(t):(c.source=f,c)},v.unescape=function(n){return null==n?"":ie(n).replace(Ue,mt)},v.uniqueId=function(n){var t=++m;return ie(null==n?"":n)+t},v.all=St,v.any=$t,v.detect=It,v.findWhere=It,v.foldl=Rt,v.foldr=Ft,v.include=Ot,v.inject=Rt,Ut(function(){var n={};return tr(v,function(t,e){v.prototype[e]||(n[e]=t)}),n}(),!1),v.first=Lt,
v.last=function(n,t,e){var r=0,u=n?n.length:0;if("number"!=typeof t&&null!=t){var o=u;for(t=v.createCallback(t,e,3);o--&&t(n[o],o,n);)r++}else if(null==(r=t)||e)return n?n[u-1]:h;return s(n,Be(0,u-r))},v.sample=function(n,t,e){return n&&"number"!=typeof n.length?n=Et(n):Le.unindexedChars&&kt(n)&&(n=n.split("")),null==t||e?n?n[lt(0,n.length-1)]:h:(n=Tt(n),n.length=Pe(Be(0,t),n.length),n)},v.take=Lt,v.head=Lt,tr(v,function(n,t){var e="sample"!==t;v.prototype[t]||(v.prototype[t]=function(t,r){var u=this.__chain__,o=n(this.__wrapped__,t,r);return u||null!=t&&(!r||e&&"function"==typeof t)?new y(o,u):o})}),v.VERSION="2.4.1",v.prototype.chain=function(){
return this.__chain__=!0,this},v.prototype.toString=function(){return ie(this.__wrapped__)},v.prototype.value=Yt,v.prototype.valueOf=Yt,Xe(["join","pop","shift"],function(n){var t=fe[n];v.prototype[n]=function(){var n=this.__chain__,e=t.apply(this.__wrapped__,arguments);return n?new y(e,n):e}}),Xe(["push","reverse","sort","unshift"],function(n){var t=fe[n];v.prototype[n]=function(){return t.apply(this.__wrapped__,arguments),this}}),Xe(["concat","slice","splice"],function(n){var t=fe[n];v.prototype[n]=function(){return new y(t.apply(this.__wrapped__,arguments),this.__chain__)}}),Le.spliceObjects||Xe(["pop","shift","splice"],function(n){
var t=fe[n],e="splice"==n;v.prototype[n]=function(){var n=this.__chain__,r=this.__wrapped__,u=t.apply(r,arguments);return 0===r.length&&delete r[0],n||e?new y(u,n):u}}),v}
var h,v=[],y=[],m=0,d={},b=+new Date+"",_=75,w=40,j=" \t\v\f \ufeff\n\r\u2028\u2029 ᠎             　",x=/\b__p\+='';/g,C=/\b(__p\+=)''\+/g,E=/(__e\(.*?\)|\b__t\))\+'';/g,O=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,S=/\w*$/,A=/^\s*function[ \n\r\t]+\w/,I=/<%=([\s\S]+?)%>/g,D=RegExp("^["+j+"]*0+(?=.$)"),N=/($^)/,B=/\bthis\b/,P=/['\n\r\t\u2028\u2029\\]/g,R="Array Boolean Date Error Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout".split(" "),F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),T="[object Arguments]",$="[object Array]",L="[object Boolean]",z="[object Date]",q="[object Error]",K="[object Function]",W="[object Number]",G="[object Object]",J="[object RegExp]",M="[object String]",V={}
;V[K]=!1,V[T]=V[$]=V[L]=V[z]=V[W]=V[G]=V[J]=V[M]=!0;var H={leading:!1,maxWait:0,trailing:!1},U={configurable:!1,enumerable:!1,value:null,writable:!1},Q={a:"",b:null,c:"",d:"",e:"",v:null,g:"",h:null,support:null,i:"",j:!1},X={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},Y={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},Z=X[typeof window]&&window||this,nt=X[typeof exports]&&exports&&!exports.nodeType&&exports,tt=X[typeof module]&&module&&!module.nodeType&&module,et=tt&&tt.exports===nt&&nt,rt=X[typeof global]&&global;!rt||rt.global!==rt&&rt.window!==rt||(Z=rt);var ut=g()
;"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Z._=ut,define("lodash",[],function(){return ut})):nt&&tt?et?(tt.exports=ut)._=ut:nt._=ut:Z._=ut}.call(this),define("core/format",["lodash"],function(_){"use strict";var pattern=/(%[sdj])/g;return function(message){var replacements=Array.prototype.slice.call(arguments,1);return _.reduce(message.match(pattern),function(acc,match,index){var replacement="";if(void 0!==replacements[index]){switch(match){case"%d":replacement=Number(replacements[index]);break;case"%j":try{replacement=JSON.stringify(replacements[index]).replace(/"/g,"")}catch(e){}break;default:replacement=replacements[index]}
message=message.replace(match,replacement)}return message},message)}}),function(){"use strict";function lib$es6$promise$utils$$objectOrFunction(x){return"function"==typeof x||"object"==typeof x&&null!==x}function lib$es6$promise$utils$$isFunction(x){return"function"==typeof x}function lib$es6$promise$utils$$isMaybeThenable(x){return"object"==typeof x&&null!==x}function lib$es6$promise$asap$$setScheduler(scheduleFn){lib$es6$promise$asap$$customSchedulerFn=scheduleFn}function lib$es6$promise$asap$$setAsap(asapFn){lib$es6$promise$asap$$asap=asapFn}function lib$es6$promise$asap$$useVertxTimer(){return function(){
lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush)}}function lib$es6$promise$asap$$useSetTimeout(){return function(){setTimeout(lib$es6$promise$asap$$flush,1)}}function lib$es6$promise$asap$$flush(){for(var i=0;i<lib$es6$promise$asap$$len;i+=2){(0,lib$es6$promise$asap$$queue[i])(lib$es6$promise$asap$$queue[i+1]),lib$es6$promise$asap$$queue[i]=void 0,lib$es6$promise$asap$$queue[i+1]=void 0}lib$es6$promise$asap$$len=0}function lib$es6$promise$$internal$$noop(){}function lib$es6$promise$$internal$$selfFullfillment(){return new TypeError("You cannot resolve a promise with itself")}function lib$es6$promise$$internal$$cannotReturnOwn(){
return new TypeError("A promises callback cannot return that same promise.")}function lib$es6$promise$$internal$$getThen(promise){try{return promise.then}catch(error){return lib$es6$promise$$internal$$GET_THEN_ERROR.error=error,lib$es6$promise$$internal$$GET_THEN_ERROR}}function lib$es6$promise$$internal$$tryThen(then,value,fulfillmentHandler,rejectionHandler){try{then.call(value,fulfillmentHandler,rejectionHandler)}catch(e){return e}}function lib$es6$promise$$internal$$handleForeignThenable(promise,thenable,then){lib$es6$promise$asap$$asap(function(promise){var sealed=!1,error=lib$es6$promise$$internal$$tryThen(then,thenable,function(value){
sealed||(sealed=!0,thenable!==value?lib$es6$promise$$internal$$resolve(promise,value):lib$es6$promise$$internal$$fulfill(promise,value))},function(reason){sealed||(sealed=!0,lib$es6$promise$$internal$$reject(promise,reason))},"Settle: "+(promise._label||" unknown promise"));!sealed&&error&&(sealed=!0,lib$es6$promise$$internal$$reject(promise,error))},promise)}function lib$es6$promise$$internal$$handleOwnThenable(promise,thenable){
thenable._state===lib$es6$promise$$internal$$FULFILLED?lib$es6$promise$$internal$$fulfill(promise,thenable._result):thenable._state===lib$es6$promise$$internal$$REJECTED?lib$es6$promise$$internal$$reject(promise,thenable._result):lib$es6$promise$$internal$$subscribe(thenable,void 0,function(value){lib$es6$promise$$internal$$resolve(promise,value)},function(reason){lib$es6$promise$$internal$$reject(promise,reason)})}function lib$es6$promise$$internal$$handleMaybeThenable(promise,maybeThenable){if(maybeThenable.constructor===promise.constructor)lib$es6$promise$$internal$$handleOwnThenable(promise,maybeThenable);else{
var then=lib$es6$promise$$internal$$getThen(maybeThenable);then===lib$es6$promise$$internal$$GET_THEN_ERROR?lib$es6$promise$$internal$$reject(promise,lib$es6$promise$$internal$$GET_THEN_ERROR.error):void 0===then?lib$es6$promise$$internal$$fulfill(promise,maybeThenable):lib$es6$promise$utils$$isFunction(then)?lib$es6$promise$$internal$$handleForeignThenable(promise,maybeThenable,then):lib$es6$promise$$internal$$fulfill(promise,maybeThenable)}}function lib$es6$promise$$internal$$resolve(promise,value){
promise===value?lib$es6$promise$$internal$$reject(promise,lib$es6$promise$$internal$$selfFullfillment()):lib$es6$promise$utils$$objectOrFunction(value)?lib$es6$promise$$internal$$handleMaybeThenable(promise,value):lib$es6$promise$$internal$$fulfill(promise,value)}function lib$es6$promise$$internal$$publishRejection(promise){promise._onerror&&promise._onerror(promise._result),lib$es6$promise$$internal$$publish(promise)}function lib$es6$promise$$internal$$fulfill(promise,value){promise._state===lib$es6$promise$$internal$$PENDING&&(promise._result=value,promise._state=lib$es6$promise$$internal$$FULFILLED,
0!==promise._subscribers.length&&lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish,promise))}function lib$es6$promise$$internal$$reject(promise,reason){promise._state===lib$es6$promise$$internal$$PENDING&&(promise._state=lib$es6$promise$$internal$$REJECTED,promise._result=reason,lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection,promise))}function lib$es6$promise$$internal$$subscribe(parent,child,onFulfillment,onRejection){var subscribers=parent._subscribers,length=subscribers.length;parent._onerror=null,subscribers[length]=child,subscribers[length+lib$es6$promise$$internal$$FULFILLED]=onFulfillment,
subscribers[length+lib$es6$promise$$internal$$REJECTED]=onRejection,0===length&&parent._state&&lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish,parent)}function lib$es6$promise$$internal$$publish(promise){var subscribers=promise._subscribers,settled=promise._state;if(0!==subscribers.length){for(var child,callback,detail=promise._result,i=0;i<subscribers.length;i+=3)child=subscribers[i],callback=subscribers[i+settled],child?lib$es6$promise$$internal$$invokeCallback(settled,child,callback,detail):callback(detail);promise._subscribers.length=0}}function lib$es6$promise$$internal$$ErrorObject(){this.error=null}
function lib$es6$promise$$internal$$tryCatch(callback,detail){try{return callback(detail)}catch(e){return lib$es6$promise$$internal$$TRY_CATCH_ERROR.error=e,lib$es6$promise$$internal$$TRY_CATCH_ERROR}}function lib$es6$promise$$internal$$invokeCallback(settled,promise,callback,detail){var value,error,succeeded,failed,hasCallback=lib$es6$promise$utils$$isFunction(callback);if(hasCallback){if(value=lib$es6$promise$$internal$$tryCatch(callback,detail),value===lib$es6$promise$$internal$$TRY_CATCH_ERROR?(failed=!0,error=value.error,value=null):succeeded=!0,
promise===value)return void lib$es6$promise$$internal$$reject(promise,lib$es6$promise$$internal$$cannotReturnOwn())}else value=detail,succeeded=!0;promise._state!==lib$es6$promise$$internal$$PENDING||(hasCallback&&succeeded?lib$es6$promise$$internal$$resolve(promise,value):failed?lib$es6$promise$$internal$$reject(promise,error):settled===lib$es6$promise$$internal$$FULFILLED?lib$es6$promise$$internal$$fulfill(promise,value):settled===lib$es6$promise$$internal$$REJECTED&&lib$es6$promise$$internal$$reject(promise,value))}function lib$es6$promise$$internal$$initializePromise(promise,resolver){try{resolver(function(value){
lib$es6$promise$$internal$$resolve(promise,value)},function(reason){lib$es6$promise$$internal$$reject(promise,reason)})}catch(e){lib$es6$promise$$internal$$reject(promise,e)}}function lib$es6$promise$enumerator$$Enumerator(Constructor,input){var enumerator=this;enumerator._instanceConstructor=Constructor,enumerator.promise=new Constructor(lib$es6$promise$$internal$$noop),enumerator._validateInput(input)?(enumerator._input=input,enumerator.length=input.length,enumerator._remaining=input.length,enumerator._init(),0===enumerator.length?lib$es6$promise$$internal$$fulfill(enumerator.promise,enumerator._result):(enumerator.length=enumerator.length||0,
enumerator._enumerate(),0===enumerator._remaining&&lib$es6$promise$$internal$$fulfill(enumerator.promise,enumerator._result))):lib$es6$promise$$internal$$reject(enumerator.promise,enumerator._validationError())}function lib$es6$promise$promise$all$$all(entries){return new lib$es6$promise$enumerator$$default(this,entries).promise}function lib$es6$promise$promise$race$$race(entries){function onFulfillment(value){lib$es6$promise$$internal$$resolve(promise,value)}function onRejection(reason){lib$es6$promise$$internal$$reject(promise,reason)}var Constructor=this,promise=new Constructor(lib$es6$promise$$internal$$noop)
;if(!lib$es6$promise$utils$$isArray(entries))return lib$es6$promise$$internal$$reject(promise,new TypeError("You must pass an array to race.")),promise;for(var length=entries.length,i=0;promise._state===lib$es6$promise$$internal$$PENDING&&i<length;i++)lib$es6$promise$$internal$$subscribe(Constructor.resolve(entries[i]),void 0,onFulfillment,onRejection);return promise}function lib$es6$promise$promise$resolve$$resolve(object){var Constructor=this;if(object&&"object"==typeof object&&object.constructor===Constructor)return object;var promise=new Constructor(lib$es6$promise$$internal$$noop);return lib$es6$promise$$internal$$resolve(promise,object),promise}
function lib$es6$promise$promise$reject$$reject(reason){var Constructor=this,promise=new Constructor(lib$es6$promise$$internal$$noop);return lib$es6$promise$$internal$$reject(promise,reason),promise}function lib$es6$promise$promise$$needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function lib$es6$promise$promise$$needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function lib$es6$promise$promise$$Promise(resolver){this._id=lib$es6$promise$promise$$counter++,this._state=void 0,
this._result=void 0,this._subscribers=[],lib$es6$promise$$internal$$noop!==resolver&&(lib$es6$promise$utils$$isFunction(resolver)||lib$es6$promise$promise$$needsResolver(),this instanceof lib$es6$promise$promise$$Promise||lib$es6$promise$promise$$needsNew(),lib$es6$promise$$internal$$initializePromise(this,resolver))}function lib$es6$promise$polyfill$$polyfill(){var local;if("undefined"!=typeof global)local=global;else if("undefined"!=typeof self)local=self;else try{local=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var P=local.Promise
;P&&"[object Promise]"===Object.prototype.toString.call(P.resolve())&&!P.cast||(local.Promise=lib$es6$promise$promise$$default)}var lib$es6$promise$utils$$_isArray;lib$es6$promise$utils$$_isArray=Array.isArray?Array.isArray:function(x){return"[object Array]"===Object.prototype.toString.call(x)};var lib$es6$promise$asap$$vertxNext,lib$es6$promise$asap$$customSchedulerFn,lib$es6$promise$asap$$scheduleFlush,lib$es6$promise$utils$$isArray=lib$es6$promise$utils$$_isArray,lib$es6$promise$asap$$len=0,lib$es6$promise$asap$$asap=function(callback,arg){lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len]=callback,
lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len+1]=arg,2===(lib$es6$promise$asap$$len+=2)&&(lib$es6$promise$asap$$customSchedulerFn?lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush):lib$es6$promise$asap$$scheduleFlush())
},lib$es6$promise$asap$$browserWindow="undefined"!=typeof window?window:void 0,lib$es6$promise$asap$$browserGlobal=lib$es6$promise$asap$$browserWindow||{},lib$es6$promise$asap$$BrowserMutationObserver=lib$es6$promise$asap$$browserGlobal.MutationObserver||lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver,lib$es6$promise$asap$$isNode="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),lib$es6$promise$asap$$isWorker="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,lib$es6$promise$asap$$queue=new Array(1e3)
;lib$es6$promise$asap$$scheduleFlush=lib$es6$promise$asap$$isNode?function(){var nextTick=process.nextTick,version=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(version)&&"0"===version[1]&&"10"===version[2]&&(nextTick=setImmediate),function(){nextTick(lib$es6$promise$asap$$flush)}}():lib$es6$promise$asap$$BrowserMutationObserver?function(){var iterations=0,observer=new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush),node=document.createTextNode("");return observer.observe(node,{characterData:!0}),function(){node.data=iterations=++iterations%2}}():lib$es6$promise$asap$$isWorker?function(){
var channel=new MessageChannel;return channel.port1.onmessage=lib$es6$promise$asap$$flush,function(){channel.port2.postMessage(0)}}():void 0===lib$es6$promise$asap$$browserWindow&&"function"==typeof require?function(){try{var r=require,vertx=r("vertx");return lib$es6$promise$asap$$vertxNext=vertx.runOnLoop||vertx.runOnContext,lib$es6$promise$asap$$useVertxTimer()}catch(e){return lib$es6$promise$asap$$useSetTimeout()}}():lib$es6$promise$asap$$useSetTimeout()
;var lib$es6$promise$$internal$$PENDING=void 0,lib$es6$promise$$internal$$FULFILLED=1,lib$es6$promise$$internal$$REJECTED=2,lib$es6$promise$$internal$$GET_THEN_ERROR=new lib$es6$promise$$internal$$ErrorObject,lib$es6$promise$$internal$$TRY_CATCH_ERROR=new lib$es6$promise$$internal$$ErrorObject;lib$es6$promise$enumerator$$Enumerator.prototype._validateInput=function(input){return lib$es6$promise$utils$$isArray(input)},lib$es6$promise$enumerator$$Enumerator.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},lib$es6$promise$enumerator$$Enumerator.prototype._init=function(){this._result=new Array(this.length)}
;var lib$es6$promise$enumerator$$default=lib$es6$promise$enumerator$$Enumerator;lib$es6$promise$enumerator$$Enumerator.prototype._enumerate=function(){for(var enumerator=this,length=enumerator.length,promise=enumerator.promise,input=enumerator._input,i=0;promise._state===lib$es6$promise$$internal$$PENDING&&i<length;i++)enumerator._eachEntry(input[i],i)},lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry=function(entry,i){var enumerator=this,c=enumerator._instanceConstructor;lib$es6$promise$utils$$isMaybeThenable(entry)?entry.constructor===c&&entry._state!==lib$es6$promise$$internal$$PENDING?(entry._onerror=null,
enumerator._settledAt(entry._state,i,entry._result)):enumerator._willSettleAt(c.resolve(entry),i):(enumerator._remaining--,enumerator._result[i]=entry)},lib$es6$promise$enumerator$$Enumerator.prototype._settledAt=function(state,i,value){var enumerator=this,promise=enumerator.promise;promise._state===lib$es6$promise$$internal$$PENDING&&(enumerator._remaining--,state===lib$es6$promise$$internal$$REJECTED?lib$es6$promise$$internal$$reject(promise,value):enumerator._result[i]=value),0===enumerator._remaining&&lib$es6$promise$$internal$$fulfill(promise,enumerator._result)},lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt=function(promise,i){
var enumerator=this;lib$es6$promise$$internal$$subscribe(promise,void 0,function(value){enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED,i,value)},function(reason){enumerator._settledAt(lib$es6$promise$$internal$$REJECTED,i,reason)})};var lib$es6$promise$promise$all$$default=lib$es6$promise$promise$all$$all,lib$es6$promise$promise$race$$default=lib$es6$promise$promise$race$$race,lib$es6$promise$promise$resolve$$default=lib$es6$promise$promise$resolve$$resolve,lib$es6$promise$promise$reject$$default=lib$es6$promise$promise$reject$$reject,lib$es6$promise$promise$$counter=0,lib$es6$promise$promise$$default=lib$es6$promise$promise$$Promise
;lib$es6$promise$promise$$Promise.all=lib$es6$promise$promise$all$$default,lib$es6$promise$promise$$Promise.race=lib$es6$promise$promise$race$$default,lib$es6$promise$promise$$Promise.resolve=lib$es6$promise$promise$resolve$$default,lib$es6$promise$promise$$Promise.reject=lib$es6$promise$promise$reject$$default,lib$es6$promise$promise$$Promise._setScheduler=lib$es6$promise$asap$$setScheduler,lib$es6$promise$promise$$Promise._setAsap=lib$es6$promise$asap$$setAsap,lib$es6$promise$promise$$Promise._asap=lib$es6$promise$asap$$asap,lib$es6$promise$promise$$Promise.prototype={constructor:lib$es6$promise$promise$$Promise,then:function(onFulfillment,onRejection){
var parent=this,state=parent._state;if(state===lib$es6$promise$$internal$$FULFILLED&&!onFulfillment||state===lib$es6$promise$$internal$$REJECTED&&!onRejection)return this;var child=new this.constructor(lib$es6$promise$$internal$$noop),result=parent._result;if(state){var callback=arguments[state-1];lib$es6$promise$asap$$asap(function(){lib$es6$promise$$internal$$invokeCallback(state,child,callback,result)})}else lib$es6$promise$$internal$$subscribe(parent,child,onFulfillment,onRejection);return child},catch:function(onRejection){return this.then(null,onRejection)}}
;var lib$es6$promise$polyfill$$default=lib$es6$promise$polyfill$$polyfill,lib$es6$promise$umd$$ES6Promise={Promise:lib$es6$promise$promise$$default,polyfill:lib$es6$promise$polyfill$$default};"function"==typeof define&&define.amd?define("lib/polyfill/es6-promise",[],function(){return lib$es6$promise$umd$$ES6Promise}):"undefined"!=typeof module&&module.exports?module.exports=lib$es6$promise$umd$$ES6Promise:void 0!==this&&(this.ES6Promise=lib$es6$promise$umd$$ES6Promise),lib$es6$promise$polyfill$$default()}.call(this),define("core/promise",["lib/polyfill/es6-promise"],function(es6Promise){"use strict";return window.Promise||es6Promise.Promise}),
define("core/logger/api",["lodash","core/format","core/promise"],function(_,format,Promise){"use strict";var defaultLevel="info",levels={fatal:60,error:50,warn:40,info:30,debug:20,trace:10},logQueue=[],getLevel=function(level){return void 0===level||_.isString(level)&&!_.has(levels,level)?defaultLevel:_.isNumber(level)?_.findKey(levels,function(l){return l===level})||defaultLevel:level},getLevelNum=function(level){return _.isString(level)&&_.has(levels,level)?levels[level]:_.isNumber(level)&&_.contains(levels,level)?level:levels[defaultLevel]},checkMinLevel=function(minLevel,level){return getLevelNum(level)>=getLevelNum(minLevel)
},loggerFactory=function loggerFactory(name,minLevel,fields){var baseRecord,logger;if(!_.isString(name)||_.isEmpty(name))throw new TypeError("A logger needs a name");return _.isPlainObject(minLevel)&&"undefined"==typeof field&&(fields=minLevel,minLevel=defaultLevel),baseRecord=_.defaults(fields||{},{name:name,pid:1,hostname:navigator.userAgent}),logger={log:function(level,recordFields,message){var record,err,rest=[],time=(new Date).toISOString();if(!1!==loggerFactory.providers&&checkMinLevel(minLevel||defaultLevel,level))return _.isString(recordFields)||recordFields instanceof Error?(message=recordFields,recordFields={},
rest=[].slice.call(arguments,2)):rest=[].slice.call(arguments,3),record={level:getLevel(level),v:0,time:time},checkMinLevel(levels.error,level)||message instanceof Error?(message instanceof Error?err=message:(message=_.isObject(message)?JSON.stringify(message):message,err=new Error(message)),record.msg=err.message,record.err=err):record.msg=format.apply(null,[message].concat(rest)),_.merge(record,baseRecord,recordFields),logQueue.push(record),loggerFactory.flush(),this},level:function(value){return void 0!==value?(minLevel=getLevelNum(value),this):getLevel(minLevel)},child:function(childFields){
return loggerFactory(name,minLevel,_.defaults(childFields,baseRecord))}},_.reduce(levels,function(target,level,levelName){return target[levelName]=_.partial(logger.log,level),target},logger)};return loggerFactory.levels=levels,loggerFactory.providers=!1,loggerFactory.load=function(providerConfigs){var self=this,modules=[];return this.providers=[],new Promise(function(resolve,reject){_.forEach(providerConfigs,function(providerConfig,providerName){modules.push(providerName)}),require(modules,function(){var loadedProviders=[].slice.call(arguments);_.forEach(loadedProviders,function(provider,moduleKey){try{
self.register(provider,providerConfigs[modules[moduleKey]])}catch(err){reject(err)}}),self.flush(),resolve()},reject)})},loggerFactory.register=function(provider,providerConfig){if(!_.isPlainObject(provider)||!_.isFunction(provider.log))throw new TypeError("A log provider is an object with a log method");provider.checkMinLevel=checkMinLevel,_.isFunction(provider.setConfig)&&provider.setConfig(providerConfig),this.providers=this.providers||[],this.providers.push(provider)},loggerFactory.flush=function(){_.isArray(this.providers)&&this.providers.length>0&&(_.forEach(logQueue,function(message){_.forEach(loggerFactory.providers,function(provider){
provider.log.call(provider,message)})}),logQueue=[])},loggerFactory.setDefaultLevel=function(level){return defaultLevel=getLevel(level)},loggerFactory}),define("core/logger",["lodash","module","core/logger/api"],function(_,module,loggerFactory){"use strict";var defaultConfig={level:loggerFactory.levels.warn,loggers:{"core/logger/console":{level:"warn"}}},config=_.defaults(module.config()||{},defaultConfig),logger=loggerFactory("core/logger");return loggerFactory.setDefaultLevel(config.level),loggerFactory.load(config.loggers),window.onerror=function(msg,url,line,col,error){logger.error("Caught[via window.onerror]: '"+msg+"' from "+url+":"+line+":"+col)},
window.setTaoLogLevel=function(level){return loggerFactory.setDefaultLevel(level)},loggerFactory}),function(){function only_once(fn){var called=!1;return function(){if(called)throw new Error("Callback was already called.");called=!0,fn.apply(root,arguments)}}var root,previous_async,async={};root=this,null!=root&&(previous_async=root.async),async.noConflict=function(){return root.async=previous_async,async};var _each=function(arr,iterator){if(arr.forEach)return arr.forEach(iterator);for(var i=0;i<arr.length;i+=1)iterator(arr[i],i,arr)},_map=function(arr,iterator){if(arr.map)return arr.map(iterator);var results=[];return _each(arr,function(x,i,a){
results.push(iterator(x,i,a))}),results},_reduce=function(arr,iterator,memo){return arr.reduce?arr.reduce(iterator,memo):(_each(arr,function(x,i,a){memo=iterator(memo,x,i,a)}),memo)},_keys=function(obj){if(Object.keys)return Object.keys(obj);var keys=[];for(var k in obj)obj.hasOwnProperty(k)&&keys.push(k);return keys};"undefined"!=typeof process&&process.nextTick?(async.nextTick=process.nextTick,"undefined"!=typeof setImmediate?async.setImmediate=function(fn){setImmediate(fn)}:async.setImmediate=async.nextTick):"function"==typeof setImmediate?(async.nextTick=function(fn){setImmediate(fn)},async.setImmediate=async.nextTick):(async.nextTick=function(fn){
setTimeout(fn,0)},async.setImmediate=async.nextTick),async.each=function(arr,iterator,callback){if(callback=callback||function(){},!arr.length)return callback();var completed=0;_each(arr,function(x){iterator(x,only_once(function(err){err?(callback(err),callback=function(){}):(completed+=1)>=arr.length&&callback(null)}))})},async.forEach=async.each,async.eachSeries=function(arr,iterator,callback){if(callback=callback||function(){},!arr.length)return callback();var completed=0,iterate=function(){iterator(arr[completed],function(err){err?(callback(err),callback=function(){}):(completed+=1,completed>=arr.length?callback(null):iterate())})};iterate()},
async.forEachSeries=async.eachSeries,async.eachLimit=function(arr,limit,iterator,callback){_eachLimit(limit).apply(null,[arr,iterator,callback])},async.forEachLimit=async.eachLimit;var _eachLimit=function(limit){return function(arr,iterator,callback){if(callback=callback||function(){},!arr.length||limit<=0)return callback();var completed=0,started=0,running=0;!function replenish(){if(completed>=arr.length)return callback();for(;running<limit&&started<arr.length;)started+=1,running+=1,iterator(arr[started-1],function(err){err?(callback(err),callback=function(){}):(completed+=1,running-=1,completed>=arr.length?callback():replenish())})}()}
},doParallel=function(fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[async.each].concat(args))}},doParallelLimit=function(limit,fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[_eachLimit(limit)].concat(args))}},doSeries=function(fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[async.eachSeries].concat(args))}},_asyncMap=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}}),eachfn(arr,function(x,callback){iterator(x.value,function(err,v){results[x.index]=v,callback(err)})
},function(err){callback(err,results)})};async.map=doParallel(_asyncMap),async.mapSeries=doSeries(_asyncMap),async.mapLimit=function(arr,limit,iterator,callback){return _mapLimit(limit)(arr,iterator,callback)};var _mapLimit=function(limit){return doParallelLimit(limit,_asyncMap)};async.reduce=function(arr,memo,iterator,callback){async.eachSeries(arr,function(x,callback){iterator(memo,x,function(err,v){memo=v,callback(err)})},function(err){callback(err,memo)})},async.inject=async.reduce,async.foldl=async.reduce,async.reduceRight=function(arr,memo,iterator,callback){var reversed=_map(arr,function(x){return x}).reverse()
;async.reduce(reversed,memo,iterator,callback)},async.foldr=async.reduceRight;var _filter=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}}),eachfn(arr,function(x,callback){iterator(x.value,function(v){v&&results.push(x),callback()})},function(err){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})};async.filter=doParallel(_filter),async.filterSeries=doSeries(_filter),async.select=async.filter,async.selectSeries=async.filterSeries;var _reject=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}}),
eachfn(arr,function(x,callback){iterator(x.value,function(v){v||results.push(x),callback()})},function(err){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})};async.reject=doParallel(_reject),async.rejectSeries=doSeries(_reject);var _detect=function(eachfn,arr,iterator,main_callback){eachfn(arr,function(x,callback){iterator(x,function(result){result?(main_callback(x),main_callback=function(){}):callback()})},function(err){main_callback()})};async.detect=doParallel(_detect),async.detectSeries=doSeries(_detect),async.some=function(arr,iterator,main_callback){async.each(arr,function(x,callback){
iterator(x,function(v){v&&(main_callback(!0),main_callback=function(){}),callback()})},function(err){main_callback(!1)})},async.any=async.some,async.every=function(arr,iterator,main_callback){async.each(arr,function(x,callback){iterator(x,function(v){v||(main_callback(!1),main_callback=function(){}),callback()})},function(err){main_callback(!0)})},async.all=async.every,async.sortBy=function(arr,iterator,callback){async.map(arr,function(x,callback){iterator(x,function(err,criteria){err?callback(err):callback(null,{value:x,criteria:criteria})})},function(err,results){if(err)return callback(err);var fn=function(left,right){var a=left.criteria,b=right.criteria
;return a<b?-1:a>b?1:0};callback(null,_map(results.sort(fn),function(x){return x.value}))})},async.auto=function(tasks,callback){callback=callback||function(){};var keys=_keys(tasks);if(!keys.length)return callback(null);var results={},listeners=[],addListener=function(fn){listeners.unshift(fn)},removeListener=function(fn){for(var i=0;i<listeners.length;i+=1)if(listeners[i]===fn)return void listeners.splice(i,1)},taskComplete=function(){_each(listeners.slice(0),function(fn){fn()})};addListener(function(){_keys(results).length===keys.length&&(callback(null,results),callback=function(){})}),_each(keys,function(k){
var task=tasks[k]instanceof Function?[tasks[k]]:tasks[k],taskCallback=function(err){var args=Array.prototype.slice.call(arguments,1);if(args.length<=1&&(args=args[0]),err){var safeResults={};_each(_keys(results),function(rkey){safeResults[rkey]=results[rkey]}),safeResults[k]=args,callback(err,safeResults),callback=function(){}}else results[k]=args,async.setImmediate(taskComplete)},requires=task.slice(0,Math.abs(task.length-1))||[],ready=function(){return _reduce(requires,function(a,x){return a&&results.hasOwnProperty(x)},!0)&&!results.hasOwnProperty(k)};if(ready())task[task.length-1](taskCallback,results);else{var listener=function(){
ready()&&(removeListener(listener),task[task.length-1](taskCallback,results))};addListener(listener)}})},async.waterfall=function(tasks,callback){if(callback=callback||function(){},tasks.constructor!==Array){var err=new Error("First argument to waterfall must be an array of functions");return callback(err)}if(!tasks.length)return callback();var wrapIterator=function(iterator){return function(err){if(err)callback.apply(null,arguments),callback=function(){};else{var args=Array.prototype.slice.call(arguments,1),next=iterator.next();next?args.push(wrapIterator(next)):args.push(callback),async.setImmediate(function(){iterator.apply(null,args)})}}}
;wrapIterator(async.iterator(tasks))()};var _parallel=function(eachfn,tasks,callback){if(callback=callback||function(){},tasks.constructor===Array)eachfn.map(tasks,function(fn,callback){fn&&fn(function(err){var args=Array.prototype.slice.call(arguments,1);args.length<=1&&(args=args[0]),callback.call(null,err,args)})},callback);else{var results={};eachfn.each(_keys(tasks),function(k,callback){tasks[k](function(err){var args=Array.prototype.slice.call(arguments,1);args.length<=1&&(args=args[0]),results[k]=args,callback(err)})},function(err){callback(err,results)})}};async.parallel=function(tasks,callback){_parallel({map:async.map,each:async.each
},tasks,callback)},async.parallelLimit=function(tasks,limit,callback){_parallel({map:_mapLimit(limit),each:_eachLimit(limit)},tasks,callback)},async.series=function(tasks,callback){if(callback=callback||function(){},tasks.constructor===Array)async.mapSeries(tasks,function(fn,callback){fn&&fn(function(err){var args=Array.prototype.slice.call(arguments,1);args.length<=1&&(args=args[0]),callback.call(null,err,args)})},callback);else{var results={};async.eachSeries(_keys(tasks),function(k,callback){tasks[k](function(err){var args=Array.prototype.slice.call(arguments,1);args.length<=1&&(args=args[0]),results[k]=args,callback(err)})},function(err){
callback(err,results)})}},async.iterator=function(tasks){var makeCallback=function(index){var fn=function(){return tasks.length&&tasks[index].apply(null,arguments),fn.next()};return fn.next=function(){return index<tasks.length-1?makeCallback(index+1):null},fn};return makeCallback(0)},async.apply=function(fn){var args=Array.prototype.slice.call(arguments,1);return function(){return fn.apply(null,args.concat(Array.prototype.slice.call(arguments)))}};var _concat=function(eachfn,arr,fn,callback){var r=[];eachfn(arr,function(x,cb){fn(x,function(err,y){r=r.concat(y||[]),cb(err)})},function(err){callback(err,r)})};async.concat=doParallel(_concat),
async.concatSeries=doSeries(_concat),async.whilst=function(test,iterator,callback){test()?iterator(function(err){if(err)return callback(err);async.whilst(test,iterator,callback)}):callback()},async.doWhilst=function(iterator,test,callback){iterator(function(err){if(err)return callback(err);test()?async.doWhilst(iterator,test,callback):callback()})},async.until=function(test,iterator,callback){test()?callback():iterator(function(err){if(err)return callback(err);async.until(test,iterator,callback)})},async.doUntil=function(iterator,test,callback){iterator(function(err){if(err)return callback(err);test()?callback():async.doUntil(iterator,test,callback)})},
async.queue=function(worker,concurrency){function _insert(q,data,pos,callback){data.constructor!==Array&&(data=[data]),_each(data,function(task){var item={data:task,callback:"function"==typeof callback?callback:null};pos?q.tasks.unshift(item):q.tasks.push(item),q.saturated&&q.tasks.length===concurrency&&q.saturated(),async.setImmediate(q.process)})}void 0===concurrency&&(concurrency=1);var workers=0,q={tasks:[],concurrency:concurrency,saturated:null,empty:null,drain:null,push:function(data,callback){_insert(q,data,!1,callback)},unshift:function(data,callback){_insert(q,data,!0,callback)},process:function(){if(workers<q.concurrency&&q.tasks.length){
var task=q.tasks.shift();q.empty&&0===q.tasks.length&&q.empty(),workers+=1;var next=function(){workers-=1,task.callback&&task.callback.apply(task,arguments),q.drain&&q.tasks.length+workers===0&&q.drain(),q.process()},cb=only_once(next);worker(task.data,cb)}},length:function(){return q.tasks.length},running:function(){return workers}};return q},async.cargo=function(worker,payload){var working=!1,tasks=[],cargo={tasks:tasks,payload:payload,saturated:null,empty:null,drain:null,push:function(data,callback){data.constructor!==Array&&(data=[data]),_each(data,function(task){tasks.push({data:task,callback:"function"==typeof callback?callback:null}),
cargo.saturated&&tasks.length===payload&&cargo.saturated()}),async.setImmediate(cargo.process)},process:function process(){if(!working){if(0===tasks.length)return void(cargo.drain&&cargo.drain());var ts="number"==typeof payload?tasks.splice(0,payload):tasks.splice(0),ds=_map(ts,function(task){return task.data});cargo.empty&&cargo.empty(),working=!0,worker(ds,function(){working=!1;var args=arguments;_each(ts,function(data){data.callback&&data.callback.apply(null,args)}),process()})}},length:function(){return tasks.length},running:function(){return working}};return cargo};var _console_fn=function(name){return function(fn){
var args=Array.prototype.slice.call(arguments,1);fn.apply(null,args.concat([function(err){var args=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(err?console.error&&console.error(err):console[name]&&_each(args,function(x){console[name](x)}))}]))}};async.log=_console_fn("log"),async.dir=_console_fn("dir"),async.memoize=function(fn,hasher){var memo={},queues={};hasher=hasher||function(x){return x};var memoized=function(){var args=Array.prototype.slice.call(arguments),callback=args.pop(),key=hasher.apply(null,args);key in memo?callback.apply(null,memo[key]):key in queues?queues[key].push(callback):(queues[key]=[callback],
fn.apply(null,args.concat([function(){memo[key]=arguments;var q=queues[key];delete queues[key];for(var i=0,l=q.length;i<l;i++)q[i].apply(null,arguments)}])))};return memoized.memo=memo,memoized.unmemoized=fn,memoized},async.unmemoize=function(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments)}},async.times=function(count,iterator,callback){for(var counter=[],i=0;i<count;i++)counter.push(i);return async.map(counter,iterator,callback)},async.timesSeries=function(count,iterator,callback){for(var counter=[],i=0;i<count;i++)counter.push(i);return async.mapSeries(counter,iterator,callback)},async.compose=function(){
var fns=Array.prototype.reverse.call(arguments);return function(){var that=this,args=Array.prototype.slice.call(arguments),callback=args.pop();async.reduce(fns,args,function(newargs,fn,cb){fn.apply(that,newargs.concat([function(){var err=arguments[0],nextargs=Array.prototype.slice.call(arguments,1);cb(err,nextargs)}]))},function(err,results){callback.apply(that,[err].concat(results))})}};var _applyEach=function(eachfn,fns){var go=function(){var that=this,args=Array.prototype.slice.call(arguments),callback=args.pop();return eachfn(fns,function(fn,cb){fn.apply(that,args.concat([cb]))},callback)};if(arguments.length>2){
return go.apply(this,Array.prototype.slice.call(arguments,2))}return go};async.applyEach=doParallel(_applyEach),async.applyEachSeries=doSeries(_applyEach),async.forever=function(fn,callback){function next(err){if(err){if(callback)return callback(err);throw err}fn(next)}next()},void 0!==define&&define.amd?define("async",[],function(){return async}):"undefined"!=typeof module&&module.exports?module.exports=async:root.async=async}(),define("lib/uuid",[],function(){var CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");return function(len,radix){var i,r,chars=CHARS,uuid=[];if(radix=radix||chars.length,
len)for(i=0;i<len;i++)uuid[i]=chars[0|Math.random()*radix];else for(uuid[8]=uuid[13]=uuid[18]=uuid[23]="-",uuid[14]="4",i=0;i<36;i++)uuid[i]||(r=0|16*Math.random(),uuid[i]=chars[19===i?3&r|8:r]);return uuid.join("")}}),define("core/eventifier",["lodash","async","core/promise","lib/uuid","core/logger"],function(_,async,Promise,uuid,loggerFactory){"use strict";function getEventNames(eventNames){return!_.isString(eventNames)||_.isEmpty(eventNames)?[]:_(eventNames.split(/\s/g)).compact().uniq().value()}function getName(eventName){return eventName.indexOf(".")>-1?eventName.substr(0,eventName.indexOf(".")):eventName}function getNamespace(eventName){
return eventName.indexOf(".")>-1?eventName.substr(eventName.indexOf(".")+1):defaultNs}function getHandlerObject(){return{before:[],between:[],after:[]}}function eventifier(target){var targetName,logger,stoppedEvents,eventHandlers={},getHandlers=function(eventName,type){var name=getName(eventName),ns=getNamespace(eventName);return type=type||"between",eventHandlers[ns]=eventHandlers[ns]||{},eventHandlers[ns][name]=eventHandlers[ns][name]||getHandlerObject(),eventHandlers[ns][name][type]},eventApi={on:function(eventNames,handler){return _.isFunction(handler)&&_.forEach(getEventNames(eventNames),function(eventName){getHandlers(eventName).push(handler)}),this},
off:function(eventNames){return _.forEach(getEventNames(eventNames),function(eventName){var offNamespaces,name=getName(eventName),ns=getNamespace(eventName);ns&&!name?ns===globalNs?(offNamespaces={},offNamespaces[defaultNs]=eventHandlers[defaultNs],eventHandlers=offNamespaces):eventHandlers[ns]={}:_.forEach(eventHandlers,function(nsHandlers,namespace){!nsHandlers[name]||ns!==defaultNs&&ns!==namespace||(nsHandlers[name]=getHandlerObject())})}),this},removeAllListeners:function(){return eventHandlers={},this},trigger:function(eventNames){function triggerAllHandlers(allHandlers,name,ns){var event={name:name,namespace:ns}
;allHandlers.before.length?triggerBefore(allHandlers.before,event).then(function(){triggerBetween(allHandlers,event)}).catch(function(err){logHandlerStop("before",event,err)}):triggerBetween(allHandlers,event)}function triggerBefore(handlers,event){var pHandlers,beforeArgs=args.slice();return beforeArgs.unshift(event),pHandlers=handlers.map(function(handler){var value=!shouldStop(event.name)&&handler.apply(self,beforeArgs);return!1===value?Promise.reject():value}),Promise.all(pHandlers)}function triggerBetween(allHandlers,event){shouldStop(event.name)?logHandlerStop("before",event):triggerHandlers(allHandlers.between,event).then(function(){
triggerAfter(allHandlers.after,event)}).catch(function(err){logHandlerStop("on",event,err)})}function triggerAfter(handlers,event){shouldStop(event.name)?logHandlerStop("on",event):triggerHandlers(handlers,event).then(function(){shouldStop(event.name)&&logHandlerStop("after",event)}).catch(function(err){logHandlerStop("after",event,err)})}function triggerHandlers(handlers,event){var pHandlers;return pHandlers=handlers.map(function(handler){return shouldStop(event.name)?Promise.reject():handler.apply(self,args)}),Promise.all(pHandlers)}function logHandlerStop(stoppedIn,event,err){err instanceof Error&&logger.error(err),logger.trace({err:err,event:event.name,
stoppedIn:stoppedIn},event.name+" handlers stopped")}function shouldStop(name){return stoppedEvents[name]}var self=this,args=[].slice.call(arguments,1);return stoppedEvents={},_.forEach(getEventNames(eventNames),function(eventName){var ns=getNamespace(eventName),name=getName(eventName),mergedHandlers=_(eventHandlers).filter(function(nsHandlers,namespace){return nsHandlers[name]&&(ns===defaultNs||ns===namespace||namespace===globalNs)}).reduce(function(acc,nsHandlers){return acc.before=acc.before.concat(nsHandlers[name].before),acc.between=acc.between.concat(nsHandlers[name].between),acc.after=acc.after.concat(nsHandlers[name].after),acc},getHandlerObject())
;logger.trace({event:eventName,args:args},"trigger %s",eventName),mergedHandlers&&triggerAllHandlers(mergedHandlers,name,ns)}),this},before:function(eventNames,handler){return _.isFunction(handler)&&_.forEach(getEventNames(eventNames),function(eventName){getHandlers(eventName,"before").push(handler)}),this},after:function(eventNames,handler){return _.isFunction(handler)&&_.forEach(getEventNames(eventNames),function(eventName){getHandlers(eventName,"after").push(handler)}),this},stopEvent:function(name){_.isString(name)&&!_.isEmpty(name.trim())&&(stoppedEvents[name.trim()]=!0)},spread:function(destination,eventNames){var self=this
;return destination&&_.isFunction(destination.trigger)&&(_.isString(eventNames)&&(eventNames=getEventNames(eventNames)),_.forEach(eventNames,function(eventName){self.on(eventName,function(){var args=[eventName].concat([].slice.call(arguments));destination.trigger.apply(destination,args)})})),this}};return target=target||{},targetName=target.name||target.id||target.serial||uuid(6),logger=eventifierLogger.child({target:targetName}),_(eventApi).functions().forEach(function(method){_.isFunction(target[method])&&eventifierLogger.warn("The target object has already a method named "+method,target),target[method]=function(){var args=[].slice.call(arguments)
;return eventApi[method].apply(target,args)}}),target}var defaultNs="@",globalNs="*",eventifierLogger=loggerFactory("core/eventifier");return eventifier}),define("handlebars",[],function(){return function(){var __module4__=function(){"use strict";function SafeString(string){this.string=string}return SafeString.prototype.toString=function(){return""+this.string},SafeString}(),__module3__=function(__dependency1__){"use strict";function escapeChar(chr){return escape[chr]||"&amp;"}function extend(obj,value){for(var key in value)Object.prototype.hasOwnProperty.call(value,key)&&(obj[key]=value[key])}function escapeExpression(string){
return string instanceof SafeString?string.toString():string||0===string?(string=""+string,possible.test(string)?string.replace(badChars,escapeChar):string):""}function isEmpty(value){return!value&&0!==value||!(!isArray(value)||0!==value.length)}var __exports__={},SafeString=__dependency1__,escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},badChars=/[&<>"'`]/g,possible=/[&<>"'`]/;__exports__.extend=extend;var toString=Object.prototype.toString;__exports__.toString=toString;var isFunction=function(value){return"function"==typeof value};isFunction(/x/)&&(isFunction=function(value){
return"function"==typeof value&&"[object Function]"===toString.call(value)});var isFunction;__exports__.isFunction=isFunction;var isArray=Array.isArray||function(value){return!(!value||"object"!=typeof value)&&"[object Array]"===toString.call(value)};return __exports__.isArray=isArray,__exports__.escapeExpression=escapeExpression,__exports__.isEmpty=isEmpty,__exports__}(__module4__),__module5__=function(){"use strict";function Exception(message,node){var line;node&&node.firstLine&&(line=node.firstLine,message+=" - "+line+":"+node.firstColumn)
;for(var tmp=Error.prototype.constructor.call(this,message),idx=0;idx<errorProps.length;idx++)this[errorProps[idx]]=tmp[errorProps[idx]];line&&(this.lineNumber=line,this.column=node.firstColumn)}var errorProps=["description","fileName","lineNumber","message","name","number","stack"];return Exception.prototype=new Error,Exception}(),__module2__=function(__dependency1__,__dependency2__){"use strict";function HandlebarsEnvironment(helpers,partials){this.helpers=helpers||{},this.partials=partials||{},registerDefaultHelpers(this)}function registerDefaultHelpers(instance){instance.registerHelper("helperMissing",function(arg){
if(2!==arguments.length)throw new Exception("Missing helper: '"+arg+"'")}),instance.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse||function(){},fn=options.fn;return isFunction(context)&&(context=context.call(this)),!0===context?fn(this):!1===context||null==context?inverse(this):isArray(context)?context.length>0?instance.helpers.each(context,options):inverse(this):fn(context)}),instance.registerHelper("each",function(context,options){var data,fn=options.fn,inverse=options.inverse,i=0,ret="";if(isFunction(context)&&(context=context.call(this)),options.data&&(data=createFrame(options.data)),
context&&"object"==typeof context)if(isArray(context))for(var j=context.length;i<j;i++)data&&(data.index=i,data.first=0===i,data.last=i===context.length-1),ret+=fn(context[i],{data:data});else for(var key in context)context.hasOwnProperty(key)&&(data&&(data.key=key,data.index=i,data.first=0===i),ret+=fn(context[key],{data:data}),i++);return 0===i&&(ret=inverse(this)),ret}),instance.registerHelper("if",function(conditional,options){return isFunction(conditional)&&(conditional=conditional.call(this)),!options.hash.includeZero&&!conditional||Utils.isEmpty(conditional)?options.inverse(this):options.fn(this)}),
instance.registerHelper("unless",function(conditional,options){return instance.helpers.if.call(this,conditional,{fn:options.inverse,inverse:options.fn,hash:options.hash})}),instance.registerHelper("with",function(context,options){if(isFunction(context)&&(context=context.call(this)),!Utils.isEmpty(context))return options.fn(context)}),instance.registerHelper("log",function(context,options){var level=options.data&&null!=options.data.level?parseInt(options.data.level,10):1;instance.log(level,context)})}function log(level,obj){logger.log(level,obj)}var __exports__={},Utils=__dependency1__,Exception=__dependency2__;__exports__.VERSION="1.3.0"
;__exports__.COMPILER_REVISION=4;var REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};__exports__.REVISION_CHANGES=REVISION_CHANGES;var isArray=Utils.isArray,isFunction=Utils.isFunction,toString=Utils.toString;__exports__.HandlebarsEnvironment=HandlebarsEnvironment,HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:logger,log:log,registerHelper:function(name,fn,inverse){if("[object Object]"===toString.call(name)){if(inverse||fn)throw new Exception("Arg not supported with multiple helpers");Utils.extend(this.helpers,name)}else inverse&&(fn.not=inverse),this.helpers[name]=fn},
registerPartial:function(name,str){"[object Object]"===toString.call(name)?Utils.extend(this.partials,name):this.partials[name]=str}};var logger={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(level,obj){if(logger.level<=level){var method=logger.methodMap[level];"undefined"!=typeof console&&console[method]&&console[method].call(console,obj)}}};__exports__.logger=logger,__exports__.log=log;var createFrame=function(object){var obj={};return Utils.extend(obj,object),obj};return __exports__.createFrame=createFrame,__exports__
}(__module3__,__module5__),__module6__=function(__dependency1__,__dependency2__,__dependency3__){"use strict";function checkRevision(compilerInfo){var compilerRevision=compilerInfo&&compilerInfo[0]||1,currentRevision=COMPILER_REVISION;if(compilerRevision!==currentRevision){if(compilerRevision<currentRevision){var runtimeVersions=REVISION_CHANGES[currentRevision],compilerVersions=REVISION_CHANGES[compilerRevision]
;throw new Exception("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").")}throw new Exception("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+compilerInfo[1]+").")}}function template(templateSpec,env){if(!env)throw new Exception("No environment passed to template");var invokePartialWrapper=function(partial,name,context,helpers,partials,data){var result=env.VM.invokePartial.apply(this,arguments)
;if(null!=result)return result;if(env.compile){var options={helpers:helpers,partials:partials,data:data};return partials[name]=env.compile(partial,{data:void 0!==data},env),partials[name](context,options)}throw new Exception("The partial "+name+" could not be compiled when running in runtime-only mode")},container={escapeExpression:Utils.escapeExpression,invokePartial:invokePartialWrapper,programs:[],program:function(i,fn,data){var programWrapper=this.programs[i];return data?programWrapper=program(i,fn,data):programWrapper||(programWrapper=this.programs[i]=program(i,fn)),programWrapper},merge:function(param,common){var ret=param||common
;return param&&common&&param!==common&&(ret={},Utils.extend(ret,common),Utils.extend(ret,param)),ret},programWithDepth:env.VM.programWithDepth,noop:env.VM.noop,compilerInfo:null};return function(context,options){options=options||{};var helpers,partials,namespace=options.partial?options:env;options.partial||(helpers=options.helpers,partials=options.partials);var result=templateSpec.call(container,namespace,context,helpers,partials,options.data);return options.partial||env.VM.checkRevision(container.compilerInfo),result}}function programWithDepth(i,fn,data){var args=Array.prototype.slice.call(arguments,3),prog=function(context,options){
return options=options||{},fn.apply(this,[context,options.data||data].concat(args))};return prog.program=i,prog.depth=args.length,prog}function program(i,fn,data){var prog=function(context,options){return options=options||{},fn(context,options.data||data)};return prog.program=i,prog.depth=0,prog}function invokePartial(partial,name,context,helpers,partials,data){var options={partial:!0,helpers:helpers,partials:partials,data:data};if(void 0===partial)throw new Exception("The partial "+name+" could not be found");if(partial instanceof Function)return partial(context,options)}function noop(){return""}
var __exports__={},Utils=__dependency1__,Exception=__dependency2__,COMPILER_REVISION=__dependency3__.COMPILER_REVISION,REVISION_CHANGES=__dependency3__.REVISION_CHANGES;return __exports__.checkRevision=checkRevision,__exports__.template=template,__exports__.programWithDepth=programWithDepth,__exports__.program=program,__exports__.invokePartial=invokePartial,__exports__.noop=noop,__exports__}(__module3__,__module5__,__module2__),__module1__=function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__){"use strict"
;var base=__dependency1__,SafeString=__dependency2__,Exception=__dependency3__,Utils=__dependency4__,runtime=__dependency5__,create=function(){var hb=new base.HandlebarsEnvironment;return Utils.extend(hb,base),hb.SafeString=SafeString,hb.Exception=Exception,hb.Utils=Utils,hb.VM=runtime,hb.template=function(spec){return runtime.template(spec,hb)},hb},Handlebars=create();return Handlebars.create=create,Handlebars}(__module2__,__module4__,__module5__,__module3__,__module6__),__module7__=function(__dependency1__){"use strict";function LocationInfo(locInfo){locInfo=locInfo||{},this.firstLine=locInfo.first_line,this.firstColumn=locInfo.first_column,
this.lastColumn=locInfo.last_column,this.lastLine=locInfo.last_line}var Exception=__dependency1__,AST={ProgramNode:function(statements,inverseStrip,inverse,locInfo){var inverseLocationInfo,firstInverseNode;3===arguments.length?(locInfo=inverse,inverse=null):2===arguments.length&&(locInfo=inverseStrip,inverseStrip=null),LocationInfo.call(this,locInfo),this.type="program",this.statements=statements,this.strip={},inverse?(firstInverseNode=inverse[0],firstInverseNode?(inverseLocationInfo={first_line:firstInverseNode.firstLine,last_line:firstInverseNode.lastLine,last_column:firstInverseNode.lastColumn,first_column:firstInverseNode.firstColumn},
this.inverse=new AST.ProgramNode(inverse,inverseStrip,inverseLocationInfo)):this.inverse=new AST.ProgramNode(inverse,inverseStrip),this.strip.right=inverseStrip.left):inverseStrip&&(this.strip.left=inverseStrip.right)},MustacheNode:function(rawParams,hash,open,strip,locInfo){if(LocationInfo.call(this,locInfo),this.type="mustache",this.strip=strip,null!=open&&open.charAt){var escapeFlag=open.charAt(3)||open.charAt(2);this.escaped="{"!==escapeFlag&&"&"!==escapeFlag}else this.escaped=!!open;rawParams instanceof AST.SexprNode?this.sexpr=rawParams:this.sexpr=new AST.SexprNode(rawParams,hash),this.sexpr.isRoot=!0,this.id=this.sexpr.id,
this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(rawParams,hash,locInfo){LocationInfo.call(this,locInfo),this.type="sexpr",this.hash=hash;var id=this.id=rawParams[0],params=this.params=rawParams.slice(1),eligibleHelper=this.eligibleHelper=id.isSimple;this.isHelper=eligibleHelper&&(params.length||hash)},PartialNode:function(partialName,context,strip,locInfo){LocationInfo.call(this,locInfo),this.type="partial",this.partialName=partialName,this.context=context,this.strip=strip},BlockNode:function(mustache,program,inverse,close,locInfo){
if(LocationInfo.call(this,locInfo),mustache.sexpr.id.original!==close.path.original)throw new Exception(mustache.sexpr.id.original+" doesn't match "+close.path.original,this);this.type="block",this.mustache=mustache,this.program=program,this.inverse=inverse,this.strip={left:mustache.strip.left,right:close.strip.right},(program||inverse).strip.left=mustache.strip.right,(inverse||program).strip.right=close.strip.left,inverse&&!program&&(this.isInverse=!0)},ContentNode:function(string,locInfo){LocationInfo.call(this,locInfo),this.type="content",this.string=string},HashNode:function(pairs,locInfo){LocationInfo.call(this,locInfo),this.type="hash",this.pairs=pairs
},IdNode:function(parts,locInfo){LocationInfo.call(this,locInfo),this.type="ID";for(var original="",dig=[],depth=0,i=0,l=parts.length;i<l;i++){var part=parts[i].part;if(original+=(parts[i].separator||"")+part,".."===part||"."===part||"this"===part){if(dig.length>0)throw new Exception("Invalid path: "+original,this);".."===part?depth++:this.isScoped=!0}else dig.push(part)}this.original=original,this.parts=dig,this.string=dig.join("."),this.depth=depth,this.isSimple=1===parts.length&&!this.isScoped&&0===depth,this.stringModeValue=this.string},PartialNameNode:function(name,locInfo){LocationInfo.call(this,locInfo),this.type="PARTIAL_NAME",this.name=name.original
},DataNode:function(id,locInfo){LocationInfo.call(this,locInfo),this.type="DATA",this.id=id},StringNode:function(string,locInfo){LocationInfo.call(this,locInfo),this.type="STRING",this.original=this.string=this.stringModeValue=string},IntegerNode:function(integer,locInfo){LocationInfo.call(this,locInfo),this.type="INTEGER",this.original=this.integer=integer,this.stringModeValue=Number(integer)},BooleanNode:function(bool,locInfo){LocationInfo.call(this,locInfo),this.type="BOOLEAN",this.bool=bool,this.stringModeValue="true"===bool},CommentNode:function(comment,locInfo){LocationInfo.call(this,locInfo),this.type="comment",this.comment=comment}};return AST
}(__module5__),__module9__=function(){"use strict";return function(){function stripFlags(open,close){return{left:"~"===open.charAt(2),right:"~"===close.charAt(0)||"~"===close.charAt(1)}}function Parser(){this.yy={}}var parser={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,
INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},
productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return new yy.ProgramNode($$[$0-1],this._$);case 2:return new yy.ProgramNode([],this._$);case 3:this.$=new yy.ProgramNode([],$$[$0-1],$$[$0],this._$);break;case 4:this.$=new yy.ProgramNode($$[$0-2],$$[$0-1],$$[$0],this._$)
;break;case 5:this.$=new yy.ProgramNode($$[$0-1],$$[$0],[],this._$);break;case 6:this.$=new yy.ProgramNode($$[$0],this._$);break;case 7:case 8:this.$=new yy.ProgramNode([],this._$);break;case 9:this.$=[$$[$0]];break;case 10:$$[$0-1].push($$[$0]),this.$=$$[$0-1];break;case 11:this.$=new yy.BlockNode($$[$0-2],$$[$0-1].inverse,$$[$0-1],$$[$0],this._$);break;case 12:this.$=new yy.BlockNode($$[$0-2],$$[$0-1],$$[$0-1].inverse,$$[$0],this._$);break;case 13:case 14:this.$=$$[$0];break;case 15:this.$=new yy.ContentNode($$[$0],this._$);break;case 16:this.$=new yy.CommentNode($$[$0],this._$);break;case 17:case 18:
this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],stripFlags($$[$0-2],$$[$0]),this._$);break;case 19:this.$={path:$$[$0-1],strip:stripFlags($$[$0-2],$$[$0])};break;case 20:case 21:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],stripFlags($$[$0-2],$$[$0]),this._$);break;case 22:this.$=new yy.PartialNode($$[$0-2],$$[$0-1],stripFlags($$[$0-3],$$[$0]),this._$);break;case 23:this.$=stripFlags($$[$0-1],$$[$0]);break;case 24:this.$=new yy.SexprNode([$$[$0-2]].concat($$[$0-1]),$$[$0],this._$);break;case 25:this.$=new yy.SexprNode([$$[$0]],null,this._$);break;case 26:this.$=$$[$0];break;case 27:this.$=new yy.StringNode($$[$0],this._$);break;case 28:
this.$=new yy.IntegerNode($$[$0],this._$);break;case 29:this.$=new yy.BooleanNode($$[$0],this._$);break;case 30:this.$=$$[$0];break;case 31:$$[$0-1].isHelper=!0,this.$=$$[$0-1];break;case 32:this.$=new yy.HashNode($$[$0],this._$);break;case 33:this.$=[$$[$0-2],$$[$0]];break;case 34:this.$=new yy.PartialNameNode($$[$0],this._$);break;case 35:this.$=new yy.PartialNameNode(new yy.StringNode($$[$0],this._$),this._$);break;case 36:this.$=new yy.PartialNameNode(new yy.IntegerNode($$[$0],this._$));break;case 37:this.$=new yy.DataNode($$[$0],this._$);break;case 38:this.$=new yy.IdNode($$[$0],this._$);break;case 39:$$[$0-2].push({part:$$[$0],separator:$$[$0-1]}),
this.$=$$[$0-2];break;case 40:this.$=[{part:$$[$0]}];break;case 43:this.$=[];break;case 44:$$[$0-1].push($$[$0]);break;case 47:this.$=[$$[$0]];break;case 48:$$[$0-1].push($$[$0])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,
14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],
40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],
44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],
22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],
19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],
34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],
25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(str,hash){throw new Error(str)},parse:function(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0;this.lexer.setInput(input),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,
void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null!==symbol&&void 0!==symbol||(symbol=function(){var token;return token=self.lexer.lex()||1,"number"!=typeof token&&(token=self.symbols_[token]||token),token}()),action=table[state]&&table[state][symbol]),void 0===action||!action.length||!action[0]){
var errStr="";if(!recovering){expected=[];for(p in table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=this.lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}}
if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(this.lexer.yytext),lstack.push(this.lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=this.lexer.yyleng,yytext=this.lexer.yytext,yylineno=this.lexer.yylineno,yyloc=this.lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,
first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),void 0!==(r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack)))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer=function(){var lexer={EOF:1,
parseError:function(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input){return this._input=input,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch,ch.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,
this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len-1),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,
last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this},more:function(){return this._more=!0,this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),
(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var token,match,tempMatch,index,lines;this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length&&(!(tempMatch=this._input.match(this.rules[rules[i]]))||match&&!(tempMatch[0].length>match[0].length)||(match=tempMatch,index=i,this.options.flex));i++);return match?(lines=match[0].match(/(?:\r\n?|\n).*/g),lines&&(this.yylineno+=lines.length),this.yylloc={
first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),
token||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var r=this.next();return void 0!==r?r:this.lex()},begin:function(condition){this.conditionStack.push(condition)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(condition){this.begin(condition)}};return lexer.options={},
lexer.performAction=function(yy,yy_,$avoiding_name_collisions,YY_START){function strip(start,end){return yy_.yytext=yy_.yytext.substr(start,yy_.yyleng-end)}switch($avoiding_name_collisions){case 0:if("\\\\"===yy_.yytext.slice(-2)?(strip(0,1),this.begin("mu")):"\\"===yy_.yytext.slice(-1)?(strip(0,1),this.begin("emu")):this.begin("mu"),yy_.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return strip(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:
return strip(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return yy_.yytext=strip(1,2).replace(/\\"/g,'"'),32;case 24:return yy_.yytext=strip(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:case 27:return 34;case 28:return 33;case 29:return 40;case 30:return yy_.yytext=strip(1,2),40;case 31:return"INVALID";case 32:return 5}},
lexer.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],
lexer.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},lexer}();return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}()}(),__module8__=function(__dependency1__,__dependency2__){"use strict";function parse(input){return input.constructor===AST.ProgramNode?input:(parser.yy=AST,parser.parse(input))}var __exports__={},parser=__dependency1__,AST=__dependency2__;return __exports__.parser=parser,__exports__.parse=parse,__exports__
}(__module9__,__module7__),__module10__=function(__dependency1__){"use strict";function Compiler(){}function precompile(input,options,env){if(null==input||"string"!=typeof input&&input.constructor!==env.AST.ProgramNode)throw new Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+input);"data"in(options=options||{})||(options.data=!0);var ast=env.parse(input),environment=(new env.Compiler).compile(ast,options);return(new env.JavaScriptCompiler).compile(environment,options)}function compile(input,options,env){function compileInput(){
var ast=env.parse(input),environment=(new env.Compiler).compile(ast,options),templateSpec=(new env.JavaScriptCompiler).compile(environment,options,void 0,!0);return env.template(templateSpec)}if(null==input||"string"!=typeof input&&input.constructor!==env.AST.ProgramNode)throw new Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+input);"data"in(options=options||{})||(options.data=!0);var compiled;return function(context,options){return compiled||(compiled=compileInput()),compiled.call(this,context,options)}}var __exports__={},Exception=__dependency1__;return __exports__.Compiler=Compiler,Compiler.prototype={
compiler:Compiler,disassemble:function(){for(var opcode,params,param,opcodes=this.opcodes,out=[],i=0,l=opcodes.length;i<l;i++)if(opcode=opcodes[i],"DECLARE"===opcode.opcode)out.push("DECLARE "+opcode.name+"="+opcode.value);else{params=[];for(var j=0;j<opcode.args.length;j++)param=opcode.args[j],"string"==typeof param&&(param='"'+param.replace("\n","\\n")+'"'),params.push(param);out.push(opcode.opcode+" "+params.join(" "))}return out.join("\n")},equals:function(other){var len=this.opcodes.length;if(other.opcodes.length!==len)return!1;for(var i=0;i<len;i++){var opcode=this.opcodes[i],otherOpcode=other.opcodes[i]
;if(opcode.opcode!==otherOpcode.opcode||opcode.args.length!==otherOpcode.args.length)return!1;for(var j=0;j<opcode.args.length;j++)if(opcode.args[j]!==otherOpcode.args[j])return!1}if(len=this.children.length,other.children.length!==len)return!1;for(i=0;i<len;i++)if(!this.children[i].equals(other.children[i]))return!1;return!0},guid:0,compile:function(program,options){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=options;var knownHelpers=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0},
knownHelpers)for(var name in knownHelpers)this.options.knownHelpers[name]=knownHelpers[name];return this.accept(program)},accept:function(node){var ret,strip=node.strip||{};return strip.left&&this.opcode("strip"),ret=this[node.type](node),strip.right&&this.opcode("strip"),ret},program:function(program){for(var statements=program.statements,i=0,l=statements.length;i<l;i++)this.accept(statements[i]);return this.isSimple=1===l,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(program){var depth,result=(new this.compiler).compile(program,this.options),guid=this.guid++
;this.usePartial=this.usePartial||result.usePartial,this.children[guid]=result;for(var i=0,l=result.depths.list.length;i<l;i++)(depth=result.depths.list[i])<2||this.addDepth(depth-1);return guid},block:function(block){var mustache=block.mustache,program=block.program,inverse=block.inverse;program&&(program=this.compileProgram(program)),inverse&&(inverse=this.compileProgram(inverse));var sexpr=mustache.sexpr,type=this.classifySexpr(sexpr);"helper"===type?this.helperSexpr(sexpr,program,inverse):"simple"===type?(this.simpleSexpr(sexpr),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),this.opcode("emptyHash"),
this.opcode("blockValue")):(this.ambiguousSexpr(sexpr,program,inverse),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(hash){var pair,val,pairs=hash.pairs;this.opcode("pushHash");for(var i=0,l=pairs.length;i<l;i++)pair=pairs[i],val=pair[1],this.options.stringParams?(val.depth&&this.addDepth(val.depth),this.opcode("getContext",val.depth||0),this.opcode("pushStringParam",val.stringModeValue,val.type),"sexpr"===val.type&&this.sexpr(val)):this.accept(val),this.opcode("assignToHash",pair[0]);this.opcode("popHash")},partial:function(partial){
var partialName=partial.partialName;this.usePartial=!0,partial.context?this.ID(partial.context):this.opcode("push","depth0"),this.opcode("invokePartial",partialName.name),this.opcode("append")},content:function(content){this.opcode("appendContent",content.string)},mustache:function(mustache){this.sexpr(mustache.sexpr),mustache.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(sexpr,program,inverse){var id=sexpr.id,name=id.parts[0],isBlock=null!=program||null!=inverse;this.opcode("getContext",id.depth),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),
this.opcode("invokeAmbiguous",name,isBlock)},simpleSexpr:function(sexpr){var id=sexpr.id;"DATA"===id.type?this.DATA(id):id.parts.length?this.ID(id):(this.addDepth(id.depth),this.opcode("getContext",id.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(sexpr,program,inverse){var params=this.setupFullMustacheParams(sexpr,program,inverse),name=sexpr.id.parts[0];if(this.options.knownHelpers[name])this.opcode("invokeKnownHelper",params.length,name);else{if(this.options.knownHelpersOnly)throw new Exception("You specified knownHelpersOnly, but used the unknown helper "+name,sexpr)
;this.opcode("invokeHelper",params.length,name,sexpr.isRoot)}},sexpr:function(sexpr){var type=this.classifySexpr(sexpr);"simple"===type?this.simpleSexpr(sexpr):"helper"===type?this.helperSexpr(sexpr):this.ambiguousSexpr(sexpr)},ID:function(id){this.addDepth(id.depth),this.opcode("getContext",id.depth),id.parts[0]?this.opcode("lookupOnContext",id.parts[0]):this.opcode("pushContext");for(var i=1,l=id.parts.length;i<l;i++)this.opcode("lookup",id.parts[i])},DATA:function(data){if(this.options.data=!0,data.id.isScoped||data.id.depth)throw new Exception("Scoped data references are not supported: "+data.original,data);this.opcode("lookupData")
;for(var parts=data.id.parts,i=0,l=parts.length;i<l;i++)this.opcode("lookup",parts[i])},STRING:function(string){this.opcode("pushString",string.string)},INTEGER:function(integer){this.opcode("pushLiteral",integer.integer)},BOOLEAN:function(bool){this.opcode("pushLiteral",bool.bool)},comment:function(){},opcode:function(name){this.opcodes.push({opcode:name,args:[].slice.call(arguments,1)})},declare:function(name,value){this.opcodes.push({opcode:"DECLARE",name:name,value:value})},addDepth:function(depth){0!==depth&&(this.depths[depth]||(this.depths[depth]=!0,this.depths.list.push(depth)))},classifySexpr:function(sexpr){
var isHelper=sexpr.isHelper,isEligible=sexpr.eligibleHelper,options=this.options;if(isEligible&&!isHelper){var name=sexpr.id.parts[0];options.knownHelpers[name]?isHelper=!0:options.knownHelpersOnly&&(isEligible=!1)}return isHelper?"helper":isEligible?"ambiguous":"simple"},pushParams:function(params){for(var param,i=params.length;i--;)param=params[i],this.options.stringParams?(param.depth&&this.addDepth(param.depth),this.opcode("getContext",param.depth||0),this.opcode("pushStringParam",param.stringModeValue,param.type),"sexpr"===param.type&&this.sexpr(param)):this[param.type](param)},setupFullMustacheParams:function(sexpr,program,inverse){
var params=sexpr.params;return this.pushParams(params),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),sexpr.hash?this.hash(sexpr.hash):this.opcode("emptyHash"),params}},__exports__.precompile=precompile,__exports__.compile=compile,__exports__}(__module5__),__module11__=function(__dependency1__,__dependency2__){"use strict";function Literal(value){this.value=value}function JavaScriptCompiler(){}var COMPILER_REVISION=__dependency1__.COMPILER_REVISION,REVISION_CHANGES=__dependency1__.REVISION_CHANGES,log=__dependency1__.log,Exception=__dependency2__;JavaScriptCompiler.prototype={nameLookup:function(parent,name){var wrap,ret
;return 0===parent.indexOf("depth")&&(wrap=!0),ret=/^[0-9]+$/.test(name)?parent+"["+name+"]":JavaScriptCompiler.isValidJavaScriptVariableName(name)?parent+"."+name:parent+"['"+name+"']",wrap?"("+parent+" && "+ret+")":ret},compilerInfo:function(){var revision=COMPILER_REVISION;return"this.compilerInfo = ["+revision+",'"+REVISION_CHANGES[revision]+"'];\n"},appendToBuffer:function(string){return this.environment.isSimple?"return "+string+";":{appendToBuffer:!0,content:string,toString:function(){return"buffer += "+string+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(environment,options,context,asObject){
this.environment=environment,this.options=options||{},log("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!context,this.context=context||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(environment,options);var opcode,opcodes=environment.opcodes;this.i=0;for(var l=opcodes.length;this.i<l;this.i++)opcode=opcodes[this.i],"DECLARE"===opcode.opcode?this[opcode.name]=opcode.value:this[opcode.opcode].apply(this,opcode.args),opcode.opcode!==this.stripNext&&(this.stripNext=!1)
;if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new Exception("Compile completed with content left on stack");return this.createFunctionContext(asObject)},preamble:function(){var out=[];if(this.isChild)out.push("");else{var namespace=this.namespace,copies="helpers = this.merge(helpers, "+namespace+".helpers);";this.environment.usePartial&&(copies=copies+" partials = this.merge(partials, "+namespace+".partials);"),this.options.data&&(copies+=" data = data || {};"),out.push(copies)}this.environment.isSimple?out.push(""):out.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=out},
createFunctionContext:function(asObject){var locals=this.stackVars.concat(this.registers.list);if(locals.length>0&&(this.source[1]=this.source[1]+", "+locals.join(", ")),!this.isChild)for(var alias in this.context.aliases)this.context.aliases.hasOwnProperty(alias)&&(this.source[1]=this.source[1]+", "+alias+"="+this.context.aliases[alias]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;")
;for(var params=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],i=0,l=this.environment.depths.list.length;i<l;i++)params.push("depth"+this.environment.depths.list[i]);var source=this.mergeSource();if(this.isChild||(source=this.compilerInfo()+source),asObject)return params.push(source),Function.apply(this,params);var functionSource="function "+(this.name||"")+"("+params.join(",")+") {\n  "+source+"}";return log("debug",functionSource+"\n\n"),functionSource},mergeSource:function(){for(var buffer,source="",i=0,len=this.source.length;i<len;i++){var line=this.source[i]
;line.appendToBuffer?buffer=buffer?buffer+"\n    + "+line.content:line.content:(buffer&&(source+="buffer += "+buffer+";\n  ",buffer=void 0),source+=line+"\n  ")}return source},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var params=["depth0"];this.setupParams(0,params),this.replaceStack(function(current){return params.splice(1,0,current),"blockHelperMissing.call("+params.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var params=["depth0"];this.setupParams(0,params);var current=this.topStack();params.splice(1,0,current),
this.pushSource("if (!"+this.lastHelper+") { "+current+" = blockHelperMissing.call("+params.join(", ")+"); }")},appendContent:function(content){this.pendingContent&&(content=this.pendingContent+content),this.stripNext&&(content=content.replace(/^\s+/,"")),this.pendingContent=content},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var local=this.popStack();this.pushSource("if("+local+" || "+local+" === 0) { "+this.appendToBuffer(local)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},
appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(depth){this.lastContext!==depth&&(this.lastContext=depth)},lookupOnContext:function(name){this.push(this.nameLookup("depth"+this.lastContext,name,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(current){return"typeof "+current+" === functionType ? "+current+".apply(depth0) : "+current})},lookup:function(name){
this.replaceStack(function(current){return current+" == null || "+current+" === false ? "+current+" : "+this.nameLookup(current,name,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(string,type){this.pushStackLiteral("depth"+this.lastContext),this.pushString(type),"sexpr"!==type&&("string"==typeof string?this.pushString(string):this.pushStackLiteral(string))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var hash=this.hash
;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+hash.contexts.join(",")+"}"),this.push("{"+hash.types.join(",")+"}")),this.push("{\n    "+hash.values.join(",\n    ")+"\n  }")},pushString:function(string){this.pushStackLiteral(this.quotedString(string))},push:function(expr){return this.inlineStack.push(expr),expr},pushLiteral:function(value){this.pushStackLiteral(value)},pushProgram:function(guid){null!=guid?this.pushStackLiteral(this.programExpression(guid)):this.pushStackLiteral(null)},invokeHelper:function(paramSize,name,isRoot){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper")
;var helper=this.lastHelper=this.setupHelper(paramSize,name,!0),nonHelper=this.nameLookup("depth"+this.lastContext,name,"context"),lookup="helper = "+helper.name+" || "+nonHelper;helper.paramsInit&&(lookup+=","+helper.paramsInit),this.push("("+lookup+",helper ? helper.call("+helper.callParams+") : helperMissing.call("+helper.helperMissingParams+"))"),isRoot||this.flushInline()},invokeKnownHelper:function(paramSize,name){var helper=this.setupHelper(paramSize,name);this.push(helper.name+".call("+helper.callParams+")")},invokeAmbiguous:function(name,helperCall){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash()
;var helper=this.setupHelper(0,name,helperCall),helperName=this.lastHelper=this.nameLookup("helpers",name,"helper"),nonHelper=this.nameLookup("depth"+this.lastContext,name,"context"),nextStack=this.nextStack();helper.paramsInit&&this.pushSource(helper.paramsInit),this.pushSource("if (helper = "+helperName+") { "+nextStack+" = helper.call("+helper.callParams+"); }"),this.pushSource("else { helper = "+nonHelper+"; "+nextStack+" = typeof helper === functionType ? helper.call("+helper.callParams+") : helper; }")},invokePartial:function(name){var params=[this.nameLookup("partials",name,"partial"),"'"+name+"'",this.popStack(),"helpers","partials"]
;this.options.data&&params.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+params.join(", ")+")")},assignToHash:function(key){var context,type,value=this.popStack();this.options.stringParams&&(type=this.popStack(),context=this.popStack());var hash=this.hash;context&&hash.contexts.push("'"+key+"': "+context),type&&hash.types.push("'"+key+"': "+type),hash.values.push("'"+key+"': ("+value+")")},compiler:JavaScriptCompiler,compileChildren:function(environment,options){for(var child,compiler,children=environment.children,i=0,l=children.length;i<l;i++){child=children[i],compiler=new this.compiler
;var index=this.matchExistingProgram(child);null==index?(this.context.programs.push(""),index=this.context.programs.length,child.index=index,child.name="program"+index,this.context.programs[index]=compiler.compile(child,options,this.context),this.context.environments[index]=child):(child.index=index,child.name="program"+index)}},matchExistingProgram:function(child){for(var i=0,len=this.context.environments.length;i<len;i++){var environment=this.context.environments[i];if(environment&&environment.equals(child))return i}},programExpression:function(guid){if(this.context.aliases.self="this",null==guid)return"self.noop"
;for(var depth,child=this.environment.children[guid],depths=child.depths.list,programParams=[child.index,child.name,"data"],i=0,l=depths.length;i<l;i++)depth=depths[i],1===depth?programParams.push("depth0"):programParams.push("depth"+(depth-1));return(0===depths.length?"self.program(":"self.programWithDepth(")+programParams.join(", ")+")"},register:function(name,val){this.useRegister(name),this.pushSource(name+" = "+val+";")},useRegister:function(name){this.registers[name]||(this.registers[name]=!0,this.registers.list.push(name))},pushStackLiteral:function(item){return this.push(new Literal(item))},pushSource:function(source){
this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),source&&this.source.push(source)},pushStack:function(item){this.flushInline();var stack=this.incrStack();return item&&this.pushSource(stack+" = "+item+";"),this.compileStack.push(stack),stack},replaceStack:function(callback){var stack,createdStack,usedLiteral,prefix="",inline=this.isInline();if(inline){var top=this.popStack(!0);if(top instanceof Literal)stack=top.value,usedLiteral=!0;else{createdStack=!this.stackSlot;var name=createdStack?this.incrStack():this.topStackName();prefix="("+this.push(name)+" = "+top+"),",
stack=this.topStack()}}else stack=this.topStack();var item=callback.call(this,stack);return inline?(usedLiteral||this.popStack(),createdStack&&this.stackSlot--,this.push("("+prefix+item+")")):(/^stack/.test(stack)||(stack=this.nextStack()),this.pushSource(stack+" = ("+prefix+item+");")),stack},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var inlineStack=this.inlineStack;if(inlineStack.length){this.inlineStack=[]
;for(var i=0,len=inlineStack.length;i<len;i++){var entry=inlineStack[i];entry instanceof Literal?this.compileStack.push(entry):this.pushStack(entry)}}},isInline:function(){return this.inlineStack.length},popStack:function(wrapped){var inline=this.isInline(),item=(inline?this.inlineStack:this.compileStack).pop();if(!wrapped&&item instanceof Literal)return item.value;if(!inline){if(!this.stackSlot)throw new Exception("Invalid stack pop");this.stackSlot--}return item},topStack:function(wrapped){var stack=this.isInline()?this.inlineStack:this.compileStack,item=stack[stack.length-1];return!wrapped&&item instanceof Literal?item.value:item},
quotedString:function(str){return'"'+str.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(paramSize,name,missingParams){var params=[];return{params:params,paramsInit:this.setupParams(paramSize,params,missingParams),name:this.nameLookup("helpers",name,"helper"),callParams:["depth0"].concat(params).join(", "),helperMissingParams:missingParams&&["depth0",this.quotedString(name)].concat(params).join(", ")}},setupOptions:function(paramSize,params){var param,inverse,program,options=[],contexts=[],types=[];options.push("hash:"+this.popStack()),
this.options.stringParams&&(options.push("hashTypes:"+this.popStack()),options.push("hashContexts:"+this.popStack())),inverse=this.popStack(),((program=this.popStack())||inverse)&&(program||(this.context.aliases.self="this",program="self.noop"),inverse||(this.context.aliases.self="this",inverse="self.noop"),options.push("inverse:"+inverse),options.push("fn:"+program));for(var i=0;i<paramSize;i++)param=this.popStack(),params.push(param),this.options.stringParams&&(types.push(this.popStack()),contexts.push(this.popStack()));return this.options.stringParams&&(options.push("contexts:["+contexts.join(",")+"]"),options.push("types:["+types.join(",")+"]")),
this.options.data&&options.push("data:data"),options},setupParams:function(paramSize,params,useRegister){var options="{"+this.setupOptions(paramSize,params).join(",")+"}";return useRegister?(this.useRegister("options"),params.push("options"),"options="+options):(params.push(options),"")}}
;for(var reservedWords="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),compilerWords=JavaScriptCompiler.RESERVED_WORDS={},i=0,l=reservedWords.length;i<l;i++)compilerWords[reservedWords[i]]=!0;return JavaScriptCompiler.isValidJavaScriptVariableName=function(name){
return!(JavaScriptCompiler.RESERVED_WORDS[name]||!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name))},JavaScriptCompiler}(__module2__,__module5__);return function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__){"use strict";var Handlebars=__dependency1__,AST=__dependency2__,Parser=__dependency3__.parser,parse=__dependency3__.parse,Compiler=__dependency4__.Compiler,compile=__dependency4__.compile,precompile=__dependency4__.precompile,JavaScriptCompiler=__dependency5__,_create=Handlebars.create,create=function(){var hb=_create();return hb.compile=function(input,options){return compile(input,options,hb)},
hb.precompile=function(input,options){return precompile(input,options,hb)},hb.AST=AST,hb.Compiler=Compiler,hb.JavaScriptCompiler=JavaScriptCompiler,hb.Parser=Parser,hb.parse=parse,hb};return Handlebars=create(),Handlebars.create=create,Handlebars}(__module1__,__module7__,__module8__,__module10__,__module11__)}()}),define("text",["module"],function(module){"use strict"
;var text,fs,Cc,Ci,xpcIsWindows,progIds=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],xmlRegExp=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,bodyRegExp=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,hasLocation="undefined"!=typeof location&&location.href,defaultProtocol=hasLocation&&location.protocol&&location.protocol.replace(/\:/,""),defaultHostName=hasLocation&&location.hostname,defaultPort=hasLocation&&(location.port||void 0),buildMap={},masterConfig=module.config&&module.config()||{};return text={version:"2.0.10",strip:function(content){if(content){content=content.replace(xmlRegExp,"");var matches=content.match(bodyRegExp)
;matches&&(content=matches[1])}else content="";return content},jsEscape:function(content){return content.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:masterConfig.createXhr||function(){var xhr,i,progId;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(i=0;i<3;i+=1){progId=progIds[i];try{xhr=new ActiveXObject(progId)}catch(e){}if(xhr){progIds=[progId];break}}return xhr},parseName:function(name){
var modName,ext,temp,strip=!1,index=name.indexOf("."),isRelative=0===name.indexOf("./")||0===name.indexOf("../");return-1!==index&&(!isRelative||index>1)?(modName=name.substring(0,index),ext=name.substring(index+1,name.length)):modName=name,temp=ext||modName,index=temp.indexOf("!"),-1!==index&&(strip="strip"===temp.substring(index+1),temp=temp.substring(0,index),ext?ext=temp:modName=temp),{moduleName:modName,ext:ext,strip:strip}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(url,protocol,hostname,port){var uProtocol,uHostName,uPort,match=text.xdRegExp.exec(url);return!match||(uProtocol=match[2],uHostName=match[3],uHostName=uHostName.split(":"),
uPort=uHostName[1],uHostName=uHostName[0],!(uProtocol&&uProtocol!==protocol||uHostName&&uHostName.toLowerCase()!==hostname.toLowerCase()||(uPort||uHostName)&&uPort!==port))},finishLoad:function(name,strip,content,onLoad){content=strip?text.strip(content):content,masterConfig.isBuild&&(buildMap[name]=content),onLoad(content)},load:function(name,req,onLoad,config){if(config.isBuild&&!config.inlineText)return void onLoad();masterConfig.isBuild=config.isBuild;var parsed=text.parseName(name),nonStripName=parsed.moduleName+(parsed.ext?"."+parsed.ext:""),url=req.toUrl(nonStripName),useXhr=masterConfig.useXhr||text.useXhr
;if(0===url.indexOf("empty:"))return void onLoad();!hasLocation||useXhr(url,defaultProtocol,defaultHostName,defaultPort)?text.get(url,function(content){text.finishLoad(name,parsed.strip,content,onLoad)},function(err){onLoad.error&&onLoad.error(err)}):req([nonStripName],function(content){text.finishLoad(parsed.moduleName+"."+parsed.ext,parsed.strip,content,onLoad)})},write:function(pluginName,moduleName,write,config){if(buildMap.hasOwnProperty(moduleName)){var content=text.jsEscape(buildMap[moduleName]);write.asModule(pluginName+"!"+moduleName,"define(function () { return '"+content+"';});\n")}},writeFile:function(pluginName,moduleName,req,write,config){
var parsed=text.parseName(moduleName),extPart=parsed.ext?"."+parsed.ext:"",nonStripName=parsed.moduleName+extPart,fileName=req.toUrl(parsed.moduleName+extPart)+".js";text.load(nonStripName,req,function(value){var textWrite=function(contents){return write(fileName,contents)};textWrite.asModule=function(moduleName,contents){return write.asModule(moduleName,fileName,contents)},text.write(pluginName,nonStripName,textWrite,config)},config)}},"node"===masterConfig.env||!masterConfig.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(fs=require.nodeRequire("fs"),text.get=function(url,callback,errback){try{
var file=fs.readFileSync(url,"utf8");0===file.indexOf("\ufeff")&&(file=file.substring(1)),callback(file)}catch(e){errback(e)}}):"xhr"===masterConfig.env||!masterConfig.env&&text.createXhr()?text.get=function(url,callback,errback,headers){var header,xhr=text.createXhr();if(xhr.open("GET",url,!0),headers)for(header in headers)headers.hasOwnProperty(header)&&xhr.setRequestHeader(header.toLowerCase(),headers[header]);masterConfig.onXhr&&masterConfig.onXhr(xhr,url),xhr.onreadystatechange=function(evt){var status,err;4===xhr.readyState&&(status=xhr.status,status>399&&status<600?(err=new Error(url+" HTTP status: "+status),err.xhr=xhr,
errback(err)):callback(xhr.responseText),masterConfig.onXhrComplete&&masterConfig.onXhrComplete(xhr,url))},xhr.send(null)}:"rhino"===masterConfig.env||!masterConfig.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?text.get=function(url,callback){var stringBuffer,line,file=new java.io.File(url),lineSeparator=java.lang.System.getProperty("line.separator"),input=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file),"utf-8")),content="";try{for(stringBuffer=new java.lang.StringBuffer,line=input.readLine(),line&&line.length()&&65279===line.charAt(0)&&(line=line.substring(1)),
null!==line&&stringBuffer.append(line);null!==(line=input.readLine());)stringBuffer.append(lineSeparator),stringBuffer.append(line);content=String(stringBuffer.toString())}finally{input.close()}callback(content)}:("xpconnect"===masterConfig.env||!masterConfig.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(Cc=Components.classes,Ci=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),xpcIsWindows="@mozilla.org/windows-registry-key;1"in Cc,text.get=function(url,callback){var inStream,convertStream,fileObj,readData={};xpcIsWindows&&(url=url.replace(/\//g,"\\")),fileObj=new FileUtils.File(url)
;try{inStream=Cc["@mozilla.org/network/file-input-stream;1"].createInstance(Ci.nsIFileInputStream),inStream.init(fileObj,1,0,!1),convertStream=Cc["@mozilla.org/intl/converter-input-stream;1"].createInstance(Ci.nsIConverterInputStream),convertStream.init(inStream,"utf-8",inStream.available(),Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),convertStream.readString(inStream.available(),readData),convertStream.close(),inStream.close(),callback(readData.value)}catch(e){throw new Error((fileObj&&fileObj.path||"")+": "+e)}}),text}),define("json",["text"],function(text){function cacheBust(url){return url=url.replace(CACHE_BUST_FLAG,""),
(url+=url.indexOf("?")<0?"?":"&")+CACHE_BUST_QUERY_PARAM+"="+Math.round(2147483647*Math.random())}var CACHE_BUST_QUERY_PARAM="bust",CACHE_BUST_FLAG="!bust",jsonParse="undefined"!=typeof JSON&&"function"==typeof JSON.parse?JSON.parse:function(val){return eval("("+val+")")},buildMap={};return{load:function(name,req,onLoad,config){!config.isBuild||!1!==config.inlineJSON&&-1===name.indexOf(CACHE_BUST_QUERY_PARAM+"=")?text.get(req.toUrl(name),function(data){config.isBuild?(buildMap[name]=data,onLoad(data)):onLoad(jsonParse(data))},onLoad.error,{accept:"application/json"}):onLoad(null)},normalize:function(name,normalize){
return-1!==name.indexOf(CACHE_BUST_FLAG)&&(name=cacheBust(name)),normalize(name)},write:function(pluginName,moduleName,write){if(moduleName in buildMap){write('define("'+pluginName+"!"+moduleName+'", function(){ return '+buildMap[moduleName]+";});\n")}}}}),define("json!i18ntr/messages.json",function(){return{serial:"ea009cf4b2c73ce9a60a5cbaaf109cbc",date:1551280920,translations:{"Manage test takers":"Manage test-takers","Record and manage test takers.":"Record and manage test-takers.","Test takers library":"Test-takers library","Edit subject":"Edit test-taker","Test taker saved":"Test-taker saved","Test takers":"Test-takers",
"Test takers may be assigned to sets according to the relevant assessment context (Human resources management, education, edumetric monitoring, etc.).":"Assign test-takers to groups before scheduling tests for delivery.\0","The Test takers module allows to record and manage  test takers.":"Create and manage test-takers with as many properties as needed, such as name, address, gender, age, etc.\0"},version:"3.3.0-sprint96"}}),define("i18n",["json!i18ntr/messages.json","core/format"],function(i18nTr,format){"use strict";var translations=i18nTr.translations;return function(message){var localized=translations[message]||message
;return arguments.length>1&&(localized=format.apply(null,[localized].concat([].slice.call(arguments,1)))),localized}}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("lib/dompurify/purify",factory):global.DOMPurify=factory()}(this,function(){"use strict";function addToSet(set,array){setPrototypeOf&&setPrototypeOf(set,null);for(var l=array.length;l--;){var element=array[l];if("string"==typeof element){var lcElement=element.toLowerCase();lcElement!==element&&(Object.isFrozen(array)||(array[l]=lcElement),element=lcElement)}set[element]=!0}return set}
function clone(object){var newObject={},property=void 0;for(property in object)apply$1(hasOwnProperty,object,[property])&&(newObject[property]=object[property]);return newObject}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function createDOMPurify(){var window=arguments.length>0&&void 0!==arguments[0]?arguments[0]:getGlobal(),DOMPurify=function(root){return createDOMPurify(root)};if(DOMPurify.version="1.0.9",DOMPurify.removed=[],!window||!window.document||9!==window.document.nodeType)return DOMPurify.isSupported=!1,DOMPurify
;var originalDocument=window.document,useDOMParser=!1,removeTitle=!1,document=window.document,DocumentFragment=window.DocumentFragment,HTMLTemplateElement=window.HTMLTemplateElement,Node=window.Node,NodeFilter=window.NodeFilter,_window$NamedNodeMap=window.NamedNodeMap,NamedNodeMap=void 0===_window$NamedNodeMap?window.NamedNodeMap||window.MozNamedAttrMap:_window$NamedNodeMap,Text=window.Text,Comment=window.Comment,DOMParser=window.DOMParser,TrustedTypes=window.TrustedTypes;if("function"==typeof HTMLTemplateElement){var template=document.createElement("template");template.content&&template.content.ownerDocument&&(document=template.content.ownerDocument)}
var trustedTypesPolicy=_createTrustedTypesPolicy(TrustedTypes,originalDocument),emptyHTML=trustedTypesPolicy?trustedTypesPolicy.createHTML(""):"",_document=document,implementation=_document.implementation,createNodeIterator=_document.createNodeIterator,getElementsByTagName=_document.getElementsByTagName,createDocumentFragment=_document.createDocumentFragment,importNode=originalDocument.importNode,hooks={};DOMPurify.isSupported=implementation&&void 0!==implementation.createHTMLDocument&&9!==document.documentMode
;var MUSTACHE_EXPR$$1=MUSTACHE_EXPR,ERB_EXPR$$1=ERB_EXPR,DATA_ATTR$$1=DATA_ATTR,ARIA_ATTR$$1=ARIA_ATTR,IS_SCRIPT_OR_DATA$$1=IS_SCRIPT_OR_DATA,ATTR_WHITESPACE$$1=ATTR_WHITESPACE,IS_ALLOWED_URI$$1=IS_ALLOWED_URI,ALLOWED_TAGS=null,DEFAULT_ALLOWED_TAGS=addToSet({},[].concat(_toConsumableArray(html),_toConsumableArray(svg),_toConsumableArray(svgFilters),_toConsumableArray(mathMl),_toConsumableArray(text))),ALLOWED_ATTR=null,DEFAULT_ALLOWED_ATTR=addToSet({},[].concat(_toConsumableArray(html$1),_toConsumableArray(svg$1),_toConsumableArray(mathMl$1),_toConsumableArray(xml))),FORBID_TAGS=null,FORBID_ATTR=null,ALLOW_ARIA_ATTR=!0,ALLOW_DATA_ATTR=!0,ALLOW_UNKNOWN_PROTOCOLS=!1,SAFE_FOR_JQUERY=!1,SAFE_FOR_TEMPLATES=!1,WHOLE_DOCUMENT=!1,SET_CONFIG=!1,FORCE_BODY=!1,RETURN_DOM=!1,RETURN_DOM_FRAGMENT=!1,RETURN_DOM_IMPORT=!1,SANITIZE_DOM=!0,KEEP_CONTENT=!0,IN_PLACE=!1,USE_PROFILES={},FORBID_CONTENTS=addToSet({},["audio","head","math","script","style","template","svg","video"]),DATA_URI_TAGS=addToSet({},["audio","video","img","source","image"]),URI_SAFE_ATTRIBUTES=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),CONFIG=null,formElement=document.createElement("form"),_parseConfig=function(cfg){
CONFIG&&CONFIG===cfg||(cfg&&"object"===(void 0===cfg?"undefined":_typeof(cfg))||(cfg={}),ALLOWED_TAGS="ALLOWED_TAGS"in cfg?addToSet({},cfg.ALLOWED_TAGS):DEFAULT_ALLOWED_TAGS,ALLOWED_ATTR="ALLOWED_ATTR"in cfg?addToSet({},cfg.ALLOWED_ATTR):DEFAULT_ALLOWED_ATTR,FORBID_TAGS="FORBID_TAGS"in cfg?addToSet({},cfg.FORBID_TAGS):{},FORBID_ATTR="FORBID_ATTR"in cfg?addToSet({},cfg.FORBID_ATTR):{},USE_PROFILES="USE_PROFILES"in cfg&&cfg.USE_PROFILES,ALLOW_ARIA_ATTR=!1!==cfg.ALLOW_ARIA_ATTR,ALLOW_DATA_ATTR=!1!==cfg.ALLOW_DATA_ATTR,ALLOW_UNKNOWN_PROTOCOLS=cfg.ALLOW_UNKNOWN_PROTOCOLS||!1,SAFE_FOR_JQUERY=cfg.SAFE_FOR_JQUERY||!1,SAFE_FOR_TEMPLATES=cfg.SAFE_FOR_TEMPLATES||!1,
WHOLE_DOCUMENT=cfg.WHOLE_DOCUMENT||!1,RETURN_DOM=cfg.RETURN_DOM||!1,RETURN_DOM_FRAGMENT=cfg.RETURN_DOM_FRAGMENT||!1,RETURN_DOM_IMPORT=cfg.RETURN_DOM_IMPORT||!1,FORCE_BODY=cfg.FORCE_BODY||!1,SANITIZE_DOM=!1!==cfg.SANITIZE_DOM,KEEP_CONTENT=!1!==cfg.KEEP_CONTENT,IN_PLACE=cfg.IN_PLACE||!1,IS_ALLOWED_URI$$1=cfg.ALLOWED_URI_REGEXP||IS_ALLOWED_URI$$1,SAFE_FOR_TEMPLATES&&(ALLOW_DATA_ATTR=!1),RETURN_DOM_FRAGMENT&&(RETURN_DOM=!0),USE_PROFILES&&(ALLOWED_TAGS=addToSet({},[].concat(_toConsumableArray(text))),ALLOWED_ATTR=[],!0===USE_PROFILES.html&&(addToSet(ALLOWED_TAGS,html),addToSet(ALLOWED_ATTR,html$1)),!0===USE_PROFILES.svg&&(addToSet(ALLOWED_TAGS,svg),
addToSet(ALLOWED_ATTR,svg$1),addToSet(ALLOWED_ATTR,xml)),!0===USE_PROFILES.svgFilters&&(addToSet(ALLOWED_TAGS,svgFilters),addToSet(ALLOWED_ATTR,svg$1),addToSet(ALLOWED_ATTR,xml)),!0===USE_PROFILES.mathMl&&(addToSet(ALLOWED_TAGS,mathMl),addToSet(ALLOWED_ATTR,mathMl$1),addToSet(ALLOWED_ATTR,xml))),cfg.ADD_TAGS&&(ALLOWED_TAGS===DEFAULT_ALLOWED_TAGS&&(ALLOWED_TAGS=clone(ALLOWED_TAGS)),addToSet(ALLOWED_TAGS,cfg.ADD_TAGS)),cfg.ADD_ATTR&&(ALLOWED_ATTR===DEFAULT_ALLOWED_ATTR&&(ALLOWED_ATTR=clone(ALLOWED_ATTR)),addToSet(ALLOWED_ATTR,cfg.ADD_ATTR)),cfg.ADD_URI_SAFE_ATTR&&addToSet(URI_SAFE_ATTRIBUTES,cfg.ADD_URI_SAFE_ATTR),KEEP_CONTENT&&(ALLOWED_TAGS["#text"]=!0),
WHOLE_DOCUMENT&&addToSet(ALLOWED_TAGS,["html","head","body"]),ALLOWED_TAGS.table&&addToSet(ALLOWED_TAGS,["tbody"]),freeze&&freeze(cfg),CONFIG=cfg)},_forceRemove=function(node){DOMPurify.removed.push({element:node});try{node.parentNode.removeChild(node)}catch(err){node.outerHTML=emptyHTML}},_removeAttribute=function(name,node){try{DOMPurify.removed.push({attribute:node.getAttributeNode(name),from:node})}catch(err){DOMPurify.removed.push({attribute:null,from:node})}node.removeAttribute(name)},_initDocument=function(dirty){var doc=void 0,leadingWhitespace=void 0;if(FORCE_BODY)dirty="<remove></remove>"+dirty;else{var matches=dirty.match(/^[\s]+/)
;leadingWhitespace=matches&&matches[0],leadingWhitespace&&(dirty=dirty.slice(leadingWhitespace.length))}if(useDOMParser)try{doc=(new DOMParser).parseFromString(dirty,"text/html")}catch(err){}if(removeTitle&&addToSet(FORBID_TAGS,["title"]),!doc||!doc.documentElement){doc=implementation.createHTMLDocument("");var _doc=doc,body=_doc.body;body.parentNode.removeChild(body.parentNode.firstElementChild),body.outerHTML=trustedTypesPolicy?trustedTypesPolicy.createHTML(dirty):dirty}return leadingWhitespace&&doc.body.insertBefore(document.createTextNode(leadingWhitespace),doc.body.childNodes[0]||null),getElementsByTagName.call(doc,WHOLE_DOCUMENT?"html":"body")[0]}
;DOMPurify.isSupported&&(function(){try{_initDocument('<svg><p><style><img src="</style><img src=x onerror=1//">').querySelector("svg img")&&(useDOMParser=!0)}catch(err){}}(),function(){try{_initDocument("<x/><title>&lt;/title&gt;&lt;img&gt;").querySelector("title").innerHTML.match(/<\/title/)&&(removeTitle=!0)}catch(err){}}());var _createIterator=function(root){return createNodeIterator.call(root.ownerDocument||root,root,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT,function(){return NodeFilter.FILTER_ACCEPT},!1)},_isClobbered=function(elm){
return!(elm instanceof Text||elm instanceof Comment)&&!("string"==typeof elm.nodeName&&"string"==typeof elm.textContent&&"function"==typeof elm.removeChild&&elm.attributes instanceof NamedNodeMap&&"function"==typeof elm.removeAttribute&&"function"==typeof elm.setAttribute)},_isNode=function(obj){return"object"===(void 0===Node?"undefined":_typeof(Node))?obj instanceof Node:obj&&"object"===(void 0===obj?"undefined":_typeof(obj))&&"number"==typeof obj.nodeType&&"string"==typeof obj.nodeName},_executeHook=function(entryPoint,currentNode,data){hooks[entryPoint]&&hooks[entryPoint].forEach(function(hook){hook.call(DOMPurify,currentNode,data,CONFIG)})
},_sanitizeElements=function(currentNode){var content=void 0;if(_executeHook("beforeSanitizeElements",currentNode,null),_isClobbered(currentNode))return _forceRemove(currentNode),!0;var tagName=currentNode.nodeName.toLowerCase();if(_executeHook("uponSanitizeElement",currentNode,{tagName:tagName,allowedTags:ALLOWED_TAGS}),!ALLOWED_TAGS[tagName]||FORBID_TAGS[tagName]){if(KEEP_CONTENT&&!FORBID_CONTENTS[tagName]&&"function"==typeof currentNode.insertAdjacentHTML)try{var htmlToInsert=currentNode.innerHTML;currentNode.insertAdjacentHTML("AfterEnd",trustedTypesPolicy?trustedTypesPolicy.createHTML(htmlToInsert):htmlToInsert)}catch(err){}
return _forceRemove(currentNode),!0}return!SAFE_FOR_JQUERY||currentNode.firstElementChild||currentNode.content&&currentNode.content.firstElementChild||!/</g.test(currentNode.textContent)||(DOMPurify.removed.push({element:currentNode.cloneNode()}),currentNode.innerHTML?currentNode.innerHTML=currentNode.innerHTML.replace(/</g,"&lt;"):currentNode.innerHTML=currentNode.textContent.replace(/</g,"&lt;")),SAFE_FOR_TEMPLATES&&3===currentNode.nodeType&&(content=currentNode.textContent,content=content.replace(MUSTACHE_EXPR$$1," "),content=content.replace(ERB_EXPR$$1," "),currentNode.textContent!==content&&(DOMPurify.removed.push({element:currentNode.cloneNode()}),
currentNode.textContent=content)),_executeHook("afterSanitizeElements",currentNode,null),!1},_isValidAttribute=function(lcTag,lcName,value){if(SANITIZE_DOM&&("id"===lcName||"name"===lcName)&&(value in document||value in formElement))return!1;if(SAFE_FOR_TEMPLATES&&(value=value.replace(MUSTACHE_EXPR$$1," "),value=value.replace(ERB_EXPR$$1," ")),ALLOW_DATA_ATTR&&DATA_ATTR$$1.test(lcName));else if(ALLOW_ARIA_ATTR&&ARIA_ATTR$$1.test(lcName));else{if(!ALLOWED_ATTR[lcName]||FORBID_ATTR[lcName])return!1
;if(URI_SAFE_ATTRIBUTES[lcName]);else if(IS_ALLOWED_URI$$1.test(value.replace(ATTR_WHITESPACE$$1,"")));else if("src"!==lcName&&"xlink:href"!==lcName||"script"===lcTag||0!==value.indexOf("data:")||!DATA_URI_TAGS[lcTag]){if(ALLOW_UNKNOWN_PROTOCOLS&&!IS_SCRIPT_OR_DATA$$1.test(value.replace(ATTR_WHITESPACE$$1,"")));else if(value)return!1}else;}return!0},_sanitizeAttributes=function(currentNode){var attr=void 0,value=void 0,lcName=void 0,idAttr=void 0,l=void 0;_executeHook("beforeSanitizeAttributes",currentNode,null);var attributes=currentNode.attributes;if(attributes){var hookEvent={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ALLOWED_ATTR}
;for(l=attributes.length;l--;){attr=attributes[l];var _attr=attr,name=_attr.name,namespaceURI=_attr.namespaceURI;if(value=attr.value.trim(),lcName=name.toLowerCase(),hookEvent.attrName=lcName,hookEvent.attrValue=value,hookEvent.keepAttr=!0,_executeHook("uponSanitizeAttribute",currentNode,hookEvent),value=hookEvent.attrValue,"name"===lcName&&"IMG"===currentNode.nodeName&&attributes.id)idAttr=attributes.id,attributes=apply(arraySlice,attributes,[]),_removeAttribute("id",currentNode),_removeAttribute(name,currentNode),attributes.indexOf(idAttr)>l&&currentNode.setAttribute("id",idAttr.value);else{
if("INPUT"===currentNode.nodeName&&"type"===lcName&&"file"===value&&(ALLOWED_ATTR[lcName]||!FORBID_ATTR[lcName]))continue;"id"===name&&currentNode.setAttribute(name,""),_removeAttribute(name,currentNode)}if(hookEvent.keepAttr){var lcTag=currentNode.nodeName.toLowerCase();if(_isValidAttribute(lcTag,lcName,value))try{namespaceURI?currentNode.setAttributeNS(namespaceURI,name,value):currentNode.setAttribute(name,value),DOMPurify.removed.pop()}catch(err){}}}_executeHook("afterSanitizeAttributes",currentNode,null)}},_sanitizeShadowDOM=function _sanitizeShadowDOM(fragment){var shadowNode=void 0,shadowIterator=_createIterator(fragment)
;for(_executeHook("beforeSanitizeShadowDOM",fragment,null);shadowNode=shadowIterator.nextNode();)_executeHook("uponSanitizeShadowNode",shadowNode,null),_sanitizeElements(shadowNode)||(shadowNode.content instanceof DocumentFragment&&_sanitizeShadowDOM(shadowNode.content),_sanitizeAttributes(shadowNode));_executeHook("afterSanitizeShadowDOM",fragment,null)};return DOMPurify.sanitize=function(dirty,cfg){var body=void 0,importedNode=void 0,currentNode=void 0,oldNode=void 0,returnNode=void 0;if(dirty||(dirty="\x3c!--\x3e"),"string"!=typeof dirty&&!_isNode(dirty)){if("function"!=typeof dirty.toString)throw new TypeError("toString is not a function")
;if("string"!=typeof(dirty=dirty.toString()))throw new TypeError("dirty is not a string, aborting")}if(!DOMPurify.isSupported){if("object"===_typeof(window.toStaticHTML)||"function"==typeof window.toStaticHTML){if("string"==typeof dirty)return window.toStaticHTML(dirty);if(_isNode(dirty))return window.toStaticHTML(dirty.outerHTML)}return dirty}if(SET_CONFIG||_parseConfig(cfg),DOMPurify.removed=[],IN_PLACE);else if(dirty instanceof Node)body=_initDocument("\x3c!--\x3e"),importedNode=body.ownerDocument.importNode(dirty,!0),1===importedNode.nodeType&&"BODY"===importedNode.nodeName?body=importedNode:body.appendChild(importedNode);else{
if(!RETURN_DOM&&!WHOLE_DOCUMENT&&-1===dirty.indexOf("<"))return trustedTypesPolicy?trustedTypesPolicy.createHTML(dirty):dirty;if(!(body=_initDocument(dirty)))return RETURN_DOM?null:emptyHTML}body&&FORCE_BODY&&_forceRemove(body.firstChild);for(var nodeIterator=_createIterator(IN_PLACE?dirty:body);currentNode=nodeIterator.nextNode();)3===currentNode.nodeType&&currentNode===oldNode||_sanitizeElements(currentNode)||(currentNode.content instanceof DocumentFragment&&_sanitizeShadowDOM(currentNode.content),_sanitizeAttributes(currentNode),oldNode=currentNode);if(oldNode=null,IN_PLACE)return dirty;if(RETURN_DOM){
if(RETURN_DOM_FRAGMENT)for(returnNode=createDocumentFragment.call(body.ownerDocument);body.firstChild;)returnNode.appendChild(body.firstChild);else returnNode=body;return RETURN_DOM_IMPORT&&(returnNode=importNode.call(originalDocument,returnNode,!0)),returnNode}var serializedHTML=WHOLE_DOCUMENT?body.outerHTML:body.innerHTML;return trustedTypesPolicy?trustedTypesPolicy.createHTML(serializedHTML):serializedHTML},DOMPurify.setConfig=function(cfg){_parseConfig(cfg),SET_CONFIG=!0},DOMPurify.clearConfig=function(){CONFIG=null,SET_CONFIG=!1},DOMPurify.isValidAttribute=function(tag,attr,value){CONFIG||_parseConfig({})
;var lcTag=tag.toLowerCase(),lcName=attr.toLowerCase();return _isValidAttribute(lcTag,lcName,value)},DOMPurify.addHook=function(entryPoint,hookFunction){"function"==typeof hookFunction&&(hooks[entryPoint]=hooks[entryPoint]||[],hooks[entryPoint].push(hookFunction))},DOMPurify.removeHook=function(entryPoint){hooks[entryPoint]&&hooks[entryPoint].pop()},DOMPurify.removeHooks=function(entryPoint){hooks[entryPoint]&&(hooks[entryPoint]=[])},DOMPurify.removeAllHooks=function(){hooks={}},DOMPurify}var freeze$1=Object.freeze||function(x){return x
},html=freeze$1(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg=freeze$1(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),svgFilters=freeze$1(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),mathMl=freeze$1(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),text=freeze$1(["#text"]),freeze$2=Object.freeze||function(x){
return x
},html$1=freeze$2(["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"]),svg$1=freeze$2(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl$1=freeze$2(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze$2(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),hasOwnProperty=Object.hasOwnProperty,setPrototypeOf=Object.setPrototypeOf,_ref$1="undefined"!=typeof Reflect&&Reflect,apply$1=_ref$1.apply
;apply$1||(apply$1=function(fun,thisValue,args){return fun.apply(thisValue,args)});var seal=Object.seal||function(x){return x},MUSTACHE_EXPR=seal(/\{\{[\s\S]*|[\s\S]*\}\}/gm),ERB_EXPR=seal(/<%[\s\S]*|[\s\S]*%>/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){
return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_ref="undefined"!=typeof Reflect&&Reflect,apply=_ref.apply,arraySlice=Array.prototype.slice,freeze=Object.freeze,getGlobal=function(){return"undefined"==typeof window?null:window};apply||(apply=function(fun,thisValue,args){return fun.apply(thisValue,args)});var _createTrustedTypesPolicy=function(trustedTypes,document){if("object"!==(void 0===trustedTypes?"undefined":_typeof(trustedTypes))||"function"!=typeof trustedTypes.createPolicy)return null;var suffix=null
;document.currentScript&&document.currentScript.hasAttribute("data-tt-policy-suffix")&&(suffix=document.currentScript.getAttribute("data-tt-policy-suffix"));var policyName="dompurify"+(suffix?"#"+suffix:"");try{return trustedTypes.createPolicy(policyName,{createHTML:function(html$$1){return html$$1}})}catch(e){return console.warn("TrustedTypes policy "+policyName+" could not be created."),null}};return createDOMPurify()}),define("tpl",["handlebars","i18n","lodash","lib/dompurify/purify"],function(hb,__,_,DOMPurify){"use strict";var buildMap={},extension=".tpl";return hb.registerHelper("__",function(key){return __(key)}),
hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment="";null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"==typeof value&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),
fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret="";startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)}),{load:function(name,req,onload,config){
extension=extension||config.extension,config.isBuild?(buildMap[name]=fs.readFileSync(req.toUrl(name+extension)).toString().trim(),onload()):req(["text!"+name+extension],function(raw){onload(function(){return hb.compile(raw).apply(hb,arguments).trim()})})},write:function(pluginName,moduleName,write){var compiled;moduleName in buildMap&&(compiled=hb.precompile(buildMap[moduleName]),write("define('tpl!"+moduleName+"', ['handlebars'], function(hb){ \nreturn hb.template("+compiled.toString()+");\n});\n"))}}}),define("tpl!ui/component/tpl/component",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){
return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{},'<div class="component"></div>'})}),define("ui/component",["jquery","lodash","core/eventifier","tpl!ui/component/tpl/component"],function($,_,eventifier,defaultTpl){"use strict";function delegatedResize(){var width=this.config.width,height=this.config.height,$container=this.getContainer(),$element=this.getElement();$container&&("auto"===width&&(width=$container.width()),"auto"===height&&(height=$container.height())),$element&&(_.isNumber(width)&&$element.css({width:width+"px"}),_.isNumber(height)&&$element.css({height:height+"px"})),this._width=width,
this._height=height}function component(specs,defaults){var $container,componentTpl=defaultTpl,componentState={},componentApi={init:function(config){return this.config=_(config||{}).omit(function(value){return null===value||void 0===value}).defaults(defaults||{}).value(),componentState={},this.trigger("init"),this.config.renderTo&&($container=$(this.config.renderTo),this.render()),this},destroy:function(){return this.trigger("destroy"),this.$component&&this.$component.remove(),this.$component=null,componentState={},this},render:function(container){return container&&($container=$(container)),this.$component=$(componentTpl(this.config)),
$container&&(this.config.replace&&$container.empty(),$container.append(this.$component)),this.setState("rendered",!0),delegatedResize.call(this),this.trigger("render",this.$component),this},setSize:function(width,height){return this.config.width=width,this.config.height=height,this.is("rendered")&&delegatedResize.call(this),this.trigger("setsize",width,height),this},getSize:function(){if(this.is("rendered"))return{width:this._width||0,height:this._height||0}},getOuterSize:function(includeMargin){var $component;if(this.is("rendered"))return $component=this.getElement(),includeMargin=includeMargin||!1,{width:Math.round($component.outerWidth(includeMargin)),
height:Math.round($component.outerHeight(includeMargin))}},show:function(){return this.trigger("show",this),this.setState("hidden",!1)},hide:function(){return this.trigger("hide",this),this.setState("hidden",!0)},enable:function(){return this.trigger("enable",this),this.setState("disabled",!1)},disable:function(){return this.trigger("disable",this),this.setState("disabled",!0)},is:function(state){return!!componentState[state]},setState:function(state,flag){return flag=!!flag,componentState[state]=flag,this.$component&&this.$component.toggleClass(state,flag),this.trigger("state",state,flag,this),this},getContainer:function(){return $container},
getElement:function(){return this.$component},getTemplate:function(){return componentTpl},setTemplate:function(template){var tpl=template||defaultTpl;return componentTpl=tpl,_.isFunction(componentTpl)||(componentTpl=function(){return tpl}),this.trigger("template",componentTpl),this},getConfig:function(){return this.config||defaults||{}}};return specs&&_(specs).functions().forEach(function(method){componentApi[method]=function(){return specs[method].apply(componentApi,_slice.call(arguments))}}),eventifier(componentApi)}var _slice=[].slice;return component}),define("util/regexEscape",[],function(){"use strict";return function(s){
return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}}),define("util/wrapLongWords",["util/regexEscape"],function(regexEscape){"use strict";function wrapLongWords(str,threshold){str=str.toString().replace(/([\w])</g,"$1 <");for(var cut,chunkExp=new RegExp(".{1,"+threshold+"}","g"),longWords=str.match(new RegExp("[\\S]{"+threshold+",}","g"))||[],i=longWords.length;i--;)cut=getCutTerm(longWords[i],chunkExp),str=str.replace(new RegExp(regexEscape(longWords[i]),"g"),cut);return str}var getCutTerm=function(longWord,chunkExp){
for(var cutTerms=longWord.match(chunkExp),i=cutTerms.length,oldFirst="",newFirst="",offenders=[".",":",";"];i--;)newFirst=cutTerms[i].charAt(0),offenders.indexOf(newFirst)>-1&&(cutTerms[i]=cutTerms[i].substr(1)),offenders.indexOf(oldFirst)>-1&&(cutTerms[i]=cutTerms[i]+oldFirst),oldFirst=newFirst;return cutTerms.join(" ")};return wrapLongWords}),define("util/encode",[],function(){"use strict";function encodeBase64(str){return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,function(match,p1){return String.fromCharCode("0x"+p1)}))}function decodeBase64(str){return decodeURIComponent(Array.prototype.map.call(atob(str),function(c){
return"%"+("00"+c.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var _reQuot=/"/g,_reApos=/'/g,encodeHTML=function(html){return document.createElement("a").appendChild(document.createTextNode(html)).parentNode.innerHTML};return{html:encodeHTML,attribute:function(html){return encodeHTML(html).replace(_reQuot,"&quot;").replace(_reApos,"&apos;")},encodeBase64:encodeBase64,decodeBase64:decodeBase64}}),define("tpl!ui/feedback/feedback",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){return"popup"}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),
data=data||{};var stack1,helper,options,buffer="",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;return buffer+='<div id="',(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" class="feedback feedback-',(helper=helpers.level)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.level,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+" ",
stack1=helpers.if.call(depth0,depth0&&depth0.popup,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='">\n    <span class="icon-',(helper=helpers.level)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.level,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"></span>\n    <div>\n        ',helper=helpers.dompurify||depth0&&depth0.dompurify,options={hash:{},data:data},stack1=helper?helper.call(depth0,depth0&&depth0.msg,options):helperMissing.call(depth0,"dompurify",depth0&&depth0.msg,options),
(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n    </div>\n    <span title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Close message",options):helperMissing.call(depth0,"__","Close message",options)))+'" class="icon-close" data-close=":parent .feedback"></span>\n</div>'})}),define("ui/feedback",["jquery","lodash","core/format","ui/component","util/wrapLongWords","util/encode","tpl!ui/feedback/feedback"],function($,_,format,component,wrapLongWords,encode,tpl){"use strict";var currents=[],levels=["info","success","warning","danger","error"],defaultOptions={timeout:{info:2e3,success:2e3,
warning:4e3,danger:4e3,error:8e3},wrapLongWordsAfter:40,encodeHtml:!0,popup:!0};return function($container,config){var feedback;if($container&&$container.length||($container=$("#feedback-box")),!$container.length)throw new TypeError("The feedback needs to belong to an existing container");return feedback=component({message:function(level,msg,params,options){var displayedMessage=msg;return level&&_.contains(levels,level)||(level="info"),_.isPlainObject(params)&&(options=params,params=[]),this.config=_.defaults(options||{},this.config),this.config.level=level,this.config.encodeHtml&&(displayedMessage=encode.html(displayedMessage)),
this.config.wrapLongWordsAfter&&(displayedMessage=wrapLongWords(displayedMessage,this.config.wrapLongWordsAfter)),_.isArray(params)&&params.length&&(displayedMessage=format.apply(format,[displayedMessage].concat(params))),this.config.msg=displayedMessage,this},info:function(msg,params,options){return this.message("info",msg,params,options).open()},success:function(msg,params,options){return this.message("success",msg,params,options).open()},warning:function(msg,params,options){return this.message("warning",msg,params,options).open()},danger:function(msg,params,options){return this.message("danger",msg,params,options).open()},
error:function(msg,params,options){return this.message("error",msg,params,options).open()},open:function(){return _(currents).reject(this).invoke("close"),this.display()},close:function(){this.is("rendered")&&this.destroy()},display:function(){return this.is("rendered")?this.show():this.render($container),this}},defaultOptions),feedback.setTemplate(tpl).on("init",function(){this.config.id="feedback-"+(currents.length+1),currents.push(this),$container.trigger("create.feedback")}).on("render",function(){
var self=this,$component=this.getElement(),$closer=$(".icon-close",$component),timeout=_.isPlainObject(this.config.timeout)?this.config.timeout[this.config.level]:this.config.timeout;$closer.off("click").on("click",function(e){e.preventDefault(),self.destroy()}),_.isNumber(timeout)&&timeout>0&&_.delay(function(){self.close()},timeout),$container.trigger("display.feedback")}).on("destroy",function(){$container.trigger("close.feedback"),_.remove(currents,this)}).init(config)}}),define("context",["module"],function(module){return module.config()}),define("urlParser",["lodash"],function(_){"use strict";function UrlParser(url){var detachedAnchor;this.url=url,
detachedAnchor=document.createElement("a"),detachedAnchor.href=url,this.data=_.pick(detachedAnchor,urlParts),this.params=UrlParser.extractParams(this.data.search)}var urlParts=["hash","host","hostname","pathname","port","protocol","search"];return UrlParser.extractParams=function(search){var params={};return search.replace(/^\?/,"").replace(/([^=&]+)=([^&]*)/g,function(m,key,value){params[decodeURIComponent(key)]=decodeURIComponent(value)}),params},UrlParser.prototype.get=function(what){return!!_.contains(urlParts,what)&&this.data[what]},UrlParser.prototype.getParams=function(){return this.params},UrlParser.prototype.setParams=function(params){
_.isObject(params)&&(this.params=params)},UrlParser.prototype.addParam=function(key,value){key&&(this.params[key]=value)},UrlParser.prototype.getPaths=function(){return this.data.pathname.replace(/^\/|\/$/g,"").split("/")},UrlParser.prototype.getUrl=function(exclude){var url="";return exclude=exclude||[],this.data&&(this.data.hostname&&!_.contains(exclude,"host")&&(url+=(this.data.protocol?this.data.protocol:"http:")+"//"+this.data.hostname.replace(/\/$/,""),this.data.port&&80!==this.data.port&&"80"!==this.data.port&&"0"!==this.data.port&&(url+=":"+this.data.port)),/\/$/.test(url)||/^\//.test(this.data.pathname)||(url+="/"),url+=this.data.pathname,
this.params&&!_.contains(exclude,"params")&&(url+="?",_.forEach(this.params,function(value,key){url+=encodeURIComponent(key)+"="+encodeURIComponent(value)+"&"}),url=url.substring(0,url.length-1)),this.data.hash&&!_.contains(exclude,"hash")&&(url+=this.data.hash)),url},UrlParser.prototype.getBaseUrl=function(){var baseUrl=this.getUrl(["params","hash"]),paths=this.getPaths(),lastPart=paths[paths.length-1];return paths.length>0&&/\.[a-z]+$/.test(lastPart)&&(baseUrl=baseUrl.replace(lastPart,"").replace(/\/\/$/,"/")),baseUrl},UrlParser.prototype.sameDomain=function(url){var parsedUrl;if(void 0===url&&(parsedUrl=new UrlParser(window.location)),
"string"==typeof url&&(parsedUrl=new UrlParser(url)),url instanceof UrlParser&&(parsedUrl=url),!(parsedUrl instanceof UrlParser))throw new TypeError("Invalid url format");return"data:"===this.get("protocol")||"data:"===parsedUrl.get("protocol")||this.get("protocol")===parsedUrl.get("protocol")&&this.get("hostname")===parsedUrl.get("hostname")&&this.get("port")===parsedUrl.get("port")},UrlParser.prototype.checkCORS=UrlParser.prototype.sameDomain,UrlParser}),define("core/router",["lodash","context","urlParser","core/logger","core/promise"],function(_,context,UrlParser,loggerFactory,Promise){"use strict";var logger=loggerFactory("router");return{
dispatch:function(urls,cb){var self=this;return _.isArray(urls)||(urls=[urls]),Promise.all(urls.map(function(url){return self.dispatchUrl(url)})).then(function(){_.isFunction(cb)&&cb()}).catch(function(err){logger.error(err)})},parseMvcUrl:function(url){var parser,paths,route=null;return _.isString(url)&&!_.isEmpty(url)&&(parser=new UrlParser(url),paths=parser.getPaths(),paths.length>=3&&(route={action:paths[paths.length-1],module:paths[paths.length-2],extension:paths[paths.length-3],params:parser.getParams()})),route},loadRouteBundle:function(route){return route&&route.extension&&context.bundle&&"tao"!==route.extension?new Promise(function(resolve){
var routeBundle=route.extension+"/loader/"+route.extension+".min";window.require([routeBundle],resolve,function(err){logger.warn("Unable to load "+routeBundle+" : "+err.message),resolve()})}):Promise.resolve()},loadRoute:function(route){return route&&route.extension?new Promise(function(resolve,reject){var routeModule="tao"===route.extension?"controller/routes":route.extension+"/controller/routes";window.require([routeModule],resolve,reject)}):Promise.resolve()},dispatchUrl:function(url){var self=this,route=this.parseMvcUrl(url);return logger.debug("Dispatch URL "+url),this.loadRouteBundle(route).then(function(){return self.loadRoute(route)
}).then(function(routes){var moduleRoutes,action,dependencies=[],styles=[],moduleConfig={},mapStyle=function(style){return"css!"+route.extension+"Css/"+style};return routes&&routes[route.module]&&(moduleRoutes=routes[route.module],moduleRoutes.deps&&(dependencies=dependencies.concat(moduleRoutes.deps)),moduleRoutes.css&&(styles=_.isArray(moduleRoutes.css)?moduleRoutes.css:[moduleRoutes.css],dependencies=dependencies.concat(_.map(styles,mapStyle))),(moduleRoutes.actions&&moduleRoutes.actions[route.action]||moduleRoutes[route.action])&&(action=moduleRoutes.actions[route.action]||moduleRoutes[route.action],
(_.isString(action)||_.isArray(action))&&(dependencies=dependencies.concat(action)),action.deps&&(dependencies=dependencies.concat(action.deps)),action.css&&(styles=_.isArray(action.css)?action.css:[action.css],dependencies=dependencies.concat(_.map(styles,mapStyle)))),dependencies=_.map(dependencies,function(dep){return/^controller/.test(dep)&&"tao"!==route.extension?route.extension+"/"+dep:dep}),_.isEmpty(route.params)||(_.forEach(dependencies,function(dependency){moduleConfig[dependency]=_.merge(_.clone(window.requirejs.s.contexts._.config.config[dependency]||{}),route.params)}),window.requirejs.config({config:moduleConfig}))),dependencies
}).then(function(dependencies){if(dependencies&&dependencies.length)return logger.debug("Load controllers : "+dependencies.join(", ")),new Promise(function(resolve,reject){window.require(dependencies,function(){_.forEach(arguments,function(dependency){dependency&&_.isFunction(dependency.start)&&dependency.start()}),logger.debug(arguments.length+" controllers started"),resolve()},reject)})})}}}),define("app/core/router",["lodash","module","core/eventifier","core/logger","core/router"],function(_,module,eventifier,loggerFactory,router){"use strict";var last=Promise.resolve(),config=_.defaults(module.config()||{},{timeout:5e3
}),logger=loggerFactory("app/service/router");return eventifier({dispatch:function(route,params){var self=this,taoRoute=route;return route.split("/").length<=2&&(taoRoute="app/"+route),logger.debug("Dispatching route "+route+"("+taoRoute+")"),self.trigger("dispatching",route,taoRoute,params),last.then(function(){var current=Promise.race([router.dispatch(taoRoute).then(function(){return!1}),new Promise(function(resolve){setTimeout(function(){return resolve(!0)},config.timeout)})]);return last=current,current}).then(function(timeout){if(!0===timeout)throw new Error("Timeout : unable to dispatch the route "+route)
;logger.debug("Route "+route+"("+taoRoute+") dispatched"),self.trigger("dispatched",route,taoRoute,params)})}})}),define("app/controller/pageController",["lodash","core/logger","ui/feedback","app/core/router"],function(_,loggerFactory,feedback,router){"use strict";var container,logger=loggerFactory("app/controller");return function(controller){if(!controller||!_.isFunction(controller.start))throw new TypeError("Invalid controller given");return _.assign(controller,{getContainer:function(){return container||(container=document.getElementById("page")),container},handleError:function(err){logger.error(err),feedback().error(err)},getLogger:function(name){
return _.isEmpty(name)?logger:logger.child({context:name})},getRouter:function(){return router},getParams:function(){try{return JSON.parse(container.dataset.params)}catch(err){logger.error(err)}return{}}})}}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define("moment",b):a.moment=b()}(this,function(){"use strict";function a(){return Rd.apply(null,arguments)}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[]
;for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return Da(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a)
;a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a){return void 0===a}function n(a,b){var c,d,e;if(m(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),m(b._i)||(a._i=b._i),m(b._f)||(a._f=b._f),m(b._l)||(a._l=b._l),m(b._strict)||(a._strict=b._strict),m(b._tzm)||(a._tzm=b._tzm),m(b._isUTC)||(a._isUTC=b._isUTC),m(b._offset)||(a._offset=b._offset),
m(b._pf)||(a._pf=j(b)),m(b._locale)||(a._locale=b._locale),Td.length>0)for(c in Td)d=Td[c],e=b[d],m(e)||(a[d]=e);return a}function o(b){n(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),!1===Ud&&(Ud=!0,a.updateOffset(this),Ud=!1)}function p(a){return a instanceof o||null!=a&&null!=a._isAMomentObject}function q(a){return 0>a?Math.ceil(a):Math.floor(a)}function r(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=q(b)),c}function s(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&r(a[d])!==r(b[d]))&&g++;return g+f}function t(){}function u(a){return a?a.toLowerCase().replace("_","-"):a}
function v(a){for(var b,c,d,e,f=0;f<a.length;){for(e=u(a[f]).split("-"),b=e.length,c=u(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=w(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&s(e,c,!0)>=b-1)break;b--}f++}return null}function w(a){var b=null;if(!Vd[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Sd._abbr,require("./locale/"+a),x(b)}catch(c){}return Vd[a]}function x(a,b){var c;return a&&(c=m(b)?z(a):y(a,b))&&(Sd=c),Sd._abbr}function y(a,b){return null!==b?(b.abbr=a,Vd[a]=Vd[a]||new t,Vd[a].set(b),x(a),Vd[a]):(delete Vd[a],null)}function z(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Sd;if(!c(a)){
if(b=w(a))return b;a=[a]}return v(a)}function A(a,b){var c=a.toLowerCase();Wd[c]=Wd[c+"s"]=Wd[b]=a}function B(a){return"string"==typeof a?Wd[a]||Wd[a.toLowerCase()]:void 0}function C(a){var b,c,d={};for(c in a)f(a,c)&&(b=B(c))&&(d[b]=a[c]);return d}function D(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function E(b,c){return function(d){return null!=d?(G(this,b,d),a.updateOffset(this,c),this):F(this,b)}}function F(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function G(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function H(a,b){var c
;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=B(a),D(this[a]))return this[a](b);return this}function I(a,b,c){var d=""+Math.abs(a),e=b-d.length;return(a>=0?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function J(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&($d[a]=e),b&&($d[b[0]]=function(){return I(e.apply(this,arguments),b[1],b[2])}),c&&($d[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function K(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function L(a){var b,c,d=a.match(Xd);for(b=0,c=d.length;c>b;b++)$d[d[b]]?d[b]=$d[d[b]]:d[b]=K(d[b])
;return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function M(a,b){return a.isValid()?(b=N(b,a.localeData()),Zd[b]=Zd[b]||L(b),Zd[b](a)):a.localeData().invalidDate()}function N(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Yd.lastIndex=0;d>=0&&Yd.test(a);)a=a.replace(Yd,c),Yd.lastIndex=0,d-=1;return a}function O(a,b,c){qe[a]=D(b)?b:function(a,d){return a&&c?c:b}}function P(a,b){return f(qe,a)?qe[a](b._strict,b._locale):new RegExp(Q(a))}function Q(a){return R(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function R(a){
return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function S(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=r(a)}),c=0;c<a.length;c++)re[a[c]]=d}function T(a,b){S(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function U(a,b,c){null!=b&&f(re,a)&&re[a](b,c._a,c,a)}function V(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function W(a,b){return c(this._months)?this._months[a.month()]:this._months[Be.test(b)?"format":"standalone"][a.month()]}function X(a,b){return c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[Be.test(b)?"format":"standalone"][a.month()]}function Y(a,b,c){var d,e,f
;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function Z(a,b){var c
;return a.isValid()?"string"==typeof b&&"number"!=typeof(b=a.localeData().monthsParse(b))?a:(c=Math.min(a.date(),V(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a):a}function $(b){return null!=b?(Z(this,b),a.updateOffset(this,!0),this):F(this,"Month")}function _(){return V(this.year(),this.month())}function aa(a){return this._monthsParseExact?(f(this,"_monthsRegex")||ca.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex}function ba(a){return this._monthsParseExact?(f(this,"_monthsRegex")||ca.call(this),
a?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex}function ca(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;12>b;b++)c=h([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;12>b;b++)d[b]=R(d[b]),e[b]=R(e[b]),f[b]=R(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")$","i")}function da(a){
var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[te]<0||c[te]>11?te:c[ue]<1||c[ue]>V(c[se],c[te])?ue:c[ve]<0||c[ve]>24||24===c[ve]&&(0!==c[we]||0!==c[xe]||0!==c[ye])?ve:c[we]<0||c[we]>59?we:c[xe]<0||c[xe]>59?xe:c[ye]<0||c[ye]>999?ye:-1,j(a)._overflowDayOfYear&&(se>b||b>ue)&&(b=ue),j(a)._overflowWeeks&&-1===b&&(b=ze),j(a)._overflowWeekday&&-1===b&&(b=Ae),j(a).overflow=b),a}function ea(b){!1===a.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function fa(a,b){var c=!0;return g(function(){return c&&(ea(a+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),c=!1),
b.apply(this,arguments)},b)}function ga(a,b){Ge[a]||(ea(b),Ge[a]=!0)}function ha(a){var b,c,d,e,f,g,h=a._i,i=He.exec(h)||Ie.exec(h);if(i){for(j(a).iso=!0,b=0,c=Ke.length;c>b;b++)if(Ke[b][1].exec(i[1])){e=Ke[b][0],d=!1!==Ke[b][2];break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Le.length;c>b;b++)if(Le[b][1].exec(i[3])){f=(i[2]||" ")+Le[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Je.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),wa(a)}else a._isValid=!1}function ia(b){var c=Me.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(ha(b),
void(!1===b._isValid&&(delete b._isValid,a.createFromInputFallback(b))))}function ja(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 100>a&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function ka(a){var b=new Date(Date.UTC.apply(null,arguments));return 100>a&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function la(a){return ma(a)?366:365}function ma(a){return a%4==0&&a%100!=0||a%400==0}function na(){return ma(this.year())}function oa(a,b,c){var d=7+b-c;return-(7+ka(a,0,d).getUTCDay()-b)%7+d-1}function pa(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=oa(a,d,e),j=1+7*(b-1)+h+i;return 0>=j?(f=a-1,g=la(f)+j):j>la(a)?(f=a+1,g=j-la(a)):(f=a,g=j),{
year:f,dayOfYear:g}}function qa(a,b,c){var d,e,f=oa(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return 1>g?(e=a.year()-1,d=g+ra(e,b,c)):g>ra(a.year(),b,c)?(d=g-ra(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function ra(a,b,c){var d=oa(a,b,c),e=oa(a+1,b,c);return(la(a)-d+e)/7}function sa(a,b,c){return null!=a?a:null!=b?b:c}function ta(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function ua(a){var b,c,d,e,f=[];if(!a._d){for(d=ta(a),a._w&&null==a._a[ue]&&null==a._a[te]&&va(a),a._dayOfYear&&(e=sa(a._a[se],d[se]),
a._dayOfYear>la(e)&&(j(a)._overflowDayOfYear=!0),c=ka(e,0,a._dayOfYear),a._a[te]=c.getUTCMonth(),a._a[ue]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[ve]&&0===a._a[we]&&0===a._a[xe]&&0===a._a[ye]&&(a._nextDay=!0,a._a[ve]=0),a._d=(a._useUTC?ka:ja).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[ve]=24)}}function va(a){var b,c,d,e,f,g,h,i;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=sa(b.GG,a._a[se],qa(Ea(),1,4).year),d=sa(b.W,1),(1>(e=sa(b.E,1))||e>7)&&(i=!0)):(f=a._locale._week.dow,g=a._locale._week.doy,
c=sa(b.gg,a._a[se],qa(Ea(),f,g).year),d=sa(b.w,1),null!=b.d?(0>(e=b.d)||e>6)&&(i=!0):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f),1>d||d>ra(c,f,g)?j(a)._overflowWeeks=!0:null!=i?j(a)._overflowWeekday=!0:(h=pa(c,d,e,f,g),a._a[se]=h.year,a._dayOfYear=h.dayOfYear)}function wa(b){if(b._f===a.ISO_8601)return void ha(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=N(b._f,b._locale).match(Xd)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(P(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),$d[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),
U(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),!0===j(b).bigHour&&b._a[ve]<=12&&b._a[ve]>0&&(j(b).bigHour=void 0),b._a[ve]=xa(b._locale,b._a[ve],b._meridiem),ua(b),da(b)}function xa(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function ya(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=n({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],wa(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,
(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function za(a){if(!a._d){var b=C(a._i);a._a=e([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),ua(a)}}function Aa(a){var b=new o(da(Ba(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function Ba(a){var b=a._i,e=a._f;return a._locale=a._locale||z(a._l),null===b||void 0===e&&""===b?l({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),p(b)?new o(da(b)):(c(e)?ya(a):e?wa(a):d(b)?a._d=b:Ca(a),k(a)||(a._d=null),a))}function Ca(b){var f=b._i
;void 0===f?b._d=new Date(a.now()):d(f)?b._d=new Date(+f):"string"==typeof f?ia(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ua(b)):"object"==typeof f?za(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function Da(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,Aa(f)}function Ea(a,b,c,d){return Da(a,b,c,d,!1)}function Fa(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Ea();for(d=b[0],e=1;e<b.length;++e)(!b[e].isValid()||b[e][a](d))&&(d=b[e]);return d}function Ga(){return Fa("isBefore",[].slice.call(arguments,0))}
function Ha(){return Fa("isAfter",[].slice.call(arguments,0))}function Ia(a){var b=C(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=z(),this._bubble()}function Ja(a){return a instanceof Ia}function Ka(a,b){J(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+I(~~(a/60),2)+b+I(~~a%60,2)})}function La(a,b){var c=(b||"").match(a)||[],d=c[c.length-1]||[],e=(d+"").match(Re)||["-",0,0],f=60*e[1]+r(e[2]);return"+"===e[0]?f:-f}function Ma(b,c){var e,f
;return c._isUTC?(e=c.clone(),f=(p(b)||d(b)?+b:+Ea(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Ea(b).local()}function Na(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Oa(b,c){var d,e=this._offset||0;return this.isValid()?null!=b?("string"==typeof b?b=La(ne,b):Math.abs(b)<16&&(b*=60),!this._isUTC&&c&&(d=Na(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?cb(this,Za(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Na(this):null!=b?this:NaN}function Pa(a,b){
return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Qa(a){return this.utcOffset(0,a)}function Ra(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Na(this),"m")),this}function Sa(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(La(me,this._i)),this}function Ta(a){return!!this.isValid()&&(a=a?Ea(a).utcOffset():0,(this.utcOffset()-a)%60==0)}function Ua(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Va(){if(!m(this._isDSTShifted))return this._isDSTShifted;var a={};if(n(a,this),
a=Ba(a),a._a){var b=a._isUTC?h(a._a):Ea(a._a);this._isDSTShifted=this.isValid()&&s(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Wa(){return!!this.isValid()&&!this._isUTC}function Xa(){return!!this.isValid()&&this._isUTC}function Ya(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Za(a,b){var c,d,e,g=a,h=null;return Ja(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=Se.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:r(h[ue])*c,h:r(h[ve])*c,m:r(h[we])*c,s:r(h[xe])*c,ms:r(h[ye])*c}):(h=Te.exec(a))?(c="-"===h[1]?-1:1,g={y:$a(h[2],c),M:$a(h[3],c),d:$a(h[4],c),
h:$a(h[5],c),m:$a(h[6],c),s:$a(h[7],c),w:$a(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=ab(Ea(g.from),Ea(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ia(g),Ja(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function $a(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function _a(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function ab(a,b){var c;return a.isValid()&&b.isValid()?(b=Ma(b,a),a.isBefore(b)?c=_a(a,b):(c=_a(b,a),c.milliseconds=-c.milliseconds,
c.months=-c.months),c):{milliseconds:0,months:0}}function bb(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(ga(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Za(c,d),cb(this,e,a),this}}function cb(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;b.isValid()&&(e=null==e||e,f&&b._d.setTime(+b._d+f*d),g&&G(b,"Date",F(b,"Date")+g*d),h&&Z(b,F(b,"Month")+h*d),e&&a.updateOffset(b,g||h))}function db(a,b){
var c=a||Ea(),d=Ma(c,this).startOf("day"),e=this.diff(d,"days",!0),f=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse",g=b&&(D(b[f])?b[f]():b[f]);return this.format(g||this.localeData().calendar(f,this,Ea(c)))}function eb(){return new o(this)}function fb(a,b){var c=p(a)?a:Ea(a);return!(!this.isValid()||!c.isValid())&&(b=B(m(b)?"millisecond":b),"millisecond"===b?+this>+c:+c<+this.clone().startOf(b))}function gb(a,b){var c=p(a)?a:Ea(a);return!(!this.isValid()||!c.isValid())&&(b=B(m(b)?"millisecond":b),"millisecond"===b?+c>+this:+this.clone().endOf(b)<+c)}function hb(a,b,c){
return this.isAfter(a,c)&&this.isBefore(b,c)}function ib(a,b){var c,d=p(a)?a:Ea(a);return!(!this.isValid()||!d.isValid())&&(b=B(b||"millisecond"),"millisecond"===b?+this==+d:(c=+d,+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b)))}function jb(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function kb(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function lb(a,b,c){var d,e,f,g;return this.isValid()?(d=Ma(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=B(b),"year"===b||"month"===b||"quarter"===b?(g=mb(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,
g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:q(g)):NaN):NaN}function mb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function nb(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ob(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?D(Date.prototype.toISOString)?this.toDate().toISOString():M(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):M(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function pb(b){
var c=M(this,b||a.defaultFormat);return this.localeData().postformat(c)}function qb(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ea(a).isValid())?Za({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function rb(a){return this.from(Ea(),a)}function sb(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ea(a).isValid())?Za({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function tb(a){return this.to(Ea(),a)}function ub(a){var b;return void 0===a?this._locale._abbr:(b=z(a),null!=b&&(this._locale=b),this)}function vb(){return this._locale}function wb(a){switch(a=B(a)){case"year":this.month(0)
;case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function xb(a){return a=B(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function yb(){return+this._d-6e4*(this._offset||0)}function zb(){return Math.floor(+this/1e3)}function Ab(){return this._offset?new Date(+this):this._d}function Bb(){var a=this
;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function Cb(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Db(){return this.isValid()?this.toISOString():"null"}function Eb(){return k(this)}function Fb(){return g({},j(this))}function Gb(){return j(this).overflow}function Hb(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ib(a,b){J(0,[a,a.length],0,b)}function Jb(a){
return Nb.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Kb(a){return Nb.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Lb(){return ra(this.year(),1,4)}function Mb(){var a=this.localeData()._week;return ra(this.year(),a.dow,a.doy)}function Nb(a,b,c,d,e){var f;return null==a?qa(this,d,e).year:(f=ra(a,d,e),b>f&&(b=f),Ob.call(this,a,b,c,d,e))}function Ob(a,b,c,d,e){var f=pa(a,b,c,d,e),g=ka(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Pb(a){
return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Qb(a){return qa(a,this._week.dow,this._week.doy).week}function Rb(){return this._week.dow}function Sb(){return this._week.doy}function Tb(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Ub(a){var b=qa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Vb(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Wb(a,b){return c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]}function Xb(a){
return this._weekdaysShort[a.day()]}function Yb(a){return this._weekdaysMin[a.day()]}function Zb(a,b,c){var d,e,f;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;7>d;d++){if(e=Ea([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),
this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function $b(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Vb(a,this.localeData()),this.add(a-b,"d")):b}function _b(a){if(!this.isValid())return null!=a?this:NaN
;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function ac(a){return this.isValid()?null==a?this.day()||7:this.day(this.day()%7?a:a-7):null!=a?this:NaN}function bc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function cc(){return this.hours()%12||12}function dc(a,b){J(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function ec(a,b){return b._meridiemParse}function fc(a){return"p"===(a+"").toLowerCase().charAt(0)}function gc(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function hc(a,b){b[ye]=r(1e3*("0."+a))}
function ic(){return this._isUTC?"UTC":""}function jc(){return this._isUTC?"Coordinated Universal Time":""}function kc(a){return Ea(1e3*a)}function lc(){return Ea.apply(null,arguments).parseZone()}function mc(a,b,c){var d=this._calendar[a];return D(d)?d.call(b,c):d}function nc(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function oc(){return this._invalidDate}function pc(a){return this._ordinal.replace("%d",a)}function qc(a){return a}function rc(a,b,c,d){var e=this._relativeTime[c]
;return D(e)?e(a,b,c,d):e.replace(/%d/i,a)}function sc(a,b){var c=this._relativeTime[a>0?"future":"past"];return D(c)?c(b):c.replace(/%s/i,b)}function tc(a){var b,c;for(c in a)b=a[c],D(b)?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function uc(a,b,c,d){var e=z(),f=h().set(d,b);return e[c](f,a)}function vc(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return uc(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=uc(a,f,c,e);return g}function wc(a,b){return vc(a,b,"months",12,"month")}function xc(a,b){return vc(a,b,"monthsShort",12,"month")}function yc(a,b){
return vc(a,b,"weekdays",7,"day")}function zc(a,b){return vc(a,b,"weekdaysShort",7,"day")}function Ac(a,b){return vc(a,b,"weekdaysMin",7,"day")}function Bc(){var a=this._data;return this._milliseconds=qf(this._milliseconds),this._days=qf(this._days),this._months=qf(this._months),a.milliseconds=qf(a.milliseconds),a.seconds=qf(a.seconds),a.minutes=qf(a.minutes),a.hours=qf(a.hours),a.months=qf(a.months),a.years=qf(a.years),this}function Cc(a,b,c,d){var e=Za(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function Dc(a,b){return Cc(this,a,b,1)}function Ec(a,b){return Cc(this,a,b,-1)}function Fc(a){
return 0>a?Math.floor(a):Math.ceil(a)}function Gc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*Fc(Ic(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=q(f/1e3),i.seconds=a%60,b=q(a/60),i.minutes=b%60,c=q(b/60),i.hours=c%24,g+=q(c/24),e=q(Hc(g)),h+=e,g-=Fc(Ic(e)),d=q(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function Hc(a){return 4800*a/146097}function Ic(a){return 146097*a/4800}function Jc(a){var b,c,d=this._milliseconds;if("month"===(a=B(a))||"year"===a)return b=this._days+d/864e5,c=this._months+Hc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(Ic(this._months)),a){
case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function Kc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*r(this._months/12)}function Lc(a){return function(){return this.as(a)}}function Mc(a){return a=B(a),this[a+"s"]()}function Nc(a){return function(){return this._data[a]}}function Oc(){return q(this.days()/7)}function Pc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Qc(a,b,c){
var d=Za(a).abs(),e=Gf(d.as("s")),f=Gf(d.as("m")),g=Gf(d.as("h")),h=Gf(d.as("d")),i=Gf(d.as("M")),j=Gf(d.as("y")),k=e<Hf.s&&["s",e]||1>=f&&["m"]||f<Hf.m&&["mm",f]||1>=g&&["h"]||g<Hf.h&&["hh",g]||1>=h&&["d"]||h<Hf.d&&["dd",h]||1>=i&&["M"]||i<Hf.M&&["MM",i]||1>=j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,Pc.apply(null,k)}function Rc(a,b){return void 0!==Hf[a]&&(void 0===b?Hf[a]:(Hf[a]=b,!0))}function Sc(a){var b=this.localeData(),c=Qc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Tc(){var a,b,c,d=If(this._milliseconds)/1e3,e=If(this._days),f=If(this._months);a=q(d/60),b=q(a/60),d%=60,a%=60,c=q(f/12),f%=12
;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(0>m?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}function Uc(a,b){var c=a.split("_");return b%10==1&&b%100!=11?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function Vc(a,b,c){var d={mm:b?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:b?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"};return"m"===c?b?"хвіліна":"хвіліну":"h"===c?b?"гадзіна":"гадзіну":a+" "+Uc(d[c],+a)}function Wc(a,b,c){return a+" "+Zc({mm:"munutenn",MM:"miz",dd:"devezh"}[c],a)}
function Xc(a){switch(Yc(a)){case 1:case 3:case 4:case 5:case 9:return a+" bloaz";default:return a+" vloaz"}}function Yc(a){return a>9?Yc(a%10):a}function Zc(a,b){return 2===b?$c(a):a}function $c(a){var b={m:"v",b:"v",d:"z"};return void 0===b[a.charAt(0)]?a:b[a.charAt(0)]+a.substring(1)}function _c(a,b,c){var d=a+" ";switch(c){case"m":return b?"jedna minuta":"jedne minute";case"mm":return d+=1===a?"minuta":2===a||3===a||4===a?"minute":"minuta";case"h":return b?"jedan sat":"jednog sata";case"hh":return d+=1===a?"sat":2===a||3===a||4===a?"sata":"sati";case"dd":return d+=1===a?"dan":"dana";case"MM":
return d+=1===a?"mjesec":2===a||3===a||4===a?"mjeseca":"mjeseci";case"yy":return d+=1===a?"godina":2===a||3===a||4===a?"godine":"godina"}}function ad(a){return a>1&&5>a&&1!=~~(a/10)}function bd(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"pár sekund":"pár sekundami";case"m":return b?"minuta":d?"minutu":"minutou";case"mm":return b||d?e+(ad(a)?"minuty":"minut"):e+"minutami";case"h":return b?"hodina":d?"hodinu":"hodinou";case"hh":return b||d?e+(ad(a)?"hodiny":"hodin"):e+"hodinami";case"d":return b||d?"den":"dnem";case"dd":return b||d?e+(ad(a)?"dny":"dní"):e+"dny";case"M":return b||d?"měsíc":"měsícem";case"MM":
return b||d?e+(ad(a)?"měsíce":"měsíců"):e+"měsíci";case"y":return b||d?"rok":"rokem";case"yy":return b||d?e+(ad(a)?"roky":"let"):e+"lety"}}function cd(a,b,c,d){var e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return b?e[c][0]:e[c][1]}function dd(a,b,c,d){var e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],
yy:[a+" Jahre",a+" Jahren"]};return b?e[c][0]:e[c][1]}function ed(a,b,c,d){var e={s:["mõne sekundi","mõni sekund","paar sekundit"],m:["ühe minuti","üks minut"],mm:[a+" minuti",a+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[a+" tunni",a+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[a+" kuu",a+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[a+" aasta",a+" aastat"]};return b?e[c][2]?e[c][2]:e[c][1]:d?e[c][0]:e[c][1]}function fd(a,b,c,d){var e="";switch(c){case"s":return d?"muutaman sekunnin":"muutama sekunti";case"m":return d?"minuutin":"minuutti";case"mm":e=d?"minuutin":"minuuttia";break;case"h":
return d?"tunnin":"tunti";case"hh":e=d?"tunnin":"tuntia";break;case"d":return d?"päivän":"päivä";case"dd":e=d?"päivän":"päivää";break;case"M":return d?"kuukauden":"kuukausi";case"MM":e=d?"kuukauden":"kuukautta";break;case"y":return d?"vuoden":"vuosi";case"yy":e=d?"vuoden":"vuotta"}return e=gd(a,d)+" "+e}function gd(a,b){return 10>a?b?fg[a]:eg[a]:a}function hd(a,b,c){var d=a+" ";switch(c){case"m":return b?"jedna minuta":"jedne minute";case"mm":return d+=1===a?"minuta":2===a||3===a||4===a?"minute":"minuta";case"h":return b?"jedan sat":"jednog sata";case"hh":return d+=1===a?"sat":2===a||3===a||4===a?"sata":"sati";case"dd":return d+=1===a?"dan":"dana";case"MM":
return d+=1===a?"mjesec":2===a||3===a||4===a?"mjeseca":"mjeseci";case"yy":return d+=1===a?"godina":2===a||3===a||4===a?"godine":"godina"}}function id(a,b,c,d){var e=a;switch(c){case"s":return d||b?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(d||b?" perc":" perce");case"mm":return e+(d||b?" perc":" perce");case"h":return"egy"+(d||b?" óra":" órája");case"hh":return e+(d||b?" óra":" órája");case"d":return"egy"+(d||b?" nap":" napja");case"dd":return e+(d||b?" nap":" napja");case"M":return"egy"+(d||b?" hónap":" hónapja");case"MM":return e+(d||b?" hónap":" hónapja");case"y":return"egy"+(d||b?" év":" éve");case"yy":return e+(d||b?" év":" éve")}
return""}function jd(a){return(a?"":"[múlt] ")+"["+pg[this.day()]+"] LT[-kor]"}function kd(a){return a%100==11||a%10!=1}function ld(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return b?"mínúta":"mínútu";case"mm":return kd(a)?e+(b||d?"mínútur":"mínútum"):b?e+"mínúta":e+"mínútu";case"hh":return kd(a)?e+(b||d?"klukkustundir":"klukkustundum"):e+"klukkustund";case"d":return b?"dagur":d?"dag":"degi";case"dd":return kd(a)?b?e+"dagar":e+(d?"daga":"dögum"):b?e+"dagur":e+(d?"dag":"degi");case"M":return b?"mánuður":d?"mánuð":"mánuði";case"MM":
return kd(a)?b?e+"mánuðir":e+(d?"mánuði":"mánuðum"):b?e+"mánuður":e+(d?"mánuð":"mánuði");case"y":return b||d?"ár":"ári";case"yy":return kd(a)?e+(b||d?"ár":"árum"):e+(b||d?"ár":"ári")}}function md(a,b,c,d){var e={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return b?e[c][0]:e[c][1]}function nd(a){return pd(a.substr(0,a.indexOf(" ")))?"a "+a:"an "+a}function od(a){return pd(a.substr(0,a.indexOf(" ")))?"viru "+a:"virun "+a}function pd(a){if(a=parseInt(a,10),isNaN(a))return!1;if(0>a)return!0;if(10>a)return a>=4&&7>=a;if(100>a){var b=a%10,c=a/10
;return pd(0===b?c:b)}if(1e4>a){for(;a>=10;)a/=10;return pd(a)}return a/=1e3,pd(a)}function qd(a,b,c,d){return b?"kelios sekundės":d?"kelių sekundžių":"kelias sekundes"}function rd(a,b,c,d){return b?td(c)[0]:d?td(c)[1]:td(c)[2]}function sd(a){return a%10==0||a>10&&20>a}function td(a){return rg[a].split("_")}function ud(a,b,c,d){var e=a+" ";return 1===a?e+rd(a,b,c[0],d):b?e+(sd(a)?td(c)[1]:td(c)[0]):d?e+td(c)[1]:e+(sd(a)?td(c)[1]:td(c)[2])}function vd(a,b,c){return c?b%10==1&&11!==b?a[2]:a[3]:b%10==1&&11!==b?a[0]:a[1]}function wd(a,b,c){return a+" "+vd(sg[c],a,b)}function xd(a,b,c){return vd(sg[c],a,b)}function yd(a,b){
return b?"dažas sekundes":"dažām sekundēm"}function zd(a,b,c,d){var e="";if(b)switch(c){case"s":e="काही सेकंद";break;case"m":e="एक मिनिट";break;case"mm":e="%d मिनिटे";break;case"h":e="एक तास";break;case"hh":e="%d तास";break;case"d":e="एक दिवस";break;case"dd":e="%d दिवस";break;case"M":e="एक महिना";break;case"MM":e="%d महिने";break;case"y":e="एक वर्ष";break;case"yy":e="%d वर्षे"}else switch(c){case"s":e="काही सेकंदां";break;case"m":e="एका मिनिटा";break;case"mm":e="%d मिनिटां";break;case"h":e="एका तासा";break;case"hh":e="%d तासां";break;case"d":e="एका दिवसा";break;case"dd":e="%d दिवसां";break;case"M":e="एका महिन्या";break;case"MM":e="%d महिन्यां";break;case"y":
e="एका वर्षा";break;case"yy":e="%d वर्षां"}return e.replace(/%d/i,a)}function Ad(a){return 5>a%10&&a%10>1&&~~(a/10)%10!=1}function Bd(a,b,c){var d=a+" ";switch(c){case"m":return b?"minuta":"minutę";case"mm":return d+(Ad(a)?"minuty":"minut");case"h":return b?"godzina":"godzinę";case"hh":return d+(Ad(a)?"godziny":"godzin");case"MM":return d+(Ad(a)?"miesiące":"miesięcy");case"yy":return d+(Ad(a)?"lata":"lat")}}function Cd(a,b,c){var d={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},e=" ";return(a%100>=20||a>=100&&a%100==0)&&(e=" de "),a+e+d[c]}function Dd(a,b){var c=a.split("_")
;return b%10==1&&b%100!=11?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function Ed(a,b,c){var d={mm:b?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===c?b?"минута":"минуту":a+" "+Dd(d[c],+a)}function Fd(a){return a>1&&5>a}function Gd(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"pár sekúnd":"pár sekundami";case"m":return b?"minúta":d?"minútu":"minútou";case"mm":return b||d?e+(Fd(a)?"minúty":"minút"):e+"minútami";case"h":return b?"hodina":d?"hodinu":"hodinou";case"hh":return b||d?e+(Fd(a)?"hodiny":"hodín"):e+"hodinami";case"d":return b||d?"deň":"dňom"
;case"dd":return b||d?e+(Fd(a)?"dni":"dní"):e+"dňami";case"M":return b||d?"mesiac":"mesiacom";case"MM":return b||d?e+(Fd(a)?"mesiace":"mesiacov"):e+"mesiacmi";case"y":return b||d?"rok":"rokom";case"yy":return b||d?e+(Fd(a)?"roky":"rokov"):e+"rokmi"}}function Hd(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"nekaj sekund":"nekaj sekundami";case"m":return b?"ena minuta":"eno minuto";case"mm":return e+=1===a?b?"minuta":"minuto":2===a?b||d?"minuti":"minutama":5>a?b||d?"minute":"minutami":b||d?"minut":"minutami";case"h":return b?"ena ura":"eno uro";case"hh":return e+=1===a?b?"ura":"uro":2===a?b||d?"uri":"urama":5>a?b||d?"ure":"urami":b||d?"ur":"urami"
;case"d":return b||d?"en dan":"enim dnem";case"dd":return e+=1===a?b||d?"dan":"dnem":2===a?b||d?"dni":"dnevoma":b||d?"dni":"dnevi";case"M":return b||d?"en mesec":"enim mesecem";case"MM":return e+=1===a?b||d?"mesec":"mesecem":2===a?b||d?"meseca":"mesecema":5>a?b||d?"mesece":"meseci":b||d?"mesecev":"meseci";case"y":return b||d?"eno leto":"enim letom";case"yy":return e+=1===a?b||d?"leto":"letom":2===a?b||d?"leti":"letoma":5>a?b||d?"leta":"leti":b||d?"let":"leti"}}function Id(a){var b=a;return b=-1!==a.indexOf("jaj")?b.slice(0,-3)+"leS":-1!==a.indexOf("jar")?b.slice(0,-3)+"waQ":-1!==a.indexOf("DIS")?b.slice(0,-3)+"nem":b+" pIq"}function Jd(a){var b=a
;return b=-1!==a.indexOf("jaj")?b.slice(0,-3)+"Hu’":-1!==a.indexOf("jar")?b.slice(0,-3)+"wen":-1!==a.indexOf("DIS")?b.slice(0,-3)+"ben":b+" ret"}function Kd(a,b,c,d){var e=Ld(a);switch(c){case"mm":return e+" tup";case"hh":return e+" rep";case"dd":return e+" jaj";case"MM":return e+" jar";case"yy":return e+" DIS"}}function Ld(a){var b=Math.floor(a%1e3/100),c=Math.floor(a%100/10),d=a%10,e="";return b>0&&(e+=Lg[b]+"vatlh"),c>0&&(e+=(""!==e?" ":"")+Lg[c]+"maH"),d>0&&(e+=(""!==e?" ":"")+Lg[d]),""===e?"pagh":e}function Md(a,b,c,d){var e={s:["viensas secunds","'iensas secunds"],m:["'n míut","'iens míut"],mm:[a+" míuts",a+" míuts"],h:["'n þora","'iensa þora"],
hh:[a+" þoras",a+" þoras"],d:["'n ziua","'iensa ziua"],dd:[a+" ziuas",a+" ziuas"],M:["'n mes","'iens mes"],MM:[a+" mesen",a+" mesen"],y:["'n ar","'iens ar"],yy:[a+" ars",a+" ars"]};return d?e[c][0]:b?e[c][0]:e[c][1]}function Nd(a,b){var c=a.split("_");return b%10==1&&b%100!=11?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function Od(a,b,c){var d={mm:b?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:b?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return"m"===c?b?"хвилина":"хвилину":"h"===c?b?"година":"годину":a+" "+Nd(d[c],+a)}function Pd(a,b){return{
nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")}[/(\[[ВвУу]\]) ?dddd/.test(b)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(b)?"genitive":"nominative"][a.day()]}function Qd(a){return function(){return a+"о"+(11===this.hours()?"б":"")+"] LT"}}
var Rd,Sd,Td=a.momentProperties=[],Ud=!1,Vd={},Wd={},Xd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Yd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Zd={},$d={},_d=/\d/,ae=/\d\d/,be=/\d{3}/,ce=/\d{4}/,de=/[+-]?\d{6}/,ee=/\d\d?/,fe=/\d\d\d\d?/,ge=/\d\d\d\d\d\d?/,he=/\d{1,3}/,ie=/\d{1,4}/,je=/[+-]?\d{1,6}/,ke=/\d+/,le=/[+-]?\d+/,me=/Z|[+-]\d\d:?\d\d/gi,ne=/Z|[+-]\d\d(?::?\d\d)?/gi,oe=/[+-]?\d+(\.\d{1,3})?/,pe=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,qe={},re={},se=0,te=1,ue=2,ve=3,we=4,xe=5,ye=6,ze=7,Ae=8
;J("M",["MM",2],"Mo",function(){return this.month()+1}),J("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),J("MMMM",0,0,function(a){return this.localeData().months(this,a)}),A("month","M"),O("M",ee),O("MM",ee,ae),O("MMM",function(a,b){return b.monthsShortRegex(a)}),O("MMMM",function(a,b){return b.monthsRegex(a)}),S(["M","MM"],function(a,b){b[te]=r(a)-1}),S(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[te]=e:j(c).invalidMonth=a})
;var Be=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Ce="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),De="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ee=pe,Fe=pe,Ge={};a.suppressDeprecationWarnings=!1
;var He=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ie=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Je=/Z|[+-]\d\d(?::?\d\d)?/,Ke=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Le=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Me=/^\/?Date\((\-?\d+)/i
;a.createFromInputFallback=fa("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),J("Y",0,0,function(){var a=this.year();return 9999>=a?""+a:"+"+a}),J(0,["YY",2],0,function(){return this.year()%100}),J(0,["YYYY",4],0,"year"),J(0,["YYYYY",5],0,"year"),J(0,["YYYYYY",6,!0],0,"year"),A("year","y"),O("Y",le),O("YY",ee,ae),O("YYYY",ie,ce),O("YYYYY",je,de),O("YYYYYY",je,de),S(["YYYYY","YYYYYY"],se),S("YYYY",function(b,c){c[se]=2===b.length?a.parseTwoDigitYear(b):r(b)}),
S("YY",function(b,c){c[se]=a.parseTwoDigitYear(b)}),S("Y",function(a,b){b[se]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return r(a)+(r(a)>68?1900:2e3)};var Ne=E("FullYear",!1);a.ISO_8601=function(){};var Oe=fa("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Ea.apply(null,arguments);return this.isValid()&&a.isValid()?this>a?this:a:l()}),Pe=fa("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Ea.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:l()}),Qe=function(){return Date.now?Date.now():+new Date}
;Ka("Z",":"),Ka("ZZ",""),O("Z",ne),O("ZZ",ne),S(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=La(ne,a)});var Re=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var Se=/(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Te=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Za.fn=Ia.prototype;var Ue=bb(1,"add"),Ve=bb(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var We=fa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){
return void 0===a?this.localeData():this.locale(a)});J(0,["gg",2],0,function(){return this.weekYear()%100}),J(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ib("gggg","weekYear"),Ib("ggggg","weekYear"),Ib("GGGG","isoWeekYear"),Ib("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),O("G",le),O("g",le),O("GG",ee,ae),O("gg",ee,ae),O("GGGG",ie,ce),O("gggg",ie,ce),O("GGGGG",je,de),O("ggggg",je,de),T(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=r(a)}),T(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),J("Q",0,"Qo","quarter"),A("quarter","Q"),O("Q",_d),S("Q",function(a,b){b[te]=3*(r(a)-1)}),
J("w",["ww",2],"wo","week"),J("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),O("w",ee),O("ww",ee,ae),O("W",ee),O("WW",ee,ae),T(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=r(a)});var Xe={dow:0,doy:6};J("D",["DD",2],"Do","date"),A("date","D"),O("D",ee),O("DD",ee,ae),O("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),S(["D","DD"],ue),S("Do",function(a,b){b[ue]=r(a.match(ee)[0],10)});var Ye=E("Date",!0);J("d",0,"do","day"),J("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),J("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),J("dddd",0,0,function(a){
return this.localeData().weekdays(this,a)}),J("e",0,0,"weekday"),J("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),O("d",ee),O("e",ee),O("E",ee),O("dd",pe),O("ddd",pe),O("dddd",pe),T(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:j(c).invalidWeekday=a}),T(["d","e","E"],function(a,b,c,d){b[d]=r(a)});var Ze="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),$e="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),_e="Su_Mo_Tu_We_Th_Fr_Sa".split("_");J("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),O("DDD",he),O("DDDD",be),S(["DDD","DDDD"],function(a,b,c){
c._dayOfYear=r(a)}),J("H",["HH",2],0,"hour"),J("h",["hh",2],0,cc),J("hmm",0,0,function(){return""+cc.apply(this)+I(this.minutes(),2)}),J("hmmss",0,0,function(){return""+cc.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),J("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)}),J("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),dc("a",!0),dc("A",!1),A("hour","h"),O("a",ec),O("A",ec),O("H",ee),O("h",ee),O("HH",ee,ae),O("hh",ee,ae),O("hmm",fe),O("hmmss",ge),O("Hmm",fe),O("Hmmss",ge),S(["H","HH"],ve),S(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),S(["h","hh"],function(a,b,c){b[ve]=r(a),
j(c).bigHour=!0}),S("hmm",function(a,b,c){var d=a.length-2;b[ve]=r(a.substr(0,d)),b[we]=r(a.substr(d)),j(c).bigHour=!0}),S("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[ve]=r(a.substr(0,d)),b[we]=r(a.substr(d,2)),b[xe]=r(a.substr(e)),j(c).bigHour=!0}),S("Hmm",function(a,b,c){var d=a.length-2;b[ve]=r(a.substr(0,d)),b[we]=r(a.substr(d))}),S("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[ve]=r(a.substr(0,d)),b[we]=r(a.substr(d,2)),b[xe]=r(a.substr(e))});var af=/[ap]\.?m?\.?/i,bf=E("Hours",!0);J("m",["mm",2],0,"minute"),A("minute","m"),O("m",ee),O("mm",ee,ae),S(["m","mm"],we);var cf=E("Minutes",!1);J("s",["ss",2],0,"second"),A("second","s"),
O("s",ee),O("ss",ee,ae),S(["s","ss"],xe);var df=E("Seconds",!1);J("S",0,0,function(){return~~(this.millisecond()/100)}),J(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),J(0,["SSS",3],0,"millisecond"),J(0,["SSSS",4],0,function(){return 10*this.millisecond()}),J(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),J(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),J(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),J(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),J(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),A("millisecond","ms"),O("S",he,_d),O("SS",he,ae),O("SSS",he,be);var ef
;for(ef="SSSS";ef.length<=9;ef+="S")O(ef,ke);for(ef="S";ef.length<=9;ef+="S")S(ef,hc);var ff=E("Milliseconds",!1);J("z",0,0,"zoneAbbr"),J("zz",0,0,"zoneName");var gf=o.prototype;gf.add=Ue,gf.calendar=db,gf.clone=eb,gf.diff=lb,gf.endOf=xb,gf.format=pb,gf.from=qb,gf.fromNow=rb,gf.to=sb,gf.toNow=tb,gf.get=H,gf.invalidAt=Gb,gf.isAfter=fb,gf.isBefore=gb,gf.isBetween=hb,gf.isSame=ib,gf.isSameOrAfter=jb,gf.isSameOrBefore=kb,gf.isValid=Eb,gf.lang=We,gf.locale=ub,gf.localeData=vb,gf.max=Pe,gf.min=Oe,gf.parsingFlags=Fb,gf.set=H,gf.startOf=wb,gf.subtract=Ve,gf.toArray=Bb,gf.toObject=Cb,gf.toDate=Ab,gf.toISOString=ob,gf.toJSON=Db,gf.toString=nb,gf.unix=zb,gf.valueOf=yb,
gf.creationData=Hb,gf.year=Ne,gf.isLeapYear=na,gf.weekYear=Jb,gf.isoWeekYear=Kb,gf.quarter=gf.quarters=Pb,gf.month=$,gf.daysInMonth=_,gf.week=gf.weeks=Tb,gf.isoWeek=gf.isoWeeks=Ub,gf.weeksInYear=Mb,gf.isoWeeksInYear=Lb,gf.date=Ye,gf.day=gf.days=$b,gf.weekday=_b,gf.isoWeekday=ac,gf.dayOfYear=bc,gf.hour=gf.hours=bf,gf.minute=gf.minutes=cf,gf.second=gf.seconds=df,gf.millisecond=gf.milliseconds=ff,gf.utcOffset=Oa,gf.utc=Qa,gf.local=Ra,gf.parseZone=Sa,gf.hasAlignedHourOffset=Ta,gf.isDST=Ua,gf.isDSTShifted=Va,gf.isLocal=Wa,gf.isUtcOffset=Xa,gf.isUtc=Ya,gf.isUTC=Ya,gf.zoneAbbr=ic,gf.zoneName=jc,gf.dates=fa("dates accessor is deprecated. Use date instead.",Ye),
gf.months=fa("months accessor is deprecated. Use month instead",$),gf.years=fa("years accessor is deprecated. Use year instead",Ne),gf.zone=fa("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Pa);var hf=gf,jf={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},kf={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},nf=/\d{1,2}/,of={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",
d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},pf=t.prototype;pf._calendar=jf,pf.calendar=mc,pf._longDateFormat=kf,pf.longDateFormat=nc,pf._invalidDate="Invalid date",pf.invalidDate=oc,pf._ordinal="%d",pf.ordinal=pc,pf._ordinalParse=nf,pf.preparse=qc,pf.postformat=qc,pf._relativeTime=of,pf.relativeTime=rc,pf.pastFuture=sc,pf.set=tc,pf.months=W,pf._months=Ce,pf.monthsShort=X,pf._monthsShort=De,pf.monthsParse=Y,pf._monthsRegex=Fe,pf.monthsRegex=ba,pf._monthsShortRegex=Ee,pf.monthsShortRegex=aa,pf.week=Qb,pf._week=Xe,pf.firstDayOfYear=Sb,pf.firstDayOfWeek=Rb,pf.weekdays=Wb,pf._weekdays=Ze,pf.weekdaysMin=Yb,pf._weekdaysMin=_e,
pf.weekdaysShort=Xb,pf._weekdaysShort=$e,pf.weekdaysParse=Zb,pf.isPM=fc,pf._meridiemParse=af,pf.meridiem=gc,x("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;return a+(1===r(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),a.lang=fa("moment.lang is deprecated. Use moment.locale instead.",x),a.langData=fa("moment.langData is deprecated. Use moment.localeData instead.",z);var qf=Math.abs,rf=Lc("ms"),sf=Lc("s"),tf=Lc("m"),uf=Lc("h"),vf=Lc("d"),wf=Lc("w"),xf=Lc("M"),yf=Lc("y"),zf=Nc("milliseconds"),Af=Nc("seconds"),Bf=Nc("minutes"),Cf=Nc("hours"),Df=Nc("days"),Ef=Nc("months"),Ff=Nc("years"),Gf=Math.round,Hf={s:45,m:45,h:22,d:26,
M:11},If=Math.abs,Jf=Ia.prototype;Jf.abs=Bc,Jf.add=Dc,Jf.subtract=Ec,Jf.as=Jc,Jf.asMilliseconds=rf,Jf.asSeconds=sf,Jf.asMinutes=tf,Jf.asHours=uf,Jf.asDays=vf,Jf.asWeeks=wf,Jf.asMonths=xf,Jf.asYears=yf,Jf.valueOf=Kc,Jf._bubble=Gc,Jf.get=Mc,Jf.milliseconds=zf,Jf.seconds=Af,Jf.minutes=Bf,Jf.hours=Cf,Jf.days=Df,Jf.weeks=Oc,Jf.months=Ef,Jf.years=Ff,Jf.humanize=Sc,Jf.toISOString=Tc,Jf.toString=Tc,Jf.toJSON=Tc,Jf.locale=ub,Jf.localeData=vb,Jf.toIsoString=fa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Tc),Jf.lang=We,J("X",0,0,"unix"),J("x",0,0,"valueOf"),O("x",le),O("X",oe),S("X",function(a,b,c){
c._d=new Date(1e3*parseFloat(a,10))}),S("x",function(a,b,c){c._d=new Date(r(a))}),a.version="2.11.1",function(a){Rd=a}(Ea),a.fn=hf,a.min=Ga,a.max=Ha,a.now=Qe,a.utc=h,a.unix=kc,a.months=wc,a.isDate=d,a.locale=x,a.invalid=l,a.duration=Za,a.isMoment=p,a.weekdays=yc,a.parseZone=lc,a.localeData=z,a.isDuration=Ja,a.monthsShort=xc,a.weekdaysMin=Ac,a.defineLocale=y,a.weekdaysShort=zc,a.normalizeUnits=B,a.relativeTimeThreshold=Rc,a.prototype=hf;var Kf=a,Lf=(Kf.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),
weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(a){return/^nm$/i.test(a)},meridiem:function(a,b,c){return 12>a?c?"vm":"VM":c?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",
m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}}),Kf.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",
LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}}),{1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"}),Mf={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},Nf=(Kf.defineLocale("ar-sa",{
months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(a){return"م"===a},meridiem:function(a,b,c){return 12>a?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",
nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(a){return a.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(a){return Mf[a]}).replace(/،/g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return Lf[a]}).replace(/,/g,"،")},week:{dow:6,doy:12}}),Kf.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),
monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",
h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}}),{1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"}),Of={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},Pf=function(a){return 0===a?0:1===a?1:2===a?2:a%100>=3&&10>=a%100?3:a%100>=11?4:5},Qf={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],
d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},Rf=function(a){return function(b,c,d,e){var f=Pf(b),g=Qf[a][Pf(b)];return 2===f&&(g=g[c?0:1]),g.replace(/%d/i,b)}},Sf=["كانون الثاني يناير","شباط فبراير","آذار مارس","نيسان أبريل","أيار مايو","حزيران يونيو","تموز يوليو","آب أغسطس","أيلول سبتمبر","تشرين الأول أكتوبر","تشرين الثاني نوفمبر","كانون الأول ديسمبر"],Tf=(Kf.defineLocale("ar",{months:Sf,monthsShort:Sf,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),
weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(a){return"م"===a},meridiem:function(a,b,c){return 12>a?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:Rf("s"),m:Rf("m"),mm:Rf("m"),h:Rf("h"),hh:Rf("h"),d:Rf("d"),dd:Rf("d"),M:Rf("M"),MM:Rf("M"),y:Rf("y"),
yy:Rf("y")},preparse:function(a){return a.replace(/\u200f/g,"").replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(a){return Of[a]}).replace(/،/g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return Nf[a]}).replace(/,/g,"،")},week:{dow:6,doy:12}}),{1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"}),Uf=(Kf.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),
weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",
MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(a){return/^(gündüz|axşam)$/.test(a)},meridiem:function(a,b,c){return 4>a?"gecə":12>a?"səhər":17>a?"gündüz":"axşam"},ordinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(a){if(0===a)return a+"-ıncı";var b=a%10,c=a%100-b,d=a>=100?100:null;return a+(Tf[b]||Tf[c]||Tf[d])},week:{dow:1,doy:7}}),Kf.defineLocale("be",{months:{format:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_"),
standalone:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_")},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:{format:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_"),standalone:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),isFormat:/\[ ?[Вв] ?(?:мінулую|наступную)? ?\] ?dddd/},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},
calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:Vc,mm:Vc,h:Vc,hh:Vc,d:"дзень",dd:Vc,M:"месяц",MM:Vc,y:"год",yy:Vc},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(a){return/^(дня|вечара)$/.test(a)},meridiem:function(a,b,c){return 4>a?"ночы":12>a?"раніцы":17>a?"дня":"вечара"},ordinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(a,b){switch(b){case"M":
case"d":case"DDD":case"w":case"W":return a%10!=2&&a%10!=3||a%100==12||a%100==13?a+"-ы":a+"-і";case"D":return a+"-га";default:return a}},week:{dow:1,doy:7}}),Kf.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},
calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},ordinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(a){var b=a%10,c=a%100;return 0===a?a+"-ев":0===c?a+"-ен":c>10&&20>c?a+"-ти":1===b?a+"-ви":2===b?a+"-ри":7===b||8===b?a+"-ми":a+"-ти"},week:{dow:1,
doy:7}}),{1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"}),Vf={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"},Wf=(Kf.defineLocale("bn",{months:"জানুয়ারী_ফেবুয়ারী_মার্চ_এপ্রিল_মে_জুন_জুলাই_অগাস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপর_মে_জুন_জুল_অগ_সেপ্ট_অক্টো_নভ_ডিসেম্".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পত্তিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পত্তি_শুক্র_শনি".split("_"),weekdaysMin:"রব_সম_মঙ্গ_বু_ব্রিহ_শু_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",
LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(a){return a.replace(/[১২৩৪৫৬৭৮৯০]/g,function(a){return Vf[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Uf[a]})},meridiemParse:/রাত|সকাল|দুপুর|বিকাল|রাত/,isPM:function(a){return/^(দুপুর|বিকাল|রাত)$/.test(a)},meridiem:function(a,b,c){
return 4>a?"রাত":10>a?"সকাল":17>a?"দুপুর":20>a?"বিকাল":"রাত"},week:{dow:0,doy:6}}),{1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"}),Xf={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"},Yf=(Kf.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),
weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",
d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(a){return a.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,function(a){return Xf[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Wf[a]})},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,isPM:function(a){return/^(ཉིན་གུང|དགོང་དག|མཚན་མོ)$/.test(a)},meridiem:function(a,b,c){return 4>a?"མཚན་མོ":10>a?"ཞོགས་ཀས":17>a?"ཉིན་གུང":20>a?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}}),Kf.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),
weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:Wc,h:"un eur",hh:"%d eur",d:"un devezh",dd:Wc,M:"ur miz",MM:Wc,y:"ur bloaz",yy:Xc},
ordinalParse:/\d{1,2}(añ|vet)/,ordinal:function(a){return a+(1===a?"añ":"vet")},week:{dow:1,doy:4}}),Kf.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",
nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:_c,mm:_c,h:_c,hh:_c,d:"dan",dd:_c,M:"mjesec",MM:_c,y:"godinu",yy:_c},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),Kf.defineLocale("ca",{
months:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},
nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(a,b){var c=1===a?"r":2===a?"n":3===a?"r":4===a?"t":"è";return("w"===b||"W"===b)&&(c="a"),a+c},week:{dow:1,doy:4}}),
"leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_")),Zf="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_"),$f=(Kf.defineLocale("cs",{months:Yf,monthsShort:Zf,monthsParse:function(a,b){var c,d=[];for(c=0;12>c;c++)d[c]=new RegExp("^"+a[c]+"$|^"+b[c]+"$","i");return d}(Yf,Zf),shortMonthsParse:function(a){var b,c=[];for(b=0;12>b;b++)c[b]=new RegExp("^"+a[b]+"$","i");return c}(Zf),longMonthsParse:function(a){var b,c=[];for(b=0;12>b;b++)c[b]=new RegExp("^"+a[b]+"$","i");return c}(Yf),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),
weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:
return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:bd,m:bd,mm:bd,h:bd,hh:bd,d:bd,dd:bd,M:bd,MM:bd,y:bd,yy:bd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Kf.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",
L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(a){return a+(/сехет$/i.exec(a)?"рен":/ҫул$/i.exec(a)?"тан":"ран")},past:"%s каялла",s:"пӗр-ик ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},ordinalParse:/\d{1,2}-мӗш/,ordinal:"%d-мӗш",week:{
dow:1,doy:7}}),Kf.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",
lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(a){var b=a,c="",d=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return b>20?c=40===b||50===b||60===b||80===b||100===b?"fed":"ain":b>0&&(c=d[b]),a+c},week:{dow:1,doy:4}}),Kf.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),
monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY HH:mm"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I går kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",
d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Kf.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},
calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:cd,mm:"%d Minuten",h:cd,hh:"%d Stunden",d:cd,dd:cd,M:cd,MM:cd,y:cd,yy:cd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Kf.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),
weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:dd,mm:"%d Minuten",h:dd,hh:"%d Stunden",d:dd,dd:dd,M:dd,MM:dd,y:dd,yy:dd},
ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),["ޖެނުއަރީ","ފެބްރުއަރީ","މާރިޗު","އޭޕްރީލު","މޭ","ޖޫން","ޖުލައި","އޯގަސްޓު","ސެޕްޓެމްބަރު","އޮކްޓޯބަރު","ނޮވެމްބަރު","ޑިސެމްބަރު"]),_f=["އާދިއްތަ","ހޯމަ","އަންގާރަ","ބުދަ","ބުރާސްފަތި","ހުކުރު","ހޮނިހިރު"],ag=(Kf.defineLocale("dv",{months:$f,monthsShort:$f,weekdays:_f,weekdaysShort:_f,weekdaysMin:"އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/މކ|މފ/,isPM:function(a){return""===a},meridiem:function(a,b,c){return 12>a?"މކ":"މފ"},calendar:{
sameDay:"[މިއަދު] LT",nextDay:"[މާދަމާ] LT",nextWeek:"dddd LT",lastDay:"[އިއްޔެ] LT",lastWeek:"[ފާއިތުވި] dddd LT",sameElse:"L"},relativeTime:{future:"ތެރޭގައި %s",past:"ކުރިން %s",s:"ސިކުންތުކޮޅެއް",m:"މިނިޓެއް",mm:"މިނިޓު %d",h:"ގަޑިއިރެއް",hh:"ގަޑިއިރު %d",d:"ދުވަހެއް",dd:"ދުވަސް %d",M:"މަހެއް",MM:"މަސް %d",y:"އަހަރެއް",yy:"އަހަރު %d"},preparse:function(a){return a.replace(/،/g,",")},postformat:function(a){return a.replace(/,/g,"،")},week:{dow:7,doy:12}}),Kf.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),
monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(a,b){return/D/.test(b.substring(0,b.indexOf("MMMM")))?this._monthsGenitiveEl[a.month()]:this._monthsNominativeEl[a.month()]},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(a,b,c){return a>11?c?"μμ":"ΜΜ":c?"πμ":"ΠΜ"},isPM:function(a){return"μ"===(a+"").toLowerCase()[0]},
meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(a,b){var c=this._calendarEl[a],d=b&&b.hours();return D(c)&&(c=c.apply(b)),c.replace("{}",d%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",
hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},ordinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}}),Kf.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",
LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10;return a+(1==~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}}),Kf.defineLocale("en-ca",{
months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY h:mm A",LLLL:"dddd, D MMMM, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},
relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10;return a+(1==~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),Kf.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10
;return a+(1==~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}}),Kf.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",
nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10;return a+(1==~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}}),Kf.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",
d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10;return a+(1==~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}}),Kf.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"Dimanĉo_Lundo_Mardo_Merkredo_Ĵaŭdo_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_Ĵaŭ_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Ĵa_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",
L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-an de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(a){return"p"===a.charAt(0).toLowerCase()},meridiem:function(a,b,c){return a>11?c?"p.t.m.":"P.T.M.":c?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{
dow:1,doy:7}}),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_")),bg="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),cg=(Kf.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?bg[a.month()]:ag[a.month()]},weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",
LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinalParse:/\d{1,2}º/,
ordinal:"%dº",week:{dow:1,doy:4}}),Kf.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",
lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:ed,m:ed,mm:ed,h:ed,hh:ed,d:ed,dd:"%d päeva",M:ed,MM:ed,y:ed,yy:ed},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Kf.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",
LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,
doy:7}}),{1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"}),dg={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"},eg=(Kf.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",
LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(a){return/بعد از ظهر/.test(a)},meridiem:function(a,b,c){return 12>a?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چندین ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(a){return a.replace(/[۰-۹]/g,function(a){return dg[a]}).replace(/،/g,",")},postformat:function(a){
return a.replace(/\d/g,function(a){return cg[a]}).replace(/,/g,"،")},ordinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}}),"nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" ")),fg=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",eg[7],eg[8],eg[9]],gg=(Kf.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),
weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:fd,m:fd,mm:fd,h:fd,hh:fd,d:fd,dd:fd,M:fd,MM:fd,y:fd,yy:fd},ordinalParse:/\d{1,2}\./,
ordinal:"%d.",week:{dow:1,doy:4}}),Kf.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",
lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Kf.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),
weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(a){
return a+(1===a?"er":"e")}}),Kf.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",
lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(a){return a+(1===a?"er":"e")},week:{dow:1,doy:4}}),Kf.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),
weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(a){return a+(1===a?"er":"")
},week:{dow:1,doy:4}}),"jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_")),hg="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),ig=(Kf.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?hg[a.month()]:gg[a.month()]},weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",
LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}}),
["Am Faoilleach","An Gearran","Am Màrt","An Giblean","An Cèitean","An t-Ògmhios","An t-Iuchar","An Lùnastal","An t-Sultain","An Dàmhair","An t-Samhain","An Dùbhlachd"]),jg=["Faoi","Gear","Màrt","Gibl","Cèit","Ògmh","Iuch","Lùn","Sult","Dàmh","Samh","Dùbh"],kg=["Didòmhnaich","Diluain","Dimàirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],lg=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],mg=["Dò","Lu","Mà","Ci","Ar","Ha","Sa"],ng=(Kf.defineLocale("gd",{months:ig,monthsShort:jg,monthsParseExact:!0,weekdays:kg,weekdaysShort:lg,weekdaysMin:mg,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",
LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-màireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dè aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mìos",MM:"%d mìosan",y:"bliadhna",yy:"%d bliadhna"},ordinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(a){return a+(1===a?"d":a%10==2?"na":"mh")},week:{dow:1,doy:4}}),Kf.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuño_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),
monthsShort:"Xan._Feb._Mar._Abr._Mai._Xuñ._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mércores_Xoves_Venres_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mér._Xov._Ven._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mé_Xo_Ve_Sá".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){
return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(a){return"uns segundos"===a?"nuns segundos":"en "+a},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:7}}),Kf.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),
weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(a){return 2===a?"שעתיים":a+" שעות"},
d:"יום",dd:function(a){return 2===a?"יומיים":a+" ימים"},M:"חודש",MM:function(a){return 2===a?"חודשיים":a+" חודשים"},y:"שנה",yy:function(a){return 2===a?"שנתיים":a%10==0&&10!==a?a+" שנה":a+" שנים"}}}),{1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"}),og={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"},pg=(Kf.defineLocale("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),
weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(a){return a.replace(/[१२३४५६७८९०]/g,function(a){return og[a]})},
postformat:function(a){return a.replace(/\d/g,function(a){return ng[a]})},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(a,b){return 12===a&&(a=0),"रात"===b?4>a?a:a+12:"सुबह"===b?a:"दोपहर"===b?a>=10?a:a+12:"शाम"===b?a+12:void 0},meridiem:function(a,b,c){return 4>a?"रात":10>a?"सुबह":17>a?"दोपहर":20>a?"शाम":"रात"},week:{dow:0,doy:6}}),Kf.defineLocale("hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},
monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},
lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:hd,mm:hd,h:hd,hh:hd,d:"dan",dd:hd,M:"mjesec",MM:hd,y:"godinu",yy:hd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),"vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ")),qg=(Kf.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),
monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(a){return"u"===a.charAt(1).toLowerCase()},meridiem:function(a,b,c){return 12>a?!0===c?"de":"DE":!0===c?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return jd.call(this,!0)},
lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return jd.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:id,m:id,mm:id,h:id,hh:id,d:id,dd:id,M:id,MM:id,y:id,yy:id},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),Kf.defineLocale("hy-am",{months:{format:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),standalone:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_")},monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),
weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",
MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(a){return/^(ցերեկվա|երեկոյան)$/.test(a)},meridiem:function(a){return 4>a?"գիշերվա":12>a?"առավոտվա":17>a?"ցերեկվա":"երեկոյան"},ordinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(a,b){switch(b){case"DDD":case"w":case"W":case"DDDo":return 1===a?a+"-ին":a+"-րդ";default:return a}},week:{dow:1,doy:7}}),Kf.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),
weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(a,b){return 12===a&&(a=0),"pagi"===b?a:"siang"===b?a>=11?a:a+12:"sore"===b||"malam"===b?a+12:void 0},meridiem:function(a,b,c){return 11>a?"pagi":15>a?"siang":19>a?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",
lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),Kf.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),
weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:ld,m:ld,mm:ld,h:"klukkustund",hh:ld,d:ld,dd:ld,M:ld,MM:ld,y:ld,yy:ld},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Kf.defineLocale("it",{
months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"Do_Lu_Ma_Me_Gi_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:
return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(a){return(/^[0-9].+$/.test(a)?"tra":"in")+" "+a},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),Kf.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),
weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",LTS:"Ah時m分s秒",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah時m分",LLLL:"YYYY年M月D日Ah時m分 dddd"},meridiemParse:/午前|午後/i,isPM:function(a){return"午後"===a},meridiem:function(a,b,c){return 12>a?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}}),Kf.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),
monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(a,b){return 12===a&&(a=0),"enjing"===b?a:"siyang"===b?a>=11?a:a+12:"sonten"===b||"ndalu"===b?a+12:void 0},meridiem:function(a,b,c){return 11>a?"enjing":15>a?"siyang":19>a?"sonten":"ndalu"},calendar:{
sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),Kf.defineLocale("ka",{months:{standalone:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),
format:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:{standalone:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),format:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_"),isFormat:/(წინა|შემდეგ)/},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{
sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(a){return/(წამი|წუთი|საათი|წელი)/.test(a)?a.replace(/ი$/,"ში"):a+"ში"},past:function(a){return/(წამი|წუთი|საათი|დღე|თვე)/.test(a)?a.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(a)?a.replace(/წელი$/,"წლის წინ"):void 0},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},ordinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(a){return 0===a?a:1===a?a+"-ლი":20>a||100>=a&&a%20==0||a%100==0?"მე-"+a:a+"-ე"},
week:{dow:1,doy:7}}),{0:"-ші",1:"-ші",2:"-ші",3:"-ші",4:"-ші",5:"-ші",6:"-шы",7:"-ші",8:"-ші",9:"-шы",10:"-шы",20:"-шы",30:"-шы",40:"-шы",50:"-ші",60:"-шы",70:"-ші",80:"-ші",90:"-шы",100:"-ші"}),rg=(Kf.defineLocale("kk",{months:"Қаңтар_Ақпан_Наурыз_Сәуір_Мамыр_Маусым_Шілде_Тамыз_Қыркүйек_Қазан_Қараша_Желтоқсан".split("_"),monthsShort:"Қаң_Ақп_Нау_Сәу_Мам_Мау_Шіл_Там_Қыр_Қаз_Қар_Жел".split("_"),weekdays:"Жексенбі_Дүйсенбі_Сейсенбі_Сәрсенбі_Бейсенбі_Жұма_Сенбі".split("_"),weekdaysShort:"Жек_Дүй_Сей_Сәр_Бей_Жұм_Сен".split("_"),weekdaysMin:"Жк_Дй_Сй_Ср_Бй_Жм_Сн".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",
LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгін сағат] LT",nextDay:"[Ертең сағат] LT",nextWeek:"dddd [сағат] LT",lastDay:"[Кеше сағат] LT",lastWeek:"[Өткен аптаның] dddd [сағат] LT",sameElse:"L"},relativeTime:{future:"%s ішінде",past:"%s бұрын",s:"бірнеше секунд",m:"бір минут",mm:"%d минут",h:"бір сағат",hh:"%d сағат",d:"бір күн",dd:"%d күн",M:"бір ай",MM:"%d ай",y:"бір жыл",yy:"%d жыл"},ordinalParse:/\d{1,2}-(ші|шы)/,ordinal:function(a){var b=a%10,c=a>=100?100:null;return a+(qg[a]||qg[b]||qg[c])},week:{dow:1,doy:7}}),Kf.defineLocale("km",{
months:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysMin:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ថ្ងៃនេះ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",
lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},week:{dow:1,doy:4}}),Kf.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 m분",LTS:"A h시 m분 s초",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h시 m분",
LLLL:"YYYY년 MMMM D일 dddd A h시 m분"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇초",ss:"%d초",m:"일분",mm:"%d분",h:"한시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한달",MM:"%d달",y:"일년",yy:"%d년"},ordinalParse:/\d{1,2}일/,ordinal:"%d일",meridiemParse:/오전|오후/,isPM:function(a){return"오후"===a},meridiem:function(a,b,c){return 12>a?"오전":"오후"}}),Kf.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),
weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:nd,past:od,s:"e puer Sekonnen",m:md,mm:"%d Minutten",
h:md,hh:"%d Stonnen",d:md,dd:"%d Deeg",M:md,MM:"%d Méint",y:md,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Kf.defineLocale("lo",{months:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),monthsShort:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),weekdays:"ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysShort:"ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysMin:"ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ວັນdddd D MMMM YYYY HH:mm"},
meridiemParse:/ຕອນເຊົ້າ|ຕອນແລງ/,isPM:function(a){return"ຕອນແລງ"===a},meridiem:function(a,b,c){return 12>a?"ຕອນເຊົ້າ":"ຕອນແລງ"},calendar:{sameDay:"[ມື້ນີ້ເວລາ] LT",nextDay:"[ມື້ອື່ນເວລາ] LT",nextWeek:"[ວັນ]dddd[ໜ້າເວລາ] LT",lastDay:"[ມື້ວານນີ້ເວລາ] LT",lastWeek:"[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT",sameElse:"L"},relativeTime:{future:"ອີກ %s",past:"%sຜ່ານມາ",s:"ບໍ່ເທົ່າໃດວິນາທີ",m:"1 ນາທີ",mm:"%d ນາທີ",h:"1 ຊົ່ວໂມງ",hh:"%d ຊົ່ວໂມງ",d:"1 ມື້",dd:"%d ມື້",M:"1 ເດືອນ",MM:"%d ເດືອນ",y:"1 ປີ",yy:"%d ປີ"},ordinalParse:/(ທີ່)\d{1,2}/,ordinal:function(a){return"ທີ່"+a}}),{m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",
hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"}),sg=(Kf.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_")},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),
standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",
sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:qd,m:rd,mm:ud,h:rd,hh:ud,d:rd,dd:ud,M:rd,MM:ud,y:rd,yy:ud},ordinalParse:/\d{1,2}-oji/,ordinal:function(a){return a+"-oji"},week:{dow:1,doy:4}}),{m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")
}),tg=(Kf.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",
lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:yd,m:xd,mm:wd,h:xd,hh:wd,d:xd,dd:wd,M:xd,MM:wd,y:xd,yy:wd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&4>=a?b[1]:b[2]},translate:function(a,b,c){var d=tg.words[c];return 1===c.length?b?d[0]:d[1]:a+" "+tg.correctGrammaticalCase(a,d)}
}),ug=(Kf.defineLocale("me",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedjelja","ponedjeljak","utorak","srijeda","četvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sri.","čet.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","če","pe","su"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){
case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:tg.translate,mm:tg.translate,h:tg.translate,hh:tg.translate,d:"dan",dd:tg.translate,M:"mjesec",MM:tg.translate,y:"godinu",yy:tg.translate},
ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),Kf.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"[Во] dddd [во] LT",
lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},ordinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(a){var b=a%10,c=a%100;return 0===a?a+"-ев":0===c?a+"-ен":c>10&&20>c?a+"-ти":1===b?a+"-ви":2===b?a+"-ри":7===b||8===b?a+"-ми":a+"-ти"},week:{dow:1,doy:7}}),Kf.defineLocale("ml",{
months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",
lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,isPM:function(a){return/^(ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി)$/.test(a)},meridiem:function(a,b,c){return 4>a?"രാത്രി":12>a?"രാവിലെ":17>a?"ഉച്ച കഴിഞ്ഞ്":20>a?"വൈകുന്നേരം":"രാത്രി"}}),{1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"}),vg={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"
},wg=(Kf.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",
lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%sमध्ये",past:"%sपूर्वी",s:zd,m:zd,mm:zd,h:zd,hh:zd,d:zd,dd:zd,M:zd,MM:zd,y:zd,yy:zd},preparse:function(a){return a.replace(/[१२३४५६७८९०]/g,function(a){return vg[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return ug[a]})},meridiemParse:/रात्री|सकाळी|दुपारी|सायंकाळी/,meridiemHour:function(a,b){return 12===a&&(a=0),"रात्री"===b?4>a?a:a+12:"सकाळी"===b?a:"दुपारी"===b?a>=10?a:a+12:"सायंकाळी"===b?a+12:void 0},meridiem:function(a,b,c){return 4>a?"रात्री":10>a?"सकाळी":17>a?"दुपारी":20>a?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}}),Kf.defineLocale("ms-my",{
months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(a,b){return 12===a&&(a=0),"pagi"===b?a:"tengahari"===b?a>=11?a:a+12:"petang"===b||"malam"===b?a+12:void 0},
meridiem:function(a,b,c){return 11>a?"pagi":15>a?"tengahari":19>a?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),Kf.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),
monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(a,b){return 12===a&&(a=0),"pagi"===b?a:"tengahari"===b?a>=11?a:a+12:"petang"===b||"malam"===b?a+12:void 0},meridiem:function(a,b,c){return 11>a?"pagi":15>a?"tengahari":19>a?"petang":"malam"},calendar:{
sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),{1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"}),xg={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"},yg=(Kf.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),
monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",m:"တစ်မိနစ်",mm:"%d မိနစ်",
h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(a){return a.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,function(a){return xg[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return wg[a]})},week:{dow:1,doy:4}}),Kf.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),
longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"}),zg={"१":"1","२":"2","३":"3",
"४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"},Ag=(Kf.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आ._सो._मं._बु._बि._शु._श.".split("_"),longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(a){
return a.replace(/[१२३४५६७८९०]/g,function(a){return zg[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return yg[a]})},meridiemParse:/राति|बिहान|दिउँसो|साँझ/,meridiemHour:function(a,b){return 12===a&&(a=0),"राति"===b?4>a?a:a+12:"बिहान"===b?a:"दिउँसो"===b?a>=10?a:a+12:"साँझ"===b?a+12:void 0},meridiem:function(a,b,c){return 3>a?"राति":12>a?"बिहान":16>a?"दिउँसो":20>a?"साँझ":"राति"},calendar:{sameDay:"[आज] LT",nextDay:"[भोलि] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडि",s:"केही क्षण",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",
dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:0,doy:6}}),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_")),Bg="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),Cg=(Kf.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?Bg[a.month()]:Ag[a.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",
L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}}),Kf.defineLocale("nn",{
months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",
sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),"styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_")),Dg="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_"),Eg=(Kf.defineLocale("pl",{months:function(a,b){return""===b?"("+Dg[a.month()]+"|"+Cg[a.month()]+")":/D MMMM/.test(b)?Dg[a.month()]:Cg[a.month()]},
monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:
return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:Bd,mm:Bd,h:Bd,hh:Bd,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:Bd,y:"rok",yy:Bd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Kf.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Terça-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),
longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº"}),Kf.defineLocale("pt",{
months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Terça-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",
lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),Kf.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),
weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:Cd,h:"o oră",hh:Cd,d:"o zi",dd:Cd,M:"o lună",MM:Cd,y:"un an",yy:Cd},week:{dow:1,doy:7}}),
[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[й|я]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i]),Fg=(Kf.defineLocale("ru",{months:{format:"Января_Февраля_Марта_Апреля_Мая_Июня_Июля_Августа_Сентября_Октября_Ноября_Декабря".split("_"),standalone:"Январь_Февраль_Март_Апрель_Май_Июнь_Июль_Август_Сентябрь_Октябрь_Ноябрь_Декабрь".split("_")},monthsShort:{format:"янв_фев_мар_апр_мая_июня_июля_авг_сен_окт_ноя_дек".split("_"),standalone:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_")},weekdays:{standalone:"Воскресенье_Понедельник_Вторник_Среда_Четверг_Пятница_Суббота".split("_"),
format:"Воскресенье_Понедельник_Вторник_Среду_Четверг_Пятницу_Субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/},weekdaysShort:"Вс_Пн_Вт_Ср_Чт_Пт_Сб".split("_"),weekdaysMin:"Вс_Пн_Вт_Ср_Чт_Пт_Сб".split("_"),monthsParse:Eg,longMonthsParse:Eg,shortMonthsParse:Eg,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(a){if(a.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:
return"[В следующее] dddd [в] LT";case 1:case 2:case 4:return"[В следующий] dddd [в] LT";case 3:case 5:case 6:return"[В следующую] dddd [в] LT"}},lastWeek:function(a){if(a.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:Ed,mm:Ed,h:"час",hh:Ed,d:"день",dd:Ed,M:"месяц",MM:Ed,y:"год",yy:Ed},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(a){return/^(дня|вечера)$/.test(a)},
meridiem:function(a,b,c){return 4>a?"ночи":12>a?"утра":17>a?"дня":"вечера"},ordinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":return a+"-й";case"D":return a+"-го";case"w":case"W":return a+"-я";default:return a}},week:{dow:1,doy:7}}),Kf.defineLocale("se",{months:"ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu".split("_"),monthsShort:"ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov".split("_"),weekdays:"sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat".split("_"),
weekdaysShort:"sotn_vuos_maŋ_gask_duor_bear_láv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geažes",past:"maŋit %s",s:"moadde sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mánnu",MM:"%d mánut",y:"okta jahki",yy:"%d jagit"},ordinalParse:/\d{1,2}\./,
ordinal:"%d.",week:{dow:1,doy:4}}),Kf.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",
lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},ordinalParse:/\d{1,2} වැනි/,ordinal:function(a){return a+" වැනි"},meridiem:function(a,b,c){return a>11?c?"ප.ව.":"පස් වරු":c?"පෙ.ව.":"පෙර වරු"}}),"január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_")),Gg="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_"),Hg=(Kf.defineLocale("sk",{months:Fg,monthsShort:Gg,
weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:
return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:Gd,m:Gd,mm:Gd,h:Gd,hh:Gd,d:Gd,dd:Gd,M:Gd,MM:Gd,y:Gd,yy:Gd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Kf.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),
weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:
return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:Hd,m:Hd,mm:Hd,h:Hd,hh:Hd,d:Hd,dd:Hd,M:Hd,MM:Hd,y:Hd,yy:Hd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),Kf.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),
meridiemParse:/PD|MD/,isPM:function(a){return"M"===a.charAt(0)},meridiem:function(a,b,c){return 12>a?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{words:{
m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&4>=a?b[1]:b[2]},translate:function(a,b,c){var d=Hg.words[c];return 1===c.length?b?d[0]:d[1]:a+" "+Hg.correctGrammaticalCase(a,d)}}),Ig=(Kf.defineLocale("sr-cyrl",{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],monthsShort:["јан.","феб.","мар.","апр.","мај","јун","јул","авг.","сеп.","окт.","нов.","дец."],
weekdays:["недеља","понедељак","уторак","среда","четвртак","петак","субота"],weekdaysShort:["нед.","пон.","уто.","сре.","чет.","пет.","суб."],weekdaysMin:["не","по","ут","ср","че","пе","су"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){
return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",m:Hg.translate,mm:Hg.translate,h:Hg.translate,hh:Hg.translate,d:"дан",dd:Hg.translate,M:"месец",MM:Hg.translate,y:"годину",yy:Hg.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),{words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],
MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&4>=a?b[1]:b[2]},translate:function(a,b,c){var d=Ig.words[c];return 1===c.length?b?d[0]:d[1]:a+" "+Ig.correctGrammaticalCase(a,d)}}),Jg=(Kf.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","četvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","čet.","pet.","sub."],
weekdaysMin:["ne","po","ut","sr","če","pe","su"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){
return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:Ig.translate,mm:Ig.translate,h:Ig.translate,hh:Ig.translate,d:"dan",dd:Ig.translate,M:"mesec",MM:Ig.translate,y:"godinu",yy:Ig.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),Kf.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),
monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",
M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(a){var b=a%10;return a+(1==~~(a%100/10)?"e":1===b?"a":2===b?"a":"e")},week:{dow:1,doy:4}}),Kf.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",
LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}}),{1:"௧",2:"௨",3:"௩",4:"௪",5:"௫",6:"௬",7:"௭",8:"௮",9:"௯",0:"௦"}),Kg={"௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9","௦":"0"},Lg=(Kf.defineLocale("ta",{
months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",
lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},ordinalParse:/\d{1,2}வது/,ordinal:function(a){return a+"வது"},preparse:function(a){return a.replace(/[௧௨௩௪௫௬௭௮௯௦]/g,function(a){return Kg[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Jg[a]})},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(a,b,c){
return 2>a?" யாமம்":6>a?" வைகறை":10>a?" காலை":14>a?" நண்பகல்":18>a?" எற்பாடு":22>a?" மாலை":" யாமம்"},meridiemHour:function(a,b){return 12===a&&(a=0),"யாமம்"===b?2>a?a:a+12:"வைகறை"===b||"காலை"===b?a:"நண்பகல்"===b&&a>=10?a:a+12},week:{dow:0,doy:6}}),Kf.defineLocale("te",{months:"జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జూలై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్".split("_"),monthsShort:"జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జూలై_ఆగ._సెప్._అక్టో._నవ._డిసె.".split("_"),weekdays:"ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం".split("_"),weekdaysShort:"ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని".split("_"),weekdaysMin:"ఆ_సో_మం_బు_గు_శు_శ".split("_"),
longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[నేడు] LT",nextDay:"[రేపు] LT",nextWeek:"dddd, LT",lastDay:"[నిన్న] LT",lastWeek:"[గత] dddd, LT",sameElse:"L"},relativeTime:{future:"%s లో",past:"%s క్రితం",s:"కొన్ని క్షణాలు",m:"ఒక నిమిషం",mm:"%d నిమిషాలు",h:"ఒక గంట",hh:"%d గంటలు",d:"ఒక రోజు",dd:"%d రోజులు",M:"ఒక నెల",MM:"%d నెలలు",y:"ఒక సంవత్సరం",yy:"%d సంవత్సరాలు"},ordinalParse:/\d{1,2}వ/,ordinal:"%dవ",meridiemParse:/రాత్రి|ఉదయం|మధ్యాహ్నం|సాయంత్రం/,meridiemHour:function(a,b){return 12===a&&(a=0),
"రాత్రి"===b?4>a?a:a+12:"ఉదయం"===b?a:"మధ్యాహ్నం"===b?a>=10?a:a+12:"సాయంత్రం"===b?a+12:void 0},meridiem:function(a,b,c){return 4>a?"రాత్రి":10>a?"ఉదయం":17>a?"మధ్యాహ్నం":20>a?"సాయంత్రం":"రాత్రి"},week:{dow:0,doy:6}}),Kf.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"มกรา_กุมภา_มีนา_เมษา_พฤษภา_มิถุนา_กรกฎา_สิงหา_กันยา_ตุลา_พฤศจิกา_ธันวา".split("_"),weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),longDateFormat:{
LT:"H นาฬิกา m นาที",LTS:"H นาฬิกา m นาที s วินาที",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H นาฬิกา m นาที",LLLL:"วันddddที่ D MMMM YYYY เวลา H นาฬิกา m นาที"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(a){return"หลังเที่ยง"===a},meridiem:function(a,b,c){return 12>a?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",
y:"1 ปี",yy:"%d ปี"}}),Kf.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",
lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(a){return a},week:{dow:1,doy:4}}),"pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_")),Mg=(Kf.defineLocale("tlh",{months:"tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’".split("_"),
monthsShort:"jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’".split("_"),weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa’leS] LT",nextWeek:"LLL",lastDay:"[wa’Hu’] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:Id,
past:Jd,s:"puS lup",m:"wa’ tup",mm:Kd,h:"wa’ rep",hh:Kd,d:"wa’ jaj",dd:Kd,M:"wa’ jar",MM:Kd,y:"wa’ DIS",yy:Kd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"}),Ng=(Kf.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),
weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinalParse:/\d{1,2}'(inci|nci|üncü|ncı|uncu|ıncı)/,
ordinal:function(a){if(0===a)return a+"'ıncı";var b=a%10,c=a%100-b,d=a>=100?100:null;return a+(Mg[b]||Mg[c]||Mg[d])},week:{dow:1,doy:7}}),Kf.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",
LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiem:function(a,b,c){return a>11?c?"d'o":"D'O":c?"d'a":"D'A"},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:Md,m:Md,mm:Md,h:Md,hh:Md,d:Md,dd:Md,M:Md,MM:Md,y:Md,yy:Md},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Kf.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),
monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",
m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),Kf.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",
LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}}),Kf.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},
monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:Pd,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:Qd("[Сьогодні "),nextDay:Qd("[Завтра "),lastDay:Qd("[Вчора "),nextWeek:Qd("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return Qd("[Минулої] dddd [").call(this);case 1:case 2:case 4:return Qd("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",
s:"декілька секунд",m:Od,mm:Od,h:"годину",hh:Od,d:"день",dd:Od,M:"місяць",MM:Od,y:"рік",yy:Od},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(a){return/^(дня|вечора)$/.test(a)},meridiem:function(a,b,c){return 4>a?"ночі":12>a?"ранку":17>a?"дня":"вечора"},ordinalParse:/\d{1,2}-(й|го)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":case"w":case"W":return a+"-й";case"D":return a+"-го";default:return a}},week:{dow:1,doy:7}}),Kf.defineLocale("uz",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),
weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",
MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}}),Kf.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",
llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},ordinalParse:/\d{1,2}/,ordinal:function(a){return a},week:{dow:1,doy:4}}),Kf.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),
weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm分",LTS:"Ah点m分s秒",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日Ah点mm分",LLLL:"YYYY年MMMD日ddddAh点mm分",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日Ah点mm分",llll:"YYYY年MMMD日ddddAh点mm分"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(a,b){return 12===a&&(a=0),"凌晨"===b||"早上"===b||"上午"===b?a:"下午"===b||"晚上"===b?a+12:a>=11?a:a+12},meridiem:function(a,b,c){var d=100*a+b;return 600>d?"凌晨":900>d?"早上":1130>d?"上午":1230>d?"中午":1800>d?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){
return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var a,b;return a=Kf().startOf("week"),b=this.unix()-a.unix()>=604800?"[下]":"[本]",0===this.minutes()?b+"dddAh点整":b+"dddAh点mm"},lastWeek:function(){var a,b;return a=Kf().startOf("week"),b=this.unix()<a.unix()?"[上]":"[本]",0===this.minutes()?b+"dddAh点整":b+"dddAh点mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(日|月|周)/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"日";case"M":return a+"月";case"w":case"W":return a+"周";default:return a}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",
hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}}),Kf.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm分",LTS:"Ah點m分s秒",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日Ah點mm分",LLLL:"YYYY年MMMD日ddddAh點mm分",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日Ah點mm分",llll:"YYYY年MMMD日ddddAh點mm分"},meridiemParse:/早上|上午|中午|下午|晚上/,meridiemHour:function(a,b){return 12===a&&(a=0),
"早上"===b||"上午"===b?a:"中午"===b?a>=11?a:a+12:"下午"===b||"晚上"===b?a+12:void 0},meridiem:function(a,b,c){var d=100*a+b;return 900>d?"早上":1130>d?"上午":1230>d?"中午":1800>d?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(日|月|週)/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"日";case"M":return a+"月";case"w":case"W":return a+"週";default:return a}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d分鐘",h:"一小時",hh:"%d小時",d:"一天",dd:"%d天",M:"一個月",MM:"%d個月",y:"一年",yy:"%d年"}}),Kf);return Ng.locale("en"),Ng}),
define("core/promiseQueue",["lodash","core/promise","core/eventifier","lib/uuid"],function(_,Promise,eventifier,uuid){"use strict";return function(){var queue={},getId=function getId(){var id="promise-"+uuid(6);return void 0===queue[id]?id:getId()};return{add:function(promise){return queue[getId()]=promise,this},getValues:function(){return _.values(queue)},clear:function(){return queue={},this},serie:function(promiseFn){var id=getId(),currentQueue=this.getValues(),emitter=eventifier();return queue[id]=new Promise(function(resolve){emitter.on("fulfilled",resolve)}),Promise.all(currentQueue).then(function(){if(_.isFunction(promiseFn))return promiseFn()
}).then(function(data){return emitter.trigger("fulfilled"),delete queue[id],data}).catch(function(err){throw queue={},err})}}}}),define("core/store/localstorage",["lodash","core/promise","core/promiseQueue","lib/uuid"],function(_,Promise,promiseQueue,uuid){"use strict";var storage=window.localStorage,writingQueue=promiseQueue(),setEntry=function(storeName,key,value){return new Promise(function(resolve,reject){try{storage.setItem("tao-store-"+storeName+"."+key,JSON.stringify(value)),resolve(!0)}catch(ex){reject(ex)}})},getEntry=function(storeName,key){return new Promise(function(resolve,reject){var value;try{
value=storage.getItem("tao-store-"+storeName+"."+key),null===value?resolve():resolve(JSON.parse(value))}catch(ex){reject(ex)}})},getKnownStores=function(){return getEntry("index","stores")},registerStore=function(storeName){return getKnownStores().then(function(stores){return stores=stores||{},stores[storeName]={name:storeName,lastOpen:Date.now()},setEntry("index","stores",stores)})},unregisterStore=function(storeName){return getKnownStores().then(function(stores){return stores=stores||{},delete stores[storeName],setEntry("index","stores",stores)})},localStorageBackend=function(storeName){var name,registered=!1,openStore=function(){
return registered?Promise.resolve():registerStore(storeName).then(function(){registered=!0})};if(_.isEmpty(storeName)||!_.isString(storeName))throw new TypeError("The store name is required");return name="tao-store-"+storeName+".",{getItem:function(key){return writingQueue.serie(function(){return openStore().then(function(){return getEntry(storeName,key)})})},setItem:function(key,value){return writingQueue.serie(function(){return openStore().then(function(){return setEntry(storeName,key,value)})})},removeItem:function(key){return writingQueue.serie(function(){return openStore().then(function(){return storage.removeItem(name+key),!0})})},getItems:function(){
var keyPattern=new RegExp("^"+name);return writingQueue.serie(function(){return openStore().then(function(){return _(storage).map(function(entry,index){return storage.key(index)}).filter(function(key){return keyPattern.test(key)}).reduce(function(acc,key){var value,exposedKey=key.replace(name,"");try{value=storage.getItem(key),null!==value&&(acc[exposedKey]=JSON.parse(value))}catch(ex){acc[exposedKey]=null}return acc},{})})})},clear:function(){var keyPattern=new RegExp("^"+name);return writingQueue.serie(function(){return openStore().then(function(){return _(storage).map(function(entry,index){return storage.key(index)}).filter(function(key){
return keyPattern.test(key)}).forEach(function(key){storage.removeItem(key)}),!0})})},removeStore:function(){return this.clear().then(function(){return unregisterStore(storeName)})}}};return localStorageBackend.removeAll=function(validate){return _.isFunction(validate)||(validate=null),getKnownStores().then(function(stores){var removing=_(stores).filter(function(store,storeName){return!validate||validate(storeName,store)}).map(function(store){return store&&store.name?localStorageBackend(store.name).removeStore():Promise.resolve()}).value();return Promise.all(removing)})},localStorageBackend.getAll=function(validate){
return getKnownStores().then(function(stores){return _(stores).filter(function(store,storeName){return!validate||validate(storeName,store)}).map(function(store){return store.name}).value()})},localStorageBackend.getStoreIdentifier=function(){var idStore=localStorageBackend("id");return idStore.getItem("id").then(function(id){return _.isEmpty(id)?(id=uuid(),idStore.setItem("id",id).then(function(){return id})):id})},localStorageBackend}),function(name,definition,global){"use strict";"function"==typeof define?define("lib/store/idbstore",definition):"undefined"!=typeof module&&module.exports?module.exports=definition():global.IDBStore=definition()
}(0,function(){"use strict";function mixin(target,source){var name,s;for(name in source)(s=source[name])!==empty[name]&&s!==target[name]&&(target[name]=s);return target}var defaultErrorHandler=function(error){throw error},defaultSuccessHandler=function(){},defaults={storeName:"Store",storePrefix:"IDBWrapper-",dbVersion:1,keyPath:"id",autoIncrement:!0,onStoreReady:function(){},onError:defaultErrorHandler,indexes:[],implementationPreference:["indexedDB","webkitIndexedDB","mozIndexedDB","shimIndexedDB"]},IDBStore=function(kwArgs,onStoreReady){void 0===onStoreReady&&"function"==typeof kwArgs&&(onStoreReady=kwArgs),
"[object Object]"!=Object.prototype.toString.call(kwArgs)&&(kwArgs={});for(var key in defaults)this[key]=void 0!==kwArgs[key]?kwArgs[key]:defaults[key];this.dbName=this.storePrefix+this.storeName,this.dbVersion=parseInt(this.dbVersion,10)||1,onStoreReady&&(this.onStoreReady=onStoreReady);var env="object"==typeof window?window:self,availableImplementations=this.implementationPreference.filter(function(implName){return implName in env});this.implementation=availableImplementations[0],this.idb=env[this.implementation],this.keyRange=env.IDBKeyRange||env.webkitIDBKeyRange||env.mozIDBKeyRange,this.consts={READ_ONLY:"readonly",READ_WRITE:"readwrite",
VERSION_CHANGE:"versionchange",NEXT:"next",NEXT_NO_DUPLICATE:"nextunique",PREV:"prev",PREV_NO_DUPLICATE:"prevunique"},this.openDB()},proto={constructor:IDBStore,version:"1.7.0",db:null,dbName:null,dbVersion:null,store:null,storeName:null,storePrefix:null,keyPath:null,autoIncrement:null,indexes:null,implementationPreference:null,implementation:"",onStoreReady:null,onError:null,_insertIdCount:0,openDB:function(){var openRequest=this.idb.open(this.dbName,this.dbVersion),preventSuccessCallback=!1;openRequest.onerror=function(error){var gotVersionErr=!1
;"error"in error.target?gotVersionErr="VersionError"==error.target.error.name:"errorCode"in error.target&&(gotVersionErr=12==error.target.errorCode),gotVersionErr?this.onError(new Error("The version number provided is lower than the existing one.")):this.onError(error)}.bind(this),openRequest.onsuccess=function(event){if(!preventSuccessCallback){if(this.db)return void this.onStoreReady();if(this.db=event.target.result,"string"==typeof this.db.version)return void this.onError(new Error("The IndexedDB implementation in this browser is outdated. Please upgrade your browser."))
;if(!this.db.objectStoreNames.contains(this.storeName))return void this.onError(new Error("Object store couldn't be created."));var emptyTransaction=this.db.transaction([this.storeName],this.consts.READ_ONLY);this.store=emptyTransaction.objectStore(this.storeName);var existingIndexes=Array.prototype.slice.call(this.getIndexList());this.indexes.forEach(function(indexData){var indexName=indexData.name;if(!indexName)return preventSuccessCallback=!0,void this.onError(new Error("Cannot create index: No index name given."));if(this.normalizeIndexData(indexData),this.hasIndex(indexName)){var actualIndex=this.store.index(indexName)
;this.indexComplies(actualIndex,indexData)||(preventSuccessCallback=!0,this.onError(new Error('Cannot modify index "'+indexName+'" for current version. Please bump version number to '+(this.dbVersion+1)+"."))),existingIndexes.splice(existingIndexes.indexOf(indexName),1)}else preventSuccessCallback=!0,this.onError(new Error('Cannot create new index "'+indexName+'" for current version. Please bump version number to '+(this.dbVersion+1)+"."))},this),existingIndexes.length&&(preventSuccessCallback=!0,this.onError(new Error('Cannot delete index(es) "'+existingIndexes.toString()+'" for current version. Please bump version number to '+(this.dbVersion+1)+"."))),
preventSuccessCallback||this.onStoreReady()}}.bind(this),openRequest.onupgradeneeded=function(event){if(this.db=event.target.result,this.db.objectStoreNames.contains(this.storeName))this.store=event.target.transaction.objectStore(this.storeName);else{var optionalParameters={autoIncrement:this.autoIncrement};null!==this.keyPath&&(optionalParameters.keyPath=this.keyPath),this.store=this.db.createObjectStore(this.storeName,optionalParameters)}var existingIndexes=Array.prototype.slice.call(this.getIndexList());this.indexes.forEach(function(indexData){var indexName=indexData.name;if(indexName||(preventSuccessCallback=!0,
this.onError(new Error("Cannot create index: No index name given."))),this.normalizeIndexData(indexData),this.hasIndex(indexName)){var actualIndex=this.store.index(indexName);this.indexComplies(actualIndex,indexData)||(this.store.deleteIndex(indexName),this.store.createIndex(indexName,indexData.keyPath,{unique:indexData.unique,multiEntry:indexData.multiEntry})),existingIndexes.splice(existingIndexes.indexOf(indexName),1)}else this.store.createIndex(indexName,indexData.keyPath,{unique:indexData.unique,multiEntry:indexData.multiEntry})},this),existingIndexes.length&&existingIndexes.forEach(function(_indexName){this.store.deleteIndex(_indexName)},this)
}.bind(this)},deleteDatabase:function(onSuccess,onError){if(this.idb.deleteDatabase){this.db.close();var deleteRequest=this.idb.deleteDatabase(this.dbName);deleteRequest.onsuccess=onSuccess,deleteRequest.onerror=onError}else onError(new Error("Browser does not support IndexedDB deleteDatabase!"))},put:function(key,value,onSuccess,onError){null!==this.keyPath&&(onError=onSuccess,onSuccess=value,value=key),onError||(onError=defaultErrorHandler),onSuccess||(onSuccess=defaultSuccessHandler);var putRequest,hasSuccess=!1,result=null,putTransaction=this.db.transaction([this.storeName],this.consts.READ_WRITE);return putTransaction.oncomplete=function(){
(hasSuccess?onSuccess:onError)(result)},putTransaction.onabort=onError,putTransaction.onerror=onError,null!==this.keyPath?(this._addIdPropertyIfNeeded(value),putRequest=putTransaction.objectStore(this.storeName).put(value)):putRequest=putTransaction.objectStore(this.storeName).put(value,key),putRequest.onsuccess=function(event){hasSuccess=!0,result=event.target.result},putRequest.onerror=onError,putTransaction},get:function(key,onSuccess,onError){onError||(onError=defaultErrorHandler),onSuccess||(onSuccess=defaultSuccessHandler);var hasSuccess=!1,result=null,getTransaction=this.db.transaction([this.storeName],this.consts.READ_ONLY)
;getTransaction.oncomplete=function(){(hasSuccess?onSuccess:onError)(result)},getTransaction.onabort=onError,getTransaction.onerror=onError;var getRequest=getTransaction.objectStore(this.storeName).get(key);return getRequest.onsuccess=function(event){hasSuccess=!0,result=event.target.result},getRequest.onerror=onError,getTransaction},remove:function(key,onSuccess,onError){onError||(onError=defaultErrorHandler),onSuccess||(onSuccess=defaultSuccessHandler);var hasSuccess=!1,result=null,removeTransaction=this.db.transaction([this.storeName],this.consts.READ_WRITE);removeTransaction.oncomplete=function(){(hasSuccess?onSuccess:onError)(result)},
removeTransaction.onabort=onError,removeTransaction.onerror=onError;var deleteRequest=removeTransaction.objectStore(this.storeName).delete(key);return deleteRequest.onsuccess=function(event){hasSuccess=!0,result=event.target.result},deleteRequest.onerror=onError,removeTransaction},batch:function(dataArray,onSuccess,onError){if(onError||(onError=defaultErrorHandler),onSuccess||(onSuccess=defaultSuccessHandler),"[object Array]"!=Object.prototype.toString.call(dataArray))onError(new Error("dataArray argument must be of type Array."));else if(0===dataArray.length)return onSuccess(!0)
;var count=dataArray.length,called=!1,hasSuccess=!1,batchTransaction=this.db.transaction([this.storeName],this.consts.READ_WRITE);batchTransaction.oncomplete=function(){(hasSuccess?onSuccess:onError)(hasSuccess)},batchTransaction.onabort=onError,batchTransaction.onerror=onError;var onItemSuccess=function(){0!==--count||called||(called=!0,hasSuccess=!0)};return dataArray.forEach(function(operation){var type=operation.type,key=operation.key,value=operation.value,onItemError=function(err){batchTransaction.abort(),called||(called=!0,onError(err,type,key))};if("remove"==type){var deleteRequest=batchTransaction.objectStore(this.storeName).delete(key)
;deleteRequest.onsuccess=onItemSuccess,deleteRequest.onerror=onItemError}else if("put"==type){var putRequest;null!==this.keyPath?(this._addIdPropertyIfNeeded(value),putRequest=batchTransaction.objectStore(this.storeName).put(value)):putRequest=batchTransaction.objectStore(this.storeName).put(value,key),putRequest.onsuccess=onItemSuccess,putRequest.onerror=onItemError}},this),batchTransaction},putBatch:function(dataArray,onSuccess,onError){var batchData=dataArray.map(function(item){return{type:"put",value:item}});return this.batch(batchData,onSuccess,onError)},upsertBatch:function(dataArray,options,onSuccess,onError){
"function"==typeof options&&(onSuccess=options,onError=onSuccess,options={}),onError||(onError=defaultErrorHandler),onSuccess||(onSuccess=defaultSuccessHandler),options||(options={}),"[object Array]"!=Object.prototype.toString.call(dataArray)&&onError(new Error("dataArray argument must be of type Array."));var keyField=options.keyField||this.keyPath,count=dataArray.length,called=!1,hasSuccess=!1,index=0,batchTransaction=this.db.transaction([this.storeName],this.consts.READ_WRITE);batchTransaction.oncomplete=function(){hasSuccess?onSuccess(dataArray):onError(!1)},batchTransaction.onabort=onError,batchTransaction.onerror=onError
;var onItemSuccess=function(event){dataArray[index++][keyField]=event.target.result,0!==--count||called||(called=!0,hasSuccess=!0)};return dataArray.forEach(function(record){var putRequest,key=record.key,onItemError=function(err){batchTransaction.abort(),called||(called=!0,onError(err))};null!==this.keyPath?(this._addIdPropertyIfNeeded(record),putRequest=batchTransaction.objectStore(this.storeName).put(record)):putRequest=batchTransaction.objectStore(this.storeName).put(record,key),putRequest.onsuccess=onItemSuccess,putRequest.onerror=onItemError},this),batchTransaction},removeBatch:function(keyArray,onSuccess,onError){
var batchData=keyArray.map(function(key){return{type:"remove",key:key}});return this.batch(batchData,onSuccess,onError)},getBatch:function(keyArray,onSuccess,onError,arrayType){if(onError||(onError=defaultErrorHandler),onSuccess||(onSuccess=defaultSuccessHandler),arrayType||(arrayType="sparse"),"[object Array]"!=Object.prototype.toString.call(keyArray))onError(new Error("keyArray argument must be of type Array."));else if(0===keyArray.length)return onSuccess([]);var data=[],count=keyArray.length,called=!1,hasSuccess=!1,result=null,batchTransaction=this.db.transaction([this.storeName],this.consts.READ_ONLY);batchTransaction.oncomplete=function(){
(hasSuccess?onSuccess:onError)(result)},batchTransaction.onabort=onError,batchTransaction.onerror=onError;var onItemSuccess=function(event){event.target.result||"dense"==arrayType?data.push(event.target.result):"sparse"==arrayType&&data.length++,0===--count&&(called=!0,hasSuccess=!0,result=data)};return keyArray.forEach(function(key){var onItemError=function(err){called=!0,result=err,onError(err),batchTransaction.abort()},getRequest=batchTransaction.objectStore(this.storeName).get(key);getRequest.onsuccess=onItemSuccess,getRequest.onerror=onItemError},this),batchTransaction},getAll:function(onSuccess,onError){onError||(onError=defaultErrorHandler),
onSuccess||(onSuccess=defaultSuccessHandler);var getAllTransaction=this.db.transaction([this.storeName],this.consts.READ_ONLY),store=getAllTransaction.objectStore(this.storeName);return store.getAll?this._getAllNative(getAllTransaction,store,onSuccess,onError):this._getAllCursor(getAllTransaction,store,onSuccess,onError),getAllTransaction},_getAllNative:function(getAllTransaction,store,onSuccess,onError){var hasSuccess=!1,result=null;getAllTransaction.oncomplete=function(){(hasSuccess?onSuccess:onError)(result)},getAllTransaction.onabort=onError,getAllTransaction.onerror=onError;var getAllRequest=store.getAll();getAllRequest.onsuccess=function(event){
hasSuccess=!0,result=event.target.result},getAllRequest.onerror=onError},_getAllCursor:function(getAllTransaction,store,onSuccess,onError){var all=[],hasSuccess=!1,result=null;getAllTransaction.oncomplete=function(){(hasSuccess?onSuccess:onError)(result)},getAllTransaction.onabort=onError,getAllTransaction.onerror=onError;var cursorRequest=store.openCursor();cursorRequest.onsuccess=function(event){var cursor=event.target.result;cursor?(all.push(cursor.value),cursor.continue()):(hasSuccess=!0,result=all)},cursorRequest.onError=onError},clear:function(onSuccess,onError){onError||(onError=defaultErrorHandler),onSuccess||(onSuccess=defaultSuccessHandler)
;var hasSuccess=!1,result=null,clearTransaction=this.db.transaction([this.storeName],this.consts.READ_WRITE);clearTransaction.oncomplete=function(){(hasSuccess?onSuccess:onError)(result)},clearTransaction.onabort=onError,clearTransaction.onerror=onError;var clearRequest=clearTransaction.objectStore(this.storeName).clear();return clearRequest.onsuccess=function(event){hasSuccess=!0,result=event.target.result},clearRequest.onerror=onError,clearTransaction},_addIdPropertyIfNeeded:function(dataObj){void 0===dataObj[this.keyPath]&&(dataObj[this.keyPath]=this._insertIdCount+++Date.now())},getIndexList:function(){return this.store.indexNames},
hasIndex:function(indexName){return this.store.indexNames.contains(indexName)},normalizeIndexData:function(indexData){indexData.keyPath=indexData.keyPath||indexData.name,indexData.unique=!!indexData.unique,indexData.multiEntry=!!indexData.multiEntry},indexComplies:function(actual,expected){return["keyPath","unique","multiEntry"].every(function(key){if("multiEntry"==key&&void 0===actual[key]&&!1===expected[key])return!0;if("keyPath"==key&&"[object Array]"==Object.prototype.toString.call(expected[key])){var exp=expected.keyPath,act=actual.keyPath;if("string"==typeof act)return exp.toString()==act
;if("function"!=typeof act.contains&&"function"!=typeof act.indexOf)return!1;if(act.length!==exp.length)return!1;for(var i=0,m=exp.length;i<m;i++)if(!(act.contains&&act.contains(exp[i])||act.indexOf(-1!==exp[i])))return!1;return!0}return expected[key]==actual[key]})},iterate:function(onItem,options){options=mixin({index:null,order:"ASC",autoContinue:!0,filterDuplicates:!1,keyRange:null,writeAccess:!1,onEnd:null,onError:defaultErrorHandler,limit:1/0,offset:0,allowItemRejection:!1},options||{});var directionType="desc"==options.order.toLowerCase()?"PREV":"NEXT";options.filterDuplicates&&(directionType+="_NO_DUPLICATE")
;var hasSuccess=!1,cursorTransaction=this.db.transaction([this.storeName],this.consts[options.writeAccess?"READ_WRITE":"READ_ONLY"]),cursorTarget=cursorTransaction.objectStore(this.storeName);options.index&&(cursorTarget=cursorTarget.index(options.index));var recordCount=0;cursorTransaction.oncomplete=function(){if(!hasSuccess)return void options.onError(null);options.onEnd?options.onEnd():onItem(null)},cursorTransaction.onabort=options.onError,cursorTransaction.onerror=options.onError;var cursorRequest=cursorTarget.openCursor(options.keyRange,this.consts[directionType]);return cursorRequest.onerror=options.onError,cursorRequest.onsuccess=function(event){
var cursor=event.target.result;if(cursor)if(options.offset)cursor.advance(options.offset),options.offset=0;else{var onItemReturn=onItem(cursor.value,cursor,cursorTransaction);options.allowItemRejection&&!1===onItemReturn||recordCount++,options.autoContinue&&(recordCount+options.offset<options.limit?cursor.continue():hasSuccess=!0)}else hasSuccess=!0},cursorTransaction},query:function(onSuccess,options){var result=[],processedItems=0;return options=options||{},options.autoContinue=!0,options.writeAccess=!1,options.allowItemRejection=!!options.filter,options.onEnd=function(){onSuccess(result,processedItems)},this.iterate(function(item){processedItems++
;var accept=!options.filter||options.filter(item);return!1!==accept&&result.push(item),accept},options)},count:function(onSuccess,options){options=mixin({index:null,keyRange:null},options||{});var onError=options.onError||defaultErrorHandler,hasSuccess=!1,result=null,cursorTransaction=this.db.transaction([this.storeName],this.consts.READ_ONLY);cursorTransaction.oncomplete=function(){(hasSuccess?onSuccess:onError)(result)},cursorTransaction.onabort=onError,cursorTransaction.onerror=onError;var cursorTarget=cursorTransaction.objectStore(this.storeName);options.index&&(cursorTarget=cursorTarget.index(options.index))
;var countRequest=cursorTarget.count(options.keyRange);return countRequest.onsuccess=function(evt){hasSuccess=!0,result=evt.target.result},countRequest.onError=onError,cursorTransaction},makeKeyRange:function(options){var keyRange,hasLower=void 0!==options.lower,hasUpper=void 0!==options.upper,isOnly=void 0!==options.only;switch(!0){case isOnly:keyRange=this.keyRange.only(options.only);break;case hasLower&&hasUpper:keyRange=this.keyRange.bound(options.lower,options.upper,options.excludeLower,options.excludeUpper);break;case hasLower:keyRange=this.keyRange.lowerBound(options.lower,options.excludeLower);break;case hasUpper:
keyRange=this.keyRange.upperBound(options.upper,options.excludeUpper);break;default:throw new Error('Cannot create KeyRange. Provide one or both of "lower" or "upper" value, or an "only" value.')}return keyRange}},empty={};return IDBStore.prototype=proto,IDBStore.version=proto.version,IDBStore},this),define("core/store/indexeddb",["lodash","core/promise","lib/store/idbstore","lib/uuid"],function(_,Promise,IDBStore,uuid){"use strict";var knownStores,isIndexedDB2="getAll"in IDBObjectStore.prototype,openStore=function(storeName){return new Promise(function(resolve,reject){var store=new IDBStore({dbVersion:1,storeName:storeName,storePrefix:"tao-store-",
keyPath:"key",autoIncrement:!0,onStoreReady:function(){store.db.onversionchange=function(e){e&&e.newVersion||store.db.close()},resolve(store)},onError:reject})})},setEntry=function(store,key,value){return new Promise(function(resolve,reject){var entry={key:key,value:value},success=function(returnKey){resolve(returnKey===key)};store.put(entry,success,reject)})},getEntry=function(store,key){return new Promise(function(resolve,reject){var success=function(entry){if(!entry||void 0===entry.value)return resolve(entry);resolve(entry.value)};store.get(key,success,reject)})},getEntries=function(store){return new Promise(function(resolve,reject){
var success=function(entries){if(!_.isArray(entries))return resolve({});resolve(_.reduce(entries,function(acc,entry){return entry.key&&entry.value&&(acc[entry.key]=entry.value),acc},{}))};store.getAll(success,reject)})},removeEntry=function(store,key){return new Promise(function(resolve,reject){var success=function(result){resolve(!1!==result)};store.remove(key,success,reject)})},getKnownStores=function(){return knownStores||(knownStores=openStore("index")),knownStores},registerStore=function(storeName){return getKnownStores().then(function(store){return setEntry(store,storeName,{name:storeName,lastOpen:Date.now()})})},unregisterStore=function(storeName){
return getKnownStores().then(function(store){return removeEntry(store,storeName)})},deleteStore=function(store,storeName){return new Promise(function(resolve,reject){var success=function(){unregisterStore(storeName).then(function(){resolve(!0)}).catch(reject)};isIndexedDB2?store.deleteDatabase(success,reject):store.clear(success,reject)})},indexDbBackend=function(storeName){var innerStore,writePromise,getStore=function(){return innerStore||(innerStore=openStore(storeName).then(function(store){return registerStore(storeName).then(function(){return Promise.resolve(store)})})),innerStore},ensureSerie=function(getWritingPromise){
return writePromise?new Promise(function(resolve,reject){var runWrite=function(){var p=getWritingPromise();writePromise=p,p.then(resolve).catch(reject)};writePromise.then(runWrite).catch(runWrite)}):writePromise=getWritingPromise()};if(_.isEmpty(storeName)||!_.isString(storeName))throw new TypeError("The store name is required");return{getItem:function(key){return ensureSerie(function(){return getStore().then(function(store){return getEntry(store,key)})})},setItem:function(key,value){return ensureSerie(function(){return getStore().then(function(store){return setEntry(store,key,value)})})},removeItem:function(key){return ensureSerie(function(){
return getStore().then(function(store){return removeEntry(store,key)})})},getItems:function(){return ensureSerie(function(){return getStore().then(function(store){return getEntries(store)})})},clear:function(){return ensureSerie(function(){return getStore().then(function(store){return new Promise(function(resolve,reject){var success=function(){resolve(!0)};store.clear(success,reject)})})})},removeStore:function(){return ensureSerie(function(){return getStore().then(function(store){return deleteStore(store,storeName)})})}}};return indexDbBackend.removeAll=function(validate){return _.isFunction(validate)||(validate=null),getKnownStores().then(function(store){
return new Promise(function(resolve,reject){function cleanUp(entries){var all=[];_.forEach(entries,function(entry){var storeName=entry&&entry.key;storeName&&all.push(openStore(storeName).then(function(storeToRemove){if(!validate||validate(storeName,entry.value))return deleteStore(storeToRemove,storeName)}))}),Promise.all(all).then(resolve).catch(reject)}store.getAll(cleanUp,reject)})})},indexDbBackend.getAll=function(validate){return _.isFunction(validate)||(validate=function(){return!0}),getKnownStores().then(function(store){return new Promise(function(resolve,reject){store.getAll(function(entries){var storeNames=_(entries).filter(function(entry){
return entry&&entry.key&&validate(entry.key,entry.value)}).map(function(entry){return entry.key}).value();return resolve(storeNames)},reject)})})},indexDbBackend.getStoreIdentifier=function(){return openStore("id").then(function(store){return getEntry(store,"id").then(function(id){return _.isEmpty(id)?(id=uuid(),setEntry(store,"id",id).then(function(){return id})):id})})},indexDbBackend}),define("core/store/memory",["lodash","core/promise","lib/uuid"],function(_,Promise,uuid){"use strict";var idStore,memoryStore={},memoryStorageBackend=function(storeName){if(_.isEmpty(storeName)||!_.isString(storeName))throw new TypeError("The store name is required")
;return memoryStore[storeName]=memoryStore[storeName]||{},{getItem:function(key){return _.isPlainObject(memoryStore[storeName])?Promise.resolve(memoryStore[storeName][key]):Promise.resolve()},setItem:function(key,value){return _.isPlainObject(memoryStore[storeName])||(memoryStore[storeName]={}),memoryStore[storeName][key]=value,Promise.resolve(!0)},removeItem:function(key){return memoryStore[storeName]=_.omit(memoryStore[storeName],key),Promise.resolve(void 0===memoryStore[storeName][key])},getItems:function(){return Promise.resolve(memoryStore[storeName])},clear:function(){return memoryStore[storeName]={},Promise.resolve(!0)},removeStore:function(){
return memoryStore=_.omit(memoryStore,storeName),Promise.resolve(void 0===memoryStore[storeName])}}};return memoryStorageBackend.removeAll=function(validate){return _.isFunction(validate)||(validate=null),memoryStore=_.omit(memoryStore,function(store,storeName){return!validate||validate(storeName)}),Promise.resolve(!0)},memoryStorageBackend.getAll=function(validate){var storeNames=[];return _.isFunction(validate)||(validate=null),storeNames=_(memoryStore).map(function(store,storeName){return storeName}).filter(function(storeName){return!validate||validate(storeName)}).value(),Promise.resolve(storeNames)},memoryStorageBackend.getStoreIdentifier=function(){
return _.isEmpty(idStore)&&(idStore=uuid()),Promise.resolve(idStore)},memoryStorageBackend}),define("core/store",["lodash","moment","module","core/logger","core/promise","core/store/localstorage","core/store/indexeddb","core/store/memory"],function(_,moment,module,loggerFactory,Promise,localStorageBackend,indexedDBBackend,memoryBackend){"use strict";var store,supportsIndexedDB=!1,dectectionDone=!1,quotaChecked=!1,backendApi=["removeAll","getAll","getStoreIdentifier"],storeApi=["getItem","setItem","removeItem","getItems","clear","removeStore"],logger=loggerFactory("core/store"),config=_.defaults(module.config()||{},{lowSpaceRatio:80,invalidation:{
staled:"P2W",oldster:"P2M"}}),isIndexDBSupported=function(){return dectectionDone?Promise.resolve(supportsIndexedDB):new Promise(function(resolve){var test,indexedDB,done=function(result){return supportsIndexedDB=!!result,dectectionDone=!0,resolve(supportsIndexedDB)};try{if(!(indexedDB=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB))return done(!1);test=indexedDB.open("__feature_test",1),test.onsuccess=function(){if(test.result)return test.result.close(),done(!0)},test.onerror=function(e){return e.preventDefault(),done(!1),!1}}catch(err){done(!1)}})},checkQuotas=function(){
!quotaChecked&&"storage"in window.navigator&&window.navigator.storage.estimate&&window.navigator.storage.estimate().then(function(estimate){var usedRatio=0;_.isNumber(estimate.usage)&&_.isNumber(estimate.quota)&&estimate.quota>0&&(usedRatio=estimate.usage/estimate.quota,usedRatio>config.lowSpaceRatio?(logger.warn("The browser storage is getting low "+usedRatio.toFixed(2)+"% used",estimate),logger.warn("We will attempt to clean oldster databases in persistent backends"),store.cleanUpSpace(config.invalidation.oldster,[],localStorageBackend),
isIndexDBSupported&&store.cleanUpSpace(config.invalidation.oldster,[],indexedDBBackend)):logger.debug("Browser storage estimate : "+usedRatio.toFixed(2)+"% used",estimate))}).catch(function(err){logger.warn("Unable to retrieve quotas : "+err.message)}),quotaChecked=!0},isBackendApiValid=function(backend){return _.all(backendApi,function(method){return _.isFunction(backend[method])})},isStorageApiValid=function(storage){return _.all(storeApi,function(method){return _.isFunction(storage[method])})},loadBackend=function(preselectedBackend){return isIndexDBSupported().then(function(){
var backend=preselectedBackend||(supportsIndexedDB?indexedDBBackend:localStorageBackend);return _.isFunction(backend)?isBackendApiValid(backend)?(backend!==memoryBackend&&checkQuotas(),backend):Promise.reject(new TypeError("This backend doesn't comply with the store backend API")):Promise.reject(new TypeError("No backend, no storage!"))})};return store=function(storeName,preselectedBackend){return loadBackend(preselectedBackend).then(function(backend){var storeInstance=backend(storeName);return isStorageApiValid(storeInstance)?storeInstance:Promise.reject(new TypeError("The store doesn't comply with the Storage interface"))})},store.backends={
localStorage:localStorageBackend,indexedDB:indexedDBBackend,memory:memoryBackend},store.removeAll=function(validate,preselectedBackend){return loadBackend(preselectedBackend).then(function(backend){return backend.removeAll(validate)})},store.cleanUpSpace=function(since,storeNamePattern,preselectedBackend){var tsThreshold,invalidate=function(storeName,storeEntry){return!(!storeName||!storeEntry)&&(!(storeNamePattern instanceof RegExp&&!storeNamePattern.test(storeName))&&(_.isNumber(storeEntry.lastOpen)&&_.isNumber(tsThreshold)&&storeEntry.lastOpen<=tsThreshold))}
;return _.isNumber(since)&&since>0?tsThreshold=since:(_.isString(since)||(since=config.invalidation.oldster),tsThreshold=moment().subtract(moment.duration(since)).valueOf()),logger.info("Trying to remove stores lastly opened before "+tsThreshold+"("+since+")"),store.removeAll(invalidate,preselectedBackend)},store.getAll=function(validate,preselectedBackend){return loadBackend(preselectedBackend).then(function(backend){return backend.getAll(validate)})},store.getIdentifier=function(preselectedBackend){return loadBackend(preselectedBackend).then(function(backend){return backend.getStoreIdentifier()})},store}),
define("app/service/session",["lodash","i18n","module","core/store"],function(_,__,module,store){"use strict";var config=_.defaults(module.config(),{ttl:3e5,entryPoints:{all:"main/login",syncManager:"admin/index",testTaker:"delivery/index"}});return{getCurrent:function(){return store("session").then(function(sessionStore){return sessionStore.getItem("current")})},create:function(user){if(!_.isPlainObject(user)||_.isEmpty(user.id)||_.isEmpty(user.username)||_.isEmpty(user.role))throw new TypeError(__("Incomplete user, missing id and/or username, or role"));return store("session").then(function(sessionStore){return sessionStore.clear().then(function(){
var sessionUser=_.omit(user,"password");return sessionStore.setItem("current",{user:sessionUser,createdAt:Date.now()})}).then(function(result){return result?sessionStore.getItem("current"):null})})},alive:function(){return store("session").then(function(sessionStore){return sessionStore.getItem("current").then(function(session){return!!session&&(session.updatedAt=Date.now(),sessionStore.setItem("current",session))})})},check:function(){var now=Date.now();return store("session").then(function(sessionStore){return sessionStore.getItem("current").then(function(session){var sessionCheckPoint
;return!!(session&&(sessionCheckPoint=session.updatedAt||session.createdAt)>0&&sessionCheckPoint+config.ttl>now)})})},clear:function(){return store("session").then(function(sessionStore){return sessionStore.clear()})},getEntryPoint:function(){return this.getCurrent().then(function(session){var entryPoint=config.entryPoints.all;return session&&session.user&&session.user.role&&config.entryPoints[session.user.role]&&(entryPoint=config.entryPoints[session.user.role]),entryPoint})}}}),define("app",["jquery","lodash","app/controller/pageController","app/service/session"],function($,_,pageController,sessionService){"use strict";return pageController({
start:function(){var self=this,router=this.getRouter(),pageContainer=this.getContainer();this.getRouter().on("dispatching",function(route,taoRoute,params){pageContainer.classList.add("page-change"),pageContainer.innerHTML="",pageContainer.dataset.page=route,pageContainer.dataset.params=JSON.stringify(params||{})}).on("dispatched",function(){pageContainer.classList.remove("page-change")}),$(pageContainer).on("click","[data-route]",function(e){var route=$(this).data("route");route&&(e.preventDefault(),router.dispatch(route))}),sessionService.getEntryPoint().then(function(entryPoint){if(entryPoint)return router.dispatch(entryPoint)
;throw new Error("No entrypoint defined")}).catch(function(err){self.handleError(err)})}})}),function(){"use strict";require.config({baseUrl:".",catchError:!0,waitSeconds:30,urlArgs:"buster=3.3.0-sprint72",paths:{text:"../taodist/tao/views/js/lib/text/text",json:"../taodist/tao/views/js/lib/text/json",css:"../taodist/tao/views/js/lib/require-css/css","css-builder":"../taodist/tao/views/js/lib/require-css/css-builder",normalize:"../taodist/tao/views/js/lib/require-css/normalize",tpl:"../taodist/tao/views/js/tpl",lib:"../taodist/tao/views/js/lib",ui:"../taodist/tao/views/js/ui",lodash:"../taodist/tao/views/js/lib/lodash.min",
moment:"../taodist/tao/views/js/lib/moment-with-locales.min",handlebars:"../taodist/tao/views/js/lib/handlebars",jquery:"../taodist/tao/views/js/lib/jquery-1.8.0.min",async:"../taodist/tao/views/js/lib/async",mathJax:"../taodist/taoQtiItem/views/js/MathJaxFallback",ckeditor:"/dist/js/lib/ckeditor/ckeditor",raphael:"../taodist/tao/views/js/lib/raphael/raphael","scale.raphael":"../taodist/tao/views/js/lib/raphael/scale.raphael",select2:"../taodist/tao/views/js/lib/select2/select2.min",nouislider:"../taodist/tao/views/js/lib/sliders/jquery.nouislider",qtip:"../taodist/tao/views/js/lib/jquery.qtip/jquery.qtip",interact:"../taodist/tao/views/js/lib/interact",
i18n:"../taodist/tao/views/js/i18n",urlParser:"../taodist/tao/views/js/urlParser",util:"../taodist/tao/views/js/util",class:"../taodist/tao/views/js/lib/class",layout:"../taodist/tao/views/js/layout",context:"../taodist/tao/views/js/context",iframeNotifier:"../taodist/tao/views/js/iframeNotifier",i18ntr:"../taodist/tao/views/locales/en-US",core:"../taodist/tao/views/js/core",tao:"../taodist/tao/views/js",taoCss:"../taodist/tao/views/css",taoTests:"../taodist/taoTests/views/js",taoTestsCss:"../taodist/taoTests/views/css",taoQtiTest:"../taodist/taoQtiTest/views/js",taoQtiTestCss:"../taodist/taoQtiTest/views/css",taoQtiItem:"../taodist/taoQtiItem/views/js",
taoQtiItemCss:"../taodist/taoQtiItem/views/css",taoItems:"../taodist/taoItems/views/js",taoItemsCss:"../taodist/taoItems/views/css",qtiCustomInteractionContext:"../taodist/taoQtiItem/views/js/runtime/qtiCustomInteractionContext",qtiInfoControlContext:"../taodist/taoQtiItem/views/js/runtime/qtiInfoControlContext"},config:{context:{root_url:"/",base_url:"/",taobase_www:"/",base_www:"/",base_lang:"en",locale:"en_US",timeout:30,extension:"",module:"",action:"",bundle:!1},text:{useXhr:function(){return!0}},"util/locale":{decimalSeparator:".",thousandsSeparator:"",dateTimeFormat:"DD/MM/YYYY HH:mm:ss"},"core/logger":{level:"debug",loggers:{"core/logger/console":{
level:"debug"}}},"app/core/request":{endpoint:"https://app.oat.taocloud.org",timeout:3e4},"app/service/authentication":{local:{hash:{salt:10,algorithm:"sha-256"}},syncManager:{api:{method:"POST",path:"/taoSync/HandShake/index"}}},"app/service/synchronization/token":{api:{method:"GET",path:"/taoOauth/TokenApi/requestToken"}},"app/service/synchronization/client":{api:{entity:{method:"GET",path:"/taoSync/SynchronisationApi/fetchEntityChecksums"},details:{method:"POST",path:"/taoSync/SynchronisationApi/fetchEntityDetails"},assembly:{method:"GET",path:"/taoStaticDeliveries/RestStaticDeliveryExporter/assembly",responseType:"blob",headers:{
"Content-Type":"application/zip",Accept:"application/zip"}},result:{method:"POST",path:"/taoSync/ResultApi/syncResults",headers:{"Content-Type":"application/json",Accept:"application/json"}}}}},shim:{moment:{exports:"moment"},class:{exports:"Class"},"/socket.io/socket.io":{exports:"io"}}})}(),define("config",function(){}),define("app/controller/routes",[],function(){"use strict";return{admin:{actions:{index:"controller/admin/index"}},delivery:{actions:{index:"controller/delivery/index",runner:"controller/delivery/runner"}},main:{actions:{login:"controller/main/login",logout:"controller/main/logout"}}}}),
define("tpl!app/component/synchronizer/tpl/container",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",escapeExpression=this.escapeExpression;return buffer+='<section class="synchronizer">\n    <article class="control">\n        <span class="desc">',(helper=helpers.description)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.description,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+'</span>\n        <button class="syncer btn-default"> ',(helper=helpers.startMessage)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.startMessage,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</button>\n    </article>\n\n    ",(helper=helpers.targetContent)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.targetContent,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n\n</section>"})}),
define("tpl!app/component/synchronizer/tpl/target",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",escapeExpression=this.escapeExpression;return buffer+='<article class="sync-target ',(helper=helpers.state)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.state,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-type="',(helper=helpers.type)?stack1=helper.call(depth0,{hash:{},data:data
}):(helper=depth0&&depth0.type,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\n    <h1>',(helper=helpers.name)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.name,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</h1>\n    <p class="sync-result">',(helper=helpers.message)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.message,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+'</p>\n    <div class="progress-indicator"></div>\n</article>'})}),define("normalize",[],function(){function convertURIBase(uri,fromBase,toBase){if(uri.match(absUrlRegEx)||uri.match(protocolRegEx))return uri;uri=removeDoubleSlashes(uri);var toBaseProtocol=toBase.match(protocolRegEx),fromBaseProtocol=fromBase.match(protocolRegEx);return!fromBaseProtocol||toBaseProtocol&&toBaseProtocol[1]==fromBaseProtocol[1]&&toBaseProtocol[2]==fromBaseProtocol[2]?relativeURI(absoluteURI(uri,fromBase),toBase):absoluteURI(uri,fromBase)}function absoluteURI(uri,base){if("./"==uri.substr(0,2)&&(uri=uri.substr(2)),
uri.match(absUrlRegEx)||uri.match(protocolRegEx))return uri;var baseParts=base.split("/"),uriParts=uri.split("/");for(baseParts.pop();curPart=uriParts.shift();)".."==curPart?baseParts.pop():baseParts.push(curPart);return baseParts.join("/")}function relativeURI(uri,base){var baseParts=base.split("/");for(baseParts.pop(),base=baseParts.join("/")+"/",i=0;base.substr(i,1)==uri.substr(i,1);)i++;for(;"/"!=base.substr(i,1);)i--;base=base.substr(i+1),uri=uri.substr(i+1),baseParts=base.split("/");var uriParts=uri.split("/");for(out="";baseParts.shift();)out+="../";for(;curPart=uriParts.shift();)out+=curPart+"/";return out.substr(0,out.length-1)}
var slashes=/([^:])\/+/g,removeDoubleSlashes=function(uri){return uri.replace(slashes,"$1/")},protocolRegEx=/[^\:\/]*:\/\/([^\/])*/,absUrlRegEx=/^(\/|data:)/,normalizeCSS=function(source,fromBase,toBase){fromBase=removeDoubleSlashes(fromBase),toBase=removeDoubleSlashes(toBase);var source;return source};return normalizeCSS.convertURIBase=convertURIBase,normalizeCSS.absoluteURI=absoluteURI,normalizeCSS.relativeURI=relativeURI,normalizeCSS}),define("css",[],function(){if("undefined"==typeof window)return{load:function(n,r,load){load()}}
;var head=document.getElementsByTagName("head")[0],engine=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,useImportLoad=!1,useOnload=!0;engine[1]||engine[7]?useImportLoad=parseInt(engine[1])<6||parseInt(engine[7])<=9:engine[2]||engine[8]?useOnload=!1:engine[4]&&(useImportLoad=parseInt(engine[4])<18);var cssAPI={};cssAPI.pluginBuilder="./css-builder";var curStyle,curSheet,ieCurCallback,createStyle=function(){curStyle=document.createElement("style"),head.appendChild(curStyle),curSheet=curStyle.styleSheet||curStyle.sheet
},ieCnt=0,ieLoads=[],createIeLoad=function(url){ieCnt++,32==ieCnt&&(createStyle(),ieCnt=0),curSheet.addImport(url),curStyle.onload=function(){processIeLoad()}},processIeLoad=function(){ieCurCallback();var nextLoad=ieLoads.shift();if(!nextLoad)return void(ieCurCallback=null);ieCurCallback=nextLoad[1],createIeLoad(nextLoad[0])},importLoad=function(url,callback){if(curSheet&&curSheet.addImport||createStyle(),curSheet&&curSheet.addImport)ieCurCallback?ieLoads.push([url,callback]):(createIeLoad(url),ieCurCallback=callback);else{curStyle.textContent='@import "'+url+'";';var loadInterval=setInterval(function(){try{curStyle.sheet.cssRules,
clearInterval(loadInterval),callback()}catch(e){}},10)}},linkLoad=function(url,callback){var link=document.createElement("link");if(link.type="text/css",link.rel="stylesheet",useOnload)link.onload=function(){link.onload=function(){},setTimeout(callback,7)};else var loadInterval=setInterval(function(){for(var i=0;i<document.styleSheets.length;i++){if(document.styleSheets[i].href==link.href)return clearInterval(loadInterval),callback()}},10);link.href=url,head.appendChild(link)};return cssAPI.normalize=function(name,normalize){return".css"==name.substr(name.length-4,4)&&(name=name.substr(0,name.length-4)),normalize(name)},
cssAPI.load=function(cssId,req,load,config){(useImportLoad?importLoad:linkLoad)(req.toUrl(cssId+".css"),load)},cssAPI}),define("css!app/component/synchronizer/css/synchronizer",[],function(){}),define("app/component/synchronizer/synchronizer",["lodash","i18n","ui/component","tpl!app/component/synchronizer/tpl/container","tpl!app/component/synchronizer/tpl/target","css!app/component/synchronizer/css/synchronizer.css"],function(_,__,component,containerTpl,targetTpl){"use strict";var defaultConfig={description:__("Synchronize device"),startMessage:__("Start"),stopMessage:__("Stop"),targets:[{state:"ready",type:"test-taker",name:__("Test Taker")},{state:"ready",
type:"delivery",name:__("Delivery")}],targetStates:{disabled:{message:__("Target not yet available.")},ready:{message:__("Ready")},running:{message:__("Synchronization in progress, please wait.")},success:{message:__("Synchronization done successfully.")},error:{message:__("An error occurred, please retry later..")}}},isTargetValid=function(target){if(_.isPlainObject(target)&&_.isString(target.state)&&_.isString(target.type)&&_.isString(target.name))return!0;throw new TypeError("Incomplete or invalid sync target")};return function(container,config){var synchronizer=component({getTargets:function(){return this.targets},startAll:function(){var self=this
;return this.is("rendered")&&!this.is("started")&&(this.setState("started",!0),this.controls.syncer.textContent=this.config.stopMessage,_.forEach(this.targets,function(target){self.start(target.type)})),this},stopAll:function(){var self=this;return this.is("rendered")&&this.is("started")&&(this.setState("started",!1),this.controls.syncer.textContent=this.config.startMessage,_.forEach(this.targets,function(target){"disabled"!==target.state&&self.stop(target.type)})),this},start:function(targetType){var target=_.find(this.targets,{type:targetType});return isTargetValid(target)&&"disabled"!==target.state&&(this.setTargetState(target.type,"running"),
this.trigger("start",target.type)),this},stop:function(targetType,state,message){var target=_.find(this.targets,{type:targetType});return isTargetValid(target)&&"disabled"!==target.state&&(this.setTargetState(target.type,state||"ready",message),this.trigger("stop",target.type)),this},succeed:function(targetType,message){return this.stop(targetType,"success",message)},fail:function(targetType,err){var message;return err&&err instanceof Error&&(message=err.message),this.stop(targetType,"error",message)},setTargetState:function(targetType,state,message){var targetContainer,targetResult,availableStates,target=_.find(this.targets,{type:targetType})
;if(this.is("rendered")&&isTargetValid(target)&&this.controls.targets[target.type]&&target.state!==state){if(targetContainer=this.controls.targets[target.type].container,targetResult=this.controls.targets[target.type].results,availableStates=_.keys(this.config.targetStates),!_.contains(availableStates,state))throw new TypeError("Trying to change a sync target state to a non defined state : "+state);target.state=state,_.forEach(availableStates,function(aState){targetContainer.classList.remove(aState)}),targetContainer.classList.add(state),targetResult.textContent=message||this.config.targetStates[state].message}return target}},defaultConfig)
;return synchronizer.setTemplate(containerTpl).on("init",function(){var self=this;this.targets=_.cloneDeep(this.config.targets),this.config.targetContent=_.reduce(this.targets,function(acc,target){var currentState=target.state||"disabled";return acc+=targetTpl(_.merge({message:self.config.targetStates[currentState].message},target))},""),container&&_.defer(function(){self.render(container)})}).on("render",function(){var self=this,element=this.getElement()[0];this.controls={targets:_.reduce(this.targets,function(acc,target){var targetContainer=element.querySelector('.sync-target[data-type="'+target.type+'"]');return acc[target.type]={
container:targetContainer,results:targetContainer.querySelector(".sync-result")},acc},{}),syncer:element.querySelector(".syncer")},this.controls.syncer.addEventListener("click",function(e){e.preventDefault(),self.is("started")?self.stopAll():self.startAll()})}).on("stop",function(){this.is("started")&&_.all(this.targets,function(target){return"running"!==target.state})&&(this.setState("started",!1),this.controls.syncer.textContent=this.config.startMessage)}),_.defer(function(){synchronizer.init(config)}),synchronizer}}),define("tpl!ui/dialog/tpl/body",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){
function program1(depth0,data){var stack1,helper,buffer="";return buffer+='\n        <h4 class="strong">',(helper=helpers.heading)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.heading,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</h4>\n        "}function program3(depth0,data){var stack1,helper,buffer="";return buffer+='\n        <div class="content">',(helper=helpers.content)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.content,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),
(stack1||0===stack1)&&(buffer+=stack1),buffer+="</div>\n        "}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<div class="preview-modal-feedback modal">\n    <div class="modal-body clearfix">\n        ',stack1=helpers.if.call(depth0,depth0&&depth0.heading,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n\n        <p class="message">',(helper=helpers.message)?stack1=helper.call(depth0,{hash:{},data:data
}):(helper=depth0&&depth0.message,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</p>\n\n        ",stack1=helpers.if.call(depth0,depth0&&depth0.content,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n\n        <div class="buttons rgt"></div>\n    </div>\n</div>'})}),define("tpl!ui/dialog/tpl/buttons",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+='\n    <button class="btn-',
(helper=helpers.type)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.type,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+" small ",(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-control="',(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+'" type="button">\n        ',stack1=helpers.if.call(depth0,depth0&&depth0.icon,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n        <span class="label">',(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n    </button>\n"}function program2(depth0,data){var stack1,helper,buffer="";return buffer+='<span class="icon-',(helper=helpers.icon)?stack1=helper.call(depth0,{hash:{},
data:data}):(helper=depth0&&depth0.icon,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"></span> '}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,functionType="function",escapeExpression=this.escapeExpression,self=this;return stack1=helpers.each.call(depth0,depth0&&depth0.buttons,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),stack1||0===stack1?stack1:""})}),define("util/namespace",["lodash"],function(_){"use strict";var reSplit=/\s/g,namespaceHelper={split:function(names,normalize){
return!_.isString(names)||_.isEmpty(names)?[]:(normalize&&(names=names.toLowerCase()),_(names.trim().split(reSplit)).compact().uniq().value())},getName:function(namespaced){return!_.isString(namespaced)||_.isEmpty(namespaced)?"":namespaced.indexOf(".")>-1?namespaced.substr(0,namespaced.indexOf(".")):namespaced},getNamespace:function(namespaced,defaultNs){return!_.isString(namespaced)||_.isEmpty(namespaced)?"":namespaced.indexOf(".")>-1?namespaced.substr(namespaced.indexOf(".")+1):defaultNs||"@"},namespaceAll:function(names,namespace,normalize){var suffix;return _.isArray(names)||(names=namespaceHelper.split(names,normalize)),
normalize&&(namespace=namespace.toLowerCase()),suffix=namespace?"."+namespace:"",_(names).map(function(sh){return sh.indexOf(".")<0?sh+suffix:sh}).compact().uniq().value().join(" ")}};return namespaceHelper}),define("util/shortcut/registry",["jquery","lodash","util/namespace"],function($,_,namespaceHelper){"use strict";function registerEvent(target,eventName,listener){target.addEventListener?target.addEventListener(eventName,listener,!1):target.attachEvent?target.attachEvent("on"+eventName,listener):target["on"+eventName]=listener}function unregisterEvent(target,eventName,listener){
target.removeEventListener?target.removeEventListener(eventName,listener,!1):target.detachEvent?target.detachEvent("on"+eventName,listener):target["on"+eventName]=null}function getActualKey(event){var code=event.which||event.keyCode,character=code>=32?String.fromCharCode(code).toLowerCase():"",key=event.key&&event.key.toLowerCase(),keyName=event.code&&event.code.toLowerCase();return keyName&&(0===keyName.indexOf("key")?(key<"a"||key>"z")&&character>="a"&&character<="z"&&(key=character):0===keyName.indexOf("digit")&&(key=keyName.substr(5))),specialKeys[code]||key||character}function getActualButton(event){var buttons={clickLeft:!1,clickRight:!1,
clickMiddle:!1,clickBack:!1,clickForward:!1};if(event.buttons)buttons.clickLeft=!!(1&event.buttons),buttons.clickRight=!!(2&event.buttons),buttons.clickMiddle=!!(4&event.buttons),buttons.clickBack=!!(8&event.buttons),buttons.clickForward=!!(16&event.buttons);else switch(event.button){case 0:buttons.clickLeft=!0;break;case 1:buttons.clickMiddle=!0;break;case 2:buttons.clickRight=!0;break;case 3:buttons.clickBack=!0;break;case 4:buttons.clickForward=!0}return buttons}function getActualScroll(event){return{scrollUp:event.deltaY<0,scrollDown:event.deltaY>0}}function normalizeCommand(descriptor){var key=translateKeys[descriptor.key]||descriptor.key,parts=[]
;return descriptor.ctrlKey&&parts.push("control"),descriptor.altKey&&parts.push("alt"),descriptor.shiftKey&&parts.push("shift"),descriptor.metaKey&&parts.push("meta"),descriptor.scrollDown&&parts.push("scrollDown"),descriptor.scrollUp&&parts.push("scrollUp"),descriptor.clickLeft&&parts.push("clickLeft"),descriptor.clickRight&&parts.push("clickRight"),descriptor.clickMiddle&&parts.push("clickMiddle"),descriptor.clickBack&&parts.push("clickBack"),descriptor.clickForward&&parts.push("clickForward"),key&&parts.indexOf(key)<0&&parts.push(key),parts.join("+")}function parseCommand(shortcut){var parts=namespaceHelper.getName(shortcut).split("+"),descriptor={
keyboardInvolved:!1,mouseClickInvolved:!1,mouseWheelInvolved:!1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,key:null,scrollUp:null,scrollDown:null,clickLeft:null,clickRight:null,clickMiddle:null,clickBack:null,clickForward:null};return _.forEach(parts,function(part){if(modifiers[part])descriptor[modifiers[part]]=!0;else if(part.indexOf("mouse")>=0){if(descriptor.keyboardInvolved)throw new Error("A shortcut cannot involve both mouse and regular keys!");part.indexOf("scroll")>=0&&(descriptor.mouseWheelInvolved=!0,descriptor.scrollUp=part.indexOf("up")>=0,descriptor.scrollDown=part.indexOf("down")>=0),part.indexOf("click")>=0&&(descriptor.mouseClickInvolved=!0,
descriptor.clickLeft=part.indexOf("left")>=0,descriptor.clickRight=part.indexOf("right")>=0,descriptor.clickMiddle=part.indexOf("middle")>=0,descriptor.clickBack=part.indexOf("back")>=0,descriptor.clickForward=part.indexOf("forward")>=0)}else{if(descriptor.mouseClickInvolved||descriptor.mouseWheelInvolved)throw new Error("A shortcut cannot involve both mouse and regular keys!");descriptor.keyboardInvolved=!0,descriptor.key=part}}),descriptor}var defaultNs="*",modifiers={ctrl:"ctrlKey",alt:"altKey",option:"altKey",shift:"shiftKey",meta:"metaKey",cmd:"metaKey",win:"metaKey"},translateKeys={escape:"esc",arrowdown:"down",arrowleft:"left",arrowright:"right",
arrowup:"up"},specialKeys={8:"backspace",9:"tab",13:"enter",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",91:"meta",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",145:"scrolllock",144:"numlock"};return function(root,defaultOptions){function getHandlers(command,namespace){return handlers[namespace]=handlers[namespace]||{},handlers[namespace][command]=handlers[namespace][command]||[],handlers[namespace][command]}function getCommandHandlers(command){
return _.reduce(handlers,function(acc,nsHandlers){return nsHandlers[command]&&(acc=acc.concat(nsHandlers[command])),acc},[])}function clearHandlers(command,namespace){namespace&&!command?handlers[namespace]={}:_.forEach(handlers,function(nsHandlers,ns){!nsHandlers[command]||namespace!==defaultNs&&namespace!==ns||(nsHandlers[command]=[])})}function setOptions(descriptor,options){descriptor.options=_.defaults(_.merge(descriptor.options||{},options),defaultOptions)}function registerKeyboard(){keyboardIsRegistered||(registerEvent(root,"keydown",onKeyboard),keyboardIsRegistered=!0),keyboardCount++}function unregisterKeyboard(){
--keyboardCount<=0&&(keyboardCount=0,keyboardIsRegistered&&(unregisterEvent(root,"keydown",onKeyboard),keyboardIsRegistered=!1))}function registerMouseClick(){mouseClickIsRegistered||(registerEvent(root,"click",onMouseClick),mouseClickIsRegistered=!0),mouseClickCount++}function unregisterMouseClick(){--mouseClickCount<=0&&(mouseClickCount=0,mouseClickIsRegistered&&(unregisterEvent(root,"click",onMouseClick),mouseClickIsRegistered=!1))}function registerMouseWheel(){mouseWheelIsRegistered||(registerEvent(root,"wheel",onMouseWheel),mouseWheelIsRegistered=!0),mouseWheelCount++}function unregisterMouseWheel(){--mouseWheelCount<=0&&(mouseWheelCount=0,
mouseWheelIsRegistered&&(unregisterEvent(root,"wheel",onMouseWheel),mouseWheelIsRegistered=!1))}function registerCommand(command,descriptor){shortcuts[command]=descriptor,descriptor.keyboardInvolved&&registerKeyboard(),descriptor.mouseClickInvolved&&registerMouseClick(),descriptor.mouseWheelInvolved&&registerMouseWheel()}function unregisterCommand(command){var descriptor=shortcuts[command];shortcuts[command]=null,descriptor&&(descriptor.keyboardInvolved&&unregisterKeyboard(),descriptor.mouseClickInvolved&&unregisterMouseClick(),descriptor.mouseWheelInvolved&&unregisterMouseWheel())}function onKeyboard(event){processShortcut(event,{keyboardInvolved:!0,
ctrlKey:event.ctrlKey,altKey:event.altKey,shiftKey:event.shiftKey,metaKey:event.metaKey,key:getActualKey(event)})}function onMouseClick(event){processShortcut(event,_.merge({mouseClickInvolved:!0,ctrlKey:event.ctrlKey,altKey:event.altKey,shiftKey:event.shiftKey,metaKey:event.metaKey},getActualButton(event)))}function onMouseWheel(event){processShortcut(event,_.merge({mouseClickInvolved:!0,ctrlKey:event.ctrlKey,altKey:event.altKey,shiftKey:event.shiftKey,metaKey:event.metaKey},getActualScroll(event)))}function processShortcut(event,descriptor){var shortcutHandlers,$target,command=normalizeCommand(descriptor),shortcut=shortcuts[command]
;if(shortcut&&!states.disabled){if(!0===shortcut.options.avoidInput&&($target=$(event.target),$target.closest('[type="text"],textarea').length&&(!shortcut.options.allowIn||!$target.closest(shortcut.options.allowIn).length)))return;!1===shortcut.options.propagate&&event.stopPropagation(),!0===shortcut.options.prevent&&event.preventDefault(),shortcutHandlers=getCommandHandlers(command),shortcutHandlers&&_.forEach(shortcutHandlers,function(handler){handler(event,command)})}}var keyboardIsRegistered=!1,mouseClickIsRegistered=!1,mouseWheelIsRegistered=!1,keyboardCount=0,mouseClickCount=0,mouseWheelCount=0,shortcuts={},handlers={},states={}
;return root.jquery&&(root=root.get(0)),{set:function(shortcut,options){return _.forEach(namespaceHelper.split(shortcut,!0),function(normalized){var descriptor=parseCommand(normalized),command=normalizeCommand(descriptor);setOptions(descriptor,options),registerCommand(command,descriptor)}),this},add:function(shortcut,handler,options){return _.isFunction(handler)&&_.forEach(namespaceHelper.split(shortcut,!0),function(normalized){var namespace=namespaceHelper.getNamespace(normalized,defaultNs),descriptor=parseCommand(normalized),command=normalizeCommand(descriptor);setOptions(descriptor,options),registerCommand(command,descriptor),
getHandlers(command,namespace).push(handler)}),this},remove:function(shortcut){return _.forEach(namespaceHelper.split(shortcut,!0),function(normalized){var namespace=namespaceHelper.getNamespace(normalized,defaultNs),descriptor=parseCommand(normalized),command=normalizeCommand(descriptor);clearHandlers(command,namespace),getCommandHandlers(command).length||unregisterCommand(command)}),this},exists:function(shortcut){var normalized=String(shortcut).trim().toLowerCase(),namespace=namespaceHelper.getNamespace(normalized,defaultNs),descriptor=parseCommand(normalized),command=normalizeCommand(descriptor),shortcutExists=!1
;return shortcuts[command]?shortcutExists=namespace===defaultNs||!!getHandlers(command,namespace).length:command||(shortcutExists=!_.isEmpty(handlers[namespace])),shortcutExists},clear:function(){return shortcuts={},handlers={},keyboardCount=0,mouseClickCount=0,mouseWheelCount=0,unregisterKeyboard(),unregisterMouseClick(),unregisterMouseWheel(),this},getState:function(name){return!!states[name]},setState:function(name,state){return states[name]=!!state,this},enable:function(){return this.setState("disabled",!1),this},disable:function(){return this.setState("disabled",!0),this}}}}),
define("ui/keyNavigation/navigator",["jquery","lodash","core/eventifier","util/shortcut/registry"],function($,_,eventifier,shortcutRegistry){"use strict";var _navigationGroups={},_ns=".ui-key-navigator",_defaults={defaultPosition:0,keepState:!1,replace:!1,loop:!1,propagateTab:!0},isNavigableElement=function(navElement){return navElement&&_.isFunction(navElement.init)&&_.isFunction(navElement.destroy)&&_.isFunction(navElement.getElement)&&_.isFunction(navElement.isVisible)&&_.isFunction(navElement.isEnabled)&&_.isFunction(navElement.focus)},keyNavigatorFactory=function(config){var id,navigables,keyNavigator,$group,_cursor={position:-1,navigable:null
},getCurrentCursor=function(){var isFocused=!1;return document.activeElement&&_.forEach(navigables,function(navigable,index){if(navigable.isVisible()&&navigable.isEnabled()&&(document.activeElement===navigable.getElement().get(0)||(!$(document.activeElement).hasClass("key-navigation-highlight")||$(document.activeElement).data("key-navigatior-id")!==id)&&$.contains(navigable.getElement().get(0),document.activeElement)))return _cursor.position=index,_cursor.navigable=navigable,isFocused=!0,!1}),isFocused?_cursor:null},getClosestPositionRight=function(fromPosition){var pos
;for(pos=fromPosition;pos<navigables.length;pos++)if(navigables[pos]&&navigables[pos].isVisible()&&navigables[pos].isEnabled())return pos;return-1},getClosestPositionLeft=function(fromPosition){var pos;for(pos=fromPosition;pos>=0;pos--)if(navigables[pos]&&navigables[pos].isVisible()&&navigables[pos].isEnabled())return pos;return-1};if(config=_.defaults(config||{},_defaults),id=config.id||_.uniqueId("navigator_"),navigables=config.elements||[],_navigationGroups[id]){if(!config.replace)throw new TypeError("the navigation group id is already in use : "+id);_navigationGroups[id].destroy()}if(_.each(navigables,function(navigable){navigable.init(),
navigable.getElement().data("key-navigatior-id",id)}),config.group){if($group=$(config.group),!$group.length)throw new TypeError("group element does not exist");$group.addClass("key-navigation-group").attr("data-navigation-id",id)}return keyNavigator=eventifier({getId:function(){return id},getGroup:function(){return $group},isFocused:function(){return!!getCurrentCursor()},next:function(){var pos,cursor=getCurrentCursor();return cursor?(pos=getClosestPositionRight(cursor.position+1),pos>=0?this.focusPosition(pos):config.loop?this.focusPosition(getClosestPositionRight(0)):this.trigger("upperbound"),
this.trigger("next",getCurrentCursor())):this.focusPosition(getClosestPositionRight(0)),this},previous:function(){var pos,cursor=getCurrentCursor();return cursor?(pos=getClosestPositionLeft(cursor.position-1),pos>=0?this.focusPosition(pos):config.loop?this.focusPosition(getClosestPositionLeft(navigables.length-1)):this.trigger("lowerbound"),this.trigger("previous",getCurrentCursor())):this.focusPosition(getClosestPositionRight(0)),this},activate:function(target){var cursor=getCurrentCursor();return cursor&&this.trigger("activate",cursor,target),this},goto:function(groupId){
return _navigationGroups[groupId]?_navigationGroups[groupId].focus():this.trigger("error",new Error("goto an unknown navigation group")),this},focus:function(originNavigator){var pos;return config.keepState&&_cursor&&_cursor.position>=0?pos=_cursor.position:_.isFunction(config.defaultPosition)?(pos=config.defaultPosition(navigables))<0&&(pos=0):pos=config.defaultPosition,this.focusPosition(getClosestPositionRight(pos),originNavigator),this},focusPosition:function(position,originNavigator){return navigables[position]&&(_cursor.navigable&&this.trigger("blur",this.getCursor(),originNavigator),_cursor.position=position,navigables[_cursor.position].focus(),
_cursor.navigable=navigables[_cursor.position],this.trigger("focus",this.getCursor(),originNavigator)),this},first:function(){return this.focusPosition(getClosestPositionRight(0)),this},last:function(){return this.focusPosition(getClosestPositionLeft(navigables.length-1)),this},destroy:function(){return _.each(navigables,function(navigable){navigable.getElement().off(_ns),navigable.destroy(),navigable.shortcuts&&navigable.shortcuts.clear()}),delete _navigationGroups[id],this},blur:function(){var cursor=this.getCursor();return cursor&&cursor.navigable&&cursor.navigable.getElement().blur(),this},getCursor:function(){return _.clone(_cursor)},
getNavigables:function(){return _.clone(navigables)}}),_.each(navigables,function(navigable){if(!isNavigableElement(navigable))throw new TypeError("not a valid navigable element");navigable.shortcuts=shortcutRegistry(navigable.getElement()).add("tab shift+tab",function(e,key){keyNavigator.trigger(key,e.target)},{propagate:!!config.propagateTab,prevent:!0}).add("enter",function(e){$(e.target).is(":text,textarea")||(e.preventDefault(),keyNavigator.activate(e.target))},{propagate:!1}).add("up down left right",function(e,key){var $target=$(e.target)
;$target.is(":text,textarea")||($target.is("img")||$target.hasClass("key-navigation-scrollable")||e.preventDefault(),keyNavigator.trigger(key,e.target))},{propagate:!1}),navigable.getElement().on("keyup"+_ns,function(e){32===(e.keyCode?e.keyCode:e.charCode)&&(e.target!==this&&$(e.target).is(":input")?e.stopPropagation():(e.preventDefault(),keyNavigator.activate(e.target)))}).on("blur"+_ns,function(){var cursor=keyNavigator.getCursor();cursor&&cursor.navigable&&keyNavigator.trigger("blur",cursor)})}),_navigationGroups[id]=keyNavigator,keyNavigator};return keyNavigatorFactory.get=function(id){if(_navigationGroups[id])return _navigationGroups[id]},
keyNavigatorFactory}),define("ui/keyNavigation/navigableDomElement",["jquery","lodash","core/eventifier"],function($,_,eventifier){"use strict";var navigableDomElement=function($element){return $element=$($element),eventifier({init:function(){if(!$element.length)throw new TypeError("dom element does not exist");return $element.attr("tabindex",-1),$element.addClass("key-navigation-highlight"),this},destroy:function(){return $element.removeClass("key-navigation-highlight"),this},getElement:function(){return $element},isVisible:function(){return $element.is(":visible")},isEnabled:function(){return!$element.is(":disabled")},focus:function(){
return $element.focus(),this}})};return navigableDomElement.createFromDoms=function($elements){var list=[];return $elements.each(function(){list.push(navigableDomElement($(this)))}),list},navigableDomElement}),define("core/pluginifier",["jquery","lodash"],function($,_){"use strict";var basePlugin={options:function(dataNs,ns,options){return this.each(function(){var $elt=$(this),currentOptions=$elt.data(dataNs);currentOptions&&$elt.data(dataNs,_.merge(currentOptions,options))})},disable:function(dataNs,ns){return this.each(function(){var $elt=$(this),options=$elt.data(dataNs);options&&$elt.addClass(options.disableClass||"disabled").trigger("disable."+ns)})},
enable:function(dataNs,ns){return this.each(function(){var $elt=$(this),options=$elt.data(dataNs);options&&$elt.removeClass(options.disableClass||"disabled").trigger("enable."+ns)})}};return{register:function(pluginName,plugin,config){config=config||{};var ns=config.ns||pluginName.toLowerCase(),dataNs=config.dataNs||"ui."+ns,expose=config.expose||[];return _.isFunction($.fn[pluginName])?$.error("A plugin named "+pluginName+" is already registered"):_.isPlainObject(plugin)&&_.isFunction(plugin.init)?(_.assign(plugin,_.transform(basePlugin,function(result,prop,key){_.isFunction(prop)&&(result[key]=_.partial(basePlugin[key],dataNs,ns))})),
_.forEach(expose,function(toExposeName){var privateMethod=toExposeName,publicMethod=toExposeName;/^_/.test(expose)?publicMethod=publicMethod.replace(/^_/,""):privateMethod="_"+privateMethod,_.isFunction(plugin[privateMethod])&&!_.isFunction(plugin[publicMethod])&&(plugin[publicMethod]=function(){var returnValue,args=Array.prototype.slice.call(arguments,0);return this.each(function(){returnValue=plugin[privateMethod].apply(plugin,[$(this)].concat(args))}),returnValue||this})}),void($.fn[pluginName]=function(method){if(plugin[method]){if(!/^_/.test(method))return plugin[method].apply(this,Array.prototype.slice.call(arguments,1))
;$.error("Trying to call a private method `"+method+"`")}else if("object"==typeof method||!method)return plugin.init.apply(this,arguments);$.error("Method "+method+" does not exist on plugin")})):$.error("The object to register as a jQuery plugin must be a plain object with an `init` method.")}}}),define("core/dataattrhandler",["jquery","lodash"],function($,_){"use strict";var defaults={container:!1,listenerEvent:"click",useTarget:!0,bubbled:!1},letDefaultOn=[":radio",":checkbox"],shouldPreventDefault=function($elt){return!$elt.is(letDefaultOn.join(","))},DataAttrHandler=function(attrName,options){var self=this;this.options=_.defaults(options,defaults)
;var selector="[data-"+attrName+"]";if(!_.has(this.options,"namespace")||!_.isString(this.options.namespace))return $.error("The plugin data namespace option is required");this.options.container&&this.options.container.selector&&(selector=this.options.container.selector+" "+selector),this.options.inner&&(selector+=" "+this.options.inner),$(document).off(this.options.listenerEvent,selector).on(this.options.listenerEvent,selector,function(e){var $elt=$(e.target);if(!0===self.options.bubbled||$elt.is(selector)){var $target,$outer;void 0===$elt.data(attrName)&&(self.options.inner||self.options.bubbled)&&($outer=$elt,$elt=$elt.parents("[data-"+attrName+"]")),
$target=!0===self.options.useTarget?DataAttrHandler.getTarget(attrName,$elt):self.options.inner?$outer:void 0,$elt.data(self.options.namespace)||("function"==typeof self.createPlugin&&self.createPlugin($elt,$target),$elt.is(":radio")&&$elt.attr("name")&&$(':radio[name="'+$elt.attr("name")+'"]').not($elt).on(self.options.listenerEvent,function(e){"function"==typeof self.callPluginMethod&&self.callPluginMethod($elt,$target),shouldPreventDefault($elt)&&e.preventDefault()})),"function"==typeof self.callPluginMethod&&self.callPluginMethod($elt,$target),shouldPreventDefault($elt)&&e.preventDefault()}})};return DataAttrHandler.prototype.init=function(cb){
return this.createPlugin=cb,this},DataAttrHandler.prototype.trigger=function(cb){return this.callPluginMethod=cb,this},DataAttrHandler.getTarget=function(attrName,$elt){var relativeRegex=/^(\+|>|~|:parent|<)/,$target=[],targetSelector=$elt.attr("data-"+attrName)||$elt.attr("href")||$elt.attr("attrName");if(!_.isEmpty(targetSelector)){var matches=relativeRegex.exec(targetSelector);if(null!==matches){var selector=targetSelector.replace(relativeRegex,"");$target=":parent"===matches[0]||"<"===matches[0]?$elt.parents(selector):"~"===matches[0]?$elt.siblings(selector):"+"===matches[0]?$elt.next(selector):$(selector,$elt)}else $target=$(targetSelector)}
return $target},DataAttrHandler}),define("ui/modal",["jquery","core/pluginifier","core/dataattrhandler"],function($,Pluginifier,DataAttrHandler){"use strict";function closeModal($element,reason){var options=$element.data(dataNs),$overlay=$("#"+options.modalOverlay),onClose=function(){$element.removeClass("opened"),$element.css("display","none"),$element.trigger("closed."+pluginName,reason)};modal._unBindEvents($element),options.animate&&$element.is(":visible")?($overlay.fadeOut(options.animate-animateDiff),$element.animate({opacity:"0",top:"-1000px"},options.animate,onClose)):($overlay.hide(),$element.hide(),onClose())}
var pluginName="modal",dataNs="ui."+pluginName,defaults={modalCloseClass:"modal-close",modalOverlayClass:"modal-bg",startClosed:!1,disableClosing:!1,width:"responsive",minWidth:0,minHeight:0,vCenter:!0,$context:null,animate:400},animateDiff=100,modal={init:function(options){return options=$.extend(!0,{},defaults,options),options.animate&&("number"!=typeof options.animate?options.animate=defaults.animate:options.animate=Math.max(animateDiff,options.animate)),$(this).each(function(){var $modal=$(this);if(options.modalOverlay="__modal-bg-"+($modal.attr("id")||(new Date).getTime()),$modal.data(dataNs,options),0===$("#"+options.modalOverlay).length){
var $overlay=$("<div/>").attr({id:options.modalOverlay,class:options.modalOverlayClass});options.$context instanceof $&&options.$context.length?($overlay.css("position","absolute"),options.$context.append($overlay)):$modal.after($overlay)}0!==$("."+options.modalCloseClass,$modal).length||options.disableClosing||$('<div class="'+options.modalCloseClass+'"><span class="icon-close"></span></div>').appendTo($modal),options.startClosed||modal._open($modal),$modal.trigger("create."+pluginName)})},_destroy:function($element){return $element.each(function(){var $modal=$(this),options=$modal.data(dataNs);$modal.removeData(dataNs),$("#"+options.modalOverlay).remove(),
$modal.hide(),$element.trigger("destroyed."+pluginName)})},_bindEvents:function($element){var options=$element.data(dataNs);options&&("responsive"===options.width&&$(window).on("resize."+pluginName,function(e){e.preventDefault(),modal._resize($element)}),options.disableClosing||($("."+options.modalCloseClass,$element).on("click."+pluginName,function(e){e.preventDefault(),closeModal($element,"close")}),$("#"+options.modalOverlay).on("click."+pluginName,function(e){e.preventDefault(),closeModal($element,"overlay")}),options.disableEscape||$(document).on("keydown."+pluginName,function(e){27===e.keyCode&&(e.preventDefault(),closeModal($element,"escape"))})))},
_unBindEvents:function($element){var options=$element.data(dataNs);options&&"responsive"===options.width&&$(window).off("resize."+pluginName),$element.off("click."+pluginName),options&&!options.disableClosing&&($("."+options.modalCloseClass,$element).off("click."+pluginName),$("#"+options.modalOverlay).off("click."+pluginName),$(document).off("keydown."+pluginName))},_open:function($element){var topOffset,onOpen,$overlay,to,modalHeight=$element.outerHeight(),windowHeight=$(window).height(),options=$element.data(dataNs);void 0!==options&&(onOpen=function(){$element.addClass("opened"),modal._bindEvents($element),$element.trigger("opened."+pluginName)},
topOffset=options.top?options.top:options.vCenter||modalHeight>windowHeight?40:(windowHeight-modalHeight)/2,options.top||$element.parent().hasClass("no-scroll-offset")||$element.parents().map(function(){"BODY"!==this.tagName&&"HTML"!==this.tagName&&(topOffset+=parseInt($(this).scrollTop(),10))}),to={opacity:"1",top:topOffset+"px"},modal._resize($element),$overlay=$("#"+options.modalOverlay),$element.show(),options.animate&&$element.is(":visible")?($element.css({top:"-"+modalHeight+"px",display:"block"}),$overlay.fadeIn(options.animate-animateDiff),$element.animate(to,options.animate,onOpen)):($overlay.show(),$element.css(to),onOpen()))},
_close:function($element){closeModal($element,"api")},_resize:function($element){var options=$element.data(dataNs),windowWidth=parseInt($(window).width(),10),css={},modalWidth="responsive"===options.width?.7*windowWidth:parseInt(options.width,10);css.width=Math.max(modalWidth,options.minWidth),options.minHeight&&(css.minHeight=parseInt(options.minHeight)+"px"),$element.css(css)}};return Pluginifier.register(pluginName,modal,{expose:["open","close","destroy"]}),function($container){new DataAttrHandler("modal",{container:$container,listenerEvent:"click",namespace:dataNs}).init(function($elt,$target){$target.modal()})}}),
define("ui/dialog",["jquery","lodash","i18n","tpl!ui/dialog/tpl/body","tpl!ui/dialog/tpl/buttons","ui/keyNavigation/navigator","ui/keyNavigation/navigableDomElement","util/shortcut/registry","ui/modal"],function($,_,__,bodyTpl,buttonsTpl,keyNavigator,navigableDomElement,shortcutRegistry){"use strict";var _definedButtons={ok:{id:"ok",type:"info",label:__("Ok"),close:!0},cancel:{id:"cancel",type:"regular",label:__("Cancel"),close:!0},yes:{id:"yes",type:"info",label:__("Yes"),close:!0},no:{id:"no",type:"regular",label:__("No"),close:!0}},_defaults={message:"",content:"",width:500,animate:!1,autoRender:!1,autoDestroy:!1,renderTo:"body",buttons:"cancel,ok"
},dialog={init:function(options){var self=this,events={},initOptions=_.omit(options||{},function(value,key){var omit=!1;return key.length>2&&"on"===key.substr(0,2)&&(events[key.substr(2)]=value,omit=!0),omit});return _.defaults(this,initOptions,_defaults),this.$html=$(bodyTpl(this)),this.$buttons=this.$html.find(".buttons"),this.rendered=!1,this.destroyed=!1,this.$buttons.on("click.modal","button",this._onButtonClick.bind(this)),this.setButtons(this.buttons),_.forEach(events,function(callback,eventName){eventName.indexOf(".")<0&&(eventName+=".modal"),self.on(eventName.toLowerCase(),callback)}),this.autoRender&&this.render(),this},destroy:function(){
return this.destroyed||(this._destroy(),this.rendered=!1,this.destroyed=!0,this.trigger("destroy.modal"),this.$buttons.off(".modal"),this.$html.off(".modal").remove(),this.$html=null,this.$buttons=null),this},setButtons:function(buttons){var self=this;return this.destroyed||(buttons||(buttons=_defaults.buttons),_.isArray(buttons)||_.isString(buttons)&&(buttons=buttons.split(",")),this.buttons={},_.forEach(buttons,function(btn){_.isString(btn)&&(btn=btn.trim(),btn=_definedButtons[btn]||{id:btn,type:"info",label:btn}),btn.type||(btn.type="regular"),self.buttons[btn.id]=btn}),this.$buttons.html(buttonsTpl(this))),this},render:function(to){
return this.destroyed||($(to||this.renderTo).append(this.$html),this._install(),this.rendered=!0),this},show:function(){return this.destroyed||(this.rendered?this._open():this.render()),this},hide:function(){return!this.destroyed&&this.rendered&&(this._close(),this.autoDestroy&&this.destroy()),this},on:function(eventName){var dom=this.$html;return dom&&dom.on.apply(dom,arguments),this},off:function(eventName){var dom=this.$html;return dom&&dom.off.apply(dom,arguments),this},trigger:function(eventName,extraParameters){var dom=this.$html;return dom&&(void 0===extraParameters&&(extraParameters=[]),_.isArray(extraParameters)||(extraParameters=[extraParameters]),
extraParameters=Array.prototype.slice.call(extraParameters),extraParameters.push(this),dom.trigger(eventName,extraParameters)),this},getDom:function(){return this.$html},_onButtonClick:function(event){var $btn=$(event.target).closest("button"),id=$btn.data("control"),btn=this.buttons[id];btn&&this._execute(btn)},_execute:function(btn){btn.action&&btn.action.apply(this,[btn,this]),this.trigger(btn.id+"btn.modal",[btn]),btn.close&&this.hide()},focus:function(){this.navigator.focus()},_install:function(){var $buttons,self=this;this.destroyed||($buttons=this.$buttons.find("button"),this.navigator=keyNavigator({
elements:navigableDomElement.createFromDoms($buttons)}).on("right down",function(){this.next()}).on("left up",function(){this.previous()}).on("tab",function(){this.getCursor().position===$buttons.length-1?this.first():this.next()}).on("shift+tab",function(){0===this.getCursor().position?this.last():this.previous()}).on("activate",function(cursor){cursor.navigable.getElement().click()}),this.globalShortcut=shortcutRegistry($("body")).add("tab shift+tab",function(){self.navigator.isFocused()||self.navigator.focus()})),this.$html.modal({width:this.width,animate:this.animate,disableClosing:this.disableClosing,disableEscape:this.disableEscape
}).on("closed.modal",function(){self.autoDestroy&&self.destroy()})},_open:function(){this.$html.modal("open")},_close:function(){this.$html.modal("close")},_destroy:function(){this.$html.modal("destroy"),this.navigator&&this.navigator.destroy(),this.globalShortcut&&this.globalShortcut.clear()}};return function(options){var instance=_.clone(dialog,!0);return instance.init(options),instance}}),define("ui/dialog/confirm",["lodash","i18n","ui/dialog"],function(_,__,dialog){"use strict";return function(message,accept,refuse,options){var dialogOptions,dlg,accepted=!1,_options={buttons:{labels:{ok:__("Ok"),cancel:__("Cancel")}}}
;return options=_.defaults(options||{},_options),dialogOptions={message:message,autoRender:!0,autoDestroy:!0,onOkBtn:function(){accepted=!0,_.isFunction(accept)&&accept.call(this)},buttons:{ok:{id:"ok",type:"info",label:options.buttons.labels.ok||__("Ok"),close:!0},cancel:{id:"cancel",type:"regular",label:options.buttons.labels.cancel||__("Cancel"),close:!0}}},dlg=dialog(dialogOptions),_.isFunction(refuse)&&dlg.on("closed.modal",function(){accepted||refuse.call(this)}),dlg}}),define("tpl!app/component/wipeout/tpl/wipeout",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],
helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",escapeExpression=this.escapeExpression;return buffer+='<section class="wipeout">\n    <article>\n        <span class="desc">',(helper=helpers.description)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.description,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>\n        <button class="btn btn-error"><span class="icon-bin"></span>',(helper=helpers.buttonLabel)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.buttonLabel,
stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</button>\n    </article>\n</section>"})}),define("css!app/component/wipeout/css/wipeout",[],function(){}),define("app/component/wipeout/wipeout",["lodash","i18n","ui/component","ui/dialog/confirm","tpl!app/component/wipeout/tpl/wipeout","css!app/component/wipeout/css/wipeout.css"],function(_,__,component,confirmDialog,wipeoutTpl){"use strict";var defaultConfig={description:__("Remove all device data"),buttonLabel:__("Wipe out"),confirmMessage:__("This action will remove all data. Are your sure ?")};return function(container,config){
var wipeoutComponent=component({apply:function(){var self=this;return this.is("rendered")&&!this.is("waiting")&&(this.setState("waiting",!0),function(){var configResult;return _.isFunction(self.config.confirmMessage)?(configResult=self.config.confirmMessage(),configResult&&configResult instanceof Promise?configResult:Promise.resolve(configResult)):Promise.resolve(self.config.confirmMessage)}().then(function(message){confirmDialog(message,function(){self.trigger("wipeout")},function(){self.reset(),self.trigger("cancel")})}).catch(function(err){self.trigger("error",err)})),this},reset:function(){
return this.is("rendered")&&this.is("waiting")&&(this.setState("waiting",!1),this.trigger("reset")),this}},defaultConfig);return wipeoutComponent.setTemplate(wipeoutTpl).on("init",function(){var self=this;container&&_.defer(function(){self.render(container)})}).on("render",function(){var self=this,element=this.getElement()[0];this.controls={button:element.querySelector("button")},this.controls.button.addEventListener("click",function(e){e.preventDefault(),self.apply()})}),_.defer(function(){wipeoutComponent.init(config)}),wipeoutComponent}}),define("tpl!app/component/header/tpl/header",["handlebars"],function(hb){
return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+='\n\n    <span class="icon-user"></span>\n    <p class="profile">\n        ',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.user,null==stack1||!1===stack1?stack1:stack1.lastname),{hash:{},inverse:self.program(4,program4,data),fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    </p>\n    "}function program2(depth0,data){var stack1,buffer="";return buffer+="\n            "+escapeExpression((stack1=depth0&&depth0.user,stack1=null==stack1||!1===stack1?stack1:stack1.firstname,
typeof stack1===functionType?stack1.apply(depth0):stack1))+" "+escapeExpression((stack1=depth0&&depth0.user,stack1=null==stack1||!1===stack1?stack1:stack1.lastname,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\n        "}function program4(depth0,data){var stack1,buffer="";return buffer+="\n            "+escapeExpression((stack1=depth0&&depth0.user,stack1=null==stack1||!1===stack1?stack1:stack1.login,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\n        "}function program6(depth0,data){var stack1,helper,buffer="";return buffer+='\n        <a href="#" title="',(helper=helpers.title)?stack1=helper.call(depth0,{hash:{},data:data
}):(helper=depth0&&depth0.title,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-route="',(helper=helpers.route)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.route,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"><span class="icon-',(helper=helpers.icon)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.icon,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"></span></a>\n\n    '}
this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<header class="menu-bar">\n    <h1>',(helper=helpers.title)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.title,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</h1>\n    ",stack1=helpers.if.call(depth0,depth0&&depth0.user,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+="\n    <nav>\n    ",stack1=helpers.each.call(depth0,depth0&&depth0.actions,{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    </nav>\n</header>"})}),define("css!app/component/header/css/header",[],function(){}),define("app/component/header/header",["lodash","i18n","ui/component","tpl!app/component/header/tpl/header","css!app/component/header/css/header.css"],function(_,__,component,headerTpl){"use strict";var defaultConfig={title:"",actions:[{title:__("Logout"),route:"main/logout",icon:"logout"}]};return function(container,config){
var headerComponent=component({},defaultConfig);return headerComponent.setTemplate(headerTpl).on("init",function(){var self=this;container&&setTimeout(function(){self.render(container)},0)}),setTimeout(function(){headerComponent.init(config)},0),headerComponent}}),define("core/statifier",["lodash"],function(_){"use strict";function statifierFactory(target){var states={},statesApi={getState:function(name){return!!states[name]},setState:function(name,value){return void 0===value&&(value=!0),states[name]=!!value,this},clearStates:function(){return states={},this},getStates:function(){return _.reduce(states,function(result,state,key){
return state&&result.push(key),result},[])}};return target=target||{},_(statesApi).functions().forEach(function(method){target[method]=function(){var args=[].slice.call(arguments);return statesApi[method].apply(target,args)}}),target}return statifierFactory}),define("core/providerRegistry",["lodash"],function(_){"use strict";function providerRegistry(target,validator){function registerProvider(name,provider){var valid=!0;if(!_.isString(name)||name.length<=0)throw new TypeError("It is required to give a name to your provider.")
;if(!_.isPlainObject(provider)||!_.isFunction(provider.init))throw new TypeError("A provider is an object that contains at least an init function.");return valid=validator&&_.isFunction(validator)?validator(provider):valid,valid&&(_providers[name]=provider),this}function getProvider(providerName){var provider;if(!_providers||0===_.size(_providers))throw new Error("No provider registered");if(_.isString(providerName)&&providerName.length>0?provider=_providers[providerName]:1===_.size(_providers)&&(providerName=_.keys(_providers)[0],provider=_providers[providerName]),!provider)throw new Error("No candidate found for the provider");return provider}
function getAvailableProviders(){return _.keys(_providers)}function clearProviders(){return _providers={},this}var _providers={};return target=target||{},target.registerProvider=registerProvider,target.getProvider=getProvider,target.getAvailableProviders=getAvailableProviders,target.clearProviders=clearProviders,target}return providerRegistry}),define("app/service/synchronization/synchronizer",["lodash","core/eventifier","core/statifier","core/providerRegistry","core/logger"],function(_,eventifier,statifier,providerRegistry,loggerFactory){"use strict";var logger=loggerFactory("app/service/synchronization/fetchSynchronizer"),directions={send:"send",
fetch:"fetch"},defaultConfig={chunkSize:10},syncProviderApi={fetch:["init","getRemoteResourceIds","getRemoteResources","getLocalResources","addResource","updateResource","removeResource"],send:["init","getLocalResources","sendResource","removeResource"]},getIdsChunks=function(ids,chunkSize){return _.reduce(ids,function(acc,id,index){var chunkIndex=Math.floor(index/chunkSize);return acc[chunkIndex]||(acc[chunkIndex]=[]),acc[chunkIndex].push(id),acc},[])},validateSyncProvider=function(provider){
if(!(_.isPlainObject(provider)&&_.isString(provider.name)&&_.isString(directions[provider.direction])&&_.isArray(syncProviderApi[provider.direction])&&_.all(syncProviderApi[provider.direction],function(method){return _.isFunction(provider[method])})))throw new TypeError("Please register a syncProvider that complies with the API");return!0};return providerRegistry(function synchronizerFactory(resourceType,config){var synchronizer,provider=synchronizerFactory.getProvider(resourceType),stopIfCanceled=function(results){return synchronizer.getState("canceled")?Promise.reject({cancel:!0}):results}
;if(!provider)throw new TypeError("No registered provider for resources of type "+resourceType);return config=_.defaults(config||{},defaultConfig),synchronizer=statifier(eventifier({getLogger:function(){return logger},getConfig:function(){return config},start:function(){var self=this;return this.getState("running")?Promise.reject(new Error("The synchronization is already running")):(this.setState("running",!0),this.trigger("progress",0),this[provider.direction]().then(function(syncOperations){return self.setState("running",!1).setState("canceled",!1),syncOperations}).catch(function(err){throw self.setState("running",!1).setState("canceled",!1),err}))},
stop:function(){return this.getState("running")&&this.setState("canceled",!0),this},fetch:function(){var self=this,totalOperations=2,progress=0,syncOperations={add:[],update:[],remove:[]},updateProgress=function(completedOperations){completedOperations=completedOperations||1,totalOperations>0&&(progress+=completedOperations/totalOperations*100),self.trigger("progress",progress)};return Promise.all([provider.getLocalResources.call(this),provider.getRemoteResourceIds.call(this)]).then(stopIfCanceled).then(function(results){if(!results||2!==results.length)throw new Error("Unable to compute operation from receieved data")
;syncOperations=self.computeNeededOperations(results[0],results[1]),totalOperations=_.reduce(syncOperations,function(acc,list){return acc+=list.length},totalOperations),updateProgress(2),logger.info("[sync "+provider.direction+"] "+resourceType+" : "+_.map(syncOperations,function(list,key){return key+" "+list.length}).join(","))}).then(stopIfCanceled).then(function(){return Promise.all(_.map(syncOperations.remove,function(id){return provider.removeResource.call(self,id)}))}).then(function(){updateProgress(syncOperations.remove.length)}).then(stopIfCanceled).then(function(){
return Promise.all(_.map(getIdsChunks(syncOperations.update,config.chunkSize),function(ids){return provider.getRemoteResources.call(self,ids).then(function(entities){return Promise.all(_.map(entities,function(entity){return provider.updateResource.call(self,entity.id,entity)}))}).then(function(){updateProgress(ids.length)})}))}).then(stopIfCanceled).then(function(){return Promise.all(_.map(getIdsChunks(syncOperations.add,config.chunkSize),function(ids){return provider.getRemoteResources.call(self,ids).then(function(entities){return Promise.all(_.map(entities,function(entity){return provider.addResource.call(self,entity.id,entity)}))}).then(function(){
updateProgress(ids.length)})}))}).then(function(){return syncOperations})},send:function(){var self=this,syncOperations={send:[],remove:[]};return provider.getLocalResources.call(this).then(stopIfCanceled).then(function(resources){return self.trigger("progress",0),resources}).then(function(resources){return logger.info("[sync "+provider.direction+"] "+resourceType+" : "+resources.length),Promise.all(_.map(resources,function(resource,index){var id=resource.id;return provider.sendResource.call(self,id,resource).then(stopIfCanceled).then(function(success){return!!success&&(syncOperations.send.push(id),provider.removeResource.call(self,id))
}).then(function(success){success&&syncOperations.remove.push(id),self.trigger("progress",index/resources.length*100)})}))}).then(function(){return syncOperations})},computeNeededOperations:function(localResources,remoteResources){var syncOperations={add:[],update:[],remove:[]};return _.isPlainObject(localResources)&&_.isPlainObject(remoteResources)&&(_.forEach(remoteResources,function(remoteResource,id){localResources[id]?(localResources[id].checksum&&!_.isEmpty(localResources[id].checksum)&&localResources[id].checksum!==remoteResource.checksum&&syncOperations.update.indexOf(id)<0&&syncOperations.update.push(id),
localResources[id].sync=!0):syncOperations.add.indexOf(id)<0&&syncOperations.add.push(id)}),syncOperations.remove=_(localResources).reject({sync:!0}).pluck("id").value()),syncOperations}})),provider.init.call(synchronizer,config),synchronizer},validateSyncProvider)}),define("app/service/storeService",["lodash","core/logger","core/store"],function(_,loggerFactory,store){"use strict";return function(entityName,storeName,validator){var logger=loggerFactory("app/service/storeService");if(_.isEmpty(entityName))throw new TypeError("An entity name is expected");if(_.isEmpty(storeName))throw new TypeError("A store name is required to setup a store service")
;return _.isFunction(validator)||(validator=function(entity){if(!_.isPlainObject(entity))throw new TypeError("Missing or invalid "+entityName);if(_.isEmpty(entity.id))throw new TypeError("A "+entityName+"  needs to have a property id");if(_.isEmpty(entity.label))throw new TypeError("A "+entityName+" needs to have a property label");return!0}),{getById:function(id){return _.isEmpty(id)?Promise.resolve(null):store(storeName).then(function(entityStore){return entityStore.getItem(id)})},getAll:function(){return store(storeName).then(function(entityStore){return entityStore.getItems()})},set:function(entity){return _.isFunction(validator)&&validator(entity),
logger.debug("Trying to set the "+entityName+" : "+entity.id),store(storeName).then(function(entityStore){return entityStore.setItem(entity.id,entity)}).then(function(inserted){return inserted?logger.debug(entityName+" : "+entity.id+" set"):logger.debug(entityName+" : "+entity.id+" NOT set"),inserted})},update:function(id,properties){var self=this;return!_.isPlainObject(properties)||_.isEmpty(id)?Promise.resolve(!1):(logger.debug("Trying to update the "+entityName+" : "+id),this.getById(id).then(function(entity){return self.set(_.defaults(properties,entity||{}))}).then(function(updated){
return updated?logger.debug(entityName+" : "+id+" updated"):logger.debug(entityName+" : "+id+" NOT updated"),updated}))},remove:function(id){return _.isEmpty(id)?Promise.resolve(!1):(logger.debug("Trying to remove "+entityName+" : "+id),this.getById(id).then(function(entity){return!(!entity||!entity.id)&&store(storeName).then(function(entityStore){return entityStore.removeItem(entity.id)})}).then(function(removed){return removed?logger.debug(entityName+" : "+id+" removed"):logger.debug(entityName+" : "+id+" NOT removed"),removed}))},removeAll:function(){return logger.warn("Remove all "+entityName+" triggered"),store(storeName).then(function(entityStore){
return entityStore.clear()})}}}}),define("app/service/eligibility",["lodash","app/service/storeService"],function(_,storeServiceFactory){"use strict";return storeServiceFactory("eligibility","eligibility",function(eligibility){if(!_.isPlainObject(eligibility))throw new TypeError("Missing or invalid eligibility");if(_.isEmpty(eligibility.id))throw new TypeError("An eligibility needs to have a property id");if(_.isEmpty(eligibility.delivery))throw new TypeError("An eligibility needs to have a property delivery");if(!_.isArray(eligibility.testTakers))throw new TypeError("An eligibility needs to have a property testTakers");return!0})}),
define("app/service/dataMapper/eligibility",["lodash"],function(_){"use strict";var mapping={delivery:"http://www.tao.lu/Ontologies/TAOProctor.rdf#EligibileDelivery",testTakers:"http://www.tao.lu/Ontologies/TAOProctor.rdf#EligibileTestTaker",updatedAt:"http://www.tao.lu/Ontologies/TAO.rdf#UpdatedAt",createdAt:"http://www.taotesting.com/Ontologies/TAO.rdf#CreatedAt"},mapper=function(inputEligibility){var outputEligibility=null;return _.isPlainObject(inputEligibility)&&(inputEligibility.id||inputEligibility.uri)&&(outputEligibility={id:inputEligibility.id||inputEligibility.uri,checksum:inputEligibility.checksum},
_.isPlainObject(inputEligibility.properties)&&(outputEligibility=_.reduce(mapping,function(acc,propName,key){return _.isUndefined(inputEligibility.properties[propName])||(outputEligibility[key]=inputEligibility.properties[propName]),acc},outputEligibility),_.isString(outputEligibility.testTakers)&&(outputEligibility.testTakers=[outputEligibility.testTakers]),_.isString(outputEligibility.createdAt)&&(outputEligibility.createdAt=parseFloat(outputEligibility.createdAt)),_.isString(outputEligibility.updatedAt)&&(outputEligibility.updatedAt=parseFloat(outputEligibility.updatedAt)))),outputEligibility};return mapper.mapping=mapping,mapper}),
define("app/core/request",["lodash","i18n","module"],function(_,__,module){"use strict";return function(config,errorMessages){return config=_.defaults(config||{},module.config()),errorMessages=_.defaults(errorMessages||{},{misconfiguredEndpoint:__("The server URL is not configured correctly, please contact your administrator."),unavaibleEndpoint:__("Unable to reach the server, please check your network."),noContent:__("No content found, please retry later"),unauthorized:__("You are not authorized to perform this action, please contact your administrator."),
serverError:__("An unexpected error occur while contactng the server, please contact your administrator.")}),function request(requestConfig){var body,url,queryString,xhr=new XMLHttpRequest;if(requestConfig=_.defaults(requestConfig||{},config,{method:"GET",responseType:"json",path:""}),requestConfig.headers=_.defaults(requestConfig.headers||{},config.headers,{"Content-Type":"application/json",Accept:"application/json"}),!_.isString(requestConfig.endpoint)||_.isEmpty(requestConfig.endpoint))throw new Error(errorMessages.misconfiguredEndpoint);return url=requestConfig.endpoint+requestConfig.path,
requestConfig.queryString&&(queryString=_.reduce(requestConfig.queryString,function(acc,value,key){return _.isPlainObject(value)?_.forEach(value,function(subValue,subKey){acc.push(key+"["+subKey+"]="+encodeURIComponent(subValue))}):acc.push(key+"="+encodeURIComponent(value)),acc},[]),url.indexOf("?")<0&&(url+="?"),url+=queryString.join("&")),requestConfig.body&&(body="application/json"===requestConfig.headers["Content-Type"]&&_.isPlainObject(requestConfig.body)?JSON.stringify(requestConfig.body):requestConfig.body),new Promise(function(resolve){var resolveError=function(code,message){return resolve({success:!1,errorCode:code,errorMessage:message})}
;xhr.open(requestConfig.method.toUpperCase(),url),config.timeout&&config.timeout>0&&(xhr.timeout=config.timeout),requestConfig.responseType?xhr.responseType=requestConfig.responseType:xhr.responseType="text",_.forEach(requestConfig.headers,function(value,header){xhr.setRequestHeader(header,value)}),xhr.addEventListener("error",function(){return resolveError(0,errorMessages.unavaibleEndpoint)}),xhr.addEventListener("timeout",function(){return resolveError(0,errorMessages.unavaibleEndpoint)}),xhr.addEventListener("load",function(){return 200===xhr.status||302===xhr.status?resolve({success:!0,data:xhr.response
}):0===xhr.status&&4===xhr.readyState?resolveError(0,errorMessages.unavaibleEndpoint):401===xhr.status?"head"!==requestConfig.method.toLowerCase()?request({endpoint:requestConfig.endpoint,path:"/",method:"head"}).then(function(response){return!0===response.success?resolveError(401,errorMessages.unauthorized):resolveError(0,errorMessages.unavaibleEndpoint)}).catch(function(err){return resolveError(500,errorMessages.serverError+":"+err.message)
}):resolveError(401,errorMessages.unauthorized):403===xhr.status?resolveError(403,errorMessages.unauthorized):201===xhr.status?resolveError(201,errorMessages.noContent):resolveError(xhr.status,errorMessages.serverError+" ("+xhr.status+" "+xhr.statusText+")")}),xhr.send(body)})}}}),define("app/service/synchronization/token",["jquery","lodash","i18n","module","app/core/request"],function($,_,__,module,requestFactory){"use strict";var tokenPromises={},errorMessages={unauthorized:__("Unable to request a synchronization token with the provided handshake, please contact your administrator."),
noContent:__("Unable to retrieve your synchronization token, please retry later or contact your administrator")};return function(config){var token,serviceConfig=_.defaults(config||{},module.config()),request=requestFactory(serviceConfig.api,errorMessages);if(_.isEmpty(serviceConfig.key)||_.isEmpty(serviceConfig.secret))throw new TypeError("Handshake key and secret are mandatory to request an synchronization token");return{isExpired:function(){return!(null!==token&&token.expires>0&&token.expires<(new Date).getUTCDate()/1e3)},getToken:function(){
return token?Promise.resolve(token):(void 0===tokenPromises[serviceConfig.key]&&(tokenPromises[serviceConfig.key]=this.requestToken(serviceConfig.key,serviceConfig.secret).then(function(result){if(result&&!_.isEmpty(result.access_token)&&result.expires>0)return token=result})),tokenPromises[serviceConfig.key])},requestToken:function(key,secret){return request({queryString:{client_id:key||serviceConfig.key,client_secret:secret||serviceConfig.secret}}).then(function(response){if(response&&!0===response.success)return response.data;throw new Error(response.errorMessage||errorMessages.noContent)})}}}}),
define("app/service/synchronization/client",["jquery","lodash","i18n","module","app/core/request","app/service/synchronization/token"],function($,_,__,module,requestFactory,tokenServiceFactory){"use strict";var supportedTypes=["test-taker","delivery","eligibility"],errorMessages={unavaibleEndpoint:__("Unable to reach the server, please check your network."),invalidCredentials:__("You are not authorized to synchronize the requested data, please contact your administrator."),serverError:__("An unexpected error occur while trying to synchronize, please contact your administrator.")};return function(config){
var clientConfig=_.defaults(config||{},module.config()),request=requestFactory({},errorMessages),tokenService=tokenServiceFactory({key:config.key,secret:config.secret}),validateType=function(type){if(!_.isString(type)||!_.contains(supportedTypes,type))throw new TypeError("Unsupported resource type for synchronization : "+type);return!0},getAccessToken=function(force){return force?tokenService.requestToken():tokenService.getToken()},authHeaders=function(token,headers){return headers=headers||{},headers.Authorization="Bearer "+token,headers},extraParams={};return config.organisationId&&(extraParams.organisation_id=config.organisationId),{
getEntityIds:function(type,nextCallUrl,retrying){var self=this,entityIds={};return validateType(type),getAccessToken(!0===retrying).then(function(token){return request(_.defaults({path:nextCallUrl||clientConfig.api.entity.path,headers:authHeaders(token.access_token,clientConfig.api.entity.headers),queryString:{type:type,params:extraParams}},clientConfig.api.entity))}).then(function(result){if(result){if(!0===result.success&&result.data&&result.data.entities)return entityIds=_.merge(entityIds,result.data.entities),result.data.nextCallUrl&&result.data.nextCallUrl!==nextCallUrl?self.getEntityIds(type,result.data.nextCallUrl,!1):entityIds
;if(!retrying&&(403===result.status||401===result.status))return self.getEntityIds(type,nextCallUrl,!0)}})},getEntitiesContent:function(type,entityIds,retrying){return validateType(type),_.isArray(entityIds)&&entityIds.length?getAccessToken(!0===retrying).then(function(token){return request(_.defaults({headers:authHeaders(token.access_token,clientConfig.api.details.headers),body:{type:type,entityIds:entityIds,params:extraParams}},clientConfig.api.details))}).then(function(result){if(result){if(!0===result.success&&result.data)return result.data;if(!retrying&&(403===result.status||401===result.status))return self.getEntitiesContent(type,entityIds,!0)}
}):Promise.resolve([])},downloadDeliveryAssembly:function(deliveryId,retrying){return _.isEmpty(deliveryId)?Promise.resolve(!1):getAccessToken(!0===retrying).then(function(token){return request(_.defaults({headers:authHeaders(token.access_token,clientConfig.api.assembly.headers),queryString:{deliveryIdentifier:deliveryId,params:extraParams}},clientConfig.api.assembly))}).then(function(result){if(result){if(!0===result.success&&result.data)return result.data;if(!retrying&&(403===result.status||401===result.status))return self.downloadDeliveryAssembly(deliveryId,!0)}})},sendResults:function(results,retrying){
return getAccessToken(!0===retrying).then(function(token){return request(_.defaults({headers:authHeaders(token.access_token,clientConfig.api.result.headers),body:results},clientConfig.api.result))}).then(function(response){if(response){if(!0===response.success)return response;if(!retrying&&(403===response.status||401===response.status))return self.sendResults(results,!0)}})}}}}),define("app/service/synchronization/provider/eligibility",["lodash","app/service/eligibility","app/service/dataMapper/eligibility","app/service/synchronization/client"],function(_,eligibilityService,eligibilityDataMapper,syncClientFactory){"use strict";return{name:"eligibility",
direction:"fetch",init:function(config){this.client=syncClientFactory(config)},getRemoteResourceIds:function(){return this.client.getEntityIds("eligibility")},getRemoteResources:function(ids){return this.client.getEntitiesContent("eligibility",ids)},getLocalResources:function(){return eligibilityService.getAll().then(function(results){return _.isArray(results)?_.reduce(results,function(acc,eligibility){return eligibility&&eligibility.id&&(acc[eligibility.id]=eligibility),acc},{}):results})},addResource:function(id,resource){return eligibilityService.set(eligibilityDataMapper(resource))},updateResource:function(id,resource){
return eligibilityService.update(id,eligibilityDataMapper(resource))},removeResource:function(id){return eligibilityService.remove(id)}}}),define("app/service/delivery",["lodash","app/service/storeService","lib/uuid"],function(_,storeServiceFactory,uuid){"use strict";var storeService=storeServiceFactory("delivery","delivery");return _.assign(storeService,{generatePathName:function(){return uuid(16)}})}),function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define("app/lib/jszip",[],f);else{var g
;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.JSZip=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict"
;var utils=require("./utils"),support=require("./support"),_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";exports.encode=function(input){for(var chr1,chr2,chr3,enc1,enc2,enc3,enc4,output=[],i=0,len=input.length,remainingBytes=len,isArray="string"!==utils.getTypeOf(input);i<input.length;)remainingBytes=len-i,isArray?(chr1=input[i++],chr2=i<len?input[i++]:0,chr3=i<len?input[i++]:0):(chr1=input.charCodeAt(i++),chr2=i<len?input.charCodeAt(i++):0,chr3=i<len?input.charCodeAt(i++):0),enc1=chr1>>2,enc2=(3&chr1)<<4|chr2>>4,enc3=remainingBytes>1?(15&chr2)<<2|chr3>>6:64,enc4=remainingBytes>2?63&chr3:64,
output.push(_keyStr.charAt(enc1)+_keyStr.charAt(enc2)+_keyStr.charAt(enc3)+_keyStr.charAt(enc4));return output.join("")},exports.decode=function(input){var chr1,chr2,chr3,enc1,enc2,enc3,enc4,i=0,resultIndex=0;if("data:"===input.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");var totalLength=3*input.length/4;if(input.charAt(input.length-1)===_keyStr.charAt(64)&&totalLength--,input.charAt(input.length-2)===_keyStr.charAt(64)&&totalLength--,totalLength%1!=0)throw new Error("Invalid base64 input, bad content length.");var output
;for(output=support.uint8array?new Uint8Array(0|totalLength):new Array(0|totalLength);i<input.length;)enc1=_keyStr.indexOf(input.charAt(i++)),enc2=_keyStr.indexOf(input.charAt(i++)),enc3=_keyStr.indexOf(input.charAt(i++)),enc4=_keyStr.indexOf(input.charAt(i++)),chr1=enc1<<2|enc2>>4,chr2=(15&enc2)<<4|enc3>>2,chr3=(3&enc3)<<6|enc4,output[resultIndex++]=chr1,64!==enc3&&(output[resultIndex++]=chr2),64!==enc4&&(output[resultIndex++]=chr3);return output}},{"./support":30,"./utils":32}],2:[function(require,module,exports){"use strict";function CompressedObject(compressedSize,uncompressedSize,crc32,compression,data){this.compressedSize=compressedSize,
this.uncompressedSize=uncompressedSize,this.crc32=crc32,this.compression=compression,this.compressedContent=data}var external=require("./external"),DataWorker=require("./stream/DataWorker"),DataLengthProbe=require("./stream/DataLengthProbe"),Crc32Probe=require("./stream/Crc32Probe"),DataLengthProbe=require("./stream/DataLengthProbe");CompressedObject.prototype={getContentWorker:function(){var worker=new DataWorker(external.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new DataLengthProbe("data_length")),that=this;return worker.on("end",function(){
if(this.streamInfo.data_length!==that.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),worker},getCompressedWorker:function(){return new DataWorker(external.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},CompressedObject.createWorkerFrom=function(uncompressedWorker,compression,compressionOptions){
return uncompressedWorker.pipe(new Crc32Probe).pipe(new DataLengthProbe("uncompressedSize")).pipe(compression.compressWorker(compressionOptions)).pipe(new DataLengthProbe("compressedSize")).withStreamInfo("compression",compression)},module.exports=CompressedObject},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(require,module,exports){"use strict";var GenericWorker=require("./stream/GenericWorker");exports.STORE={magic:"\0\0",compressWorker:function(compressionOptions){return new GenericWorker("STORE compression")},uncompressWorker:function(){return new GenericWorker("STORE decompression")}},
exports.DEFLATE=require("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(require,module,exports){"use strict";function crc32(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^buf[i])];return-1^crc}function crc32str(crc,str,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^str.charCodeAt(i))];return-1^crc}var utils=require("./utils"),crcTable=function(){for(var c,table=[],n=0;n<256;n++){c=n;for(var k=0;k<8;k++)c=1&c?3988292384^c>>>1:c>>>1;table[n]=c}return table}();module.exports=function(input,crc){
return void 0!==input&&input.length?"string"!==utils.getTypeOf(input)?crc32(0|crc,input,input.length,0):crc32str(0|crc,input,input.length,0):0}},{"./utils":32}],5:[function(require,module,exports){"use strict";exports.base64=!1,exports.binary=!1,exports.dir=!1,exports.createFolders=!0,exports.date=null,exports.compression=null,exports.compressionOptions=null,exports.comment=null,exports.unixPermissions=null,exports.dosPermissions=null},{}],6:[function(require,module,exports){var ES6Promise=null;ES6Promise="undefined"!=typeof Promise?Promise:require("lie"),module.exports={Promise:ES6Promise}},{lie:58}],7:[function(require,module,exports){"use strict"
;function FlateWorker(action,options){GenericWorker.call(this,"FlateWorker/"+action),this._pako=null,this._pakoAction=action,this._pakoOptions=options,this.meta={}}var USE_TYPEDARRAY="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,pako=require("pako"),utils=require("./utils"),GenericWorker=require("./stream/GenericWorker"),ARRAY_TYPE=USE_TYPEDARRAY?"uint8array":"array";exports.magic="\b\0",utils.inherits(FlateWorker,GenericWorker),FlateWorker.prototype.processChunk=function(chunk){this.meta=chunk.meta,null===this._pako&&this._createPako(),this._pako.push(utils.transformTo(ARRAY_TYPE,chunk.data),!1)},
FlateWorker.prototype.flush=function(){GenericWorker.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},FlateWorker.prototype.cleanUp=function(){GenericWorker.prototype.cleanUp.call(this),this._pako=null},FlateWorker.prototype._createPako=function(){this._pako=new pako[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var self=this;this._pako.onData=function(data){self.push({data:data,meta:self.meta})}},exports.compressWorker=function(compressionOptions){return new FlateWorker("Deflate",compressionOptions)},exports.uncompressWorker=function(){return new FlateWorker("Inflate",{})}},{
"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(require,module,exports){"use strict";function ZipFileWorker(streamFiles,comment,platform,encodeFileName){GenericWorker.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=comment,this.zipPlatform=platform,this.encodeFileName=encodeFileName,this.streamFiles=streamFiles,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}
var utils=require("../utils"),GenericWorker=require("../stream/GenericWorker"),utf8=require("../utf8"),crc32=require("../crc32"),signature=require("../signature"),decToHex=function(dec,bytes){var i,hex="";for(i=0;i<bytes;i++)hex+=String.fromCharCode(255&dec),dec>>>=8;return hex},generateUnixExternalFileAttr=function(unixPermissions,isDir){var result=unixPermissions;return unixPermissions||(result=isDir?16893:33204),(65535&result)<<16},generateDosExternalFileAttr=function(dosPermissions,isDir){return 63&(dosPermissions||0)},generateZipParts=function(streamInfo,streamedContent,streamingEnded,offset,platform,encodeFileName){
var dosTime,dosDate,file=streamInfo.file,compression=streamInfo.compression,useCustomEncoding=encodeFileName!==utf8.utf8encode,encodedFileName=utils.transformTo("string",encodeFileName(file.name)),utfEncodedFileName=utils.transformTo("string",utf8.utf8encode(file.name)),comment=file.comment,encodedComment=utils.transformTo("string",encodeFileName(comment)),utfEncodedComment=utils.transformTo("string",utf8.utf8encode(comment)),useUTF8ForFileName=utfEncodedFileName.length!==file.name.length,useUTF8ForComment=utfEncodedComment.length!==comment.length,extraFields="",unicodePathExtraField="",unicodeCommentExtraField="",dir=file.dir,date=file.date,dataInfo={
crc32:0,compressedSize:0,uncompressedSize:0};streamedContent&&!streamingEnded||(dataInfo.crc32=streamInfo.crc32,dataInfo.compressedSize=streamInfo.compressedSize,dataInfo.uncompressedSize=streamInfo.uncompressedSize);var bitflag=0;streamedContent&&(bitflag|=8),useCustomEncoding||!useUTF8ForFileName&&!useUTF8ForComment||(bitflag|=2048);var extFileAttr=0,versionMadeBy=0;dir&&(extFileAttr|=16),"UNIX"===platform?(versionMadeBy=798,extFileAttr|=generateUnixExternalFileAttr(file.unixPermissions,dir)):(versionMadeBy=20,extFileAttr|=generateDosExternalFileAttr(file.dosPermissions)),dosTime=date.getUTCHours(),dosTime<<=6,dosTime|=date.getUTCMinutes(),dosTime<<=5,
dosTime|=date.getUTCSeconds()/2,dosDate=date.getUTCFullYear()-1980,dosDate<<=4,dosDate|=date.getUTCMonth()+1,dosDate<<=5,dosDate|=date.getUTCDate(),useUTF8ForFileName&&(unicodePathExtraField=decToHex(1,1)+decToHex(crc32(encodedFileName),4)+utfEncodedFileName,extraFields+="up"+decToHex(unicodePathExtraField.length,2)+unicodePathExtraField),useUTF8ForComment&&(unicodeCommentExtraField=decToHex(1,1)+decToHex(crc32(encodedComment),4)+utfEncodedComment,extraFields+="uc"+decToHex(unicodeCommentExtraField.length,2)+unicodeCommentExtraField);var header="";return header+="\n\0",header+=decToHex(bitflag,2),header+=compression.magic,header+=decToHex(dosTime,2),
header+=decToHex(dosDate,2),header+=decToHex(dataInfo.crc32,4),header+=decToHex(dataInfo.compressedSize,4),header+=decToHex(dataInfo.uncompressedSize,4),header+=decToHex(encodedFileName.length,2),header+=decToHex(extraFields.length,2),{fileRecord:signature.LOCAL_FILE_HEADER+header+encodedFileName+extraFields,dirRecord:signature.CENTRAL_FILE_HEADER+decToHex(versionMadeBy,2)+header+decToHex(encodedComment.length,2)+"\0\0\0\0"+decToHex(extFileAttr,4)+decToHex(offset,4)+encodedFileName+extraFields+encodedComment}},generateCentralDirectoryEnd=function(entriesCount,centralDirLength,localDirLength,comment,encodeFileName){
var encodedComment=utils.transformTo("string",encodeFileName(comment));return signature.CENTRAL_DIRECTORY_END+"\0\0\0\0"+decToHex(entriesCount,2)+decToHex(entriesCount,2)+decToHex(centralDirLength,4)+decToHex(localDirLength,4)+decToHex(encodedComment.length,2)+encodedComment},generateDataDescriptors=function(streamInfo){return signature.DATA_DESCRIPTOR+decToHex(streamInfo.crc32,4)+decToHex(streamInfo.compressedSize,4)+decToHex(streamInfo.uncompressedSize,4)};utils.inherits(ZipFileWorker,GenericWorker),ZipFileWorker.prototype.push=function(chunk){var currentFilePercent=chunk.meta.percent||0,entriesCount=this.entriesCount,remainingFiles=this._sources.length
;this.accumulate?this.contentBuffer.push(chunk):(this.bytesWritten+=chunk.data.length,GenericWorker.prototype.push.call(this,{data:chunk.data,meta:{currentFile:this.currentFile,percent:entriesCount?(currentFilePercent+100*(entriesCount-remainingFiles-1))/entriesCount:100}}))},ZipFileWorker.prototype.openedSource=function(streamInfo){this.currentSourceOffset=this.bytesWritten,this.currentFile=streamInfo.file.name;var streamedContent=this.streamFiles&&!streamInfo.file.dir;if(streamedContent){var record=generateZipParts(streamInfo,streamedContent,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:record.fileRecord,meta:{percent:0}
})}else this.accumulate=!0},ZipFileWorker.prototype.closedSource=function(streamInfo){this.accumulate=!1;var streamedContent=this.streamFiles&&!streamInfo.file.dir,record=generateZipParts(streamInfo,streamedContent,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(record.dirRecord),streamedContent)this.push({data:generateDataDescriptors(streamInfo),meta:{percent:100}});else for(this.push({data:record.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},ZipFileWorker.prototype.flush=function(){
for(var localDirLength=this.bytesWritten,i=0;i<this.dirRecords.length;i++)this.push({data:this.dirRecords[i],meta:{percent:100}});var centralDirLength=this.bytesWritten-localDirLength,dirEnd=generateCentralDirectoryEnd(this.dirRecords.length,centralDirLength,localDirLength,this.zipComment,this.encodeFileName);this.push({data:dirEnd,meta:{percent:100}})},ZipFileWorker.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},ZipFileWorker.prototype.registerPrevious=function(previous){this._sources.push(previous);var self=this
;return previous.on("data",function(chunk){self.processChunk(chunk)}),previous.on("end",function(){self.closedSource(self.previous.streamInfo),self._sources.length?self.prepareNextSource():self.end()}),previous.on("error",function(e){self.error(e)}),this},ZipFileWorker.prototype.resume=function(){return!!GenericWorker.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},ZipFileWorker.prototype.error=function(e){var sources=this._sources;if(!GenericWorker.prototype.error.call(this,e))return!1;for(var i=0;i<sources.length;i++)try{
sources[i].error(e)}catch(e){}return!0},ZipFileWorker.prototype.lock=function(){GenericWorker.prototype.lock.call(this);for(var sources=this._sources,i=0;i<sources.length;i++)sources[i].lock()},module.exports=ZipFileWorker},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(require,module,exports){"use strict";var compressions=require("../compressions"),ZipFileWorker=require("./ZipFileWorker"),getCompression=function(fileCompression,zipCompression){var compressionName=fileCompression||zipCompression,compression=compressions[compressionName]
;if(!compression)throw new Error(compressionName+" is not a valid compression method !");return compression};exports.generateWorker=function(zip,options,comment){var zipFileWorker=new ZipFileWorker(options.streamFiles,comment,options.platform,options.encodeFileName),entriesCount=0;try{zip.forEach(function(relativePath,file){entriesCount++;var compression=getCompression(file.options.compression,options.compression),compressionOptions=file.options.compressionOptions||options.compressionOptions||{},dir=file.dir,date=file.date;file._compressWorker(compression,compressionOptions).withStreamInfo("file",{name:relativePath,dir:dir,date:date,comment:file.comment||"",
unixPermissions:file.unixPermissions,dosPermissions:file.dosPermissions}).pipe(zipFileWorker)}),zipFileWorker.entriesCount=entriesCount}catch(e){zipFileWorker.error(e)}return zipFileWorker}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(require,module,exports){"use strict";function JSZip(){if(!(this instanceof JSZip))return new JSZip;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var newObj=new JSZip;for(var i in this)"function"!=typeof this[i]&&(newObj[i]=this[i]);return newObj}}
JSZip.prototype=require("./object"),JSZip.prototype.loadAsync=require("./load"),JSZip.support=require("./support"),JSZip.defaults=require("./defaults"),JSZip.version="3.1.5",JSZip.loadAsync=function(content,options){return(new JSZip).loadAsync(content,options)},JSZip.external=require("./external"),module.exports=JSZip},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(require,module,exports){"use strict";function checkEntryCRC32(zipEntry){return new external.Promise(function(resolve,reject){var worker=zipEntry.decompressed.getContentWorker().pipe(new Crc32Probe);worker.on("error",function(e){reject(e)
}).on("end",function(){worker.streamInfo.crc32!==zipEntry.decompressed.crc32?reject(new Error("Corrupted zip : CRC32 mismatch")):resolve()}).resume()})}var utils=require("./utils"),external=require("./external"),utf8=require("./utf8"),utils=require("./utils"),ZipEntries=require("./zipEntries"),Crc32Probe=require("./stream/Crc32Probe"),nodejsUtils=require("./nodejsUtils");module.exports=function(data,options){var zip=this;return options=utils.extend(options||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:utf8.utf8decode}),
nodejsUtils.isNode&&nodejsUtils.isStream(data)?external.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):utils.prepareContent("the loaded zip file",data,!0,options.optimizedBinaryString,options.base64).then(function(data){var zipEntries=new ZipEntries(options);return zipEntries.load(data),zipEntries}).then(function(zipEntries){var promises=[external.Promise.resolve(zipEntries)],files=zipEntries.files;if(options.checkCRC32)for(var i=0;i<files.length;i++)promises.push(checkEntryCRC32(files[i]));return external.Promise.all(promises)}).then(function(results){
for(var zipEntries=results.shift(),files=zipEntries.files,i=0;i<files.length;i++){var input=files[i];zip.file(input.fileNameStr,input.decompressed,{binary:!0,optimizedBinaryString:!0,date:input.date,dir:input.dir,comment:input.fileCommentStr.length?input.fileCommentStr:null,unixPermissions:input.unixPermissions,dosPermissions:input.dosPermissions,createFolders:options.createFolders})}return zipEntries.zipComment.length&&(zip.comment=zipEntries.zipComment),zip})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(require,module,exports){"use strict"
;function NodejsStreamInputAdapter(filename,stream){GenericWorker.call(this,"Nodejs stream input adapter for "+filename),this._upstreamEnded=!1,this._bindStream(stream)}var utils=require("../utils"),GenericWorker=require("../stream/GenericWorker");utils.inherits(NodejsStreamInputAdapter,GenericWorker),NodejsStreamInputAdapter.prototype._bindStream=function(stream){var self=this;this._stream=stream,stream.pause(),stream.on("data",function(chunk){self.push({data:chunk,meta:{percent:0}})}).on("error",function(e){self.isPaused?this.generatedError=e:self.error(e)}).on("end",function(){self.isPaused?self._upstreamEnded=!0:self.end()})},
NodejsStreamInputAdapter.prototype.pause=function(){return!!GenericWorker.prototype.pause.call(this)&&(this._stream.pause(),!0)},NodejsStreamInputAdapter.prototype.resume=function(){return!!GenericWorker.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},module.exports=NodejsStreamInputAdapter},{"../stream/GenericWorker":28,"../utils":32}],13:[function(require,module,exports){"use strict";function NodejsStreamOutputAdapter(helper,options,updateCb){Readable.call(this,options),this._helper=helper;var self=this;helper.on("data",function(data,meta){self.push(data)||self._helper.pause(),updateCb&&updateCb(meta)
}).on("error",function(e){self.emit("error",e)}).on("end",function(){self.push(null)})}var Readable=require("readable-stream").Readable;require("../utils").inherits(NodejsStreamOutputAdapter,Readable),NodejsStreamOutputAdapter.prototype._read=function(){this._helper.resume()},module.exports=NodejsStreamOutputAdapter},{"../utils":32,"readable-stream":16}],14:[function(require,module,exports){"use strict";module.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(data,encoding){return new Buffer(data,encoding)},allocBuffer:function(size){return Buffer.alloc?Buffer.alloc(size):new Buffer(size)},isBuffer:function(b){return Buffer.isBuffer(b)},
isStream:function(obj){return obj&&"function"==typeof obj.on&&"function"==typeof obj.pause&&"function"==typeof obj.resume}}},{}],15:[function(require,module,exports){"use strict";function isRegExp(object){return"[object RegExp]"===Object.prototype.toString.call(object)}
var utf8=require("./utf8"),utils=require("./utils"),GenericWorker=require("./stream/GenericWorker"),StreamHelper=require("./stream/StreamHelper"),defaults=require("./defaults"),CompressedObject=require("./compressedObject"),ZipObject=require("./zipObject"),generate=require("./generate"),nodejsUtils=require("./nodejsUtils"),NodejsStreamInputAdapter=require("./nodejs/NodejsStreamInputAdapter"),fileAdd=function(name,data,originalOptions){var parent,dataType=utils.getTypeOf(data),o=utils.extend(originalOptions||{},defaults);o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),
"string"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(name=forceTrailingSlash(name)),o.createFolders&&(parent=parentFolder(name))&&folderAdd.call(this,parent,!0);var isUnicodeString="string"===dataType&&!1===o.binary&&!1===o.base64;originalOptions&&void 0!==originalOptions.binary||(o.binary=!isUnicodeString),(data instanceof CompressedObject&&0===data.uncompressedSize||o.dir||!data||0===data.length)&&(o.base64=!1,o.binary=!0,data="",o.compression="STORE",dataType="string");var zipObjectContent=null
;zipObjectContent=data instanceof CompressedObject||data instanceof GenericWorker?data:nodejsUtils.isNode&&nodejsUtils.isStream(data)?new NodejsStreamInputAdapter(name,data):utils.prepareContent(name,data,o.binary,o.optimizedBinaryString,o.base64);var object=new ZipObject(name,zipObjectContent,o);this.files[name]=object},parentFolder=function(path){"/"===path.slice(-1)&&(path=path.substring(0,path.length-1));var lastSlash=path.lastIndexOf("/");return lastSlash>0?path.substring(0,lastSlash):""},forceTrailingSlash=function(path){return"/"!==path.slice(-1)&&(path+="/"),path},folderAdd=function(name,createFolders){
return createFolders=void 0!==createFolders?createFolders:defaults.createFolders,name=forceTrailingSlash(name),this.files[name]||fileAdd.call(this,name,null,{dir:!0,createFolders:createFolders}),this.files[name]},out={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(cb){var filename,relativePath,file;for(filename in this.files)this.files.hasOwnProperty(filename)&&(file=this.files[filename],(relativePath=filename.slice(this.root.length,filename.length))&&filename.slice(0,this.root.length)===this.root&&cb(relativePath,file))},filter:function(search){var result=[]
;return this.forEach(function(relativePath,entry){search(relativePath,entry)&&result.push(entry)}),result},file:function(name,data,o){if(1===arguments.length){if(isRegExp(name)){var regexp=name;return this.filter(function(relativePath,file){return!file.dir&&regexp.test(relativePath)})}var obj=this.files[this.root+name];return obj&&!obj.dir?obj:null}return name=this.root+name,fileAdd.call(this,name,data,o),this},folder:function(arg){if(!arg)return this;if(isRegExp(arg))return this.filter(function(relativePath,file){return file.dir&&arg.test(relativePath)});var name=this.root+arg,newFolder=folderAdd.call(this,name),ret=this.clone()
;return ret.root=newFolder.name,ret},remove:function(name){name=this.root+name;var file=this.files[name];if(file||("/"!==name.slice(-1)&&(name+="/"),file=this.files[name]),file&&!file.dir)delete this.files[name];else for(var kids=this.filter(function(relativePath,file){return file.name.slice(0,name.length)===name}),i=0;i<kids.length;i++)delete this.files[kids[i].name];return this},generate:function(options){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(options){var worker,opts={};try{if(opts=utils.extend(options||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,
type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:utf8.utf8encode}),opts.type=opts.type.toLowerCase(),opts.compression=opts.compression.toUpperCase(),"binarystring"===opts.type&&(opts.type="string"),!opts.type)throw new Error("No output type specified.");utils.checkSupport(opts.type),"darwin"!==opts.platform&&"freebsd"!==opts.platform&&"linux"!==opts.platform&&"sunos"!==opts.platform||(opts.platform="UNIX"),"win32"===opts.platform&&(opts.platform="DOS");var comment=opts.comment||this.comment||"";worker=generate.generateWorker(this,opts,comment)}catch(e){worker=new GenericWorker("error"),worker.error(e)}
return new StreamHelper(worker,opts.type||"string",opts.mimeType)},generateAsync:function(options,onUpdate){return this.generateInternalStream(options).accumulate(onUpdate)},generateNodeStream:function(options,onUpdate){return options=options||{},options.type||(options.type="nodebuffer"),this.generateInternalStream(options).toNodejsStream(onUpdate)}};module.exports=out},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(require,module,exports){module.exports=require("stream")},{
stream:void 0}],17:[function(require,module,exports){"use strict";function ArrayReader(data){DataReader.call(this,data);for(var i=0;i<this.data.length;i++)data[i]=255&data[i]}var DataReader=require("./DataReader");require("../utils").inherits(ArrayReader,DataReader),ArrayReader.prototype.byteAt=function(i){return this.data[this.zero+i]},ArrayReader.prototype.lastIndexOfSignature=function(sig){for(var sig0=sig.charCodeAt(0),sig1=sig.charCodeAt(1),sig2=sig.charCodeAt(2),sig3=sig.charCodeAt(3),i=this.length-4;i>=0;--i)if(this.data[i]===sig0&&this.data[i+1]===sig1&&this.data[i+2]===sig2&&this.data[i+3]===sig3)return i-this.zero;return-1},
ArrayReader.prototype.readAndCheckSignature=function(sig){var sig0=sig.charCodeAt(0),sig1=sig.charCodeAt(1),sig2=sig.charCodeAt(2),sig3=sig.charCodeAt(3),data=this.readData(4);return sig0===data[0]&&sig1===data[1]&&sig2===data[2]&&sig3===data[3]},ArrayReader.prototype.readData=function(size){if(this.checkOffset(size),0===size)return[];var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=ArrayReader},{"../utils":32,"./DataReader":18}],18:[function(require,module,exports){"use strict";function DataReader(data){this.data=data,this.length=data.length,this.index=0,this.zero=0}
var utils=require("../utils");DataReader.prototype={checkOffset:function(offset){this.checkIndex(this.index+offset)},checkIndex:function(newIndex){if(this.length<this.zero+newIndex||newIndex<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+newIndex+"). Corrupted zip ?")},setIndex:function(newIndex){this.checkIndex(newIndex),this.index=newIndex},skip:function(n){this.setIndex(this.index+n)},byteAt:function(i){},readInt:function(size){var i,result=0;for(this.checkOffset(size),i=this.index+size-1;i>=this.index;i--)result=(result<<8)+this.byteAt(i);return this.index+=size,result},readString:function(size){
return utils.transformTo("string",this.readData(size))},readData:function(size){},lastIndexOfSignature:function(sig){},readAndCheckSignature:function(sig){},readDate:function(){var dostime=this.readInt(4);return new Date(Date.UTC(1980+(dostime>>25&127),(dostime>>21&15)-1,dostime>>16&31,dostime>>11&31,dostime>>5&63,(31&dostime)<<1))}},module.exports=DataReader},{"../utils":32}],19:[function(require,module,exports){"use strict";function NodeBufferReader(data){Uint8ArrayReader.call(this,data)}var Uint8ArrayReader=require("./Uint8ArrayReader");require("../utils").inherits(NodeBufferReader,Uint8ArrayReader),NodeBufferReader.prototype.readData=function(size){
this.checkOffset(size);var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=NodeBufferReader},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(require,module,exports){"use strict";function StringReader(data){DataReader.call(this,data)}var DataReader=require("./DataReader");require("../utils").inherits(StringReader,DataReader),StringReader.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},StringReader.prototype.lastIndexOfSignature=function(sig){return this.data.lastIndexOf(sig)-this.zero},StringReader.prototype.readAndCheckSignature=function(sig){
return sig===this.readData(4)},StringReader.prototype.readData=function(size){this.checkOffset(size);var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=StringReader},{"../utils":32,"./DataReader":18}],21:[function(require,module,exports){"use strict";function Uint8ArrayReader(data){ArrayReader.call(this,data)}var ArrayReader=require("./ArrayReader");require("../utils").inherits(Uint8ArrayReader,ArrayReader),Uint8ArrayReader.prototype.readData=function(size){if(this.checkOffset(size),0===size)return new Uint8Array(0)
;var result=this.data.subarray(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=Uint8ArrayReader},{"../utils":32,"./ArrayReader":17}],22:[function(require,module,exports){"use strict";var utils=require("../utils"),support=require("../support"),ArrayReader=require("./ArrayReader"),StringReader=require("./StringReader"),NodeBufferReader=require("./NodeBufferReader"),Uint8ArrayReader=require("./Uint8ArrayReader");module.exports=function(data){var type=utils.getTypeOf(data);return utils.checkSupport(type),
"string"!==type||support.uint8array?"nodebuffer"===type?new NodeBufferReader(data):support.uint8array?new Uint8ArrayReader(utils.transformTo("uint8array",data)):new ArrayReader(utils.transformTo("array",data)):new StringReader(data)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(require,module,exports){"use strict";exports.LOCAL_FILE_HEADER="PK",exports.CENTRAL_FILE_HEADER="PK",exports.CENTRAL_DIRECTORY_END="PK",exports.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",exports.ZIP64_CENTRAL_DIRECTORY_END="PK",exports.DATA_DESCRIPTOR="PK\b"},{}],
24:[function(require,module,exports){"use strict";function ConvertWorker(destType){GenericWorker.call(this,"ConvertWorker to "+destType),this.destType=destType}var GenericWorker=require("./GenericWorker"),utils=require("../utils");utils.inherits(ConvertWorker,GenericWorker),ConvertWorker.prototype.processChunk=function(chunk){this.push({data:utils.transformTo(this.destType,chunk.data),meta:chunk.meta})},module.exports=ConvertWorker},{"../utils":32,"./GenericWorker":28}],25:[function(require,module,exports){"use strict";function Crc32Probe(){GenericWorker.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}
var GenericWorker=require("./GenericWorker"),crc32=require("../crc32");require("../utils").inherits(Crc32Probe,GenericWorker),Crc32Probe.prototype.processChunk=function(chunk){this.streamInfo.crc32=crc32(chunk.data,this.streamInfo.crc32||0),this.push(chunk)},module.exports=Crc32Probe},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(require,module,exports){"use strict";function DataLengthProbe(propName){GenericWorker.call(this,"DataLengthProbe for "+propName),this.propName=propName,this.withStreamInfo(propName,0)}var utils=require("../utils"),GenericWorker=require("./GenericWorker");utils.inherits(DataLengthProbe,GenericWorker),
DataLengthProbe.prototype.processChunk=function(chunk){if(chunk){var length=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=length+chunk.data.length}GenericWorker.prototype.processChunk.call(this,chunk)},module.exports=DataLengthProbe},{"../utils":32,"./GenericWorker":28}],27:[function(require,module,exports){"use strict";function DataWorker(dataP){GenericWorker.call(this,"DataWorker");var self=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,dataP.then(function(data){self.dataIsReady=!0,self.data=data,self.max=data&&data.length||0,self.type=utils.getTypeOf(data),
self.isPaused||self._tickAndRepeat()},function(e){self.error(e)})}var utils=require("../utils"),GenericWorker=require("./GenericWorker");utils.inherits(DataWorker,GenericWorker),DataWorker.prototype.cleanUp=function(){GenericWorker.prototype.cleanUp.call(this),this.data=null},DataWorker.prototype.resume=function(){return!!GenericWorker.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,utils.delay(this._tickAndRepeat,[],this)),!0)},DataWorker.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(utils.delay(this._tickAndRepeat,[],this),
this._tickScheduled=!0))},DataWorker.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var data=null,nextIndex=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":data=this.data.substring(this.index,nextIndex);break;case"uint8array":data=this.data.subarray(this.index,nextIndex);break;case"array":case"nodebuffer":data=this.data.slice(this.index,nextIndex)}return this.index=nextIndex,this.push({data:data,meta:{percent:this.max?this.index/this.max*100:0}})},module.exports=DataWorker},{"../utils":32,"./GenericWorker":28}],28:[function(require,module,exports){"use strict"
;function GenericWorker(name){this.name=name||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}GenericWorker.prototype={push:function(chunk){this.emit("data",chunk)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(name,listener){
return this._listeners[name].push(listener),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(name,arg){if(this._listeners[name])for(var i=0;i<this._listeners[name].length;i++)this._listeners[name][i].call(this,arg)},pipe:function(next){return next.registerPrevious(this)},registerPrevious:function(previous){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=previous.streamInfo,this.mergeStreamInfo(),this.previous=previous;var self=this;return previous.on("data",function(chunk){self.processChunk(chunk)}),previous.on("end",function(){self.end()
}),previous.on("error",function(e){self.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var withError=!1;return this.generatedError&&(this.error(this.generatedError),withError=!0),this.previous&&this.previous.resume(),!withError},flush:function(){},processChunk:function(chunk){this.push(chunk)},withStreamInfo:function(key,value){return this.extraStreamInfo[key]=value,this.mergeStreamInfo(),this},mergeStreamInfo:function(){
for(var key in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(key)&&(this.streamInfo[key]=this.extraStreamInfo[key])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var me="Worker "+this.name;return this.previous?this.previous+" -> "+me:me}},module.exports=GenericWorker},{}],29:[function(require,module,exports){"use strict";function transformZipOutput(type,content,mimeType){switch(type){case"blob":return utils.newBlob(utils.transformTo("arraybuffer",content),mimeType);case"base64":return base64.encode(content);default:
return utils.transformTo(type,content)}}function concat(type,dataArray){var i,index=0,res=null,totalLength=0;for(i=0;i<dataArray.length;i++)totalLength+=dataArray[i].length;switch(type){case"string":return dataArray.join("");case"array":return Array.prototype.concat.apply([],dataArray);case"uint8array":for(res=new Uint8Array(totalLength),i=0;i<dataArray.length;i++)res.set(dataArray[i],index),index+=dataArray[i].length;return res;case"nodebuffer":return Buffer.concat(dataArray);default:throw new Error("concat : unsupported type '"+type+"'")}}function accumulate(helper,updateCallback){return new external.Promise(function(resolve,reject){
var dataArray=[],chunkType=helper._internalType,resultType=helper._outputType,mimeType=helper._mimeType;helper.on("data",function(data,meta){dataArray.push(data),updateCallback&&updateCallback(meta)}).on("error",function(err){dataArray=[],reject(err)}).on("end",function(){try{var result=transformZipOutput(resultType,concat(chunkType,dataArray),mimeType);resolve(result)}catch(e){reject(e)}dataArray=[]}).resume()})}function StreamHelper(worker,outputType,mimeType){var internalType=outputType;switch(outputType){case"blob":case"arraybuffer":internalType="uint8array";break;case"base64":internalType="string"}try{this._internalType=internalType,
this._outputType=outputType,this._mimeType=mimeType,utils.checkSupport(internalType),this._worker=worker.pipe(new ConvertWorker(internalType)),worker.lock()}catch(e){this._worker=new GenericWorker("error"),this._worker.error(e)}}var utils=require("../utils"),ConvertWorker=require("./ConvertWorker"),GenericWorker=require("./GenericWorker"),base64=require("../base64"),support=require("../support"),external=require("../external"),NodejsStreamOutputAdapter=null;if(support.nodestream)try{NodejsStreamOutputAdapter=require("../nodejs/NodejsStreamOutputAdapter")}catch(e){}StreamHelper.prototype={accumulate:function(updateCb){return accumulate(this,updateCb)},
on:function(evt,fn){var self=this;return"data"===evt?this._worker.on(evt,function(chunk){fn.call(self,chunk.data,chunk.meta)}):this._worker.on(evt,function(){utils.delay(fn,arguments,self)}),this},resume:function(){return utils.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(updateCb){if(utils.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new NodejsStreamOutputAdapter(this,{objectMode:"nodebuffer"!==this._outputType},updateCb)}},module.exports=StreamHelper},{"../base64":1,"../external":6,
"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(require,module,exports){"use strict";if(exports.base64=!0,exports.array=!0,exports.string=!0,exports.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,exports.nodebuffer="undefined"!=typeof Buffer,exports.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)exports.blob=!1;else{var buffer=new ArrayBuffer(0);try{exports.blob=0===new Blob([buffer],{type:"application/zip"}).size}catch(e){try{
var Builder=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,builder=new Builder;builder.append(buffer),exports.blob=0===builder.getBlob("application/zip").size}catch(e){exports.blob=!1}}}try{exports.nodestream=!!require("readable-stream").Readable}catch(e){exports.nodestream=!1}},{"readable-stream":16}],31:[function(require,module,exports){"use strict";function Utf8DecodeWorker(){GenericWorker.call(this,"utf-8 decode"),this.leftOver=null}function Utf8EncodeWorker(){GenericWorker.call(this,"utf-8 encode")}
for(var utils=require("./utils"),support=require("./support"),nodejsUtils=require("./nodejsUtils"),GenericWorker=require("./stream/GenericWorker"),_utf8len=new Array(256),i=0;i<256;i++)_utf8len[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++)c=str.charCodeAt(m_pos),55296==(64512&c)&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),buf_len+=c<128?1:c<2048?2:c<65536?3:4;for(buf=support.uint8array?new Uint8Array(buf_len):new Array(buf_len),i=0,
m_pos=0;i<buf_len;m_pos++)c=str.charCodeAt(m_pos),55296==(64512&c)&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),c<128?buf[i++]=c:c<2048?(buf[i++]=192|c>>>6,buf[i++]=128|63&c):c<65536?(buf[i++]=224|c>>>12,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c):(buf[i++]=240|c>>>18,buf[i++]=128|c>>>12&63,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c);return buf},utf8border=function(buf,max){var pos;for(max=max||buf.length,max>buf.length&&(max=buf.length),pos=max-1;pos>=0&&128==(192&buf[pos]);)pos--;return pos<0?max:0===pos?max:pos+_utf8len[buf[pos]]>max?pos:max},buf2string=function(buf){
var i,out,c,c_len,len=buf.length,utf16buf=new Array(2*len);for(out=0,i=0;i<len;)if((c=buf[i++])<128)utf16buf[out++]=c;else if((c_len=_utf8len[c])>4)utf16buf[out++]=65533,i+=c_len-1;else{for(c&=2===c_len?31:3===c_len?15:7;c_len>1&&i<len;)c=c<<6|63&buf[i++],c_len--;c_len>1?utf16buf[out++]=65533:c<65536?utf16buf[out++]=c:(c-=65536,utf16buf[out++]=55296|c>>10&1023,utf16buf[out++]=56320|1023&c)}return utf16buf.length!==out&&(utf16buf.subarray?utf16buf=utf16buf.subarray(0,out):utf16buf.length=out),utils.applyFromCharCode(utf16buf)};exports.utf8encode=function(str){return support.nodebuffer?nodejsUtils.newBufferFrom(str,"utf-8"):string2buf(str)},
exports.utf8decode=function(buf){return support.nodebuffer?utils.transformTo("nodebuffer",buf).toString("utf-8"):(buf=utils.transformTo(support.uint8array?"uint8array":"array",buf),buf2string(buf))},utils.inherits(Utf8DecodeWorker,GenericWorker),Utf8DecodeWorker.prototype.processChunk=function(chunk){var data=utils.transformTo(support.uint8array?"uint8array":"array",chunk.data);if(this.leftOver&&this.leftOver.length){if(support.uint8array){var previousData=data;data=new Uint8Array(previousData.length+this.leftOver.length),data.set(this.leftOver,0),data.set(previousData,this.leftOver.length)}else data=this.leftOver.concat(data);this.leftOver=null}
var nextBoundary=utf8border(data),usableData=data;nextBoundary!==data.length&&(support.uint8array?(usableData=data.subarray(0,nextBoundary),this.leftOver=data.subarray(nextBoundary,data.length)):(usableData=data.slice(0,nextBoundary),this.leftOver=data.slice(nextBoundary,data.length))),this.push({data:exports.utf8decode(usableData),meta:chunk.meta})},Utf8DecodeWorker.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:exports.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},exports.Utf8DecodeWorker=Utf8DecodeWorker,utils.inherits(Utf8EncodeWorker,GenericWorker),Utf8EncodeWorker.prototype.processChunk=function(chunk){
this.push({data:exports.utf8encode(chunk.data),meta:chunk.meta})},exports.Utf8EncodeWorker=Utf8EncodeWorker},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(require,module,exports){"use strict";function string2binary(str){var result=null;return result=support.uint8array?new Uint8Array(str.length):new Array(str.length),stringToArrayLike(str,result)}function identity(input){return input}function stringToArrayLike(str,array){for(var i=0;i<str.length;++i)array[i]=255&str.charCodeAt(i);return array}function arrayLikeToString(array){var chunk=65536,type=exports.getTypeOf(array),canUseApply=!0
;if("uint8array"===type?canUseApply=arrayToStringHelper.applyCanBeUsed.uint8array:"nodebuffer"===type&&(canUseApply=arrayToStringHelper.applyCanBeUsed.nodebuffer),canUseApply)for(;chunk>1;)try{return arrayToStringHelper.stringifyByChunk(array,type,chunk)}catch(e){chunk=Math.floor(chunk/2)}return arrayToStringHelper.stringifyByChar(array)}function arrayLikeToArrayLike(arrayFrom,arrayTo){for(var i=0;i<arrayFrom.length;i++)arrayTo[i]=arrayFrom[i];return arrayTo}var support=require("./support"),base64=require("./base64"),nodejsUtils=require("./nodejsUtils"),setImmediate=require("core-js/library/fn/set-immediate"),external=require("./external")
;exports.newBlob=function(part,type){exports.checkSupport("blob");try{return new Blob([part],{type:type})}catch(e){try{var Builder=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,builder=new Builder;return builder.append(part),builder.getBlob(type)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var arrayToStringHelper={stringifyByChunk:function(array,type,chunk){var result=[],k=0,len=array.length;if(len<=chunk)return String.fromCharCode.apply(null,array)
;for(;k<len;)"array"===type||"nodebuffer"===type?result.push(String.fromCharCode.apply(null,array.slice(k,Math.min(k+chunk,len)))):result.push(String.fromCharCode.apply(null,array.subarray(k,Math.min(k+chunk,len)))),k+=chunk;return result.join("")},stringifyByChar:function(array){for(var resultStr="",i=0;i<array.length;i++)resultStr+=String.fromCharCode(array[i]);return resultStr},applyCanBeUsed:{uint8array:function(){try{return support.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return support.nodebuffer&&1===String.fromCharCode.apply(null,nodejsUtils.allocBuffer(1)).length
}catch(e){return!1}}()}};exports.applyFromCharCode=arrayLikeToString;var transform={};transform.string={string:identity,array:function(input){return stringToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return transform.string.uint8array(input).buffer},uint8array:function(input){return stringToArrayLike(input,new Uint8Array(input.length))},nodebuffer:function(input){return stringToArrayLike(input,nodejsUtils.allocBuffer(input.length))}},transform.array={string:arrayLikeToString,array:identity,arraybuffer:function(input){return new Uint8Array(input).buffer},uint8array:function(input){return new Uint8Array(input)},
nodebuffer:function(input){return nodejsUtils.newBufferFrom(input)}},transform.arraybuffer={string:function(input){return arrayLikeToString(new Uint8Array(input))},array:function(input){return arrayLikeToArrayLike(new Uint8Array(input),new Array(input.byteLength))},arraybuffer:identity,uint8array:function(input){return new Uint8Array(input)},nodebuffer:function(input){return nodejsUtils.newBufferFrom(new Uint8Array(input))}},transform.uint8array={string:arrayLikeToString,array:function(input){return arrayLikeToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return input.buffer},uint8array:identity,nodebuffer:function(input){
return nodejsUtils.newBufferFrom(input)}},transform.nodebuffer={string:arrayLikeToString,array:function(input){return arrayLikeToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return transform.nodebuffer.uint8array(input).buffer},uint8array:function(input){return arrayLikeToArrayLike(input,new Uint8Array(input.length))},nodebuffer:identity},exports.transformTo=function(outputType,input){if(input||(input=""),!outputType)return input;exports.checkSupport(outputType);var inputType=exports.getTypeOf(input);return transform[inputType][outputType](input)},exports.getTypeOf=function(input){
return"string"==typeof input?"string":"[object Array]"===Object.prototype.toString.call(input)?"array":support.nodebuffer&&nodejsUtils.isBuffer(input)?"nodebuffer":support.uint8array&&input instanceof Uint8Array?"uint8array":support.arraybuffer&&input instanceof ArrayBuffer?"arraybuffer":void 0},exports.checkSupport=function(type){if(!support[type.toLowerCase()])throw new Error(type+" is not supported by this platform")},exports.MAX_VALUE_16BITS=65535,exports.MAX_VALUE_32BITS=-1,exports.pretty=function(str){var code,i,res="";for(i=0;i<(str||"").length;i++)code=str.charCodeAt(i),res+="\\x"+(code<16?"0":"")+code.toString(16).toUpperCase();return res},
exports.delay=function(callback,args,self){setImmediate(function(){callback.apply(self||null,args||[])})},exports.inherits=function(ctor,superCtor){var Obj=function(){};Obj.prototype=superCtor.prototype,ctor.prototype=new Obj},exports.extend=function(){var i,attr,result={};for(i=0;i<arguments.length;i++)for(attr in arguments[i])arguments[i].hasOwnProperty(attr)&&void 0===result[attr]&&(result[attr]=arguments[i][attr]);return result},exports.prepareContent=function(name,inputData,isBinary,isOptimizedBinaryString,isBase64){return external.Promise.resolve(inputData).then(function(data){
return support.blob&&(data instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(data)))&&"undefined"!=typeof FileReader?new external.Promise(function(resolve,reject){var reader=new FileReader;reader.onload=function(e){resolve(e.target.result)},reader.onerror=function(e){reject(e.target.error)},reader.readAsArrayBuffer(data)}):data}).then(function(data){var dataType=exports.getTypeOf(data);return dataType?("arraybuffer"===dataType?data=exports.transformTo("uint8array",data):"string"===dataType&&(isBase64?data=base64.decode(data):isBinary&&!0!==isOptimizedBinaryString&&(data=string2binary(data))),
data):external.Promise.reject(new Error("Can't read the data of '"+name+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(require,module,exports){"use strict";function ZipEntries(loadOptions){this.files=[],this.loadOptions=loadOptions}var readerFor=require("./reader/readerFor"),utils=require("./utils"),sig=require("./signature"),ZipEntry=require("./zipEntry"),support=(require("./utf8"),require("./support"));ZipEntries.prototype={checkSignature:function(expectedSignature){
if(!this.reader.readAndCheckSignature(expectedSignature)){this.reader.index-=4;var signature=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+utils.pretty(signature)+", expected "+utils.pretty(expectedSignature)+")")}},isSignature:function(askedIndex,expectedSignature){var currentIndex=this.reader.index;this.reader.setIndex(askedIndex);var signature=this.reader.readString(4),result=signature===expectedSignature;return this.reader.setIndex(currentIndex),result},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),
this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var zipComment=this.reader.readData(this.zipCommentLength),decodeParamType=support.uint8array?"uint8array":"array",decodeContent=utils.transformTo(decodeParamType,zipComment);this.zipComment=this.loadOptions.decodeFileName(decodeContent)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),
this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var extraFieldId,extraFieldLength,extraFieldValue,extraDataSize=this.zip64EndOfCentralSize-44;0<extraDataSize;)extraFieldId=this.reader.readInt(2),extraFieldLength=this.reader.readInt(4),extraFieldValue=this.reader.readData(extraFieldLength),this.zip64ExtensibleData[extraFieldId]={id:extraFieldId,length:extraFieldLength,value:extraFieldValue}},readBlockZip64EndOfCentralLocator:function(){
if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var i,file;for(i=0;i<this.files.length;i++)file=this.files[i],this.reader.setIndex(file.localHeaderOffset),this.checkSignature(sig.LOCAL_FILE_HEADER),file.readLocalPart(this.reader),file.handleUTF8(),file.processAttributes()},readCentralDir:function(){var file;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(sig.CENTRAL_FILE_HEADER);)file=new ZipEntry({zip64:this.zip64
},this.loadOptions),file.readCentralPart(this.reader),this.files.push(file);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var offset=this.reader.lastIndexOfSignature(sig.CENTRAL_DIRECTORY_END);if(offset<0){
throw!this.isSignature(0,sig.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(offset);var endOfCentralDirOffset=offset;if(this.checkSignature(sig.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),
this.diskNumber===utils.MAX_VALUE_16BITS||this.diskWithCentralDirStart===utils.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===utils.MAX_VALUE_16BITS||this.centralDirRecords===utils.MAX_VALUE_16BITS||this.centralDirSize===utils.MAX_VALUE_32BITS||this.centralDirOffset===utils.MAX_VALUE_32BITS){if(this.zip64=!0,(offset=this.reader.lastIndexOfSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(offset),this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),
!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,sig.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(sig.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var expectedEndOfCentralDirOffset=this.centralDirOffset+this.centralDirSize;this.zip64&&(expectedEndOfCentralDirOffset+=20,expectedEndOfCentralDirOffset+=12+this.zip64EndOfCentralSize)
;var extraBytes=endOfCentralDirOffset-expectedEndOfCentralDirOffset;if(extraBytes>0)this.isSignature(endOfCentralDirOffset,sig.CENTRAL_FILE_HEADER)||(this.reader.zero=extraBytes);else if(extraBytes<0)throw new Error("Corrupted zip: missing "+Math.abs(extraBytes)+" bytes.")},prepareReader:function(data){this.reader=readerFor(data)},load:function(data){this.prepareReader(data),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},module.exports=ZipEntries},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(require,module,exports){"use strict";function ZipEntry(options,loadOptions){
this.options=options,this.loadOptions=loadOptions}var readerFor=require("./reader/readerFor"),utils=require("./utils"),CompressedObject=require("./compressedObject"),crc32fn=require("./crc32"),utf8=require("./utf8"),compressions=require("./compressions"),support=require("./support"),findCompression=function(compressionMethod){for(var method in compressions)if(compressions.hasOwnProperty(method)&&compressions[method].magic===compressionMethod)return compressions[method];return null};ZipEntry.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(reader){
var compression,localExtraFieldsLength;if(reader.skip(22),this.fileNameLength=reader.readInt(2),localExtraFieldsLength=reader.readInt(2),this.fileName=reader.readData(this.fileNameLength),reader.skip(localExtraFieldsLength),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(compression=findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+utils.pretty(this.compressionMethod)+" unknown (inner file : "+utils.transformTo("string",this.fileName)+")")
;this.decompressed=new CompressedObject(this.compressedSize,this.uncompressedSize,this.crc32,compression,reader.readData(this.compressedSize))},readCentralPart:function(reader){this.versionMadeBy=reader.readInt(2),reader.skip(2),this.bitFlag=reader.readInt(2),this.compressionMethod=reader.readString(2),this.date=reader.readDate(),this.crc32=reader.readInt(4),this.compressedSize=reader.readInt(4),this.uncompressedSize=reader.readInt(4);var fileNameLength=reader.readInt(2);if(this.extraFieldsLength=reader.readInt(2),this.fileCommentLength=reader.readInt(2),this.diskNumberStart=reader.readInt(2),this.internalFileAttributes=reader.readInt(2),
this.externalFileAttributes=reader.readInt(4),this.localHeaderOffset=reader.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");reader.skip(fileNameLength),this.readExtraFields(reader),this.parseZIP64ExtraField(reader),this.fileComment=reader.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var madeBy=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===madeBy&&(this.dosPermissions=63&this.externalFileAttributes),3===madeBy&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},
parseZIP64ExtraField:function(reader){if(this.extraFields[1]){var extraReader=readerFor(this.extraFields[1].value);this.uncompressedSize===utils.MAX_VALUE_32BITS&&(this.uncompressedSize=extraReader.readInt(8)),this.compressedSize===utils.MAX_VALUE_32BITS&&(this.compressedSize=extraReader.readInt(8)),this.localHeaderOffset===utils.MAX_VALUE_32BITS&&(this.localHeaderOffset=extraReader.readInt(8)),this.diskNumberStart===utils.MAX_VALUE_32BITS&&(this.diskNumberStart=extraReader.readInt(4))}},readExtraFields:function(reader){var extraFieldId,extraFieldLength,extraFieldValue,end=reader.index+this.extraFieldsLength
;for(this.extraFields||(this.extraFields={});reader.index<end;)extraFieldId=reader.readInt(2),extraFieldLength=reader.readInt(2),extraFieldValue=reader.readData(extraFieldLength),this.extraFields[extraFieldId]={id:extraFieldId,length:extraFieldLength,value:extraFieldValue}},handleUTF8:function(){var decodeParamType=support.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=utf8.utf8decode(this.fileName),this.fileCommentStr=utf8.utf8decode(this.fileComment);else{var upath=this.findExtraFieldUnicodePath();if(null!==upath)this.fileNameStr=upath;else{var fileNameByteArray=utils.transformTo(decodeParamType,this.fileName)
;this.fileNameStr=this.loadOptions.decodeFileName(fileNameByteArray)}var ucomment=this.findExtraFieldUnicodeComment();if(null!==ucomment)this.fileCommentStr=ucomment;else{var commentByteArray=utils.transformTo(decodeParamType,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(commentByteArray)}}},findExtraFieldUnicodePath:function(){var upathField=this.extraFields[28789];if(upathField){var extraReader=readerFor(upathField.value);return 1!==extraReader.readInt(1)?null:crc32fn(this.fileName)!==extraReader.readInt(4)?null:utf8.utf8decode(extraReader.readData(upathField.length-5))}return null},findExtraFieldUnicodeComment:function(){
var ucommentField=this.extraFields[25461];if(ucommentField){var extraReader=readerFor(ucommentField.value);return 1!==extraReader.readInt(1)?null:crc32fn(this.fileComment)!==extraReader.readInt(4)?null:utf8.utf8decode(extraReader.readData(ucommentField.length-5))}return null}},module.exports=ZipEntry},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(require,module,exports){"use strict"
;var StreamHelper=require("./stream/StreamHelper"),DataWorker=require("./stream/DataWorker"),utf8=require("./utf8"),CompressedObject=require("./compressedObject"),GenericWorker=require("./stream/GenericWorker"),ZipObject=function(name,data,options){this.name=name,this.dir=options.dir,this.date=options.date,this.comment=options.comment,this.unixPermissions=options.unixPermissions,this.dosPermissions=options.dosPermissions,this._data=data,this._dataBinary=options.binary,this.options={compression:options.compression,compressionOptions:options.compressionOptions}};ZipObject.prototype={internalStream:function(type){var result=null,outputType="string";try{
if(!type)throw new Error("No output type specified.");outputType=type.toLowerCase();var askUnicodeString="string"===outputType||"text"===outputType;"binarystring"!==outputType&&"text"!==outputType||(outputType="string"),result=this._decompressWorker();var isUnicodeString=!this._dataBinary;isUnicodeString&&!askUnicodeString&&(result=result.pipe(new utf8.Utf8EncodeWorker)),!isUnicodeString&&askUnicodeString&&(result=result.pipe(new utf8.Utf8DecodeWorker))}catch(e){result=new GenericWorker("error"),result.error(e)}return new StreamHelper(result,outputType,"")},async:function(type,onUpdate){return this.internalStream(type).accumulate(onUpdate)},
nodeStream:function(type,onUpdate){return this.internalStream(type||"nodebuffer").toNodejsStream(onUpdate)},_compressWorker:function(compression,compressionOptions){if(this._data instanceof CompressedObject&&this._data.compression.magic===compression.magic)return this._data.getCompressedWorker();var result=this._decompressWorker();return this._dataBinary||(result=result.pipe(new utf8.Utf8EncodeWorker)),CompressedObject.createWorkerFrom(result,compression,compressionOptions)},_decompressWorker:function(){return this._data instanceof CompressedObject?this._data.getContentWorker():this._data instanceof GenericWorker?this._data:new DataWorker(this._data)}}
;for(var removedMethods=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],removedFn=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i=0;i<removedMethods.length;i++)ZipObject.prototype[removedMethods[i]]=removedFn;module.exports=ZipObject},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(require,module,exports){require("../modules/web.immediate"),module.exports=require("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(require,module,exports){
module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},{}],38:[function(require,module,exports){var isObject=require("./_is-object");module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},{"./_is-object":51}],39:[function(require,module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},{}],40:[function(require,module,exports){var core=module.exports={version:"2.3.0"};"number"==typeof __e&&(__e=core)},{}],41:[function(require,module,exports){var aFunction=require("./_a-function")
;module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},{"./_a-function":37}],42:[function(require,module,exports){module.exports=!require("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(require,module,exports){
var isObject=require("./_is-object"),document=require("./_global").document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},{"./_global":46,"./_is-object":51}],44:[function(require,module,exports){var global=require("./_global"),core=require("./_core"),ctx=require("./_ctx"),hide=require("./_hide"),$export=function(type,name,source){
var key,own,out,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,IS_WRAP=type&$export.W,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports.prototype,target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{}).prototype;IS_GLOBAL&&(source=name);for(key in source)(own=!IS_FORCED&&target&&void 0!==target[key])&&key in exports||(out=own?target[key]:source[key],exports[key]=IS_GLOBAL&&"function"!=typeof target[key]?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?function(C){var F=function(a,b,c){if(this instanceof C){switch(arguments.length){case 0:
return new C;case 1:return new C(a);case 2:return new C(a,b)}return new C(a,b,c)}return C.apply(this,arguments)};return F.prototype=C.prototype,F}(out):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,IS_PROTO&&((exports.virtual||(exports.virtual={}))[key]=out,type&$export.R&&expProto&&!expProto[key]&&hide(expProto,key,out)))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(require,module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},{}],
46:[function(require,module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},{}],47:[function(require,module,exports){var dP=require("./_object-dp"),createDesc=require("./_property-desc");module.exports=require("./_descriptors")?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(require,module,exports){
module.exports=require("./_global").document&&document.documentElement},{"./_global":46}],49:[function(require,module,exports){module.exports=!require("./_descriptors")&&!require("./_fails")(function(){return 7!=Object.defineProperty(require("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(require,module,exports){module.exports=function(fn,args,that){var un=void 0===that;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:
return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)}},{}],51:[function(require,module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},{}],52:[function(require,module,exports){var anObject=require("./_an-object"),IE8_DOM_DEFINE=require("./_ie8-dom-define"),toPrimitive=require("./_to-primitive"),dP=Object.defineProperty;exports.f=require("./_descriptors")?Object.defineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),
IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],53:[function(require,module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},{}],54:[function(require,module,exports){
var defer,channel,port,ctx=require("./_ctx"),invoke=require("./_invoke"),html=require("./_html"),cel=require("./_dom-create"),global=require("./_global"),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,counter=0,queue={},run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},listener=function(event){run.call(event.data)};setTask&&clearTask||(setTask=function(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){invoke("function"==typeof fn?fn:Function(fn),args)},defer(counter),counter},
clearTask=function(id){delete queue[id]},"process"==require("./_cof")(process)?defer=function(id){process.nextTick(ctx(run,id,1))}:MessageChannel?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listener,defer=ctx(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(id){global.postMessage(id+"","*")},global.addEventListener("message",listener,!1)):defer="onreadystatechange"in cel("script")?function(id){html.appendChild(cel("script")).onreadystatechange=function(){html.removeChild(this),run.call(id)}}:function(id){setTimeout(ctx(run,id,1),0)}),module.exports={
set:setTask,clear:clearTask}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(require,module,exports){var isObject=require("./_is-object");module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":51}],56:[function(require,module,exports){
var $export=require("./_export"),$task=require("./_task");$export($export.G+$export.B,{setImmediate:$task.set,clearImmediate:$task.clear})},{"./_export":44,"./_task":54}],57:[function(require,module,exports){(function(global){"use strict";function nextTick(){draining=!0;for(var i,oldQueue,len=queue.length;len;){for(oldQueue=queue,queue=[],i=-1;++i<len;)oldQueue[i]();len=queue.length}draining=!1}function immediate(task){1!==queue.push(task)||draining||scheduleDrain()}var scheduleDrain,Mutation=global.MutationObserver||global.WebKitMutationObserver;if(Mutation){var called=0,observer=new Mutation(nextTick),element=global.document.createTextNode("")
;observer.observe(element,{characterData:!0}),scheduleDrain=function(){element.data=called=++called%2}}else if(global.setImmediate||void 0===global.MessageChannel)scheduleDrain="document"in global&&"onreadystatechange"in global.document.createElement("script")?function(){var scriptEl=global.document.createElement("script");scriptEl.onreadystatechange=function(){nextTick(),scriptEl.onreadystatechange=null,scriptEl.parentNode.removeChild(scriptEl),scriptEl=null},global.document.documentElement.appendChild(scriptEl)}:function(){setTimeout(nextTick,0)};else{var channel=new global.MessageChannel;channel.port1.onmessage=nextTick,scheduleDrain=function(){
channel.port2.postMessage(0)}}var draining,queue=[];module.exports=immediate}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(require,module,exports){"use strict";function INTERNAL(){}function Promise(resolver){if("function"!=typeof resolver)throw new TypeError("resolver must be a function");this.state=PENDING,this.queue=[],this.outcome=void 0,resolver!==INTERNAL&&safelyResolveThenable(this,resolver)}function QueueItem(promise,onFulfilled,onRejected){this.promise=promise,"function"==typeof onFulfilled&&(this.onFulfilled=onFulfilled,this.callFulfilled=this.otherCallFulfilled),
"function"==typeof onRejected&&(this.onRejected=onRejected,this.callRejected=this.otherCallRejected)}function unwrap(promise,func,value){immediate(function(){var returnValue;try{returnValue=func(value)}catch(e){return handlers.reject(promise,e)}returnValue===promise?handlers.reject(promise,new TypeError("Cannot resolve promise with itself")):handlers.resolve(promise,returnValue)})}function getThen(obj){var then=obj&&obj.then;if(obj&&("object"==typeof obj||"function"==typeof obj)&&"function"==typeof then)return function(){then.apply(obj,arguments)}}function safelyResolveThenable(self,thenable){function onError(value){called||(called=!0,
handlers.reject(self,value))}function onSuccess(value){called||(called=!0,handlers.resolve(self,value))}function tryToUnwrap(){thenable(onSuccess,onError)}var called=!1,result=tryCatch(tryToUnwrap);"error"===result.status&&onError(result.value)}function tryCatch(func,value){var out={};try{out.value=func(value),out.status="success"}catch(e){out.status="error",out.value=e}return out}function resolve(value){return value instanceof this?value:handlers.resolve(new this(INTERNAL),value)}function reject(reason){var promise=new this(INTERNAL);return handlers.reject(promise,reason)}function all(iterable){var self=this
;if("[object Array]"!==Object.prototype.toString.call(iterable))return this.reject(new TypeError("must be an array"));var len=iterable.length,called=!1;if(!len)return this.resolve([]);for(var values=new Array(len),resolved=0,i=-1,promise=new this(INTERNAL);++i<len;)!function(value,i){function resolveFromAll(outValue){values[i]=outValue,++resolved!==len||called||(called=!0,handlers.resolve(promise,values))}self.resolve(value).then(resolveFromAll,function(error){called||(called=!0,handlers.reject(promise,error))})}(iterable[i],i);return promise}function race(iterable){var self=this
;if("[object Array]"!==Object.prototype.toString.call(iterable))return this.reject(new TypeError("must be an array"));var len=iterable.length,called=!1;if(!len)return this.resolve([]);for(var i=-1,promise=new this(INTERNAL);++i<len;)!function(value){self.resolve(value).then(function(response){called||(called=!0,handlers.resolve(promise,response))},function(error){called||(called=!0,handlers.reject(promise,error))})}(iterable[i]);return promise}var immediate=require("immediate"),handlers={},REJECTED=["REJECTED"],FULFILLED=["FULFILLED"],PENDING=["PENDING"];module.exports=Promise,Promise.prototype.catch=function(onRejected){return this.then(null,onRejected)},
Promise.prototype.then=function(onFulfilled,onRejected){if("function"!=typeof onFulfilled&&this.state===FULFILLED||"function"!=typeof onRejected&&this.state===REJECTED)return this;var promise=new this.constructor(INTERNAL);if(this.state!==PENDING){unwrap(promise,this.state===FULFILLED?onFulfilled:onRejected,this.outcome)}else this.queue.push(new QueueItem(promise,onFulfilled,onRejected));return promise},QueueItem.prototype.callFulfilled=function(value){handlers.resolve(this.promise,value)},QueueItem.prototype.otherCallFulfilled=function(value){unwrap(this.promise,this.onFulfilled,value)},QueueItem.prototype.callRejected=function(value){
handlers.reject(this.promise,value)},QueueItem.prototype.otherCallRejected=function(value){unwrap(this.promise,this.onRejected,value)},handlers.resolve=function(self,value){var result=tryCatch(getThen,value);if("error"===result.status)return handlers.reject(self,result.value);var thenable=result.value;if(thenable)safelyResolveThenable(self,thenable);else{self.state=FULFILLED,self.outcome=value;for(var i=-1,len=self.queue.length;++i<len;)self.queue[i].callFulfilled(value)}return self},handlers.reject=function(self,error){self.state=REJECTED,self.outcome=error;for(var i=-1,len=self.queue.length;++i<len;)self.queue[i].callRejected(error);return self},
Promise.resolve=resolve,Promise.reject=reject,Promise.all=all,Promise.race=race},{immediate:57}],59:[function(require,module,exports){var assign=require("./lib/utils/common").assign,deflate=require("./lib/deflate"),inflate=require("./lib/inflate"),constants=require("./lib/zlib/constants"),pako={};assign(pako,deflate,inflate,constants),module.exports=pako},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(require,module,exports){"use strict";function Deflate(options){if(!(this instanceof Deflate))return new Deflate(options);this.options=utils.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED,
chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:""},options||{});var opt=this.options;opt.raw&&opt.windowBits>0?opt.windowBits=-opt.windowBits:opt.gzip&&opt.windowBits>0&&opt.windowBits<16&&(opt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var status=zlib_deflate.deflateInit2(this.strm,opt.level,opt.method,opt.windowBits,opt.memLevel,opt.strategy);if(status!==Z_OK)throw new Error(msg[status]);if(opt.header&&zlib_deflate.deflateSetHeader(this.strm,opt.header),opt.dictionary){var dict
;if(dict="string"==typeof opt.dictionary?strings.string2buf(opt.dictionary):"[object ArrayBuffer]"===toString.call(opt.dictionary)?new Uint8Array(opt.dictionary):opt.dictionary,(status=zlib_deflate.deflateSetDictionary(this.strm,dict))!==Z_OK)throw new Error(msg[status]);this._dict_set=!0}}function deflate(input,options){var deflator=new Deflate(options);if(deflator.push(input,!0),deflator.err)throw deflator.msg||msg[deflator.err];return deflator.result}function deflateRaw(input,options){return options=options||{},options.raw=!0,deflate(input,options)}function gzip(input,options){return options=options||{},options.gzip=!0,deflate(input,options)}
var zlib_deflate=require("./zlib/deflate"),utils=require("./utils/common"),strings=require("./utils/strings"),msg=require("./zlib/messages"),ZStream=require("./zlib/zstream"),toString=Object.prototype.toString,Z_OK=0,Z_DEFAULT_COMPRESSION=-1,Z_DEFAULT_STRATEGY=0,Z_DEFLATED=8;Deflate.prototype.push=function(data,mode){var status,_mode,strm=this.strm,chunkSize=this.options.chunkSize;if(this.ended)return!1;_mode=mode===~~mode?mode:!0===mode?4:0,"string"==typeof data?strm.input=strings.string2buf(data):"[object ArrayBuffer]"===toString.call(data)?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;do{
if(0===strm.avail_out&&(strm.output=new utils.Buf8(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),1!==(status=zlib_deflate.deflate(strm,_mode))&&status!==Z_OK)return this.onEnd(status),this.ended=!0,!1;0!==strm.avail_out&&(0!==strm.avail_in||4!==_mode&&2!==_mode)||("string"===this.options.to?this.onData(strings.buf2binstring(utils.shrinkBuf(strm.output,strm.next_out))):this.onData(utils.shrinkBuf(strm.output,strm.next_out)))}while((strm.avail_in>0||0===strm.avail_out)&&1!==status);return 4===_mode?(status=zlib_deflate.deflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===Z_OK):2!==_mode||(this.onEnd(Z_OK),strm.avail_out=0,!0)},
Deflate.prototype.onData=function(chunk){this.chunks.push(chunk)},Deflate.prototype.onEnd=function(status){status===Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg},exports.Deflate=Deflate,exports.deflate=deflate,exports.deflateRaw=deflateRaw,exports.gzip=gzip},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(require,module,exports){"use strict";function Inflate(options){if(!(this instanceof Inflate))return new Inflate(options);this.options=utils.assign({chunkSize:16384,
windowBits:0,to:""},options||{});var opt=this.options;opt.raw&&opt.windowBits>=0&&opt.windowBits<16&&(opt.windowBits=-opt.windowBits,0===opt.windowBits&&(opt.windowBits=-15)),!(opt.windowBits>=0&&opt.windowBits<16)||options&&options.windowBits||(opt.windowBits+=32),opt.windowBits>15&&opt.windowBits<48&&0==(15&opt.windowBits)&&(opt.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var status=zlib_inflate.inflateInit2(this.strm,opt.windowBits);if(status!==c.Z_OK)throw new Error(msg[status]);this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header)}function inflate(input,options){
var inflator=new Inflate(options);if(inflator.push(input,!0),inflator.err)throw inflator.msg||msg[inflator.err];return inflator.result}function inflateRaw(input,options){return options=options||{},options.raw=!0,inflate(input,options)}var zlib_inflate=require("./zlib/inflate"),utils=require("./utils/common"),strings=require("./utils/strings"),c=require("./zlib/constants"),msg=require("./zlib/messages"),ZStream=require("./zlib/zstream"),GZheader=require("./zlib/gzheader"),toString=Object.prototype.toString;Inflate.prototype.push=function(data,mode){
var status,_mode,next_out_utf8,tail,utf8str,dict,strm=this.strm,chunkSize=this.options.chunkSize,dictionary=this.options.dictionary,allowBufError=!1;if(this.ended)return!1;_mode=mode===~~mode?mode:!0===mode?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof data?strm.input=strings.binstring2buf(data):"[object ArrayBuffer]"===toString.call(data)?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;do{if(0===strm.avail_out&&(strm.output=new utils.Buf8(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),status=zlib_inflate.inflate(strm,c.Z_NO_FLUSH),
status===c.Z_NEED_DICT&&dictionary&&(dict="string"==typeof dictionary?strings.string2buf(dictionary):"[object ArrayBuffer]"===toString.call(dictionary)?new Uint8Array(dictionary):dictionary,status=zlib_inflate.inflateSetDictionary(this.strm,dict)),status===c.Z_BUF_ERROR&&!0===allowBufError&&(status=c.Z_OK,allowBufError=!1),status!==c.Z_STREAM_END&&status!==c.Z_OK)return this.onEnd(status),this.ended=!0,!1;strm.next_out&&(0!==strm.avail_out&&status!==c.Z_STREAM_END&&(0!==strm.avail_in||_mode!==c.Z_FINISH&&_mode!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(next_out_utf8=strings.utf8border(strm.output,strm.next_out),tail=strm.next_out-next_out_utf8,
utf8str=strings.buf2string(strm.output,next_out_utf8),strm.next_out=tail,strm.avail_out=chunkSize-tail,tail&&utils.arraySet(strm.output,strm.output,next_out_utf8,tail,0),this.onData(utf8str)):this.onData(utils.shrinkBuf(strm.output,strm.next_out)))),0===strm.avail_in&&0===strm.avail_out&&(allowBufError=!0)}while((strm.avail_in>0||0===strm.avail_out)&&status!==c.Z_STREAM_END);return status===c.Z_STREAM_END&&(_mode=c.Z_FINISH),_mode===c.Z_FINISH?(status=zlib_inflate.inflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===c.Z_OK):_mode!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),strm.avail_out=0,!0)},Inflate.prototype.onData=function(chunk){
this.chunks.push(chunk)},Inflate.prototype.onEnd=function(status){status===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg},exports.Inflate=Inflate,exports.inflate=inflate,exports.inflateRaw=inflateRaw,exports.ungzip=inflate},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(require,module,exports){"use strict";var TYPED_OK="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array
;exports.assign=function(obj){for(var sources=Array.prototype.slice.call(arguments,1);sources.length;){var source=sources.shift();if(source){if("object"!=typeof source)throw new TypeError(source+"must be non-object");for(var p in source)source.hasOwnProperty(p)&&(obj[p]=source[p])}}return obj},exports.shrinkBuf=function(buf,size){return buf.length===size?buf:buf.subarray?buf.subarray(0,size):(buf.length=size,buf)};var fnTyped={arraySet:function(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray)return void dest.set(src.subarray(src_offs,src_offs+len),dest_offs);for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},
flattenChunks:function(chunks){var i,l,len,pos,chunk,result;for(len=0,i=0,l=chunks.length;i<l;i++)len+=chunks[i].length;for(result=new Uint8Array(len),pos=0,i=0,l=chunks.length;i<l;i++)chunk=chunks[i],result.set(chunk,pos),pos+=chunk.length;return result}},fnUntyped={arraySet:function(dest,src,src_offs,len,dest_offs){for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){return[].concat.apply([],chunks)}};exports.setTyped=function(on){on?(exports.Buf8=Uint8Array,exports.Buf16=Uint16Array,exports.Buf32=Int32Array,exports.assign(exports,fnTyped)):(exports.Buf8=Array,exports.Buf16=Array,exports.Buf32=Array,
exports.assign(exports,fnUntyped))},exports.setTyped(TYPED_OK)},{}],63:[function(require,module,exports){function buf2binstring(buf,len){if(len<65537&&(buf.subarray&&STR_APPLY_UIA_OK||!buf.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils.shrinkBuf(buf,len));for(var result="",i=0;i<len;i++)result+=String.fromCharCode(buf[i]);return result}var utils=require("./common"),STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch(__){STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(__){STR_APPLY_UIA_OK=!1}
for(var _utf8len=new utils.Buf8(256),q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;_utf8len[254]=_utf8len[254]=1,exports.string2buf=function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++)c=str.charCodeAt(m_pos),55296==(64512&c)&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),buf_len+=c<128?1:c<2048?2:c<65536?3:4;for(buf=new utils.Buf8(buf_len),i=0,m_pos=0;i<buf_len;m_pos++)c=str.charCodeAt(m_pos),55296==(64512&c)&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),
c<128?buf[i++]=c:c<2048?(buf[i++]=192|c>>>6,buf[i++]=128|63&c):c<65536?(buf[i++]=224|c>>>12,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c):(buf[i++]=240|c>>>18,buf[i++]=128|c>>>12&63,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c);return buf},exports.buf2binstring=function(buf){return buf2binstring(buf,buf.length)},exports.binstring2buf=function(str){for(var buf=new utils.Buf8(str.length),i=0,len=buf.length;i<len;i++)buf[i]=str.charCodeAt(i);return buf},exports.buf2string=function(buf,max){var i,out,c,c_len,len=max||buf.length,utf16buf=new Array(2*len);for(out=0,i=0;i<len;)if((c=buf[i++])<128)utf16buf[out++]=c;else if((c_len=_utf8len[c])>4)utf16buf[out++]=65533,
i+=c_len-1;else{for(c&=2===c_len?31:3===c_len?15:7;c_len>1&&i<len;)c=c<<6|63&buf[i++],c_len--;c_len>1?utf16buf[out++]=65533:c<65536?utf16buf[out++]=c:(c-=65536,utf16buf[out++]=55296|c>>10&1023,utf16buf[out++]=56320|1023&c)}return buf2binstring(utf16buf,out)},exports.utf8border=function(buf,max){var pos;for(max=max||buf.length,max>buf.length&&(max=buf.length),pos=max-1;pos>=0&&128==(192&buf[pos]);)pos--;return pos<0?max:0===pos?max:pos+_utf8len[buf[pos]]>max?pos:max}},{"./common":62}],64:[function(require,module,exports){"use strict";function adler32(adler,buf,len,pos){for(var s1=65535&adler|0,s2=adler>>>16&65535|0,n=0;0!==len;){n=len>2e3?2e3:len,len-=n;do{
s1=s1+buf[pos++]|0,s2=s2+s1|0}while(--n);s1%=65521,s2%=65521}return s1|s2<<16|0}module.exports=adler32},{}],65:[function(require,module,exports){"use strict";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(require,module,exports){"use strict";function crc32(crc,buf,len,pos){
var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^buf[i])];return-1^crc}var crcTable=function(){for(var c,table=[],n=0;n<256;n++){c=n;for(var k=0;k<8;k++)c=1&c?3988292384^c>>>1:c>>>1;table[n]=c}return table}();module.exports=crc32},{}],67:[function(require,module,exports){"use strict";function err(strm,errorCode){return strm.msg=msg[errorCode],errorCode}function rank(f){return(f<<1)-(f>4?9:0)}function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}function flush_pending(strm){var s=strm.state,len=s.pending;len>strm.avail_out&&(len=strm.avail_out),
0!==len&&(utils.arraySet(strm.output,s.pending_buf,s.pending_out,len,strm.next_out),strm.next_out+=len,s.pending_out+=len,strm.total_out+=len,strm.avail_out-=len,s.pending-=len,0===s.pending&&(s.pending_out=0))}function flush_block_only(s,last){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,last),s.block_start=s.strstart,flush_pending(s.strm)}function put_byte(s,b){s.pending_buf[s.pending++]=b}function putShortMSB(s,b){s.pending_buf[s.pending++]=b>>>8&255,s.pending_buf[s.pending++]=255&b}function read_buf(strm,buf,start,size){var len=strm.avail_in;return len>size&&(len=size),0===len?0:(strm.avail_in-=len,
utils.arraySet(buf,strm.input,strm.next_in,len,start),1===strm.state.wrap?strm.adler=adler32(strm.adler,buf,len,start):2===strm.state.wrap&&(strm.adler=crc32(strm.adler,buf,len,start)),strm.next_in+=len,strm.total_in+=len,len)}function longest_match(s,cur_match){var match,len,chain_length=s.max_chain_length,scan=s.strstart,best_len=s.prev_length,nice_match=s.nice_match,limit=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0,_win=s.window,wmask=s.w_mask,prev=s.prev,strend=s.strstart+MAX_MATCH,scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len];s.prev_length>=s.good_match&&(chain_length>>=2),
nice_match>s.lookahead&&(nice_match=s.lookahead);do{if(match=cur_match,_win[match+best_len]===scan_end&&_win[match+best_len-1]===scan_end1&&_win[match]===_win[scan]&&_win[++match]===_win[scan+1]){scan+=2,match++;do{}while(_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&scan<strend);if(len=MAX_MATCH-(strend-scan),scan=strend-MAX_MATCH,len>best_len){if(s.match_start=cur_match,best_len=len,len>=nice_match)break;scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len]}}
}while((cur_match=prev[cur_match&wmask])>limit&&0!=--chain_length);return best_len<=s.lookahead?best_len:s.lookahead}function fill_window(s){var p,n,m,more,str,_w_size=s.w_size;do{if(more=s.window_size-s.lookahead-s.strstart,s.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)){utils.arraySet(s.window,s.window,_w_size,_w_size,0),s.match_start-=_w_size,s.strstart-=_w_size,s.block_start-=_w_size,n=s.hash_size,p=n;do{m=s.head[--p],s.head[p]=m>=_w_size?m-_w_size:0}while(--n);n=_w_size,p=n;do{m=s.prev[--p],s.prev[p]=m>=_w_size?m-_w_size:0}while(--n);more+=_w_size}if(0===s.strm.avail_in)break;if(n=read_buf(s.strm,s.window,s.strstart+s.lookahead,more),s.lookahead+=n,
s.lookahead+s.insert>=MIN_MATCH)for(str=s.strstart-s.insert,s.ins_h=s.window[str],s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++,s.insert--,!(s.lookahead+s.insert<MIN_MATCH)););}while(s.lookahead<MIN_LOOKAHEAD&&0!==s.strm.avail_in)}function deflate_stored(s,flush){var max_block_size=65535;for(max_block_size>s.pending_buf_size-5&&(max_block_size=s.pending_buf_size-5);;){if(s.lookahead<=1){if(fill_window(s),0===s.lookahead&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}
s.strstart+=s.lookahead,s.lookahead=0;var max_start=s.block_start+max_block_size;if((0===s.strstart||s.strstart>=max_start)&&(s.lookahead=s.strstart-max_start,s.strstart=max_start,flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE;if(s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):(s.strstart>s.block_start&&(flush_block_only(s,!1),s.strm.avail_out),BS_NEED_MORE)}function deflate_fast(s,flush){for(var hash_head,bflush;;){if(s.lookahead<MIN_LOOKAHEAD){
if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),0!==hash_head&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head)),s.match_length>=MIN_MATCH)if(bflush=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do{s.strstart++,
s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart}while(0!=--s.match_length);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),
0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(s,flush){for(var hash_head,bflush,max_insert;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=MIN_MATCH-1,
0!==hash_head&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head),s.match_length<=5&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096)&&(s.match_length=MIN_MATCH-1)),s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){max_insert=s.strstart+s.lookahead-MIN_MATCH,bflush=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH),s.lookahead-=s.prev_length-1,s.prev_length-=2;do{++s.strstart<=max_insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],
s.head[s.ins_h]=s.strstart)}while(0!=--s.prev_length);if(s.match_available=0,s.match_length=MIN_MATCH-1,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}else if(s.match_available){if(bflush=trees._tr_tally(s,0,s.window[s.strstart-1]),bflush&&flush_block_only(s,!1),s.strstart++,s.lookahead--,0===s.strm.avail_out)return BS_NEED_MORE}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(bflush=trees._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),
0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(s,flush){for(var bflush,prev,scan,strend,_win=s.window;;){if(s.lookahead<=MAX_MATCH){if(fill_window(s),s.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(s.match_length=0,s.lookahead>=MIN_MATCH&&s.strstart>0&&(scan=s.strstart-1,(prev=_win[scan])===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan])){strend=s.strstart+MAX_MATCH
;do{}while(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&scan<strend);s.match_length=MAX_MATCH-(strend-scan),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=MIN_MATCH?(bflush=trees._tr_tally(s,1,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),
0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(s,flush){for(var bflush;;){if(0===s.lookahead&&(fill_window(s),0===s.lookahead)){if(flush===Z_NO_FLUSH)return BS_NEED_MORE;break}if(s.match_length=0,bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}
function Config(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length,this.max_lazy=max_lazy,this.nice_length=nice_length,this.max_chain=max_chain,this.func=func}function lm_init(s){s.window_size=2*s.w_size,zero(s.head),s.max_lazy_match=configuration_table[s.level].max_lazy,s.good_match=configuration_table[s.level].good_length,s.nice_match=configuration_table[s.level].nice_length,s.max_chain_length=configuration_table[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,s.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,
this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils.Buf16(2*HEAP_SIZE),
this.dyn_dtree=new utils.Buf16(2*(2*D_CODES+1)),this.bl_tree=new utils.Buf16(2*(2*BL_CODES+1)),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils.Buf16(MAX_BITS+1),this.heap=new utils.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(strm){var s;return strm&&strm.state?(strm.total_in=strm.total_out=0,strm.data_type=Z_UNKNOWN,
s=strm.state,s.pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap?INIT_STATE:BUSY_STATE,strm.adler=2===s.wrap?0:1,s.last_flush=Z_NO_FLUSH,trees._tr_init(s),Z_OK):err(strm,Z_STREAM_ERROR)}function deflateReset(strm){var ret=deflateResetKeep(strm);return ret===Z_OK&&lm_init(strm.state),ret}function deflateSetHeader(strm,head){return strm&&strm.state?2!==strm.state.wrap?Z_STREAM_ERROR:(strm.state.gzhead=head,Z_OK):Z_STREAM_ERROR}function deflateInit2(strm,level,method,windowBits,memLevel,strategy){if(!strm)return Z_STREAM_ERROR;var wrap=1;if(level===Z_DEFAULT_COMPRESSION&&(level=6),windowBits<0?(wrap=0,
windowBits=-windowBits):windowBits>15&&(wrap=2,windowBits-=16),memLevel<1||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED||windowBits<8||windowBits>15||level<0||level>9||strategy<0||strategy>Z_FIXED)return err(strm,Z_STREAM_ERROR);8===windowBits&&(windowBits=9);var s=new DeflateState;return strm.state=s,s.strm=strm,s.wrap=wrap,s.gzhead=null,s.w_bits=windowBits,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=memLevel+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH),s.window=new utils.Buf8(2*s.w_size),s.head=new utils.Buf16(s.hash_size),s.prev=new utils.Buf16(s.w_size),s.lit_bufsize=1<<memLevel+6,
s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new utils.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=level,s.strategy=strategy,s.method=method,deflateReset(strm)}function deflateInit(strm,level){return deflateInit2(strm,level,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)}function deflate(strm,flush){var old_flush,s,beg,val;if(!strm||!strm.state||flush>Z_BLOCK||flush<0)return strm?err(strm,Z_STREAM_ERROR):Z_STREAM_ERROR;if(s=strm.state,!strm.output||!strm.input&&0!==strm.avail_in||s.status===FINISH_STATE&&flush!==Z_FINISH)return err(strm,0===strm.avail_out?Z_BUF_ERROR:Z_STREAM_ERROR);if(s.strm=strm,
old_flush=s.last_flush,s.last_flush=flush,s.status===INIT_STATE)if(2===s.wrap)strm.adler=0,put_byte(s,31),put_byte(s,139),put_byte(s,8),s.gzhead?(put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),put_byte(s,255&s.gzhead.time),put_byte(s,s.gzhead.time>>8&255),put_byte(s,s.gzhead.time>>16&255),put_byte(s,s.gzhead.time>>24&255),put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(put_byte(s,255&s.gzhead.extra.length),put_byte(s,s.gzhead.extra.length>>8&255)),
s.gzhead.hcrc&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=EXTRA_STATE):(put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,OS_CODE),s.status=BUSY_STATE);else{var header=Z_DEFLATED+(s.w_bits-8<<4)<<8,level_flags=-1;level_flags=s.strategy>=Z_HUFFMAN_ONLY||s.level<2?0:s.level<6?1:6===s.level?2:3,header|=level_flags<<6,0!==s.strstart&&(header|=PRESET_DICT),header+=31-header%31,s.status=BUSY_STATE,putShortMSB(s,header),0!==s.strstart&&(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),strm.adler=1}
if(s.status===EXTRA_STATE)if(s.gzhead.extra){for(beg=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending!==s.pending_buf_size));)put_byte(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=NAME_STATE)}else s.status=NAME_STATE;if(s.status===NAME_STATE)if(s.gzhead.name){beg=s.pending;do{
if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.gzindex=0,s.status=COMMENT_STATE)}else s.status=COMMENT_STATE;if(s.status===COMMENT_STATE)if(s.gzhead.comment){beg=s.pending;do{
if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.status=HCRC_STATE)}else s.status=HCRC_STATE;if(s.status===HCRC_STATE&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&flush_pending(strm),s.pending+2<=s.pending_buf_size&&(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),
strm.adler=0,s.status=BUSY_STATE)):s.status=BUSY_STATE),0!==s.pending){if(flush_pending(strm),0===strm.avail_out)return s.last_flush=-1,Z_OK}else if(0===strm.avail_in&&rank(flush)<=rank(old_flush)&&flush!==Z_FINISH)return err(strm,Z_BUF_ERROR);if(s.status===FINISH_STATE&&0!==strm.avail_in)return err(strm,Z_BUF_ERROR);if(0!==strm.avail_in||0!==s.lookahead||flush!==Z_NO_FLUSH&&s.status!==FINISH_STATE){var bstate=s.strategy===Z_HUFFMAN_ONLY?deflate_huff(s,flush):s.strategy===Z_RLE?deflate_rle(s,flush):configuration_table[s.level].func(s,flush);if(bstate!==BS_FINISH_STARTED&&bstate!==BS_FINISH_DONE||(s.status=FINISH_STATE),
bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED)return 0===strm.avail_out&&(s.last_flush=-1),Z_OK;if(bstate===BS_BLOCK_DONE&&(flush===Z_PARTIAL_FLUSH?trees._tr_align(s):flush!==Z_BLOCK&&(trees._tr_stored_block(s,0,0,!1),flush===Z_FULL_FLUSH&&(zero(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),flush_pending(strm),0===strm.avail_out))return s.last_flush=-1,Z_OK}return flush!==Z_FINISH?Z_OK:s.wrap<=0?Z_STREAM_END:(2===s.wrap?(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),put_byte(s,strm.adler>>16&255),put_byte(s,strm.adler>>24&255),put_byte(s,255&strm.total_in),put_byte(s,strm.total_in>>8&255),
put_byte(s,strm.total_in>>16&255),put_byte(s,strm.total_in>>24&255)):(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),flush_pending(strm),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?Z_OK:Z_STREAM_END)}function deflateEnd(strm){var status;return strm&&strm.state?(status=strm.state.status)!==INIT_STATE&&status!==EXTRA_STATE&&status!==NAME_STATE&&status!==COMMENT_STATE&&status!==HCRC_STATE&&status!==BUSY_STATE&&status!==FINISH_STATE?err(strm,Z_STREAM_ERROR):(strm.state=null,status===BUSY_STATE?err(strm,Z_DATA_ERROR):Z_OK):Z_STREAM_ERROR}function deflateSetDictionary(strm,dictionary){
var s,str,n,wrap,avail,next,input,tmpDict,dictLength=dictionary.length;if(!strm||!strm.state)return Z_STREAM_ERROR;if(s=strm.state,2===(wrap=s.wrap)||1===wrap&&s.status!==INIT_STATE||s.lookahead)return Z_STREAM_ERROR;for(1===wrap&&(strm.adler=adler32(strm.adler,dictionary,dictLength,0)),s.wrap=0,dictLength>=s.w_size&&(0===wrap&&(zero(s.head),s.strstart=0,s.block_start=0,s.insert=0),tmpDict=new utils.Buf8(s.w_size),utils.arraySet(tmpDict,dictionary,dictLength-s.w_size,s.w_size,0),dictionary=tmpDict,dictLength=s.w_size),avail=strm.avail_in,next=strm.next_in,input=strm.input,strm.avail_in=dictLength,strm.next_in=0,strm.input=dictionary,
fill_window(s);s.lookahead>=MIN_MATCH;){str=s.strstart,n=s.lookahead-(MIN_MATCH-1);do{s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++}while(--n);s.strstart=str,s.lookahead=MIN_MATCH-1,fill_window(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,strm.next_in=next,strm.input=input,strm.avail_in=avail,s.wrap=wrap,Z_OK}
var configuration_table,utils=require("../utils/common"),trees=require("./trees"),adler32=require("./adler32"),crc32=require("./crc32"),msg=require("./messages"),Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH=4,Z_BLOCK=5,Z_OK=0,Z_STREAM_END=1,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY=0,Z_UNKNOWN=2,Z_DEFLATED=8,MAX_MEM_LEVEL=9,MAX_WBITS=15,DEF_MEM_LEVEL=8,L_CODES=286,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3
;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],exports.deflateInit=deflateInit,exports.deflateInit2=deflateInit2,exports.deflateReset=deflateReset,exports.deflateResetKeep=deflateResetKeep,exports.deflateSetHeader=deflateSetHeader,exports.deflate=deflate,exports.deflateEnd=deflateEnd,
exports.deflateSetDictionary=deflateSetDictionary,exports.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(require,module,exports){"use strict";function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}module.exports=GZheader},{}],69:[function(require,module,exports){"use strict";module.exports=function(strm,start){var state,_in,last,_out,beg,end,dmax,wsize,whave,wnext,s_window,hold,bits,lcode,dcode,lmask,dmask,here,op,len,dist,from,from_source,input,output
;state=strm.state,_in=strm.next_in,input=strm.input,last=_in+(strm.avail_in-5),_out=strm.next_out,output=strm.output,beg=_out-(start-strm.avail_out),end=_out+(strm.avail_out-257),dmax=state.dmax,wsize=state.wsize,whave=state.whave,wnext=state.wnext,s_window=state.window,hold=state.hold,bits=state.bits,lcode=state.lencode,dcode=state.distcode,lmask=(1<<state.lenbits)-1,dmask=(1<<state.distbits)-1;top:do{bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=lcode[hold&lmask];dolen:for(;;){if(op=here>>>24,hold>>>=op,bits-=op,0===(op=here>>>16&255))output[_out++]=65535&here;else{if(!(16&op)){if(0==(64&op)){
here=lcode[(65535&here)+(hold&(1<<op)-1)];continue dolen}if(32&op){state.mode=12;break top}strm.msg="invalid literal/length code",state.mode=30;break top}len=65535&here,op&=15,op&&(bits<op&&(hold+=input[_in++]<<bits,bits+=8),len+=hold&(1<<op)-1,hold>>>=op,bits-=op),bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=dcode[hold&dmask];dodist:for(;;){if(op=here>>>24,hold>>>=op,bits-=op,!(16&(op=here>>>16&255))){if(0==(64&op)){here=dcode[(65535&here)+(hold&(1<<op)-1)];continue dodist}strm.msg="invalid distance code",state.mode=30;break top}if(dist=65535&here,op&=15,bits<op&&(hold+=input[_in++]<<bits,
(bits+=8)<op&&(hold+=input[_in++]<<bits,bits+=8)),(dist+=hold&(1<<op)-1)>dmax){strm.msg="invalid distance too far back",state.mode=30;break top}if(hold>>>=op,bits-=op,op=_out-beg,dist>op){if((op=dist-op)>whave&&state.sane){strm.msg="invalid distance too far back",state.mode=30;break top}if(from=0,from_source=s_window,0===wnext){if(from+=wsize-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}}else if(wnext<op){if(from+=wsize+wnext-op,(op-=wnext)<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);if(from=0,wnext<len){op=wnext,len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,
from_source=output}}}else if(from+=wnext-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}for(;len>2;)output[_out++]=from_source[from++],output[_out++]=from_source[from++],output[_out++]=from_source[from++],len-=3;len&&(output[_out++]=from_source[from++],len>1&&(output[_out++]=from_source[from++]))}else{from=_out-dist;do{output[_out++]=output[from++],output[_out++]=output[from++],output[_out++]=output[from++],len-=3}while(len>2);len&&(output[_out++]=output[from++],len>1&&(output[_out++]=output[from++]))}break}}break}}while(_in<last&&_out<end);len=bits>>3,_in-=len,bits-=len<<3,hold&=(1<<bits)-1,
strm.next_in=_in,strm.next_out=_out,strm.avail_in=_in<last?last-_in+5:5-(_in-last),strm.avail_out=_out<end?end-_out+257:257-(_out-end),state.hold=hold,state.bits=bits}},{}],70:[function(require,module,exports){"use strict";function zswap32(q){return(q>>>24&255)+(q>>>8&65280)+((65280&q)<<8)+((255&q)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,
this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils.Buf16(320),this.work=new utils.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(strm){var state;return strm&&strm.state?(state=strm.state,strm.total_in=strm.total_out=state.total=0,strm.msg="",state.wrap&&(strm.adler=1&state.wrap),state.mode=HEAD,state.last=0,state.havedict=0,state.dmax=32768,state.head=null,state.hold=0,state.bits=0,state.lencode=state.lendyn=new utils.Buf32(ENOUGH_LENS),state.distcode=state.distdyn=new utils.Buf32(ENOUGH_DISTS),state.sane=1,state.back=-1,Z_OK):Z_STREAM_ERROR}function inflateReset(strm){var state
;return strm&&strm.state?(state=strm.state,state.wsize=0,state.whave=0,state.wnext=0,inflateResetKeep(strm)):Z_STREAM_ERROR}function inflateReset2(strm,windowBits){var wrap,state;return strm&&strm.state?(state=strm.state,windowBits<0?(wrap=0,windowBits=-windowBits):(wrap=1+(windowBits>>4),windowBits<48&&(windowBits&=15)),windowBits&&(windowBits<8||windowBits>15)?Z_STREAM_ERROR:(null!==state.window&&state.wbits!==windowBits&&(state.window=null),state.wrap=wrap,state.wbits=windowBits,inflateReset(strm))):Z_STREAM_ERROR}function inflateInit2(strm,windowBits){var ret,state;return strm?(state=new InflateState,strm.state=state,state.window=null,
ret=inflateReset2(strm,windowBits),ret!==Z_OK&&(strm.state=null),ret):Z_STREAM_ERROR}function inflateInit(strm){return inflateInit2(strm,DEF_WBITS)}function fixedtables(state){if(virgin){var sym;for(lenfix=new utils.Buf32(512),distfix=new utils.Buf32(32),sym=0;sym<144;)state.lens[sym++]=8;for(;sym<256;)state.lens[sym++]=9;for(;sym<280;)state.lens[sym++]=7;for(;sym<288;)state.lens[sym++]=8;for(inflate_table(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9}),sym=0;sym<32;)state.lens[sym++]=5;inflate_table(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5}),virgin=!1}state.lencode=lenfix,state.lenbits=9,state.distcode=distfix,state.distbits=5}
function updatewindow(strm,src,end,copy){var dist,state=strm.state;return null===state.window&&(state.wsize=1<<state.wbits,state.wnext=0,state.whave=0,state.window=new utils.Buf8(state.wsize)),copy>=state.wsize?(utils.arraySet(state.window,src,end-state.wsize,state.wsize,0),state.wnext=0,state.whave=state.wsize):(dist=state.wsize-state.wnext,dist>copy&&(dist=copy),utils.arraySet(state.window,src,end-copy,dist,state.wnext),copy-=dist,copy?(utils.arraySet(state.window,src,end-copy,copy,0),state.wnext=copy,state.whave=state.wsize):(state.wnext+=dist,state.wnext===state.wsize&&(state.wnext=0),state.whave<state.wsize&&(state.whave+=dist))),0}
function inflate(strm,flush){var state,input,output,next,put,have,left,hold,bits,_in,_out,copy,from,from_source,here_bits,here_op,here_val,last_bits,last_op,last_val,len,ret,opts,n,here=0,hbuf=new utils.Buf8(4),order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&0!==strm.avail_in)return Z_STREAM_ERROR;state=strm.state,state.mode===TYPE&&(state.mode=TYPEDO),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,_in=have,_out=left,ret=Z_OK;inf_leave:for(;;)switch(state.mode){case HEAD:if(0===state.wrap){state.mode=TYPEDO
;break}for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(2&state.wrap&&35615===hold){state.check=0,hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0),hold=0,bits=0,state.mode=FLAGS;break}if(state.flags=0,state.head&&(state.head.done=!1),!(1&state.wrap)||(((255&hold)<<8)+(hold>>8))%31){strm.msg="incorrect header check",state.mode=BAD;break}if((15&hold)!==Z_DEFLATED){strm.msg="unknown compression method",state.mode=BAD;break}if(hold>>>=4,bits-=4,len=8+(15&hold),0===state.wbits)state.wbits=len;else if(len>state.wbits){strm.msg="invalid window size",state.mode=BAD;break}state.dmax=1<<len,
strm.adler=state.check=1,state.mode=512&hold?DICTID:TYPE,hold=0,bits=0;break;case FLAGS:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.flags=hold,(255&state.flags)!==Z_DEFLATED){strm.msg="unknown compression method",state.mode=BAD;break}if(57344&state.flags){strm.msg="unknown header flags set",state.mode=BAD;break}state.head&&(state.head.text=hold>>8&1),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=TIME;case TIME:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.time=hold),
512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,hbuf[2]=hold>>>16&255,hbuf[3]=hold>>>24&255,state.check=crc32(state.check,hbuf,4,0)),hold=0,bits=0,state.mode=OS;case OS:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.xflags=255&hold,state.head.os=hold>>8),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=EXLEN;case EXLEN:if(1024&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length=hold,state.head&&(state.head.extra_len=hold),512&state.flags&&(hbuf[0]=255&hold,
hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0}else state.head&&(state.head.extra=null);state.mode=EXTRA;case EXTRA:if(1024&state.flags&&(copy=state.length,copy>have&&(copy=have),copy&&(state.head&&(len=state.head.extra_len-state.length,state.head.extra||(state.head.extra=new Array(state.head.extra_len)),utils.arraySet(state.head.extra,input,next,copy,len)),512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,state.length-=copy),state.length))break inf_leave;state.length=0,state.mode=NAME;case NAME:if(2048&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],
state.head&&len&&state.length<65536&&(state.head.name+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.name=null);state.length=0,state.mode=COMMENT;case COMMENT:if(4096&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.comment+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.comment=null);state.mode=HCRC
;case HCRC:if(512&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(65535&state.check)){strm.msg="header crc mismatch",state.mode=BAD;break}hold=0,bits=0}state.head&&(state.head.hcrc=state.flags>>9&1,state.head.done=!0),strm.adler=state.check=0,state.mode=TYPE;break;case DICTID:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}strm.adler=state.check=zswap32(hold),hold=0,bits=0,state.mode=DICT;case DICT:if(0===state.havedict)return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,Z_NEED_DICT
;strm.adler=state.check=1,state.mode=TYPE;case TYPE:if(flush===Z_BLOCK||flush===Z_TREES)break inf_leave;case TYPEDO:if(state.last){hold>>>=7&bits,bits-=7&bits,state.mode=CHECK;break}for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}switch(state.last=1&hold,hold>>>=1,bits-=1,3&hold){case 0:state.mode=STORED;break;case 1:if(fixedtables(state),state.mode=LEN_,flush===Z_TREES){hold>>>=2,bits-=2;break inf_leave}break;case 2:state.mode=TABLE;break;case 3:strm.msg="invalid block type",state.mode=BAD}hold>>>=2,bits-=2;break;case STORED:for(hold>>>=7&bits,bits-=7&bits;bits<32;){if(0===have)break inf_leave;have--,
hold+=input[next++]<<bits,bits+=8}if((65535&hold)!=(hold>>>16^65535)){strm.msg="invalid stored block lengths",state.mode=BAD;break}if(state.length=65535&hold,hold=0,bits=0,state.mode=COPY_,flush===Z_TREES)break inf_leave;case COPY_:state.mode=COPY;case COPY:if(copy=state.length){if(copy>have&&(copy=have),copy>left&&(copy=left),0===copy)break inf_leave;utils.arraySet(output,input,next,copy,put),have-=copy,next+=copy,left-=copy,put+=copy,state.length-=copy;break}state.mode=TYPE;break;case TABLE:for(;bits<14;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.nlen=257+(31&hold),hold>>>=5,bits-=5,state.ndist=1+(31&hold),hold>>>=5,
bits-=5,state.ncode=4+(15&hold),hold>>>=4,bits-=4,state.nlen>286||state.ndist>30){strm.msg="too many length or distance symbols",state.mode=BAD;break}state.have=0,state.mode=LENLENS;case LENLENS:for(;state.have<state.ncode;){for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.lens[order[state.have++]]=7&hold,hold>>>=3,bits-=3}for(;state.have<19;)state.lens[order[state.have++]]=0;if(state.lencode=state.lendyn,state.lenbits=7,opts={bits:state.lenbits},ret=inflate_table(CODES,state.lens,0,19,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid code lengths set",state.mode=BAD;break}state.have=0,
state.mode=CODELENS;case CODELENS:for(;state.have<state.nlen+state.ndist;){for(;here=state.lencode[hold&(1<<state.lenbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_val<16)hold>>>=here_bits,bits-=here_bits,state.lens[state.have++]=here_val;else{if(16===here_val){for(n=here_bits+2;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold>>>=here_bits,bits-=here_bits,0===state.have){strm.msg="invalid bit length repeat",state.mode=BAD;break}len=state.lens[state.have-1],copy=3+(3&hold),hold>>>=2,bits-=2
}else if(17===here_val){for(n=here_bits+3;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=here_bits,bits-=here_bits,len=0,copy=3+(7&hold),hold>>>=3,bits-=3}else{for(n=here_bits+7;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=here_bits,bits-=here_bits,len=0,copy=11+(127&hold),hold>>>=7,bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg="invalid bit length repeat",state.mode=BAD;break}for(;copy--;)state.lens[state.have++]=len}}if(state.mode===BAD)break;if(0===state.lens[256]){strm.msg="invalid code -- missing end-of-block",state.mode=BAD;break}if(state.lenbits=9,opts={
bits:state.lenbits},ret=inflate_table(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid literal/lengths set",state.mode=BAD;break}if(state.distbits=6,state.distcode=state.distdyn,opts={bits:state.distbits},ret=inflate_table(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts),state.distbits=opts.bits,ret){strm.msg="invalid distances set",state.mode=BAD;break}if(state.mode=LEN_,flush===Z_TREES)break inf_leave;case LEN_:state.mode=LEN;case LEN:if(have>=6&&left>=258){strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,
inflate_fast(strm,_out),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,state.mode===TYPE&&(state.back=-1);break}for(state.back=0;here=state.lencode[hold&(1<<state.lenbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_op&&0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,
!(last_bits+here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,state.length=here_val,0===here_op){state.mode=LIT;break}if(32&here_op){state.back=-1,state.mode=TYPE;break}if(64&here_op){strm.msg="invalid literal/length code",state.mode=BAD;break}state.extra=15&here_op,state.mode=LENEXT;case LENEXT:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}
state.was=state.length,state.mode=DIST;case DIST:for(;here=state.distcode[hold&(1<<state.distbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(last_bits+here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,
state.back+=here_bits,64&here_op){strm.msg="invalid distance code",state.mode=BAD;break}state.offset=here_val,state.extra=15&here_op,state.mode=DISTEXT;case DISTEXT:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.offset+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}if(state.offset>state.dmax){strm.msg="invalid distance too far back",state.mode=BAD;break}state.mode=MATCH;case MATCH:if(0===left)break inf_leave;if(copy=_out-left,state.offset>copy){if((copy=state.offset-copy)>state.whave&&state.sane){strm.msg="invalid distance too far back",
state.mode=BAD;break}copy>state.wnext?(copy-=state.wnext,from=state.wsize-copy):from=state.wnext-copy,copy>state.length&&(copy=state.length),from_source=state.window}else from_source=output,from=put-state.offset,copy=state.length;copy>left&&(copy=left),left-=copy,state.length-=copy;do{output[put++]=from_source[from++]}while(--copy);0===state.length&&(state.mode=LEN);break;case LIT:if(0===left)break inf_leave;output[put++]=state.length,left--,state.mode=LEN;break;case CHECK:if(state.wrap){for(;bits<32;){if(0===have)break inf_leave;have--,hold|=input[next++]<<bits,bits+=8}if(_out-=left,strm.total_out+=_out,state.total+=_out,
_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,put-_out):adler32(state.check,output,_out,put-_out)),_out=left,(state.flags?hold:zswap32(hold))!==state.check){strm.msg="incorrect data check",state.mode=BAD;break}hold=0,bits=0}state.mode=LENGTH;case LENGTH:if(state.wrap&&state.flags){for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(4294967295&state.total)){strm.msg="incorrect length check",state.mode=BAD;break}hold=0,bits=0}state.mode=DONE;case DONE:ret=Z_STREAM_END;break inf_leave;case BAD:ret=Z_DATA_ERROR;break inf_leave;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}
return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,(state.wsize||_out!==strm.avail_out&&state.mode<BAD&&(state.mode<CHECK||flush!==Z_FINISH))&&updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)?(state.mode=MEM,Z_MEM_ERROR):(_in-=strm.avail_in,_out-=strm.avail_out,strm.total_in+=_in,strm.total_out+=_out,state.total+=_out,state.wrap&&_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,strm.next_out-_out):adler32(state.check,output,_out,strm.next_out-_out)),
strm.data_type=state.bits+(state.last?64:0)+(state.mode===TYPE?128:0)+(state.mode===LEN_||state.mode===COPY_?256:0),(0===_in&&0===_out||flush===Z_FINISH)&&ret===Z_OK&&(ret=Z_BUF_ERROR),ret)}function inflateEnd(strm){if(!strm||!strm.state)return Z_STREAM_ERROR;var state=strm.state;return state.window&&(state.window=null),strm.state=null,Z_OK}function inflateGetHeader(strm,head){var state;return strm&&strm.state?(state=strm.state,0==(2&state.wrap)?Z_STREAM_ERROR:(state.head=head,head.done=!1,Z_OK)):Z_STREAM_ERROR}function inflateSetDictionary(strm,dictionary){var state,dictid,dictLength=dictionary.length;return strm&&strm.state?(state=strm.state,
0!==state.wrap&&state.mode!==DICT?Z_STREAM_ERROR:state.mode===DICT&&(dictid=1,(dictid=adler32(dictid,dictionary,dictLength,0))!==state.check)?Z_DATA_ERROR:updatewindow(strm,dictionary,dictLength,dictLength)?(state.mode=MEM,Z_MEM_ERROR):(state.havedict=1,Z_OK)):Z_STREAM_ERROR}
var lenfix,distfix,utils=require("../utils/common"),adler32=require("./adler32"),crc32=require("./crc32"),inflate_fast=require("./inffast"),inflate_table=require("./inftrees"),CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,DEF_WBITS=15,virgin=!0
;exports.inflateReset=inflateReset,exports.inflateReset2=inflateReset2,exports.inflateResetKeep=inflateResetKeep,exports.inflateInit=inflateInit,exports.inflateInit2=inflateInit2,exports.inflate=inflate,exports.inflateEnd=inflateEnd,exports.inflateGetHeader=inflateGetHeader,exports.inflateSetDictionary=inflateSetDictionary,exports.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(require,module,exports){"use strict"
;var utils=require("../utils/common"),lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function(type,lens,lens_index,codes,table,table_index,work,opts){
var incr,fill,low,mask,next,end,here_bits,here_op,here_val,bits=opts.bits,len=0,sym=0,min=0,max=0,root=0,curr=0,drop=0,left=0,used=0,huff=0,base=null,base_index=0,count=new utils.Buf16(16),offs=new utils.Buf16(16),extra=null,extra_index=0;for(len=0;len<=15;len++)count[len]=0;for(sym=0;sym<codes;sym++)count[lens[lens_index+sym]]++;for(root=bits,max=15;max>=1&&0===count[max];max--);if(root>max&&(root=max),0===max)return table[table_index++]=20971520,table[table_index++]=20971520,opts.bits=1,0;for(min=1;min<max&&0===count[min];min++);for(root<min&&(root=min),left=1,len=1;len<=15;len++)if(left<<=1,(left-=count[len])<0)return-1
;if(left>0&&(0===type||1!==max))return-1;for(offs[1]=0,len=1;len<15;len++)offs[len+1]=offs[len]+count[len];for(sym=0;sym<codes;sym++)0!==lens[lens_index+sym]&&(work[offs[lens[lens_index+sym]]++]=sym);if(0===type?(base=extra=work,end=19):1===type?(base=lbase,base_index-=257,extra=lext,extra_index-=257,end=256):(base=dbase,extra=dext,end=-1),huff=0,sym=0,len=min,next=table_index,curr=root,drop=0,low=-1,used=1<<root,mask=used-1,1===type&&used>852||2===type&&used>592)return 1;for(;;){here_bits=len-drop,work[sym]<end?(here_op=0,here_val=work[sym]):work[sym]>end?(here_op=extra[extra_index+work[sym]],here_val=base[base_index+work[sym]]):(here_op=96,here_val=0),
incr=1<<len-drop,fill=1<<curr,min=fill;do{fill-=incr,table[next+(huff>>drop)+fill]=here_bits<<24|here_op<<16|here_val|0}while(0!==fill);for(incr=1<<len-1;huff&incr;)incr>>=1;if(0!==incr?(huff&=incr-1,huff+=incr):huff=0,sym++,0==--count[len]){if(len===max)break;len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){for(0===drop&&(drop=root),next+=min,curr=len-drop,left=1<<curr;curr+drop<max&&!((left-=count[curr+drop])<=0);)curr++,left<<=1;if(used+=1<<curr,1===type&&used>852||2===type&&used>592)return 1;low=huff&mask,table[low]=root<<24|curr<<16|next-table_index|0}}return 0!==huff&&(table[next+huff]=len-drop<<24|64<<16|0),opts.bits=root,0}},{
"../utils/common":62}],72:[function(require,module,exports){"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(require,module,exports){"use strict";function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}function StaticTreeDesc(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree,this.extra_bits=extra_bits,this.extra_base=extra_base,this.elems=elems,this.max_length=max_length,this.has_stree=static_tree&&static_tree.length}
function TreeDesc(dyn_tree,stat_desc){this.dyn_tree=dyn_tree,this.max_code=0,this.stat_desc=stat_desc}function d_code(dist){return dist<256?_dist_code[dist]:_dist_code[256+(dist>>>7)]}function put_short(s,w){s.pending_buf[s.pending++]=255&w,s.pending_buf[s.pending++]=w>>>8&255}function send_bits(s,value,length){s.bi_valid>Buf_size-length?(s.bi_buf|=value<<s.bi_valid&65535,put_short(s,s.bi_buf),s.bi_buf=value>>Buf_size-s.bi_valid,s.bi_valid+=length-Buf_size):(s.bi_buf|=value<<s.bi_valid&65535,s.bi_valid+=length)}function send_code(s,c,tree){send_bits(s,tree[2*c],tree[2*c+1])}function bi_reverse(code,len){var res=0;do{res|=1&code,code>>>=1,res<<=1
}while(--len>0);return res>>>1}function bi_flush(s){16===s.bi_valid?(put_short(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=255&s.bi_buf,s.bi_buf>>=8,s.bi_valid-=8)}function gen_bitlen(s,desc){var h,n,m,bits,xbits,f,tree=desc.dyn_tree,max_code=desc.max_code,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,extra=desc.stat_desc.extra_bits,base=desc.stat_desc.extra_base,max_length=desc.stat_desc.max_length,overflow=0;for(bits=0;bits<=MAX_BITS;bits++)s.bl_count[bits]=0;for(tree[2*s.heap[s.heap_max]+1]=0,h=s.heap_max+1;h<HEAP_SIZE;h++)n=s.heap[h],bits=tree[2*tree[2*n+1]+1]+1,bits>max_length&&(bits=max_length,
overflow++),tree[2*n+1]=bits,n>max_code||(s.bl_count[bits]++,xbits=0,n>=base&&(xbits=extra[n-base]),f=tree[2*n],s.opt_len+=f*(bits+xbits),has_stree&&(s.static_len+=f*(stree[2*n+1]+xbits)));if(0!==overflow){do{for(bits=max_length-1;0===s.bl_count[bits];)bits--;s.bl_count[bits]--,s.bl_count[bits+1]+=2,s.bl_count[max_length]--,overflow-=2}while(overflow>0);for(bits=max_length;0!==bits;bits--)for(n=s.bl_count[bits];0!==n;)(m=s.heap[--h])>max_code||(tree[2*m+1]!==bits&&(s.opt_len+=(bits-tree[2*m+1])*tree[2*m],tree[2*m+1]=bits),n--)}}function gen_codes(tree,max_code,bl_count){var bits,n,next_code=new Array(MAX_BITS+1),code=0
;for(bits=1;bits<=MAX_BITS;bits++)next_code[bits]=code=code+bl_count[bits-1]<<1;for(n=0;n<=max_code;n++){var len=tree[2*n+1];0!==len&&(tree[2*n]=bi_reverse(next_code[len]++,len))}}function tr_static_init(){var n,bits,length,code,dist,bl_count=new Array(MAX_BITS+1);for(length=0,code=0;code<LENGTH_CODES-1;code++)for(base_length[code]=length,n=0;n<1<<extra_lbits[code];n++)_length_code[length++]=code;for(_length_code[length-1]=code,dist=0,code=0;code<16;code++)for(base_dist[code]=dist,n=0;n<1<<extra_dbits[code];n++)_dist_code[dist++]=code;for(dist>>=7;code<D_CODES;code++)for(base_dist[code]=dist<<7,n=0;n<1<<extra_dbits[code]-7;n++)_dist_code[256+dist++]=code
;for(bits=0;bits<=MAX_BITS;bits++)bl_count[bits]=0;for(n=0;n<=143;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(;n<=255;)static_ltree[2*n+1]=9,n++,bl_count[9]++;for(;n<=279;)static_ltree[2*n+1]=7,n++,bl_count[7]++;for(;n<=287;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(gen_codes(static_ltree,L_CODES+1,bl_count),n=0;n<D_CODES;n++)static_dtree[2*n+1]=5,static_dtree[2*n]=bi_reverse(n,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}function init_block(s){var n
;for(n=0;n<L_CODES;n++)s.dyn_ltree[2*n]=0;for(n=0;n<D_CODES;n++)s.dyn_dtree[2*n]=0;for(n=0;n<BL_CODES;n++)s.bl_tree[2*n]=0;s.dyn_ltree[2*END_BLOCK]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0}function bi_windup(s){s.bi_valid>8?put_short(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0}function copy_block(s,buf,len,header){bi_windup(s),header&&(put_short(s,len),put_short(s,~len)),utils.arraySet(s.pending_buf,s.window,buf,len,s.pending),s.pending+=len}function smaller(tree,n,m,depth){var _n2=2*n,_m2=2*m;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n]<=depth[m]}function pqdownheap(s,tree,k){
for(var v=s.heap[k],j=k<<1;j<=s.heap_len&&(j<s.heap_len&&smaller(tree,s.heap[j+1],s.heap[j],s.depth)&&j++,!smaller(tree,v,s.heap[j],s.depth));)s.heap[k]=s.heap[j],k=j,j<<=1;s.heap[k]=v}function compress_block(s,ltree,dtree){var dist,lc,code,extra,lx=0;if(0!==s.last_lit)do{dist=s.pending_buf[s.d_buf+2*lx]<<8|s.pending_buf[s.d_buf+2*lx+1],lc=s.pending_buf[s.l_buf+lx],lx++,0===dist?send_code(s,lc,ltree):(code=_length_code[lc],send_code(s,code+LITERALS+1,ltree),extra=extra_lbits[code],0!==extra&&(lc-=base_length[code],send_bits(s,lc,extra)),dist--,code=d_code(dist),send_code(s,code,dtree),0!==(extra=extra_dbits[code])&&(dist-=base_dist[code],
send_bits(s,dist,extra)))}while(lx<s.last_lit);send_code(s,END_BLOCK,ltree)}function build_tree(s,desc){var n,m,node,tree=desc.dyn_tree,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,elems=desc.stat_desc.elems,max_code=-1;for(s.heap_len=0,s.heap_max=HEAP_SIZE,n=0;n<elems;n++)0!==tree[2*n]?(s.heap[++s.heap_len]=max_code=n,s.depth[n]=0):tree[2*n+1]=0;for(;s.heap_len<2;)node=s.heap[++s.heap_len]=max_code<2?++max_code:0,tree[2*node]=1,s.depth[node]=0,s.opt_len--,has_stree&&(s.static_len-=stree[2*node+1]);for(desc.max_code=max_code,n=s.heap_len>>1;n>=1;n--)pqdownheap(s,tree,n);node=elems;do{n=s.heap[1],s.heap[1]=s.heap[s.heap_len--],
pqdownheap(s,tree,1),m=s.heap[1],s.heap[--s.heap_max]=n,s.heap[--s.heap_max]=m,tree[2*node]=tree[2*n]+tree[2*m],s.depth[node]=(s.depth[n]>=s.depth[m]?s.depth[n]:s.depth[m])+1,tree[2*n+1]=tree[2*m+1]=node,s.heap[1]=node++,pqdownheap(s,tree,1)}while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],gen_bitlen(s,desc),gen_codes(tree,max_code,s.bl_count)}function scan_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),tree[2*(max_code+1)+1]=65535,n=0;n<=max_code;n++)curlen=nextlen,nextlen=tree[2*(n+1)+1],
++count<max_count&&curlen===nextlen||(count<min_count?s.bl_tree[2*curlen]+=count:0!==curlen?(curlen!==prevlen&&s.bl_tree[2*curlen]++,s.bl_tree[2*REP_3_6]++):count<=10?s.bl_tree[2*REPZ_3_10]++:s.bl_tree[2*REPZ_11_138]++,count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4))}function send_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),n=0;n<=max_code;n++)if(curlen=nextlen,nextlen=tree[2*(n+1)+1],!(++count<max_count&&curlen===nextlen)){if(count<min_count)do{send_code(s,curlen,s.bl_tree)
}while(0!=--count);else 0!==curlen?(curlen!==prevlen&&(send_code(s,curlen,s.bl_tree),count--),send_code(s,REP_3_6,s.bl_tree),send_bits(s,count-3,2)):count<=10?(send_code(s,REPZ_3_10,s.bl_tree),send_bits(s,count-3,3)):(send_code(s,REPZ_11_138,s.bl_tree),send_bits(s,count-11,7));count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4)}}function build_bl_tree(s){var max_blindex;for(scan_tree(s,s.dyn_ltree,s.l_desc.max_code),scan_tree(s,s.dyn_dtree,s.d_desc.max_code),build_tree(s,s.bl_desc),max_blindex=BL_CODES-1;max_blindex>=3&&0===s.bl_tree[2*bl_order[max_blindex]+1];max_blindex--);
return s.opt_len+=3*(max_blindex+1)+5+5+4,max_blindex}function send_all_trees(s,lcodes,dcodes,blcodes){var rank;for(send_bits(s,lcodes-257,5),send_bits(s,dcodes-1,5),send_bits(s,blcodes-4,4),rank=0;rank<blcodes;rank++)send_bits(s,s.bl_tree[2*bl_order[rank]+1],3);send_tree(s,s.dyn_ltree,lcodes-1),send_tree(s,s.dyn_dtree,dcodes-1)}function detect_data_type(s){var n,black_mask=4093624447;for(n=0;n<=31;n++,black_mask>>>=1)if(1&black_mask&&0!==s.dyn_ltree[2*n])return Z_BINARY;if(0!==s.dyn_ltree[18]||0!==s.dyn_ltree[20]||0!==s.dyn_ltree[26])return Z_TEXT;for(n=32;n<LITERALS;n++)if(0!==s.dyn_ltree[2*n])return Z_TEXT;return Z_BINARY}function _tr_init(s){
static_init_done||(tr_static_init(),static_init_done=!0),s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc),s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc),s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc),s.bi_buf=0,s.bi_valid=0,init_block(s)}function _tr_stored_block(s,buf,stored_len,last){send_bits(s,(STORED_BLOCK<<1)+(last?1:0),3),copy_block(s,buf,stored_len,!0)}function _tr_align(s){send_bits(s,STATIC_TREES<<1,3),send_code(s,END_BLOCK,static_ltree),bi_flush(s)}function _tr_flush_block(s,buf,stored_len,last){var opt_lenb,static_lenb,max_blindex=0;s.level>0?(s.strm.data_type===Z_UNKNOWN&&(s.strm.data_type=detect_data_type(s)),build_tree(s,s.l_desc),
build_tree(s,s.d_desc),max_blindex=build_bl_tree(s),opt_lenb=s.opt_len+3+7>>>3,(static_lenb=s.static_len+3+7>>>3)<=opt_lenb&&(opt_lenb=static_lenb)):opt_lenb=static_lenb=stored_len+5,stored_len+4<=opt_lenb&&-1!==buf?_tr_stored_block(s,buf,stored_len,last):s.strategy===Z_FIXED||static_lenb===opt_lenb?(send_bits(s,(STATIC_TREES<<1)+(last?1:0),3),compress_block(s,static_ltree,static_dtree)):(send_bits(s,(DYN_TREES<<1)+(last?1:0),3),send_all_trees(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1),compress_block(s,s.dyn_ltree,s.dyn_dtree)),init_block(s),last&&bi_windup(s)}function _tr_tally(s,dist,lc){
return s.pending_buf[s.d_buf+2*s.last_lit]=dist>>>8&255,s.pending_buf[s.d_buf+2*s.last_lit+1]=255&dist,s.pending_buf[s.l_buf+s.last_lit]=255&lc,s.last_lit++,0===dist?s.dyn_ltree[2*lc]++:(s.matches++,dist--,s.dyn_ltree[2*(_length_code[lc]+LITERALS+1)]++,s.dyn_dtree[2*d_code(dist)]++),s.last_lit===s.lit_bufsize-1}
var utils=require("../utils/common"),Z_FIXED=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN=2,STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],static_ltree=new Array(2*(L_CODES+2));zero(static_ltree)
;var static_dtree=new Array(2*D_CODES);zero(static_dtree);var _dist_code=new Array(512);zero(_dist_code);var _length_code=new Array(256);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var base_dist=new Array(D_CODES);zero(base_dist);var static_l_desc,static_d_desc,static_bl_desc,static_init_done=!1;exports._tr_init=_tr_init,exports._tr_stored_block=_tr_stored_block,exports._tr_flush_block=_tr_flush_block,exports._tr_tally=_tr_tally,exports._tr_align=_tr_align},{"../utils/common":62}],74:[function(require,module,exports){"use strict";function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,
this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}module.exports=ZStream},{}]},{},[10])(10)}),define("app/core/filesystem",["lodash","core/promiseQueue","core/logger","app/lib/jszip"],function(_,promiseQueue,loggerFactory,JsZip){"use strict";var logger=loggerFactory("filesystem");return function(rootName,persistent){var rootDirectoryEntry,fileSystemType=persistent?window.LocalFileSystem.PERSISTENT:window.LocalFileSystem.TEMPORARY,fileSystemSize=persistent?0:5242880,fileSystemService={getRootDirectory:function(){return rootDirectoryEntry},getDirectory:function(parentDirEntry,name){
return!parentDirEntry||_.isEmpty(name)?Promise.reject(new Error("Invalid browsing options")):new Promise(function(resolve,reject){parentDirEntry.getDirectory(name,{create:!0,exclusive:!1},resolve,function(err){logger.error("Unable to open the directory "+name+" : "+err.message),reject(err)})})},createDirectory:function(parentDirEntry,name){return!parentDirEntry||_.isEmpty(name)?Promise.reject(new Error("Invalid browsing options")):new Promise(function(resolve,reject){parentDirEntry.getDirectory(name,{create:!0},resolve,reject)})},emptyDirectory:function(dirEntry){return dirEntry?new Promise(function(resolve,reject){dirEntry.removeRecursively(function(){
logger.debug(dirEntry.toURL()+" has been emptied"),resolve(!0)},reject)}):Promise.reject(new Error("Invalid browsing options"))},getFile:function(path,parentDirEntry,create){return parentDirEntry?new Promise(function(resolve,reject){parentDirEntry.getFile(path,{create:!!create,exclusive:!1},resolve,reject)}):this.getFile(path,rootDirectoryEntry,create)},readFile:function(fileEntry,binary){return new Promise(function(resolve,reject){fileEntry.file(function(file){var reader=new FileReader;reader.onerror=function(err){logger.error("Error reading file "+fileEntry.toURL()+" : "+err.message),reject(err)},reader.onloadend=function(){resolve(this.result)},
binary?reader.readAsArrayBuffer(file):reader.readAsText(file)},reject)})},readJsonFile:function(fileEntry){return this.readFile(fileEntry,!1).then(function(data){return JSON.parse(data)})},writeFile:function(fileEntry,content){return new Promise(function(resolve,reject){fileEntry.createWriter(function(fileWriter){fileWriter.onwriteend=function(){resolve(fileEntry)},fileWriter.onerror=function(err){logger.error("Error writting file "+fileEntry.toURL()+" : "+err.message),reject(err)},content instanceof Blob?fileWriter.write(content):fileWriter.write(new Blob([content],{type:"text/plain"}))},reject)})},writeJsonFile:function(fileEntry,data){
return this.writeFile(fileEntry,JSON.stringify(data))},unzipTo:function(zipData,dirEntry){var destination,self=this;return!zipData||!zipData instanceof Blob?Promise.reject(new TypeError("Incorrect zip data")):dirEntry?(destination=dirEntry.toURL(),logger.debug("Start unzip a blob to "+destination),(new JsZip).loadAsync(zipData,{createFolders:!0}).then(function(zip){var queue=promiseQueue();return _.forEach(zip.files,function(file,path){logger.debug("Unzip file "+path),file.dir?queue.serie(function(){return self.createDirectory(dirEntry,path)}).then(function(){return logger.debug("directory "+path+" created into "+destination),path}):queue.serie(function(){
return file.async("blob").then(function(data){return self.getFile(path,dirEntry,!0).then(function(fileEntry){return self.writeFile(fileEntry,data)})})}).then(function(){return logger.debug("file "+path+" written to "+destination),path})}),Promise.all(queue.getValues())})):Promise.reject(new TypeError("Missing directory target"))}};return new Promise(function(resolve,reject){window.requestFileSystem(fileSystemType,fileSystemSize,function(fs){logger.debug("Request file system on "+rootName),fs.root.getDirectory(rootName,{create:!0,exclusive:!1},function(rootEntry){logger.debug("File system root directory resolved to "+rootEntry.toURL()),
rootDirectoryEntry=rootEntry,resolve(fileSystemService)})},function(err){logger.error("Unable to open the file system on "+rootName+" : "+err.message),reject(err)})})}}),define("app/service/deliveryAssembly",["lodash","app/core/filesystem"],function(_,filesystem){"use strict";var getFileSystem=function(){return filesystem("assembly",!0)},getAssemblyDirectory=function(assemblyFileSystem,assemblyPath){return assemblyFileSystem.getDirectory(assemblyFileSystem.getRootDirectory(),assemblyPath)};return{save:function(deliveryId,assemblyPath,zipData){
return _.isEmpty(deliveryId)||_.isEmpty(assemblyPath)?Promise.resolve(null):getFileSystem().then(function(assemblyFileSystem){return getAssemblyDirectory(assemblyFileSystem,assemblyPath).then(function(assemblyDir){return assemblyFileSystem.emptyDirectory(assemblyDir)}).then(function(){return getAssemblyDirectory(assemblyFileSystem,assemblyPath)}).then(function(assemblyDir){return assemblyFileSystem.unzipTo(zipData,assemblyDir)})})},readAssemblyFile:function(deliveryId,assemblyPath,path,binary){return _.isEmpty(deliveryId)||_.isEmpty(assemblyPath)||_.isEmpty(path)?Promise.resolve(null):getFileSystem().then(function(assemblyFileSystem){
return getAssemblyDirectory(assemblyFileSystem,assemblyPath).then(function(assemblyDir){return assemblyFileSystem.getFile(path,assemblyDir,!1)}).then(function(fileEntry){return assemblyFileSystem.readFile(fileEntry,binary)})})},getAssemblyDirBaseUrl:function(deliveryId,assemblyPath){return getFileSystem().then(function(assemblyFileSystem){return getAssemblyDirectory(assemblyFileSystem,assemblyPath)}).then(function(assemblyDir){return assemblyDir.toURL()})},remove:function(deliveryId,assemblyPath){return _.isEmpty(assemblyPath)?Promise.resolve(null):getFileSystem().then(function(assemblyFileSystem){
return getAssemblyDirectory(assemblyFileSystem,assemblyPath).then(function(assemblyDir){return assemblyFileSystem.emptyDirectory(assemblyDir)}).then(function(){return!0})})},removeAll:function(){return getFileSystem().then(function(assemblyFileSystem){return assemblyFileSystem.emptyDirectory(assemblyFileSystem.getRootDirectory())})}}}),define("app/service/dataMapper/delivery",["lodash"],function(_){"use strict";var mapping={label:"http://www.w3.org/2000/01/rdf-schema#label",updatedAt:"http://www.tao.lu/Ontologies/TAO.rdf#UpdatedAt",createdAt:"http://www.taotesting.com/Ontologies/TAO.rdf#CreatedAt"},mapper=function(inputDelivery){var outputDelivery=null
;return _.isPlainObject(inputDelivery)&&(inputDelivery.id||inputDelivery.uri)&&(outputDelivery={id:inputDelivery.id||inputDelivery.uri,checksum:inputDelivery.checksum},_.isPlainObject(inputDelivery.properties)&&(outputDelivery=_.reduce(mapping,function(acc,propName,key){return _.isUndefined(inputDelivery.properties[propName])||(outputDelivery[key]=inputDelivery.properties[propName]),acc},outputDelivery),_.isString(outputDelivery.createdAt)&&(outputDelivery.createdAt=parseFloat(outputDelivery.createdAt)),_.isString(outputDelivery.updatedAt)&&(outputDelivery.updatedAt=parseFloat(outputDelivery.updatedAt)))),outputDelivery};return mapper.mapping=mapping,mapper
}),define("app/service/synchronization/provider/delivery",["lodash","app/service/delivery","app/service/deliveryAssembly","app/service/dataMapper/delivery","app/service/synchronization/client"],function(_,deliveryService,deliveryAssemblyService,deliveryDataMapper,syncClientFactory){"use strict";return{name:"delivery",direction:"fetch",init:function(config){this.client=syncClientFactory(config)},getRemoteResourceIds:function(){return this.client.getEntityIds("delivery")},getRemoteResources:function(ids){return this.client.getEntitiesContent("delivery",ids)},getLocalResources:function(){return deliveryService.getAll().then(function(results){
return _.isArray(results)?_.reduce(results,function(acc,user){return user&&user.id&&(acc[user.id]=user),acc},{}):results})},addResource:function(id,resource){var delivery=deliveryDataMapper(resource);return delivery.assemblyPath||(delivery.assemblyPath=deliveryService.generatePathName()),this.client.downloadDeliveryAssembly(id).then(function(result){return deliveryAssemblyService.save(id,delivery.assemblyPath,result)}).then(function(){return deliveryAssemblyService.getAssemblyDirBaseUrl(id,delivery.assemblyPath)}).then(function(){return deliveryService.set(delivery)})},updateResource:function(id,resource){var delivery=deliveryDataMapper(resource)
;return delivery.assemblyPath||(delivery.assemblyPath=deliveryService.generatePathName()),deliveryService.update(id,delivery)},removeResource:function(id){return deliveryAssemblyService.remove(id).then(function(){return deliveryService.remove(id)})}}}),define("app/service/user",["lodash","core/store"],function(_,store){"use strict";var validateUser=function(user){if(!_.isPlainObject(user))throw new TypeError("Missing or invalid user");if(_.isEmpty(user.id))throw new TypeError("A user needs to have a property id");if(_.isEmpty(user.username))throw new TypeError("A user needs to have a property username")
;if(_.isEmpty(user.password))throw new TypeError("A user needs to have a property password");if(_.isEmpty(user.role))throw new TypeError("A user needs to have a property role");return!0};return{getById:function(id){return _.isEmpty(id)?Promise.resolve(null):store("user").then(function(userStore){return userStore.getItem(id)})},getByUserName:function(username){var self=this;return _.isEmpty(username)?Promise.resolve(null):store("userAuth").then(function(userAuthStore){return userAuthStore.getItem(username.toLowerCase())}).then(function(userAuth){return userAuth&&userAuth.id?self.getById(userAuth.id):null})},getAll:function(){
return store("user").then(function(userStore){return userStore.getItems()})},getAllByRole:function(role){return store("user").then(function(userStore){return userStore.getItems()}).then(function(users){return _.filter(users,{role:role})})},set:function(user){return validateUser(user),store("user").then(function(userStore){return userStore.setItem(user.id,user)}).then(function(result){return!!result&&store("userAuth")}).then(function(userAuthStore){return!!userAuthStore&&userAuthStore.setItem(user.username.toLowerCase(),{role:user.role,password:user.password,id:user.id})})},update:function(id,properties){var self=this
;return!_.isPlainObject(properties)||_.isEmpty(id)?Promise.resolve(!1):this.getById(id).then(function(existingUser){return self.set(_.defaults(properties,existingUser||{}))})},remove:function(id){return _.isEmpty(id)?Promise.resolve(!1):this.getById(id).then(function(user){return!!(user&&user.id&&user.username)&&store("user").then(function(userStore){return userStore.removeItem(id)}).then(function(result){return!!result&&store("userAuth")}).then(function(userAuthStore){return!!userAuthStore&&userAuthStore.removeItem(user.username)})})},removeAll:function(){return store("user").then(function(userStore){return userStore.clear()}).then(function(result){
return!!result&&store("userAuth")}).then(function(userAuthStore){return!!userAuthStore&&userAuthStore.clear()})}}}),define("app/service/dataMapper/user",["lodash"],function(_){"use strict";var mapping={username:"http://www.tao.lu/Ontologies/generis.rdf#login",password:"http://www.tao.lu/Ontologies/generis.rdf#password",firstname:"http://www.tao.lu/Ontologies/generis.rdf#userFirstName",lastname:"http://www.tao.lu/Ontologies/generis.rdf#userLastName",email:"http://www.tao.lu/Ontologies/generis.rdf#userMail",originalRoles:"http://www.tao.lu/Ontologies/generis.rdf#userRoles",updatedAt:"http://www.tao.lu/Ontologies/TAO.rdf#UpdatedAt",
createdAt:"http://www.taotesting.com/Ontologies/TAO.rdf#CreatedAt",assignment:"http://www.tao.lu/Ontologies/TAOTestCenter#UserAssignment",organisationId:"http://www.taotesting.com/ontologies/synchro.rdf#organisationId"},interestingRoles={syncManager:"http://www.tao.lu/Ontologies/generis.rdf#taoSyncManager",testTaker:"http://www.tao.lu/Ontologies/TAO.rdf#DeliveryRole"},mapper=function(inputUser){var outputUser=null;return _.isPlainObject(inputUser)&&(inputUser.id||inputUser.uri)&&(outputUser={id:inputUser.id||inputUser.uri,checksum:inputUser.checksum},_.isPlainObject(inputUser.properties)&&(outputUser=_.reduce(mapping,function(acc,propName,key){
return _.isUndefined(inputUser.properties[propName])||(outputUser[key]=inputUser.properties[propName]),acc},outputUser),_.isString(outputUser.originalRoles)&&(outputUser.originalRoles=[outputUser.originalRoles]),outputUser.originalRoles&&outputUser.originalRoles.length&&_.forEach(interestingRoles,function(uri,role){if(_.contains(outputUser.originalRoles,uri))return outputUser.role=role,!1}),_.isString(outputUser.username)&&(outputUser.username=outputUser.username.toLowerCase()),_.isString(outputUser.createdAt)&&(outputUser.createdAt=parseFloat(outputUser.createdAt)),_.isString(outputUser.updatedAt)&&(outputUser.updatedAt=parseFloat(outputUser.updatedAt)))),
outputUser};return mapper.mapping=mapping,mapper}),define("app/service/synchronization/provider/testTaker",["lodash","app/service/user","app/service/dataMapper/user","app/service/synchronization/client"],function(_,userService,userDataMapper,syncClientFactory){"use strict";return{name:"test-taker",direction:"fetch",init:function(config){this.client=syncClientFactory(config)},getRemoteResourceIds:function(){return this.client.getEntityIds("test-taker")},getRemoteResources:function(ids){return this.client.getEntitiesContent("test-taker",ids)},getLocalResources:function(){return userService.getAllByRole("testTaker").then(function(results){
return _.isArray(results)?_.reduce(results,function(acc,user){return user&&user.id&&(acc[user.id]=user),acc},{}):results})},addResource:function(id,resource){return userService.set(userDataMapper(resource))},updateResource:function(id,resource){return userService.update(id,userDataMapper(resource))},removeResource:function(id){return userService.remove(id)}}}),define("app/core/timestamp",[],function(){"use strict";return{toMicrotime:function(timestampMs){var timestampSec;if(timestampMs||(timestampMs=Date.now()),!/^[0-9]{13}$/.test(timestampMs+"")||parseInt(timestampMs)<=0)throw new TypeError("A millisecond unix timestamp is expected")
;return timestampSec=timestampMs/1e3,(timestampSec%1).toFixed(3)+"00000 "+parseInt(timestampSec,10)}}}),define("app/core/uri",["lib/uuid"],function(uuid){"use strict";return{create:function(ontology){var deviceId=window.device.uuid||"dev";return ontology=ontology||"taoApp.rdf","http://app.taocloud.org/"+deviceId+"/"+ontology+"#i"+uuid()}}}),define("app/service/deliveryExecution",["lodash","app/service/storeService","app/core/uri"],function(_,storeServiceFactory,uri){"use strict";var states={active:"http://www.tao.lu/Ontologies/TAODelivery.rdf#DeliveryExecutionStatusActive",
finished:"http://www.tao.lu/Ontologies/TAODelivery.rdf#DeliveryExecutionStatusFinished",paused:"http://www.tao.lu/Ontologies/TAODelivery.rdf#DeliveryExecutionStatusPaused",abandoned:"http://www.tao.lu/Ontologies/TAODelivery.rdf#DeliveryExecutionStatusAbandoned"},validateDeliveryExecution=function(deliveryExecution){if(!_.isPlainObject(deliveryExecution))throw new TypeError("Missing or invalid delivery execution");if(_.isEmpty(deliveryExecution.id))throw new TypeError("A delivery execution needs to have a property id");if(_.isEmpty(deliveryExecution.delivery))throw new TypeError("A delivery execution needs to have a property delivery")
;if(_.isEmpty(deliveryExecution.testTaker))throw new TypeError("A delivery execution needs to have a property testTaker");if(!_.contains(states,deliveryExecution.state))throw new TypeError("A delivery execution needs to have a valid property state");return!0},storeService=storeServiceFactory("delivery execution","deliveyExecution",validateDeliveryExecution);return _.assign(storeService,{states:states,create:function(deliveryId,testTakerId,label){var deliveyExecution={id:uri.create(),delivery:deliveryId,label:label,testTaker:testTakerId,state:states.active,startTime:Date.now(),finishTime:null,synchronized:!1}
;return this.set(deliveyExecution).then(function(inserted){return!!inserted&&deliveyExecution})},pause:function(deliveyExecutionId){return this.update(deliveyExecutionId,{state:states.paused})},finish:function(deliveyExecutionId){return this.update(deliveyExecutionId,{state:states.finished,finishTime:Date.now()})},getAllByState:function(state){return this.getAll().then(function(executions){return _.filter(executions,{state:state})})},getAllToSync:function(){return this.getAllByState(states.finished).then(function(executions){return _.reject(executions,"synchronized")})}})}),
define("app/service/result",["lodash","app/service/storeService","app/core/timestamp","lib/uuid"],function(_,storeServiceFactory,timestampHelper,uuid){"use strict";var types={outcome:"taoResultServer_models_classes_OutcomeVariable",response:"taoResultServer_models_classes_ResponseVariable",trace:"taoResultServer_models_classes_TraceVariable"},validateResult=function(result){if(!_.isPlainObject(result))throw new TypeError("Missing or invalid delivery execution");if(_.isEmpty(result.id))throw new TypeError("A result needs to have a property id")
;if(_.isEmpty(result.deliveryExecutionId))throw new TypeError("A result needs to have a property deliveryExecutionId");if(_.isEmpty(result.callIdItem))throw new TypeError("A result needs to have a property deliveyExecutionId");if(!_.contains(types,result.type))throw new TypeError("A result needs to have a valid property type");if(!result.callIdItem&&!result.callTestId)throw new TypeError("A result needs to have at least one of the callIdItem or callTestId property");if(!_.isPlainObject(result.data))throw new TypeError("A result needs to have a valid data property")
;if(_.isEmpty(result.data.identifier)||_.isEmpty(result.data.cardinality)||_.isEmpty(result.data.baseType))throw new TypeError("A result needs to have a valid variable with an identifier, a cardinalty and a baseType");if(!/^\d+.\d{4,8} \d{10}$/.test(result.data.epoch))throw new TypeError("A result needs to have a valid epoch using the microtime format");return!0},storeService=storeServiceFactory("result","result",validateResult);return _.assign(storeService,{create:function(deliveryExecutionId,type,testId,itemId,callIdItem,variable){var result,resultData
;return _.isString(deliveryExecutionId)&&_.isString(callIdItem)&&_.isString(itemId)&&_.isString(testId)&&_.contains(types,type)&&_.isPlainObject(variable)&&_.isString(variable.identifier)&&_.isString(variable.baseType)&&_.isString(variable.cardinality)?(resultData={identifier:variable.identifier,cardinality:variable.cardinality,baseType:variable.baseType,epoch:timestampHelper.toMicrotime()},type===types.response&&(resultData.correctResponse=null,resultData.candidateResponse=window.btoa(variable.value)),type===types.outcome&&(resultData.normalMaximum=null,resultData.normalMinimum=null,resultData.value=window.btoa(variable.value)),result={id:uuid(),
deliveryExecutionId:deliveryExecutionId,type:type,callIdItem:callIdItem,callTestId:null,item:itemId,test:testId,data:resultData},this.set(result).then(function(created){return created?result:null})):Promise.reject(new TypeError("Invalid parameters to create a result variable"))},createFromResponse:function(deliveryExecutionId,testId,itemId,callIdItem,response){return this.create(deliveryExecutionId,types.response,testId,itemId,callIdItem,response)},createFromOutcome:function(deliveryExecutionId,testId,itemId,callIdItem,identifier,value){return this.create(deliveryExecutionId,types.outcome,testId,itemId,callIdItem,{identifier:identifier,cardinality:"single",
baseType:"float",value:value})},createFromDuration:function(deliveryExecutionId,testId,itemId,callIdItem,duration){return this.create(deliveryExecutionId,types.response,testId,itemId,callIdItem,{identifier:"duration",cardinality:"single",baseType:"identifier",value:duration})},createFromAttempt:function(deliveryExecutionId,testId,itemId,callIdItem,attempt){return this.create(deliveryExecutionId,types.response,testId,itemId,callIdItem,{identifier:"numAttempts",cardinality:"single",baseType:"identifier",value:parseInt(attempt||0,10)})},createFromCompletion:function(deliveryExecutionId,testId,itemId,callIdItem,completion){
return this.create(deliveryExecutionId,types.outcome,testId,itemId,callIdItem,{identifier:"completionStatus",cardinality:"single",baseType:"identifier",value:completion})},getAllByDeliveryExecution:function(deliveryExecutionId){return this.getAll().then(function(results){return _.filter(results,{deliveryExecutionId:deliveryExecutionId})})}})}),define("app/service/synchronization/provider/result",["lodash","app/core/timestamp","app/service/deliveryExecution","app/service/result","app/service/synchronization/client"],function(_,timestampHelper,deliveryExecutionService,resultService,syncClientFactory){"use strict";return{name:"results",direction:"send",
init:function(config){this.client=syncClientFactory(config)},getLocalResources:function(){return deliveryExecutionService.getAllToSync()},sendResource:function(id,resource){var self=this;return resultService.getAllByDeliveryExecution(id).then(function(results){var content={};return content[id]={deliveryId:resource.delivery,deliveryExecutionId:id,details:{identifier:id,label:resource.label,"test-taker":resource.testTaker,state:resource.state,starttime:timestampHelper.toMicrotime(resource.startTime),finishtime:timestampHelper.toMicrotime(resource.finishTime)},variables:results},content}).then(function(content){return self.client.sendResults({results:content})
}).then(function(response){return response&&response.success&&response.data[id]&&response.data[id].success})},removeResource:function(id){return deliveryExecutionService.getById(id).then(function(execution){return execution.synchronized=!0,deliveryExecutionService.set(execution)}).then(function(){return resultService.getAllByDeliveryExecution(id)}).then(function(results){return Promise.all(_.map(results,function(result){return resultService.remove(result.id)}))}).then(function(removed){return _.all(removed)})}}}),
define("app/service/synchronization/loader",["app/service/synchronization/synchronizer","app/service/synchronization/provider/eligibility","app/service/synchronization/provider/delivery","app/service/synchronization/provider/testTaker","app/service/synchronization/provider/result"],function(synchronizerFactory,eligibilitySyncProvider,deliverySyncProvider,testTakerSyncProvider,resultSyncProvider){"use strict";return synchronizerFactory.registerProvider(eligibilitySyncProvider.name,eligibilitySyncProvider),synchronizerFactory.registerProvider(deliverySyncProvider.name,deliverySyncProvider),
synchronizerFactory.registerProvider(testTakerSyncProvider.name,testTakerSyncProvider),synchronizerFactory.registerProvider(resultSyncProvider.name,resultSyncProvider),synchronizerFactory}),
define("app/controller/admin/index",["lodash","i18n","ui/feedback","core/store","app/controller/pageController","app/service/session","app/component/synchronizer/synchronizer","app/component/wipeout/wipeout","app/component/header/header","app/service/synchronization/loader","app/service/deliveryExecution","app/service/deliveryAssembly"],function(_,__,feedback,store,pageController,sessionService,syncComponentFactory,wipeoutFactory,headerComponentFactory,synchronizerFactory,deliveryExecutionService,deliveryAssemblyService){"use strict";var targets=[{type:"test-taker",name:__("Test takers"),state:"ready",direction:"fetch"},{type:"delivery",
name:__("Deliveries"),state:"ready",direction:"fetch"},{type:"eligibility",name:__("Eligibilities"),state:"ready",direction:"fetch"},{type:"results",name:__("Results"),state:"ready",direction:"send"}],getWipeoutMessage=function(){return deliveryExecutionService.getAllToSync().then(function(remainingExecutions){
return remainingExecutions.length>0?__("%d result set left on the device. You need to cancel this action and synchronize the device, otherwise results will be lost. Proceed with the wipeout anyway ?",remainingExecutions.length):__("This action will remove all data stored on the device. Once done, you will have to login again. Please confirm the wipeout.")})};return pageController({start:function(){var self=this,logger=this.getLogger();sessionService.getCurrent().then(function(session){var syncComponent,wipeout,synchronizers,syncConfig={key:session.user.oauthInfo.key,secret:session.user.oauthInfo.secret}
;session.user.organisationId&&(syncConfig.organisationId=session.user.organisationId),synchronizers=_.reduce(targets,function(acc,target){return acc[target.type]=synchronizerFactory(target.type,syncConfig),acc},{}),headerComponentFactory(self.getContainer(),{title:__("Admin"),user:session.user}).on("error",function(err){self.handleError(err)}),syncComponent=syncComponentFactory(self.getContainer(),{targets:targets}).on("start",function(targetType){synchronizers[targetType]&&(logger.info("User "+session.user.username+" starts to sync "+targetType),synchronizers[targetType].start().then(function(results){var message=[]
;results&&(results.send&&results.send.length&&message.push(__("%d sent",results.send.length)),results.remove&&results.remove.length&&message.push(__("%d removed",results.remove.length)),results.update&&results.update.length&&message.push(__("%d updated",results.update.length)),results.add&&results.add.length&&message.push(__("%d added",results.add.length)),0===message.length&&message.push(__("Already up to date"))),syncComponent.succeed(targetType,message.join(", "))}).catch(function(err){syncComponent.fail(targetType,err),self.handleError(err)}))}).on("stop",function(targetType){
synchronizers[targetType]&&(logger.info("User "+session.user.username+" stops to sync "+targetType),synchronizers[targetType].stop())}),wipeout=wipeoutFactory(self.getContainer(),{confirmMessage:getWipeoutMessage}).on("wipeout",function(){logger.info("User "+session.user.login+" ask to wipeout the app data"),Promise.all([store.removeAll(),deliveryAssemblyService.removeAll()]).then(function(){logger.info("Data wipeout"),feedback().success(__("The application data has been removed")),setTimeout(function(){self.getRouter().dispatch("main/logout")},3e3)}).catch(function(err){wipeout.reset(),self.handleError(err)})})}).catch(function(err){self.handleError(err)})}
})}),define("tpl!ui/loadingButton/tpl/button",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",escapeExpression=this.escapeExpression;return buffer+='<button class="loading-button btn-',(helper=helpers.type)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.type,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+' small" type="button" title="',(helper=helpers.title)?stack1=helper.call(depth0,{hash:{},data:data
}):(helper=depth0&&depth0.title,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\n    <span class="spinner-icon icon-loop spinning"></span>\n    <span class="start-icon icon-',(helper=helpers.icon)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.icon,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"></span>\n    <span class="action-label">',(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"==typeof helper?helper.call(depth0,{hash:{},
data:data}):helper),buffer+=escapeExpression(stack1)+'</span>\n    <span class="terminated-label">',(helper=helpers.terminatedLabel)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.terminatedLabel,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n</button>"})}),define("css!ui/loadingButton/css/button",[],function(){}),define("ui/loadingButton/loadingButton",["jquery","lodash","i18n","ui/component","tpl!ui/loadingButton/tpl/button","css!ui/loadingButton/css/button"],function($,_,__,component,buttonTpl){"use strict";var _defaults={type:"info",
icon:"property-advanced",title:"",label:"OK",terminatedLabel:"FINISHED"},buttonApi={start:function(){this.setState("started",!0),this.trigger("started")},terminate:function(){return this.is("started")&&(this.setState("started",!1),this.setState("terminated",!0),this.disable(),this.trigger("terminated")),this},reset:function(){return this.is("terminated")&&(this.setState("terminated",!1),this.enable(),this.trigger("reset")),this}};return function(config){var initConfig=_.defaults(config||{},_defaults);return component(buttonApi).setTemplate(buttonTpl).on("enable",function(){this.getElement().removeProp("disabled")}).on("disable",function(){
this.getElement().prop("disabled",!0)}).on("render",function(){var self=this;this.getElement().on("click",function(e){e.preventDefault(),self.is("disabled")||self.is("started")||self.is("terminated")||self.start()})}).init(initConfig)}}),define("tpl!app/component/login/tpl/login",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing;return buffer+='<section class="login">\n    <header>\n        <h1><img src="',
(helper=helpers.baseUrl)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.baseUrl,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'img/logo.svg"  alt="TAO" /></h1>\n    </header>\n    <form>\n        <span class="placeholder-input username">\n            <input type="text" name="username" placeholder="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Username",options):helperMissing.call(depth0,"__","Username",options)))+'" required autocomplete="off" />\n            <label for="username">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Username",options):helperMissing.call(depth0,"__","Username",options)))+'</label>\n            <span class="txt-error">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Invalid username or password",options):helperMissing.call(depth0,"__","Invalid username or password",options)))+'</span>\n        </span>\n        <span class="placeholder-input password">\n            <input type="password" name="password" placeholder="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Password",options):helperMissing.call(depth0,"__","Password",options)))+'" required autocomplete="off" />\n            <label for="password">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Password",options):helperMissing.call(depth0,"__","Password",options)))+'</label>\n            <span class="txt-error">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Invalid username or password",options):helperMissing.call(depth0,"__","Invalid username or password",options)))+'</span>\n        </span>\n        <div class="actions">\n            <input type="submit" class="hidden-submiter" />\n        </div>\n    </form>\n</section>'})}),define("css!app/component/login/css/login",[],function(){}),
define("app/component/login/login",["lodash","i18n","ui/component","ui/loadingButton/loadingButton","tpl!app/component/login/tpl/login","css!app/component/login/css/login.css"],function(_,__,component,loadingButtonFactory,loginTpl){"use strict";var defaultConfig={baseUrl:"./"};return function(container,config){var loginComponent=component({submit:function(){return this.is("rendered")&&!this.is("loading")&&this.canSubmit()&&this.trigger("submit",this.getRawValues()),this},canSubmit:function(){return!this.is("rendered")||(this.setState("error",!1),_.isEmpty(this.controls.username.value)||_.isEmpty(this.controls.password.value))?(this.setState("submitable",!1),
!1):(this.setState("submitable",!0),!0)},getRawValues:function(){var values={};return this.is("rendered")&&this.is("submitable")&&(values.username=this.controls.username.value.trim(),values.password=this.controls.password.value.trim()),values},getFormValues:function(){return this.is("rendered")&&this.is("submitable")?new FormData(this.controls.form):null},reset:function(){return this.is("rendered")&&(this.controls.username.value="",this.controls.password.value="",this.button.terminate().reset(),this.setState("submitable",!1).setState("loading",!1).setState("error",!1),this.trigger("reset")),this},loginError:function(errorMessage){
return this.is("rendered")&&(errorMessage&&!_.isEmpty(errorMessage)&&this.controls.fieldErrors.forEach(function(messageElt){messageElt.textContent=errorMessage}),this.button.terminate().reset(),this.setState("submitable",!1).setState("loading",!1).setState("error",!0),this.trigger("loginerror")),!0}},defaultConfig);return loginComponent.setTemplate(loginTpl).on("init",function(){var self=this;container&&setTimeout(function(){self.render(container)},0)}).on("render",function(){var self=this,element=this.getElement()[0],checkHandler=function(){return self.canSubmit()};this.controls={username:element.querySelector("[name=username]"),
password:element.querySelector("[name=password]"),form:element.querySelector("form"),fieldErrors:element.querySelectorAll(".txt-error")},this.button=loadingButtonFactory({type:"info",icon:"",label:__("Login"),terminatedLabel:"",renderTo:element.querySelector(".actions")}),this.controls.username.addEventListener("change",checkHandler),this.controls.password.addEventListener("change",checkHandler),this.controls.username.addEventListener("focus",checkHandler),this.controls.password.addEventListener("focus",checkHandler),this.controls.form.addEventListener("submit",function(e){return e.preventDefault(),self.submit(),!1}),
this.button.getElement().off("click").on("click",function(e){e.preventDefault(),self.submit()}),checkHandler()}).on("loading",function(){this.button.start(),this.setState("loading",!0)}).on("loaded",function(){this.button.terminate().reset(),this.setState("loading",!1)}),setTimeout(function(){loginComponent.init(config)},0),loginComponent}}),define("app/service/authentication/syncManagerAdapter",["jquery","lodash","i18n","app/core/request","app/service/dataMapper/user"],function($,_,__,requestFactory,userDataMapper){"use strict";var errorMessages={missingCredentials:__("Missing username or password, please fill them and try again."),
unauthorized:__("Invalid credentials, please try again."),misconfiguredEndpoint:__("The authentication server is not configured, please contact your administrator.")};return{name:"syncManager",authenticate:function(config,credentials){var request=requestFactory(config.api,errorMessages);return!credentials||_.isEmpty(credentials.username)||_.isEmpty(credentials.password)?Promise.resolve({success:!1,message:errorMessages.unauthorized}):request({body:{login:credentials.username,password:credentials.password}}).then(function(response){var user
;return response&&response.success&&(user=userDataMapper(response.data.syncUser))&&(user.oauthInfo=response.data.oauthInfo,response.data.user=user),response})}}}),define("app/core/digest",["lodash"],function(_){"use strict";var subtle=window.crypto.subtle||window.crypto.webkitSubtle,supportedAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],bufferToHexString=function(buffer){return[].map.call(new Uint8Array(buffer),function(val){return("00"+val.toString(16)).slice(-2)}).join("")};return function(utf8String,selectedAlgorithm){var algorithm;if(_.isString(selectedAlgorithm)||(selectedAlgorithm="SHA-256"),algorithm=selectedAlgorithm.toUpperCase(),
!_.contains(supportedAlgorithms,algorithm))throw new TypeError("Unsupported digest algorithm : "+algorithm);if(!_.isString(utf8String))throw new TypeError("Please encode a string, not a "+typeof utf8String);return subtle.digest(algorithm,new TextEncoder("utf-8").encode(utf8String)).then(function(buffer){return bufferToHexString(buffer)})}}),define("app/service/authentication/localAdapter",["lodash","i18n","app/core/digest","app/service/user"],function(_,__,digest,userService){"use strict";var errorMessages={missingCredentials:__("Missing username or password, please fill them and try again."),unauthorized:__("Invalid credentials, please try again.")};return{
name:"local",authenticate:function(config,credentials){var failStatus={success:!1,message:errorMessages.unauthorized},hashConfig=_.defaults(config.hash||{},{salt:10,algorithm:"SHA-256"}),verifyPassword=function(password,hash){var salt=hash.substring(0,hashConfig.salt),hashed=hash.substring(hashConfig.salt);return digest(salt+password,hashConfig.algorithm).then(function(generatedHash){return generatedHash.length>0&&generatedHash===hashed})};return!credentials||_.isEmpty(credentials.username)||_.isEmpty(credentials.password)?Promise.resolve(failStatus):userService.getByUserName(credentials.username).then(function(user){
return user&&user.id&&user.username.toLowerCase()===credentials.username.toLowerCase()&&user.password?verifyPassword(credentials.password,user.password).then(function(isPasswordMatching){return isPasswordMatching?{success:!0,data:{user:user}}:failStatus}):failStatus})}}}),define("app/service/authentication",["lodash","module","app/service/authentication/syncManagerAdapter","app/service/authentication/localAdapter"],function(_,module,syncManagerAdapter,localAdapter){"use strict";var authenticationService,config=module.config(),validateAdapter=function(adapter){return _.isPlainObject(adapter)&&_.isFunction(adapter.authenticate)&&!_.isEmpty(adapter.name)}
;return authenticationService={adapters:{},authenticate:function(adapter,credentials){var adapterConfig;if(!validateAdapter(adapter))throw new TypeError("The authentication adatper  must be defined");if(!_.isPlainObject(credentials))throw new TypeError("No credentials given for the authentication");return adapterConfig=config[adapter.name],adapter.authenticate(adapterConfig,credentials)}},function(adapters){_.forEach(adapters,function(adapter){validateAdapter(adapter)&&(authenticationService.adapters[adapter.name]=adapter)})}([localAdapter,syncManagerAdapter]),authenticationService}),
define("app/service/login",["core/logger","app/service/authentication","app/service/session","app/service/user"],function(loggerFactory,authenticationService,sessionService,userService){"use strict";var logger=loggerFactory("app/service/login");return function(username,password){var credentials={username:username,password:password};return authenticationService.authenticate(authenticationService.adapters.local,credentials).then(function(result){if(result&&result.success&&result.data&&result.data.user)return logger.debug("User "+username+" logged in from local adapter"),result.data.user;logger.debug("User "+username+" not identified from local adapter")
}).then(function(user){return user||authenticationService.authenticate(authenticationService.adapters.syncManager,credentials).then(function(result){if(result&&result.success&&result.data&&result.data.user)return logger.debug("User "+username+" logged in from syncManager adapter"),userService.set(result.data.user).then(function(saved){if(saved)return result.data.user});if(logger.debug("User "+username+" not identified from syncManager adapter"),result&&!1===result.success&&(0===result.errorCode||result.errorCode>403))throw new Error(result.errorMessage)})}).then(function(user){return!!user&&sessionService.create(user)})}}),
define("app/controller/main/login",["i18n","ui/feedback","app/component/login/login","app/controller/pageController","app/service/session","app/service/login"],function(__,feedback,loginComponentFactory,pageController,sessionService,loginService){"use strict";return pageController({start:function(){var self=this,loginComponent=loginComponentFactory(this.getContainer());loginComponent.on("submit",function(data){loginComponent.trigger("loading"),loginService(data.username,data.password).then(function(session){if(loginComponent.trigger("loaded"),session&&session.user)return sessionService.getEntryPoint().then(function(entryPoint){
return self.getRouter().dispatch(entryPoint)});loginComponent.loginError()}).catch(function(err){loginComponent.reset(),self.handleError(err)})})}})}),define("app/controller/main/logout",["app/controller/pageController","app/service/session"],function(pageController,sessionService){"use strict";return pageController({start:function(){var self=this;sessionService.clear().then(function(){self.getRouter().dispatch("main/login")}).catch(function(err){self.handleError(err)})}})}),define("app/service/assignment",["lodash","app/service/user","app/service/eligibility","app/service/delivery"],function(_,userService,eligibilityService,deliveryService){"use strict"
;return{getTestTakerDeliveries:function(testTakerId){return _.isEmpty(testTakerId)?Promise.resolve(null):userService.getById(testTakerId).then(function(testTaker){var assignment=testTaker&&testTaker.assignment;return _.isArray(assignment)?assignment:[assignment]}).then(function(assignment){return Promise.all(_.map(assignment,function(eligibilityId){return eligibilityService.getById(eligibilityId)}))}).then(function(eligibilities){return Promise.all(_(eligibilities).compact().uniq("delivery").filter(function(eligibility){return eligibility.testTakers&&_.contains(eligibility.testTakers,testTakerId)&&eligibility.delivery}).map(function(eligibility){
return deliveryService.getById(eligibility.delivery)}).value())}).then(function(results){return _.compact(results)})}}}),define("tpl!app/component/deliveryLauncher/tpl/container",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+="\n    ",stack1=helpers.each.call(depth0,depth0&&depth0.deliveries,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n"}function program2(depth0,data){var stack1,helper,buffer="";return buffer+='\n        <article>\n            <a href="#" data-id="',
(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\n                <span class="label">',(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>\n                <span class="icon-play"></span>\n            </a>\n        </article>\n    '}function program4(depth0,data){var stack1,helper,buffer="";return buffer+="\n    <p>",
(helper=helpers.emptyText)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.emptyText,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</p>\n"}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<section class="delivery-launcher">\n    <header>\n        <h2>',(helper=helpers.title)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.title,stack1=typeof helper===functionType?helper.call(depth0,{
hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</h2>\n    </header>\n\n",stack1=helpers.if.call(depth0,depth0&&depth0.deliveries,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n\n",stack1=helpers.unless.call(depth0,depth0&&depth0.deliveries,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</section>"})}),define("css!app/component/deliveryLauncher/css/launcher",[],function(){}),
define("app/component/deliveryLauncher/launcher",["lodash","i18n","ui/component","tpl!app/component/deliveryLauncher/tpl/container","css!app/component/deliveryLauncher/css/launcher.css"],function(_,__,component,containerTpl){"use strict";var defaultConfig={title:__("Available tests"),emptyText:__("No test available"),deliveries:[]};return function(container,config){var deliveryLauncher=component({getDeliveries:function(){return this.config.deliveries},launch:function(id){var delivery;return!(!_.isString(id)||_.isEmpty(id)||!(delivery=_.find(this.config.deliveries,{id:id})))&&(this.trigger("launch",id,delivery),!0)}},defaultConfig)
;return deliveryLauncher.setTemplate(containerTpl).on("init",function(){var self=this;container&&self.render(container)}).on("render",function(){var self=this,element=this.getElement()[0],launchHandler=function(e){e.preventDefault(),self.disable(),self.launch(e.currentTarget.dataset.id)||self.enable()};this.controls={deliveries:element.querySelectorAll("article > a")},_.forEach(this.controls.deliveries,function(deliveryElt){deliveryElt.addEventListener("click",launchHandler)})}),_.defer(function(){deliveryLauncher.init(config)}),deliveryLauncher}}),
define("app/controller/delivery/index",["i18n","app/controller/pageController","app/service/session","app/service/assignment","app/component/deliveryLauncher/launcher","app/component/header/header"],function(__,pageController,sessionService,assignmentService,deliveryLauncherFactory,headerComponentFactory){"use strict";return pageController({start:function(){var self=this,logger=this.getLogger(),launchDelivery=function(delivery){self.getRouter().dispatch("delivery/runner",{delivery:delivery})};sessionService.getCurrent().then(function(session){return headerComponentFactory(self.getContainer(),{title:__("My tests"),user:session.user}).on("error",function(err){
self.handleError(err)}),assignmentService.getTestTakerDeliveries(session.user.id).then(function(deliveries){deliveryLauncherFactory(self.getContainer(),{deliveries:deliveries}).on("launch",function(id,delivery){logger.info("User "+session.user.id+" launches delivery "+id),launchDelivery(delivery)}).on("error",function(err){self.handleError(err)})})}).catch(function(err){self.handleError(err)})}})}),define("core/moduleLoader",["lodash","core/promise"],function(_,Promise){"use strict";return function(requiredModules,validate,specs){var loaded={},modules={},excludes=[],bundles=[],loader={addList:function(moduleList){return _.forEach(moduleList,this.add,this),
this},add:function(def){if(_.isEmpty(def.module)||!_.isString(def.module))throw new TypeError("An AMD module must be defined");if(_.isEmpty(def.category)||!_.isString(def.category))throw new TypeError("Providers must belong to a category");return modules[def.category]=modules[def.category]||[],_.isNumber(def.position)?modules[def.category][def.position]=def.module:"prepend"===def.position||"before"===def.position?modules[def.category].unshift(def.module):modules[def.category].push(def.module),def.bundle&&!_.contains(bundles,def.bundle)&&bundles.push(def.bundle),this},append:function(def){return this.add(_.merge({position:"append"},def))},
prepend:function(def){return this.add(_.merge({position:"prepend"},def))},remove:function(module){return excludes.push(module),this},load:function(loadBundles){var self=this,dependencies=_(modules).values().flatten().uniq().difference(excludes).value(),loadModules=function(amdModules){return _.isArray(amdModules)&&amdModules.length?new Promise(function(resolve,reject){require(amdModules,function(){resolve([].slice.call(arguments))},reject)}):Promise.resolve()};return loadModules(loadBundles?bundles:[]).then(function(){return loadModules(dependencies)}).then(function(loadedModules){return _.forEach(dependencies,function(dependency,index){
var module=loadedModules[index],category=_.findKey(modules,function(val){return _.contains(val,dependency)});if(!validate(module))throw new TypeError("Invalid module");_.isString(category)&&(loaded[category]=loaded[category]||[],loaded[category].push(module))}),self.getModules()})},getModules:function(category){return _.isString(category)?loaded[category]||[]:_(loaded).values().flatten().uniq().value()},getCategories:function(){return _.keys(loaded)}};return validate=_.isFunction(validate)?validate:_.isPlainObject,_.forEach(requiredModules,function(moduleList,category){
if(_.isEmpty(category)||!_.isString(category))throw new TypeError("Modules must belong to a category");if(!_.isArray(moduleList))throw new TypeError("A list of modules must be an array");if(!_.all(moduleList,validate))throw new TypeError("The list does not contain valid modules");loaded[category]?loaded[category]=loaded[category].concat(moduleList):loaded[category]=moduleList}),specs&&_(specs).functions().forEach(function(method){loader[method]=function(){return specs[method].apply(loader,[].slice.call(arguments))}}),loader}}),define("core/pluginLoader",["lodash","core/moduleLoader"],function(_,moduleLoaderFactory){"use strict"
;return function(requiredPlugins){return moduleLoaderFactory(requiredPlugins,_.isFunction,{getPlugins:function(category){return this.getModules(category)}})}}),define("core/providerLoader",["lodash","core/moduleLoader"],function(_,moduleLoaderFactory){"use strict";function validateProvider(provider){return _.isPlainObject(provider)&&_.isFunction(provider.init)&&_.isString(provider.name)&&!_.isEmpty(provider.name)}return function(requiredProviders){return moduleLoaderFactory(requiredProviders,validateProvider,{getProviders:function(category){return this.getModules(category)}})}}),function(e){function f(a,c){function b(a){
if(!this||this.constructor!==b)return new b(a);this._keys=[],this._values=[],this._itp=[],this.objectOnly=c,a&&v.call(this,a)}return c||w(a,"size",{get:x}),a.constructor=b,b.prototype=a,b}function v(a){this.add?a.forEach(this.add,this):a.forEach(function(a){this.set(a[0],a[1])},this)}function d(a){return this.has(a)&&(this._keys.splice(b,1),this._values.splice(b,1),this._itp.forEach(function(a){b<a[0]&&a[0]--})),-1<b}function m(a){return this.has(a)?this._values[b]:void 0}function n(a,c){if(this.objectOnly&&c!==Object(c))throw new TypeError("Invalid value used as weak collection key");if(c!=c||0===c)for(b=a.length;b--&&!y(a[b],c););else b=a.indexOf(c)
;return-1<b}function p(a){return n.call(this,this._values,a)}function q(a){return n.call(this,this._keys,a)}function r(a,c){return this.has(a)?this._values[b]=c:this._values[this._keys.push(a)-1]=c,this}function t(a){return this.has(a)||this._values.push(a),this}function h(){(this._keys||0).length=this._values.length=0}function z(){return k(this._itp,this._keys)}function l(){return k(this._itp,this._values)}function A(){return k(this._itp,this._keys,this._values)}function B(){return k(this._itp,this._values,this._values)}function k(a,c,b){var g=[0],e=!1;return a.push(g),{next:function(){var f,d=g[0];return!e&&d<c.length?(f=b?[c[d],b[d]]:c[d],g[0]++):(e=!0,
a.splice(a.indexOf(g),1)),{done:e,value:f}}}}function x(){return this._values.length}function u(a,c){for(var b=this.entries();;){var d=b.next();if(d.done)break;a.call(c,d.value[1],d.value[0],this)}}var b,w=Object.defineProperty,y=function(a,b){return isNaN(a)?isNaN(b):a===b};"undefined"==typeof WeakMap&&(e.WeakMap=f({delete:d,clear:h,get:m,has:q,set:r},!0)),"undefined"!=typeof Map&&"function"==typeof(new Map).values&&(new Map).values().next||(e.Map=f({delete:d,has:q,get:m,set:r,keys:z,values:l,entries:A,forEach:u,clear:h})),"undefined"!=typeof Set&&"function"==typeof(new Set).values&&(new Set).values().next||(e.Set=f({has:p,add:t,delete:d,clear:h,keys:l,
values:l,entries:B,forEach:u})),"undefined"==typeof WeakSet&&(e.WeakSet=f({delete:d,add:t,clear:h,has:p},!0))}("undefined"!=typeof exports&&"undefined"!=typeof global?global:window),define("lib/polyfill/es6-collections",function(){}),define("core/collections",["lib/polyfill/es6-collections"],function(){"use strict";return{Map:window.Map,Set:window.Set,WeakMap:window.WeakMap,WeakSet:window.WeakSet}}),define("taoTests/runner/dataHolder",["core/collections"],function(collections){"use strict";var defaultObjects=["testData","testContext","testMap"];return function(){var map=new collections.Map;return defaultObjects.forEach(function(entry){map.set(entry,{})}),map
}}),define("taoTests/runner/runner",["jquery","lodash","i18n","core/eventifier","core/promise","core/logger","core/providerRegistry","taoTests/runner/dataHolder"],function($,_,__,eventifier,Promise,logger,providerRegistry,dataHolderFactory){"use strict";function testRunnerFactory(providerName,pluginFactories,config){function providerRun(method){var args=[].slice.call(arguments,1);return new Promise(function(resolve){return _.isFunction(provider[method])?resolve(provider[method].apply(runner,args)):resolve()})}function pluginRun(method){var execStack=[];return _.forEach(runner.getPlugins(),function(plugin){
_.isFunction(plugin[method])&&execStack.push(plugin[method]())}),Promise.all(execStack)}function reportError(err){runner.trigger("error",err)}var runner,areaBroker,proxy,probeOverseer,testStore,dataHolder=dataHolderFactory(),plugins={},states={init:!1,ready:!1,render:!1,finish:!1,destroy:!1},itemStates={},provider=testRunnerFactory.getProvider(providerName);return config=config||{},runner=eventifier({init:function(){var self=this;return _.forEach(pluginFactories,function(pluginFactory){var plugin=pluginFactory(runner,self.getAreaBroker());plugins[plugin.getName()]=plugin}),
providerRun("install").then(_.partial(providerRun,"loadPersistentStates")).then(_.partial(pluginRun,"install")).then(_.partial(providerRun,"init")).then(_.partial(pluginRun,"init")).then(function(){self.setState("init",!0).off("init.internal").after("init.internal",function(){this.render()}).trigger("init")}).catch(reportError),this},render:function(){var self=this;return providerRun("render").then(function(){pluginRun("render").then(function(){self.setState("ready",!0).trigger("render").trigger("ready")}).catch(reportError)}).catch(reportError),this},loadItem:function(itemRef){var self=this;return providerRun("loadItem",itemRef).then(function(itemData){
self.setItemState(itemRef,"loaded",!0).off("loaditem.internal").after("loaditem.internal",function(){this.renderItem(itemRef,itemData)}).trigger("loaditem",itemRef,itemData)}).catch(reportError),this},renderItem:function(itemRef,itemData){var self=this;return providerRun("renderItem",itemRef,itemData).then(function(){self.setItemState(itemRef,"ready",!0).trigger("renderitem",itemRef,itemData)}).catch(reportError),this},unloadItem:function(itemRef){var self=this;return providerRun("unloadItem",itemRef).then(function(){itemStates=_.omit(itemStates,itemRef),self.trigger("unloaditem",itemRef)}).catch(reportError),this},disableItem:function(itemRef){var self=this
;return this.getItemState(itemRef,"disabled")||providerRun("disableItem",itemRef).then(function(){self.setItemState(itemRef,"disabled",!0).trigger("disableitem",itemRef)}).catch(reportError),this},enableItem:function(itemRef){var self=this;return this.getItemState(itemRef,"disabled")&&providerRun("enableItem",itemRef).then(function(){self.setItemState(itemRef,"disabled",!1).trigger("enableitem",itemRef)}).catch(reportError),this},finish:function(){var self=this;return providerRun("finish").then(function(){pluginRun("finish").then(function(){self.setState("finish",!0).trigger("finish")}).catch(reportError)}).catch(reportError),this},flush:function(){
var self=this;return providerRun("flush").then(function(){pluginRun("flush").then(function(){self.setState("flush",!0).trigger("flush")}).catch(reportError)}).catch(reportError),this},destroy:function(){var self=this;return providerRun("destroy").then(function(){pluginRun("destroy").then(function(){var destroyed;return destroyed=proxy?proxy.destroy():Promise.resolve(),destroyed.then(function(){self.setTestContext({}).setTestMap({}).setState("destroy",!0).trigger("destroy")})}).catch(reportError)}).catch(reportError),this},getPlugins:function(){return plugins},getPlugin:function(name){return plugins[name]},getConfig:function(){return config},
getAreaBroker:function(){return areaBroker||(areaBroker=provider.loadAreaBroker.call(this)),areaBroker},getProxy:function(){var self=this;if(!proxy){if(!_.isFunction(provider.loadProxy))throw new Error("The provider does not have a loadProxy method");proxy=provider.loadProxy.call(this),proxy.on("error",function(error){self.trigger("error",error)}),proxy.install(dataHolder)}return proxy},getProbeOverseer:function(){return!probeOverseer&&_.isFunction(provider.loadProbeOverseer)&&(probeOverseer=provider.loadProbeOverseer.call(this)),probeOverseer},getTestStore:function(){
return!testStore&&_.isFunction(provider.loadTestStore)&&(testStore=provider.loadTestStore.call(this)),testStore},getPluginStore:function(name){var loadedStore=this.getTestStore();return loadedStore&&_.isFunction(loadedStore.getStore)?this.getTestStore().getStore(name):Promise.reject(new Error("Please configure a testStore via loadTestStore to be able to get a plugin store"))},getState:function(name){return!!states[name]},setState:function(name,active){if(!_.isString(name)||_.isEmpty(name))throw new TypeError("The state must have a name");return states[name]=!!active,this},getPersistentState:function(name){var state
;return _.isFunction(provider.getPersistentState)&&(state=provider.getPersistentState.call(runner,name)),!!state},setPersistentState:function(name,active){var stored;return stored=!_.isString(name)||_.isEmpty(name)?Promise.reject(new TypeError("The state must have a name")):providerRun("setPersistentState",name,!!active),stored.catch(reportError),stored},getItemState:function(itemRef,name){if(_.isEmpty(itemRef)||_.isEmpty(name))throw new TypeError("The state is identified by an itemRef and a name");return!(!itemStates[itemRef]||!itemStates[itemRef][name])},setItemState:function(itemRef,name,active){
if(_.isEmpty(itemRef)||_.isEmpty(name))throw new TypeError("The state is identified by an itemRef and a name");return itemStates[itemRef]=itemStates[itemRef]||{loaded:!1,ready:!1,disabled:!1},itemStates[itemRef][name]=!!active,this},getTestData:function(){return dataHolder&&dataHolder.get("testData")},setTestData:function(testData){return dataHolder&&_.isPlainObject(testData)&&dataHolder.set("testData",testData),this},getTestContext:function(){return dataHolder&&dataHolder.get("testContext")},setTestContext:function(testContext){return dataHolder&&_.isPlainObject(testContext)&&dataHolder.set("testContext",testContext),this},getTestMap:function(){
return dataHolder&&dataHolder.get("testMap")},setTestMap:function(testMap){return dataHolder&&_.isPlainObject(testMap)&&dataHolder.set("testMap",testMap),this},getDataHolder:function(){return dataHolder},next:function(scope){return this.trigger("move","next",scope),this},previous:function(scope){return this.trigger("move","previous",scope),this},jump:function(position,scope){return this.trigger("move","jump",scope,position),this},skip:function(scope){return this.trigger("skip",scope),this},exit:function(why){return this.trigger("exit",why),this},pause:function(){return this.getState("pause")||this.setState("pause",!0).trigger("pause"),this},
resume:function(){return!0===this.getState("pause")&&this.setState("pause",!1).trigger("resume"),this},timeout:function(scope,ref,timer){return this.trigger("timeout",scope,ref,timer),this}}),runner.on("move",function(type){this.trigger.apply(this,[type].concat([].slice.call(arguments,1)))}).after("destroy",function(){dataHolder&&dataHolder.clear(),areaBroker=null,proxy=null,probeOverseer=null,testStore=null}),runner}return providerRegistry(testRunnerFactory,function(provider){if(!_.isFunction(provider.loadAreaBroker))throw new TypeError("The runner provider MUST have a method that returns an areaBroker");return!0})}),
define("tpl!taoTests/template/runnerComponent",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{},'<div class="runner-component"></div>'})}),define("taoTests/runner/runnerComponent",["jquery","lodash","context","core/promise","core/pluginLoader","core/providerLoader","ui/component","taoTests/runner/runner","tpl!taoTests/template/runnerComponent"],function($,_,context,Promise,pluginLoaderFactory,providerLoaderFactory,component,runnerFactory,runnerComponentTpl){"use strict";function loadModules(loader,modules){
return loader().addList(modules).load(context.bundle)}function registerProviders(providers){return _.forEach(providers,function(provider){runnerFactory.registerProvider(provider.name,provider)}),providers}var requiredOptions=["provider"],defaults={};return function(container,config,template){var runnerComponent,runner=null,runnerComponentApi={getOption:function(name){return this.config[name]},getRunner:function(){return runner}};return config=_.omit(_.defaults(config||{},defaults),["renderTo"]),_.forEach(requiredOptions,function(name){if(void 0===config[name])throw new TypeError("Missing required option "+name)}),
runnerComponent=component(runnerComponentApi).setTemplate(template||runnerComponentTpl).on("init",function(){var self=this,plugins=[],initPromises=[];self.getOption("providers")&&initPromises.push(loadModules(providerLoaderFactory,self.getOption("providers")).then(registerProviders)),self.getOption("plugins")&&initPromises.push(loadModules(pluginLoaderFactory,self.getOption("plugins")).then(function(loadedPlugins){plugins=loadedPlugins})),Promise.all(initPromises).then(function(){self.on("render.runnerComponent",function(){var runnerConfig=_.assign(_.omit(self.config,["plugins","providers"]),{renderTo:self.getElement()});self.off("render.runnerComponent"),
runner=runnerFactory(runnerConfig.provider,plugins,runnerConfig).on("error",function(err){self.trigger("error",err)}).on("ready",function(){_.defer(function(){self.show().setState("ready").trigger("ready",runner)})}).after("destroy",function(){this.removeAllListeners()}).init()}).render(container).hide()})}).on("destroy",function(){var destroying=runner&&runner.destroy();return runner=null,destroying}).after("destroy",function(){this.removeAllListeners()}),runnerComponent.init(config)}}),define("core/cachedStore",["core/store"],function(store){"use strict";function cachedStoreFactory(storageName,storageKey){return storageKey=storageKey||defaultKey,
store(storageName).then(function(storage){return storage.getItem(storageKey).then(function(data){return data=data||{},{getItem:function(name){return data[name]},setItem:function(name,value){return data[name]=value,storage.setItem(storageKey,data)},removeItem:function(name){return data[name]=void 0,storage.setItem(storageKey,data)},clear:function(){return data={},storage.removeItem(storageKey)},removeStore:function(){return data={},storage.removeStore()}}})})}var defaultKey="cachedData";return cachedStoreFactory}),define("core/areaBroker",["jquery","lodash"],function($,_){"use strict";return function(requiredAreas,$container,mapping){
var broker,areas,components={};if(("string"==typeof $container||$container instanceof HTMLElement)&&($container=$($container)),!$container||!$container.length)throw new TypeError("Please provide the areaBroker a container");return requiredAreas=requiredAreas||[],broker={defineAreas:function(areasMapping){var keys;if(!_.isPlainObject(areasMapping))throw new TypeError("A mapping has the form of a plain object");if(keys=_.keys(areasMapping),!_.all(requiredAreas,function(val){return _.contains(keys,val)}))throw new TypeError("You have to define a mapping for at least : "+requiredAreas.join(", "));areas=areasMapping},getContainer:function(){return $container},
getArea:function(name){if(_.isEmpty(areas))throw new Error("Sorry areas have not been defined yet!");return areas[name]},setComponent:function(areaName,component){if(!areas[areaName])throw new TypeError("There is no areas defined or no area named "+areaName);if(!_.isObject(component))throw new TypeError("A component has to be an object");components[areaName]=component,this["get"+areaName[0].toUpperCase()+areaName.slice(1)]=this.getComponent.bind(this,areaName)},getComponent:function(areaName){return components[areaName]}},broker.defineAreas(mapping),_.forEach(requiredAreas,function(area){var areaIdentifier=area[0].toUpperCase()+area.slice(1)
;broker["get"+areaIdentifier+"Area"]=_.bind(_.partial(broker.getArea,area),broker)}),broker}}),define("taoTests/runner/areaBroker",["lodash","core/areaBroker"],function(_,areaBroker){"use strict";var requireAreas=["content","toolbox","navigation","control","header","panel"];return _.partial(areaBroker,requireAreas)}),define("core/delegator",["lodash"],function(_){"use strict";function delegator(api,provider,config){function delegate(fnName){var response,args;if(!provider)throw new Error("There is no "+name+" provider!");if(!_.isFunction(provider[fnName])&&!defaultProvider)throw new Error("There is no method called "+fnName+" in the "+name+" provider!")
;return args=_slice.call(arguments,1),response=(provider[fnName]||defaultProvider).apply(context,args),wrapper&&(response=wrapper(response)),eventifier&&api.trigger.apply(api,[fnName,response].concat(args)),response}var extendedConfig=_.defaults(config||{},defaults),eventifier=!!(extendedConfig.eventifier&&api&&api.trigger),context=extendedConfig.forward?provider:api,defaultProvider=_.isFunction(extendedConfig.defaultProvider)?extendedConfig.defaultProvider:_.noop,wrapper=_.isFunction(extendedConfig.wrapper)?extendedConfig.wrapper:null,name=extendedConfig.name;return extendedConfig.required&&(defaultProvider=null),delegate}var defaults={name:"provided",
eventifier:!0},_slice=[].slice;return delegator}),define("core/tokenHandler",[],function(){"use strict";function tokenHandlerFactory(initialToken){var token=initialToken||null;return{getToken:function(){var currentToken=token;return token=null,currentToken},setToken:function(newToken){return token=newToken,this}}}return tokenHandlerFactory}),define("core/connectivity",["core/eventifier"],function(eventifier){"use strict";var status=navigator.onLine,connectivity=eventifier({setOnline:function(){return this.isOffline()&&(status=!0,this.trigger("online").trigger("change",status)),this},setOffline:function(){return this.isOnline()&&(status=!1,
this.trigger("offline").trigger("change",status)),this},isOnline:function(){return status},isOffline:function(){return!status}});return window.addEventListener("online",function(){connectivity.setOnline()}),window.addEventListener("offline",function(){connectivity.setOffline()}),connectivity}),define("taoTests/runner/proxy",["lodash","async","core/delegator","core/eventifier","core/promise","core/providerRegistry","core/tokenHandler","core/connectivity"],function(_,async,delegator,eventifier,Promise,providerRegistry,tokenHandlerFactory,connectivity){"use strict";function proxyFactory(proxyName,config){function getParams(params){
var mergedParams=_.merge({},params,extraCallParams);return extraCallParams={},mergedParams}function getMiddlewares(queue){var list=middlewares[queue]||[];return middlewares.all&&(list=list.concat(middlewares.all)),list}function applyMiddlewares(request,response){var list=_.map(getMiddlewares(request.command),function(middleware){return function(next){middleware(request,response,next)}});return new Promise(function(resolve,reject){async.series(list,function(err){err||"error"!==response.status||(err=response.data),err?reject(err):(proxy.trigger("receive",response.data,"proxy"),resolve(response.data))})})}function delegate(fnName){var request={command:fnName,
params:_slice.call(arguments,1)};return initialized||_.contains(["install","init"],fnName)?delegateProxy.apply(null,arguments).then(function(data){return initialized=!0,applyMiddlewares(request,{status:"success",data:data})}).catch(function(data){return applyMiddlewares(request,{status:"error",data:data})}):Promise.reject(new Error("Proxy is not properly initialized or has been destroyed!"))}
var proxy,delegateProxy,communicator,communicatorPromise,testDataHolder,extraCallParams={},proxyAdapter=proxyFactory.getProvider(proxyName),initConfig=_.defaults(config||{},_defaults),tokenHandler=tokenHandlerFactory(),middlewares={},initialized=!1,onlineStatus=connectivity.isOnline();return proxy=eventifier({use:function(command){var queue=command&&_.isString(command)?command:"all",list=middlewares[queue]||[];return middlewares[queue]=list,_.each(arguments,function(cb){_.isFunction(cb)&&list.push(cb)}),this},install:function(dataHolder){return dataHolder&&(testDataHolder=dataHolder),delegate("install",initConfig)},init:function(params){
return delegate("init",initConfig,getParams(params))},destroy:function(){return delegate("destroy").then(function(){if(initialized=!1,communicatorPromise)return new Promise(function(resolve,reject){function destroyCommunicator(){communicator.destroy().then(resolve).catch(reject)}communicatorPromise.then(function(){destroyCommunicator()}).catch(function(){communicator?destroyCommunicator():resolve()})})})},getDataHolder:function(){return testDataHolder},setOnline:function(){return this.isOffline()&&(onlineStatus=!0,this.trigger("reconnect")),this},setOffline:function(source){return this.isOnline()&&(onlineStatus=!1,this.trigger("disconnect",source)),this},
isOnline:function(){return onlineStatus},isOffline:function(){return!onlineStatus},isConnectivityError:function(err){return _.isObject(err)&&"network"===err.source&&0===err.code&&!1===err.sent},getTokenHandler:function(){return tokenHandler},hasCommunicator:function(){return!!communicatorPromise},getCommunicator:function(){var self=this;return initialized?(communicatorPromise||(communicatorPromise=new Promise(function(resolve,reject){_.isFunction(proxyAdapter.loadCommunicator)?(communicator=proxyAdapter.loadCommunicator.call(self),communicator?communicator.before("error",function(e,err){self.isConnectivityError(err)&&self.setOffline("communicator")
}).on("error",function(err){self.trigger("error",err)}).on("receive",function(response){self.setOnline(),self.trigger("receive",response,"communicator")}).init().then(function(){return communicator.open().then(function(){resolve(communicator)}).catch(reject)}).catch(reject):reject(new Error("No communicator has been set up!"))):reject(new Error("The proxy provider does not have a loadCommunicator method"))})),communicatorPromise):Promise.reject(new Error("Proxy is not properly initialized or has been destroyed!"))},channel:function(name,handler){if(!_.isString(name)||name.length<=0)throw new TypeError("A channel must have a name")
;if(!_.isFunction(handler))throw new TypeError("A handler must be attached to a channel");return this.getCommunicator().then(function(communicatorInstance){communicatorInstance.channel(name,handler)}).catch(_.noop),this.on("channel-"+name,handler),this},send:function(channel,message){return this.getCommunicator().then(function(communicatorInstance){return communicatorInstance.send(channel,message)})},addCallActionParams:function(params){return _.isPlainObject(params)&&_.merge(extraCallParams,params),this},getTestData:function(){return delegate("getTestData")},getTestContext:function(){return delegate("getTestContext")},getTestMap:function(){
return delegate("getTestMap")},sendVariables:function(variables,deferred){return delegate("sendVariables",variables,deferred)},callTestAction:function(action,params,deferred){return delegate("callTestAction",action,getParams(params),deferred)},getItem:function(uri,params){return delegate("getItem",uri,params)},submitItem:function(uri,state,response,params){return delegate("submitItem",uri,state,response,getParams(params))},callItemAction:function(uri,action,params,deferred){return delegate("callItemAction",uri,action,getParams(params),deferred)},telemetry:function(uri,signal,params){return delegate("telemetry",uri,signal,params)}}),
connectivity.on("offline",function(){proxy.setOffline("device")}).on("online",function(){proxy.setOnline()}),proxy.on("message",function(channel,message){this.trigger("channel-"+channel,message)}).use(function(request,response,next){response.data&&response.data.messages&&_.forEach(response.data.messages,function(msg){msg.channel?proxy.trigger("message",msg.channel,msg.message):proxy.trigger("message","malformed",msg)}),next()}).use(function(request,response,next){proxy.isConnectivityError(response.data)?proxy.setOffline("request"):response.data&&!0===response.data.sent&&proxy.setOnline(),next()}),delegateProxy=delegator(proxy,proxyAdapter,{name:"proxy",
wrapper:function(response){return Promise.resolve(response)}}),proxy}var _defaults={},_slice=[].slice;return providerRegistry(proxyFactory)}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("lib/moment-timezone.min",["moment"],b):"object"==typeof module&&module.exports?module.exports=b(require("moment")):b(a.moment)}(this,function(a){"use strict";function b(a){return a>96?a-87:a>64?a-29:a-48}function c(a){var c,d=0,e=a.split("."),f=e[0],g=e[1]||"",h=1,i=0,j=1;for(45===a.charCodeAt(0)&&(d=1,j=-1),d;d<f.length;d++)c=b(f.charCodeAt(d)),i=60*i+c;for(d=0;d<g.length;d++)h/=60,c=b(g.charCodeAt(d)),i+=c*h;return i*j}function d(a){
for(var b=0;b<a.length;b++)a[b]=c(a[b])}function e(a,b){for(var c=0;c<b;c++)a[c]=Math.round((a[c-1]||0)+6e4*a[c]);a[b-1]=1/0}function f(a,b){var c,d=[];for(c=0;c<b.length;c++)d[c]=a[b[c]];return d}function g(a){var b=a.split("|"),c=b[2].split(" "),g=b[3].split(""),h=b[4].split(" ");return d(c),d(g),d(h),e(h,g.length),{name:b[0],abbrs:f(b[1].split(" "),g),offsets:f(c,g),untils:h,population:0|b[5]}}function h(a){a&&this._set(g(a))}function i(a){var b=a.toTimeString(),c=b.match(/\([a-z ]+\)/i);c&&c[0]?(c=c[0].match(/[A-Z]/g),c=c?c.join(""):void 0):(c=b.match(/[A-Z]{3,5}/g),c=c?c[0]:void 0),"GMT"===c&&(c=void 0),this.at=+a,this.abbr=c,
this.offset=a.getTimezoneOffset()}function j(a){this.zone=a,this.offsetScore=0,this.abbrScore=0}function k(a,b){for(var c,d;d=6e4*((b.at-a.at)/12e4|0);)c=new i(new Date(a.at+d)),c.offset===a.offset?a=c:b=c;return a}function l(){var a,b,c,d=(new Date).getFullYear()-2,e=new i(new Date(d,0,1)),f=[e];for(c=1;c<48;c++)b=new i(new Date(d,c,1)),b.offset!==e.offset&&(a=k(e,b),f.push(a),f.push(new i(new Date(a.at+6e4)))),e=b;for(c=0;c<4;c++)f.push(new i(new Date(d+c,0,1))),f.push(new i(new Date(d+c,6,1)));return f}function m(a,b){
return a.offsetScore!==b.offsetScore?a.offsetScore-b.offsetScore:a.abbrScore!==b.abbrScore?a.abbrScore-b.abbrScore:b.zone.population-a.zone.population}function n(a,b){var c,e;for(d(b),c=0;c<b.length;c++)e=b[c],I[e]=I[e]||{},I[e][a]=!0}function o(a){var b,c,d,e=a.length,f={},g=[];for(b=0;b<e;b++){d=I[a[b].offset]||{};for(c in d)d.hasOwnProperty(c)&&(f[c]=!0)}for(b in f)f.hasOwnProperty(b)&&g.push(H[b]);return g}function p(){try{var a=Intl.DateTimeFormat().resolvedOptions().timeZone;if(a){var b=H[r(a)];if(b)return b;z("Moment Timezone found "+a+" from the Intl api, but did not have that data loaded.")}}catch(c){}var d,e,f,g=l(),h=g.length,i=o(g),k=[]
;for(e=0;e<i.length;e++){for(d=new j(t(i[e]),h),f=0;f<h;f++)d.scoreOffsetAt(g[f]);k.push(d)}return k.sort(m),k.length>0?k[0].zone.name:void 0}function q(a){return D&&!a||(D=p()),D}function r(a){return(a||"").toLowerCase().replace(/\//g,"_")}function s(a){var b,c,d,e;for("string"==typeof a&&(a=[a]),b=0;b<a.length;b++)d=a[b].split("|"),c=d[0],e=r(c),F[e]=a[b],H[e]=c,d[5]&&n(e,d[2].split(" "))}function t(a,b){a=r(a);var c,d=F[a];return d instanceof h?d:"string"==typeof d?(d=new h(d),F[a]=d,d):G[a]&&b!==t&&(c=t(G[a],t))?(d=F[a]=new h,d._set(c),d.name=H[a],d):null}function u(){var a,b=[];for(a in H)H.hasOwnProperty(a)&&(F[a]||F[G[a]])&&H[a]&&b.push(H[a])
;return b.sort()}function v(a){var b,c,d,e;for("string"==typeof a&&(a=[a]),b=0;b<a.length;b++)c=a[b].split("|"),d=r(c[0]),e=r(c[1]),G[d]=e,H[d]=c[0],G[e]=d,H[e]=c[1]}function w(a){s(a.zones),v(a.links),A.dataVersion=a.version}function x(a){return x.didShowError||(x.didShowError=!0,z("moment.tz.zoneExists('"+a+"') has been deprecated in favor of !moment.tz.zone('"+a+"')")),!!t(a)}function y(a){return!(!a._a||void 0!==a._tzm)}function z(a){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(a)}function A(b){var c=Array.prototype.slice.call(arguments,0,-1),d=arguments[arguments.length-1],e=t(d),f=a.utc.apply(null,c)
;return e&&!a.isMoment(b)&&y(f)&&f.add(e.parse(f),"minutes"),f.tz(d),f}function B(a){return function(){return this._z?this._z.abbr(this):a.call(this)}}if(void 0!==a.tz)return z("Moment Timezone "+a.tz.version+" was already loaded "+(a.tz.dataVersion?"with data from ":"without any data")+a.tz.dataVersion),a;var D,F={},G={},H={},I={},J=a.version.split("."),K=+J[0],L=+J[1];(K<2||2===K&&L<6)&&z("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+a.version+". See momentjs.com"),h.prototype={_set:function(a){this.name=a.name,this.abbrs=a.abbrs,this.untils=a.untils,this.offsets=a.offsets,this.population=a.population},_index:function(a){
var b,c=+a,d=this.untils;for(b=0;b<d.length;b++)if(c<d[b])return b},parse:function(a){var b,c,d,e,f=+a,g=this.offsets,h=this.untils,i=h.length-1;for(e=0;e<i;e++)if(b=g[e],c=g[e+1],d=g[e?e-1:e],b<c&&A.moveAmbiguousForward?b=c:b>d&&A.moveInvalidForward&&(b=d),f<h[e]-6e4*b)return g[e];return g[i]},abbr:function(a){return this.abbrs[this._index(a)]},offset:function(a){return this.offsets[this._index(a)]}},j.prototype.scoreOffsetAt=function(a){this.offsetScore+=Math.abs(this.zone.offset(a.at)-a.offset),this.zone.abbr(a.at).replace(/[^A-Z]/g,"")!==a.abbr&&this.abbrScore++},A.version="0.5.10",A.dataVersion="",A._zones=F,A._links=G,A._names=H,A.add=s,A.link=v,
A.load=w,A.zone=t,A.zoneExists=x,A.guess=q,A.names=u,A.Zone=h,A.unpack=g,A.unpackBase60=c,A.needsOffset=y,A.moveInvalidForward=!0,A.moveAmbiguousForward=!1;var M=a.fn;a.tz=A,a.defaultZone=null,a.updateOffset=function(b,c){var d,e=a.defaultZone;void 0===b._z&&(e&&y(b)&&!b._isUTC&&(b._d=a.utc(b._a)._d,b.utc().add(e.parse(b),"minutes")),b._z=e),b._z&&(d=b._z.offset(b),Math.abs(d)<16&&(d/=60),void 0!==b.utcOffset?b.utcOffset(-d,c):b.zone(d,c))},M.tz=function(b){return b?(this._z=t(b),this._z?a.updateOffset(this):z("Moment Timezone has no data for "+b+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},
M.zoneName=B(M.zoneName),M.zoneAbbr=B(M.zoneAbbr),M.utc=function(a){return function(){return this._z=null,a.apply(this,arguments)}}(M.utc),a.tz.setDefault=function(b){return(K<2||2===K&&L<9)&&z("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+a.version+"."),a.defaultZone=b?t(b):null,a};var N=a.momentProperties;return"[object Array]"===Object.prototype.toString.call(N)?(N.push("_z"),N.push("_a")):N&&(N._z=null),w({version:"2016j",
zones:["Africa/Abidjan|LMT GMT|g.8 0|01|-2ldXH.Q|48e5","Africa/Accra|LMT GMT GHST|.Q 0 -k|012121212121212121212121212121212121212121212121|-26BbX.8 6tzX.8 MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE|41e5","Africa/Nairobi|LMT EAT BEAT BEAUT|-2r.g -30 -2u -2J|01231|-1F3Cr.g 3Dzr.g okMu MFXJ|47e5","Africa/Algiers|PMT WET WEST CET CEST|-9.l 0 -10 -10 -20|0121212121212121343431312123431213|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 DA0 Imo0 rd0 De0 9Xz0 1fb0 1ap0 16K0 2yo0 mEp0 hwL0 jxA0 11A0 dDd0 17b0 11B0 1cN0 2Dy0 1cN0 1fB0 1cL0|26e5","Africa/Lagos|LMT WAT|-d.A -10|01|-22y0d.A|17e6","Africa/Bissau|LMT WAT GMT|12.k 10 0|012|-2ldWV.E 2xonV.E|39e4","Africa/Maputo|LMT CAT|-2a.k -20|01|-2GJea.k|26e5","Africa/Cairo|EET EEST|-20 -30|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1bIO0 vb0 1ip0 11z0 1iN0 1nz0 12p0 1pz0 10N0 1pz0 16p0 1jz0 s3d0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1WL0 rd0 1Rz0 wp0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1qL0 Xd0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1ny0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 WL0 1qN0 Rb0 1wp0 On0 1zd0 Lz0 1EN0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0|15e6","Africa/Casablanca|LMT WET WEST CET|u.k 0 -10 -10|0121212121212121213121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2gMnt.E 130Lt.E rb0 Dd0 dVb0 b6p0 TX0 EoB0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4mn0 SyN0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0 11A0 5A0 e00 17c0 1fA0 1a00 1a00 1fA0 17c0 1io0 14o0 1lc0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1lc0 14o0 1fA0|32e5","Africa/Ceuta|WET WEST CET CEST|0 -10 -10 -20|010101010101010101010232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-25KN0 11z0 drd0 18o0 3I00 17c0 1fA0 1a00 1io0 1a00 1y7p0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4VB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|85e3","Africa/El_Aaiun|LMT WAT WET WEST|Q.M 10 0 -10|01232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1rDz7.c 1GVA7.c 6L0 AL0 1Nd0 XX0 1Cp0 pz0 1cBB0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0 11A0 5A0 e00 17c0 1fA0 1a00 1a00 1fA0 17c0 1io0 14o0 1lc0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1lc0 14o0 1fA0|20e4","Africa/Johannesburg|SAST SAST SAST|-1u -20 -30|012121|-2GJdu 1Ajdu 1cL0 1cN0 1cL0|84e5","Africa/Khartoum|LMT CAT CAST EAT|-2a.8 -20 -30 -30|01212121212121212121212121212121213|-1yW2a.8 1zK0a.8 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0|51e5","Africa/Monrovia|MMT LRT GMT|H.8 I.u 0|012|-23Lzg.Q 29s01.m|11e5","Africa/Ndjamena|LMT WAT WAST|-10.c -10 -20|0121|-2le10.c 2J3c0.c Wn0|13e5","Africa/Tripoli|LMT CET CEST EET|-Q.I -10 -20 -20|012121213121212121212121213123123|-21JcQ.I 1hnBQ.I vx0 4iP0 xx0 4eN0 Bb0 7ip0 U0n0 A10 1db0 1cN0 1db0 1dd0 1db0 1eN0 1bb0 1e10 1cL0 1c10 1db0 1dd0 1db0 1cN0 1db0 1q10 fAn0 1ep0 1db0 AKq0 TA0 1o00|11e5","Africa/Tunis|PMT CET CEST|-9.l -10 -20|0121212121212121212121212121212121|-2nco9.l 18pa9.l 1qM0 DA0 3Tc0 11B0 1ze0 WM0 7z0 3d0 14L0 1cN0 1f90 1ar0 16J0 1gXB0 WM0 1rA0 11c0 nwo0 Ko0 1cM0 1cM0 1rA0 10M0 zuM0 10N0 1aN0 1qM0 WM0 1qM0 11A0 1o00|20e5","Africa/Windhoek|SWAT SAST SAST CAT WAT WAST|-1u -20 -30 -20 -10 -20|012134545454545454545454545454545454545454545454545454545454545454545454545454545454545454545|-2GJdu 1Ajdu 1cL0 1SqL0 9NA0 11D0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0|32e4","America/Adak|NST NWT NPT BST BDT AHST HST HDT|b0 a0 a0 b0 a0 a0 a0 90|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|326","America/Anchorage|CAT CAWT CAPT AHST AHDT YST AKST AKDT|a0 90 90 a0 90 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T00 8wX0 iA0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|30e4","America/Port_of_Spain|LMT AST|46.4 40|01|-2kNvR.U|43e3","America/Araguaina|LMT BRT BRST|3c.M 30 20|0121212121212121212121212121212121212121212121212121|-2glwL.c HdKL.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 ny10 Lz0|14e4","America/Argentina/Buenos_Aires|CMT ART ARST ART ARST|4g.M 40 30 30 20|0121212121212121212121212121212121212121213434343434343234343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 g0p0 10M0 j3c0 uL0 1qN0 WL0","America/Argentina/Catamarca|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|0121212121212121212121212121212121212121213434343454343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 g0p0 10M0 ako0 7B0 8zb0 uL0","America/Argentina/Cordoba|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|0121212121212121212121212121212121212121213434343454343234343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 g0p0 10M0 j3c0 uL0 1qN0 WL0","America/Argentina/Jujuy|CMT ART ARST ART ARST WART WARST|4g.M 40 30 30 20 40 30|01212121212121212121212121212121212121212134343456543432343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1ze0 TX0 1ld0 WK0 1wp0 TX0 g0p0 10M0 j3c0 uL0","America/Argentina/La_Rioja|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|01212121212121212121212121212121212121212134343434534343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 g0p0 10M0 ako0 7B0 8zb0 uL0","America/Argentina/Mendoza|CMT ART ARST ART ARST WART WARST|4g.M 40 30 30 20 40 30|0121212121212121212121212121212121212121213434345656543235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1u20 SL0 1vd0 Tb0 1wp0 TW0 g0p0 10M0 agM0 Op0 7TX0 uL0","America/Argentina/Rio_Gallegos|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|0121212121212121212121212121212121212121213434343434343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 g0p0 10M0 ako0 7B0 8zb0 uL0","America/Argentina/Salta|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|01212121212121212121212121212121212121212134343434543432343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 g0p0 10M0 j3c0 uL0","America/Argentina/San_Juan|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|01212121212121212121212121212121212121212134343434534343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 g0p0 10M0 ak00 m10 8lb0 uL0","America/Argentina/San_Luis|CMT ART ARST ART ARST WART WARST|4g.M 40 30 30 20 40 30|01212121212121212121212121212121212121212134343456536353465653|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 XX0 1q20 SL0 AN0 kin0 10M0 ak00 m10 8lb0 8L0 jd0 1qN0 WL0 1qN0","America/Argentina/Tucuman|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|012121212121212121212121212121212121212121343434345434323534343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 g0p0 10M0 ako0 4N0 8BX0 uL0 1qN0 WL0","America/Argentina/Ushuaia|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|0121212121212121212121212121212121212121213434343434343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 g0p0 10M0 ajA0 8p0 8zb0 uL0","America/Curacao|LMT ANT AST|4z.L 4u 40|012|-2kV7o.d 28KLS.d|15e4","America/Asuncion|AMT PYT PYT PYST|3O.E 40 30 30|012131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313|-1x589.k 1DKM9.k 3CL0 3Dd0 10L0 1pB0 10n0 1pB0 10n0 1pB0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1lB0 14n0 1dd0 1cL0 1fd0 WL0 1rd0 1aL0 1dB0 Xz0 1qp0 Xb0 1qN0 10L0 1rB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 WN0 1qL0 11B0 1nX0 1ip0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 TX0 1tB0 19X0 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0|28e5","America/Atikokan|CST CDT CWT CPT EST|60 50 50 50 50|0101234|-25TQ0 1in0 Rnb0 3je0 8x30 iw0|28e2","America/Bahia|LMT BRT BRST|2y.4 30 20|01212121212121212121212121212121212121212121212121212121212121|-2glxp.U HdLp.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 l5B0 Rb0|27e5","America/Bahia_Banderas|LMT MST CST PST MDT CDT|71 70 60 80 60 50|0121212131414141414141414141414141414152525252525252525252525252525252525252525252525252525252|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|84e3","America/Barbados|LMT BMT AST ADT|3W.t 3W.t 40 30|01232323232|-1Q0I1.v jsM0 1ODC1.v IL0 1ip0 17b0 1ip0 17b0 1ld0 13b0|28e4","America/Belem|LMT BRT BRST|3d.U 30 20|012121212121212121212121212121|-2glwK.4 HdKK.4 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0|20e5","America/Belize|LMT CST CHDT CDT|5Q.M 60 5u 50|01212121212121212121212121212121212121212121212121213131|-2kBu7.c fPA7.c Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1f0Mu qn0 lxB0 mn0|57e3","America/Blanc-Sablon|AST ADT AWT APT|40 30 30 30|010230|-25TS0 1in0 UGp0 8x50 iu0|11e2","America/Boa_Vista|LMT AMT AMST|42.E 40 30|0121212121212121212121212121212121|-2glvV.k HdKV.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 smp0 WL0 1tB0 2L0|62e2","America/Bogota|BMT COT COST|4U.g 50 40|0121|-2eb73.I 38yo3.I 2en0|90e5","America/Boise|PST PDT MST MWT MPT MDT|80 70 70 60 60 60|0101023425252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-261q0 1nX0 11B0 1nX0 8C10 JCL0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 Dd0 1Kn0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e4","America/Cambridge_Bay|-00 MST MWT MPT MDDT MDT CST CDT EST|0 70 60 60 50 60 60 50 50|0123141515151515151515151515151515151515151515678651515151515151515151515151515151515151515151515151515151515151515151515151|-21Jc0 RO90 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11A0 1nX0 2K0 WQ0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e2","America/Campo_Grande|LMT AMT AMST|3C.s 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwl.w HdLl.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0|77e4","America/Cancun|LMT CST EST EDT CDT|5L.4 60 50 40 50|0123232341414141414141414141414141414141412|-1UQG0 2q2o0 yLB0 1lb0 14p0 1lb0 14p0 Lz0 xB0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 Dd0|63e4","America/Caracas|CMT VET VET|4r.E 4u 40|01212|-2kV7w.k 28KM2.k 1IwOu kqo0|29e5","America/Cayenne|LMT GFT GFT|3t.k 40 30|012|-2mrwu.E 2gWou.E|58e3","America/Panama|CMT EST|5j.A 50|01|-2uduE.o|15e5","America/Chicago|CST CDT EST CWT CPT|60 50 50 50 50|01010101010101010101010101010101010102010101010103401010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 1wp0 TX0 WN0 1qL0 1cN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 11B0 1Hz0 14p0 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|92e5","America/Chihuahua|LMT MST CST CDT MDT|74.k 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|81e4","America/Costa_Rica|SJMT CST CDT|5A.d 60 50|0121212121|-1Xd6n.L 2lu0n.L Db0 1Kp0 Db0 pRB0 15b0 1kp0 mL0|12e5","America/Creston|MST PST|70 80|010|-29DR0 43B0|53e2","America/Cuiaba|LMT AMT AMST|3I.k 40 30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwf.E HdLf.E 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 4a10 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0|54e4","America/Danmarkshavn|LMT WGT WGST GMT|1e.E 30 20 0|01212121212121212121212121212121213|-2a5WJ.k 2z5fJ.k 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 DC0|8","America/Dawson|YST YDT YWT YPT YDDT PST PDT|90 80 80 80 70 80 70|0101023040565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 jrA0 fNd0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|13e2","America/Dawson_Creek|PST PDT PWT PPT MST|80 70 70 70 70|0102301010101010101010101010101010101010101010101010101014|-25TO0 1in0 UGp0 8x10 iy0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 ML0|12e3","America/Denver|MST MDT MWT MPT|70 60 60 60|01010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 11B0 1qL0 WN0 mn0 Ord0 8x20 ix0 LCN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e5","America/Detroit|LMT CST EST EWT EPT EDT|5w.b 60 50 40 40 40|01234252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2Cgir.N peqr.N 156L0 8x40 iv0 6fd0 11z0 Jy10 SL0 dnB0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e5","America/Edmonton|LMT MST MDT MWT MPT|7x.Q 70 60 60 60|01212121212121341212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2yd4q.8 shdq.8 1in0 17d0 hz0 2dB0 1fz0 1a10 11z0 1qN0 WL0 1qN0 11z0 IGN0 8x20 ix0 3NB0 11z0 LFB0 1cL0 3Cp0 1cL0 66N0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|10e5","America/Eirunepe|LMT ACT ACST AMT|4D.s 50 40 40|0121212121212121212121212121212131|-2glvk.w HdLk.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0 yTd0 d5X0|31e3","America/El_Salvador|LMT CST CDT|5U.M 60 50|012121|-1XiG3.c 2Fvc3.c WL0 1qN0 WL0|11e5","America/Tijuana|LMT MST PST PDT PWT PPT|7M.4 70 80 70 70 70|012123245232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQE0 4PX0 8mM0 8lc0 SN0 1cL0 pHB0 83r0 zI0 5O10 1Rz0 cOO0 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 BUp0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|20e5","America/Fort_Nelson|PST PDT PWT PPT MST|80 70 70 70 70|01023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010104|-25TO0 1in0 UGp0 8x10 iy0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0|39e2","America/Fort_Wayne|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010101023010101010101010101040454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 QI10 Db0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 5Tz0 1o10 qLb0 1cL0 1cN0 1cL0 1qhd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Fortaleza|LMT BRT BRST|2y 30 20|0121212121212121212121212121212121212121|-2glxq HdLq 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 5z0 2mN0 On0|34e5","America/Glace_Bay|LMT AST ADT AWT APT|3X.M 40 30 30 30|012134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsI0.c CwO0.c 1in0 UGp0 8x50 iu0 iq10 11z0 Jg10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|19e3","America/Godthab|LMT WGT WGST|3q.U 30 20|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5Ux.4 2z5dx.4 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e3","America/Goose_Bay|NST NDT NST NDT NWT NPT AST ADT ADDT|3u.Q 2u.Q 3u 2u 2u 2u 40 30 20|010232323232323245232323232323232323232323232323232323232326767676767676767676767676767676767676767676768676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-25TSt.8 1in0 DXb0 2HbX.8 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 S10 g0u 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|76e2","America/Grand_Turk|KMT EST EDT AST|57.b 50 40 40|0121212121212121212121212121212121212121212121212121212121212121212121212123|-2l1uQ.N 2HHBQ.N 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e2","America/Guatemala|LMT CST CDT|62.4 60 50|0121212121|-24KhV.U 2efXV.U An0 mtd0 Nz0 ifB0 17b0 zDB0 11z0|13e5","America/Guayaquil|QMT ECT|5e 50|01|-1yVSK|27e5","America/Guyana|LMT GBGT GYT GYT GYT|3Q.E 3J 3J 30 40|01234|-2dvU7.k 24JzQ.k mlc0 Bxbf|80e4","America/Halifax|LMT AST ADT AWT APT|4e.o 40 30 30 30|0121212121212121212121212121212121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsHJ.A xzzJ.A 1db0 3I30 1in0 3HX0 IL0 1E10 ML0 1yN0 Pb0 1Bd0 Mn0 1Bd0 Rz0 1w10 Xb0 1w10 LX0 1w10 Xb0 1w10 Lz0 1C10 Jz0 1E10 OL0 1yN0 Un0 1qp0 Xb0 1qp0 11X0 1w10 Lz0 1HB0 LX0 1C10 FX0 1w10 Xb0 1qp0 Xb0 1BB0 LX0 1td0 Xb0 1qp0 Xb0 Rf0 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 6i10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|39e4","America/Havana|HMT CST CDT|5t.A 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Meuu.o 72zu.o ML0 sld0 An0 1Nd0 Db0 1Nd0 An0 6Ep0 An0 1Nd0 An0 JDd0 Mn0 1Ap0 On0 1fd0 11X0 1qN0 WL0 1wp0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 14n0 1ld0 14L0 1kN0 15b0 1kp0 1cL0 1cN0 1fz0 1a10 1fz0 1fB0 11z0 14p0 1nX0 11B0 1nX0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 1a10 1in0 1a10 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 17c0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 11A0 6i00 Rc0 1wo0 U00 1tA0 Rc0 1wo0 U00 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0|21e5","America/Hermosillo|LMT MST CST PST MDT|7n.Q 70 60 80 60|0121212131414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0|64e4","America/Indiana/Knox|CST CDT CWT CPT EST|60 50 50 50 50|0101023010101010101010101010101010101040101010101010101010101010101010101010101010101010141010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 3Cn0 8wp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 z8o0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Marengo|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010104545454545414545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 dyN0 11z0 6fd0 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1e6p0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Petersburg|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010104010101010101010101010141014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 njX0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 3Fb0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 19co0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Tell_City|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010454541010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 g0p0 11z0 1o10 11z0 1qL0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 caL0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Vevay|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010102304545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 kPB0 Awn0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1lnd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Vincennes|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010454541014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 g0p0 11z0 1o10 11z0 1qL0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 caL0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Winamac|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010101010454541054545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1za0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Inuvik|-00 PST PDDT MST MDT|0 80 60 70 60|0121343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-FnA0 tWU0 1fA0 wPe0 2pz0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|35e2","America/Iqaluit|-00 EWT EPT EST EDDT EDT CST CDT|0 40 40 50 30 40 60 50|01234353535353535353535353535353535353535353567353535353535353535353535353535353535353535353535353535353535353535353535353|-16K00 7nX0 iv0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|67e2","America/Jamaica|KMT EST EDT|57.b 50 40|0121212121212121212121|-2l1uQ.N 2uM1Q.N 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0|94e4","America/Juneau|PST PWT PPT PDT YDT YST AKST AKDT|80 70 70 70 80 90 90 80|01203030303030303030303030403030356767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cM0 1cM0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|33e3","America/Kentucky/Louisville|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101010102301010101010101010101010101454545454545414545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 3Fd0 Nb0 LPd0 11z0 RB0 8x30 iw0 Bb0 10N0 2bB0 8in0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 xz0 gso0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Kentucky/Monticello|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 SWp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/La_Paz|CMT BOST BOT|4w.A 3w.A 40|012|-1x37r.o 13b0|19e5","America/Lima|LMT PET PEST|58.A 50 40|0121212121212121|-2tyGP.o 1bDzP.o zX0 1aN0 1cL0 1cN0 1cL0 1PrB0 zX0 1O10 zX0 6Gp0 zX0 98p0 zX0|11e6","America/Los_Angeles|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 5Wp1 1VaX 3dA0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e6","America/Maceio|LMT BRT BRST|2m.Q 30 20|012121212121212121212121212121212121212121|-2glxB.8 HdLB.8 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 8Q10 WL0 1tB0 5z0 2mN0 On0|93e4","America/Managua|MMT CST EST CDT|5J.c 60 50 50|0121313121213131|-1quie.M 1yAMe.M 4mn0 9Up0 Dz0 1K10 Dz0 s3F0 1KH0 DB0 9In0 k8p0 19X0 1o30 11y0|22e5","America/Manaus|LMT AMT AMST|40.4 40 30|01212121212121212121212121212121|-2glvX.U HdKX.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0|19e5","America/Martinique|FFMT AST ADT|44.k 40 30|0121|-2mPTT.E 2LPbT.E 19X0|39e4","America/Matamoros|LMT CST CDT|6E 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|45e4","America/Mazatlan|LMT MST CST PST MDT|75.E 70 60 80 60|0121212131414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|44e4","America/Menominee|CST CDT CWT CPT EST|60 50 50 50 50|01010230101041010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 LCN0 1fz0 6410 9Jb0 1cM0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|85e2","America/Merida|LMT CST EST CDT|5W.s 60 50 50|0121313131313131313131313131313131313131313131313131313131313131313131313131313131313131|-1UQG0 2q2o0 2hz0 wu30 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|11e5","America/Metlakatla|PST PWT PPT PDT AKST AKDT|80 70 70 70 90 80|0120303030303030303030303030303030454545454545454545454545454545454545454545454|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1hU10 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2","America/Mexico_City|LMT MST CST CDT CWT|6A.A 70 60 50 50|012121232324232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 gEn0 TX0 3xd0 Jb0 6zB0 SL0 e5d0 17b0 1Pff0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|20e6","America/Miquelon|LMT AST PMST PMDT|3I.E 40 30 20|012323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2mKkf.k 2LTAf.k gQ10 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|61e2","America/Moncton|EST AST ADT AWT APT|50 40 30 30 30|012121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsH0 CwN0 1in0 zAo0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1K10 Lz0 1zB0 NX0 1u10 Wn0 S20 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14n1 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 ReX 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|64e3","America/Monterrey|LMT CST CDT|6F.g 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|41e5","America/Montevideo|MMT UYT UYHST UYST UYT UYHST|3I.I 3u 30 20 30 2u|012121212121212121212121213434343434345454543453434343434343434343434343434343434343434|-20UIf.g 8jzJ.g 1cLu 1dcu 1cLu 1dcu 1cLu ircu 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu WLu 1qMu WLu 1qMu 11zu 1o0u 11zu NAu 11bu 2iMu zWu Dq10 19X0 pd0 jz0 cm10 19X0 1fB0 1on0 11d0 1oL0 1nB0 1fzu 1aou 1fzu 1aou 1fzu 3nAu Jb0 3MN0 1SLu 4jzu 2PB0 Lb0 3Dd0 1pb0 ixd0 An0 1MN0 An0 1wp0 On0 1wp0 Rb0 1zd0 On0 1wp0 Rb0 s8p0 1fB0 1ip0 11z0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0|17e5","America/Toronto|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101012301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 11Wu 1nzu 1fD0 WJ0 1wr0 Nb0 1Ap0 On0 1zd0 On0 1wp0 TX0 1tB0 TX0 1tB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 4kM0 8x40 iv0 1o10 11z0 1nX0 11z0 1o10 11z0 1o10 1qL0 11D0 1nX0 11B0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|65e5","America/Nassau|LMT EST EDT|59.u 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2kNuO.u 26XdO.u 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|24e4","America/New_York|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 11B0 1qL0 1a10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x40 iv0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e6","America/Nipigon|EST EDT EWT EPT|50 40 40 40|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 Rnb0 3je0 8x40 iv0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|16e2","America/Nome|NST NWT NPT BST BDT YST AKST AKDT|b0 a0 a0 b0 a0 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cl0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|38e2","America/Noronha|LMT FNT FNST|29.E 20 10|0121212121212121212121212121212121212121|-2glxO.k HdKO.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0|30e2","America/North_Dakota/Beulah|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/North_Dakota/Center|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/North_Dakota/New_Salem|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Ojinaga|LMT MST CST CDT MDT|6V.E 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e3","America/Pangnirtung|-00 AST AWT APT ADDT ADT EDT EST CST CDT|0 40 30 30 20 30 40 50 60 50|012314151515151515151515151515151515167676767689767676767676767676767676767676767676767676767676767676767676767676767676767|-1XiM0 PnG0 8x50 iu0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1o00 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2","America/Paramaribo|LMT PMT PMT NEGT SRT SRT|3E.E 3E.Q 3E.A 3u 3u 30|012345|-2nDUj.k Wqo0.c qanX.I 1dmLN.o lzc0|24e4","America/Phoenix|MST MDT MWT|70 60 60|01010202010|-261r0 1nX0 11B0 1nX0 SgN0 4Al1 Ap0 1db0 SWqX 1cL0|42e5","America/Port-au-Prince|PPMT EST EDT|4N 50 40|01212121212121212121212121212121212121212121|-28RHb 2FnMb 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14q0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 i6n0 1nX0 11B0 1nX0 d430 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5","America/Rio_Branco|LMT ACT ACST AMT|4v.c 50 40 40|01212121212121212121212121212131|-2glvs.M HdLs.M 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0 d5X0|31e4","America/Porto_Velho|LMT AMT AMST|4f.A 40 30|012121212121212121212121212121|-2glvI.o HdKI.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0|37e4","America/Puerto_Rico|AST AWT APT|40 30 30|0120|-17lU0 7XT0 iu0|24e5","America/Rainy_River|CST CDT CWT CPT|60 50 50 50|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TQ0 1in0 Rnb0 3je0 8x30 iw0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|842","America/Rankin_Inlet|-00 CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313131313131313131313131313131313131313131313131313131313131313131|-vDc0 keu0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e2","America/Recife|LMT BRT BRST|2j.A 30 20|0121212121212121212121212121212121212121|-2glxE.o HdLE.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0|33e5","America/Regina|LMT MST MDT MWT MPT CST|6W.A 70 60 60 60 60|012121212121212121212121341212121212121212121212121215|-2AD51.o uHe1.o 1in0 s2L0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 66N0 1cL0 1cN0 19X0 1fB0 1cL0 1fB0 1cL0 1cN0 1cL0 M30 8x20 ix0 1ip0 1cL0 1ip0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 3NB0 1cL0 1cN0|19e4","America/Resolute|-00 CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313431313131313131313131313131313131313131313131313131313131313131|-SnA0 GWS0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|229","America/Santarem|LMT AMT AMST BRT|3C.M 40 30 30|0121212121212121212121212121213|-2glwl.c HdLl.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0|21e4","America/Santiago|SMT CLT CLT CLST CLST|4G.K 50 40 40 30|010203131313131212421242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424|-2q2jh.e fJAh.e 5knG.K 1Vzh.e jRAG.K 1pbh.e 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 nHX0 op0 9Bz0 jb0 1oN0 ko0 Qeo0 WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0|62e5","America/Santo_Domingo|SDMT EST EDT EHDT AST|4E 50 40 4u 40|01213131313131414|-1ttjk 1lJMk Mn0 6sp0 Lbu 1Cou yLu 1RAu wLu 1QMu xzu 1Q0u xXu 1PAu 13jB0 e00|29e5","America/Sao_Paulo|LMT BRT BRST|36.s 30 20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwR.w HdKR.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 pTd0 PX0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0|20e6","America/Scoresbysund|LMT CGT CGST EGST EGT|1r.Q 20 10 0 10|0121343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434|-2a5Ww.8 2z5ew.8 1a00 1cK0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|452","America/Sitka|PST PWT PPT PDT YST AKST AKDT|80 70 70 70 90 90 80|01203030303030303030303030303030345656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|90e2","America/St_Johns|NST NDT NST NDT NWT NPT NDDT|3u.Q 2u.Q 3u 2u 2u 2u 1u|01010101010101010101010101010101010102323232323232324523232323232323232323232323232323232323232323232323232323232323232323232323232323232326232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-28oit.8 14L0 1nB0 1in0 1gm0 Dz0 1JB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1fB0 19X0 1fB0 19X0 10O0 eKX.8 19X0 1iq0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4","America/Swift_Current|LMT MST MDT MWT MPT CST|7b.k 70 60 60 60 60|012134121212121212121215|-2AD4M.E uHdM.E 1in0 UGp0 8x20 ix0 1o10 17b0 1ip0 11z0 1o10 11z0 1o10 11z0 isN0 1cL0 3Cp0 1cL0 1cN0 11z0 1qN0 WL0 pMp0|16e3","America/Tegucigalpa|LMT CST CDT|5M.Q 60 50|01212121|-1WGGb.8 2ETcb.8 WL0 1qN0 WL0 GRd0 AL0|11e5","America/Thule|LMT AST ADT|4z.8 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5To.Q 31NBo.Q 1cL0 1cN0 1cL0 1fB0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|656","America/Thunder_Bay|CST EST EWT EPT EDT|60 50 40 40 40|0123141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-2q5S0 1iaN0 8x40 iv0 XNB0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4","America/Vancouver|PST PDT PWT PPT|80 70 70 70|0102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TO0 1in0 UGp0 8x10 iy0 1o10 17b0 1ip0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5","America/Whitehorse|YST YDT YWT YPT YDDT PST PDT|90 80 80 80 70 80 70|0101023040565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 3NA0 vrd0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e3","America/Winnipeg|CST CDT CWT CPT|60 50 50 50|010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aIi0 WL0 3ND0 1in0 Jap0 Rb0 aCN0 8x30 iw0 1tB0 11z0 1ip0 11z0 1o10 11z0 1o10 11z0 1rd0 10L0 1op0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 1cL0 1cN0 11z0 6i10 WL0 6i10 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|66e4","America/Yakutat|YST YWT YPT YDT AKST AKDT|90 80 80 80 90 80|01203030303030303030303030303030304545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-17T10 8x00 iz0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cn0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|642","America/Yellowknife|-00 MST MWT MPT MDDT MDT|0 70 60 60 50 60|012314151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151|-1pdA0 hix0 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|19e3","Antarctica/Casey|-00 +08 +11|0 -80 -b0|0121212|-2q00 1DjS0 T90 40P0 KL0 blz0|10","Antarctica/Davis|-00 +07 +05|0 -70 -50|01012121|-vyo0 iXt0 alj0 1D7v0 VB0 3Wn0 KN0|70","Antarctica/DumontDUrville|-00 +10|0 -a0|0101|-U0o0 cfq0 bFm0|80","Antarctica/Macquarie|AEST AEDT -00 MIST|-a0 -b0 0 -b0|0102010101010101010101010101010101010101010101010101010101010101010101010101010101010101013|-29E80 19X0 4SL0 1ayy0 Lvs0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0|1","Antarctica/Mawson|-00 +06 +05|0 -60 -50|012|-CEo0 2fyk0|60","Pacific/Auckland|NZMT NZST NZST NZDT|-bu -cu -c0 -d0|01020202020202020202020202023232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-1GCVu Lz0 1tB0 11zu 1o0u 11zu 1o0u 11zu 1o0u 14nu 1lcu 14nu 1lcu 1lbu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1qLu WMu 1qLu 11Au 1n1bu IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|14e5","Antarctica/Palmer|-00 ARST ART ART ARST CLT CLST|0 30 40 30 20 40 30|0121212121234356565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656|-cao0 nD0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 jsN0 14N0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0|40","Antarctica/Rothera|-00 -03|0 30|01|gOo0|130","Antarctica/Syowa|-00 +03|0 -30|01|-vs00|20","Antarctica/Troll|-00 +00 +02|0 0 -20|01212121212121212121212121212121212121212121212121212121212121212121|1puo0 hd0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|40","Antarctica/Vostok|-00 +06|0 -60|01|-tjA0|25","Europe/Oslo|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2awM0 Qm0 W6o0 5pf0 WM0 1fA0 1cM0 1cM0 1cM0 1cM0 wJc0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1qM0 WM0 zpc0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|62e4","Asia/Riyadh|LMT AST|-36.Q -30|01|-TvD6.Q|57e5","Asia/Almaty|LMT +05 +06 +07|-57.M -50 -60 -70|012323232323232323232321232323232323232323232323232|-1Pc57.M eUo7.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0|15e5","Asia/Amman|LMT EET EEST|-2n.I -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1yW2n.I 1HiMn.I KL0 1oN0 11b0 1oN0 11b0 1pd0 1dz0 1cp0 11b0 1op0 11b0 fO10 1db0 1e10 1cL0 1cN0 1cL0 1cN0 1fz0 1pd0 10n0 1ld0 14n0 1hB0 15b0 1ip0 19X0 1cN0 1cL0 1cN0 17b0 1ld0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1So0 y00 1fc0 1dc0 1co0 1dc0 1cM0 1cM0 1cM0 1o00 11A0 1lc0 17c0 1cM0 1cM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|25e5","Asia/Anadyr|LMT +12 +13 +14 +11|-bN.U -c0 -d0 -e0 -b0|01232121212121212121214121212121212121212121212121212121212141|-1PcbN.U eUnN.U 23CL0 1db0 2q10 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|13e3","Asia/Aqtau|LMT +04 +05 +06|-3l.4 -40 -50 -60|012323232323232323232123232312121212121212121212|-1Pc3l.4 eUnl.4 24PX0 2pX0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|15e4","Asia/Aqtobe|LMT +04 +05 +06|-3M.E -40 -50 -60|0123232323232323232321232323232323232323232323232|-1Pc3M.E eUnM.E 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0|27e4","Asia/Ashgabat|LMT +04 +05 +06|-3R.w -40 -50 -60|0123232323232323232323212|-1Pc3R.w eUnR.w 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0|41e4","Asia/Atyrau|LMT +04 +05 +06|-3r.I -40 -50 -60|01232323232323232323212323232323232321212121212|-1Pc3r.I eUnr.I 24PX0 2pX0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 2sp0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0","Asia/Baghdad|BMT AST ADT|-2V.A -30 -40|012121212121212121212121212121212121212121212121212121|-26BeV.A 2ACnV.A 11b0 1cp0 1dz0 1dd0 1db0 1cN0 1cp0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1de0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0|66e5","Asia/Qatar|LMT GST AST|-3q.8 -40 -30|012|-21Jfq.8 27BXq.8|96e4","Asia/Baku|LMT +03 +04 +05|-3j.o -30 -40 -50|01232323232323232323232123232323232323232323232323232323232323232|-1Pc3j.o 1jUoj.o WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cM0 9Je0 1o00 11z0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|27e5","Asia/Bangkok|BMT ICT|-6G.4 -70|01|-218SG.4|15e6","Asia/Barnaul|LMT +06 +07 +08|-5z -60 -70 -80|0123232323232323232323212323232321212121212121212121212121212121212|-21S5z pCnz 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 p90 LE0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0","Asia/Beirut|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-21aq0 1on0 1410 1db0 19B0 1in0 1ip0 WL0 1lQp0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 q6N0 En0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1op0 11b0 dA10 17b0 1iN0 17b0 1iN0 17b0 1iN0 17b0 1vB0 SL0 1mp0 13z0 1iN0 17b0 1iN0 17b0 1jd0 12n0 1a10 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0|22e5","Asia/Bishkek|LMT +05 +06 +07|-4W.o -50 -60 -70|012323232323232323232321212121212121212121212121212|-1Pc4W.o eUnW.o 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2e00 1tX0 17b0 1ip0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1cPu 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0|87e4","Asia/Brunei|LMT BNT BNT|-7D.E -7u -80|012|-1KITD.E gDc9.E|42e4","Asia/Kolkata|HMT BURT IST IST|-5R.k -6u -5u -6u|01232|-18LFR.k 1unn.k HB0 7zX0|15e6","Asia/Chita|LMT +08 +09 +10|-7x.Q -80 -90 -a0|012323232323232323232321232323232323232323232323232323232323232312|-21Q7x.Q pAnx.Q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3re0|33e4","Asia/Choibalsan|LMT ULAT ULAT CHOST CHOT CHOT CHOST|-7C -70 -80 -a0 -90 -80 -90|0123434343434343434343434343434343434343434343456565656565656565656565656565656565656565656565|-2APHC 2UkoC cKn0 1da0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 3Db0 h1f0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0|38e3","Asia/Shanghai|CST CDT|-80 -90|01010101010101010|-1c1I0 LX0 16p0 1jz0 1Myp0 Rb0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0|23e6","Asia/Colombo|MMT +0530 +06 +0630|-5j.w -5u -60 -6u|01231321|-2zOtj.w 1rFbN.w 1zzu 7Apu 23dz0 11zu n3cu|22e5","Asia/Dhaka|HMT BURT IST DACT BDT BDST|-5R.k -6u -5u -60 -60 -70|01213454|-18LFR.k 1unn.k HB0 m6n0 LqMu 1x6n0 1i00|16e6","Asia/Damascus|LMT EET EEST|-2p.c -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-21Jep.c Hep.c 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1xRB0 11X0 1oN0 10L0 1pB0 11b0 1oN0 10L0 1mp0 13X0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 Nb0 1AN0 Nb0 bcp0 19X0 1gp0 19X0 3ld0 1xX0 Vd0 1Bz0 Sp0 1vX0 10p0 1dz0 1cN0 1cL0 1db0 1db0 1g10 1an0 1ap0 1db0 1fd0 1db0 1cN0 1db0 1dd0 1db0 1cp0 1dz0 1c10 1dX0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 19z0 1fB0 1qL0 11B0 1on0 Wp0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0|26e5","Asia/Dili|LMT TLT JST TLT WITA|-8m.k -80 -90 -90 -80|012343|-2le8m.k 1dnXm.k 8HA0 1ew00 Xld0|19e4","Asia/Dubai|LMT GST|-3F.c -40|01|-21JfF.c|39e5","Asia/Dushanbe|LMT +05 +06 +07|-4z.c -50 -60 -70|012323232323232323232321|-1Pc4z.c eUnz.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2hB0|76e4","Asia/Famagusta|LMT EET EEST +03|-2f.M -20 -30 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212123|-1Vc2f.M 2a3cf.M 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 15U0","Asia/Gaza|EET EEST IST IDT|-20 -30 -20 -30|010101010101010101010101010101012323232323232323232323232320101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 11z0 1o10 14o0 1lA1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0|18e5","Asia/Hebron|EET EEST IST IDT|-20 -30 -20 -30|01010101010101010101010101010101232323232323232323232323232010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 12L0 1mN0 14o0 1lc0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0|25e4","Asia/Ho_Chi_Minh|LMT PLMT ICT IDT JST|-76.E -76.u -70 -80 -90|0123423232|-2yC76.E bK00.a 1h7b6.u 5lz0 18o0 3Oq0 k5b0 aW00 BAM0|90e5","Asia/Hong_Kong|LMT HKT HKST JST|-7A.G -80 -90 -90|0121312121212121212121212121212121212121212121212121212121212121212121|-2CFHA.G 1sEP6.G 1cL0 ylu 93X0 1qQu 1tX0 Rd0 1In0 NB0 1cL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1kL0 14N0 1nX0 U10 1tz0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 Rd0 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 17d0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1cL0 6fd0 14n0|73e5","Asia/Hovd|LMT HOVT HOVT HOVST|-66.A -60 -70 -80|012323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2APG6.A 2Uko6.A cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 kEp0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0|81e3","Asia/Irkutsk|IMT +07 +08 +09|-6V.5 -70 -80 -90|01232323232323232323232123232323232323232323232323232323232323232|-21zGV.5 pjXV.5 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|60e4","Europe/Istanbul|IMT EET EEST +04 +03|-1U.U -20 -30 -40 -30|012121212121212121212121212121212121212121212121212121234343434342121212121212121212121212121212121212121212121212121212121212124|-2ogNU.U dzzU.U 11b0 8tB0 1on0 1410 1db0 19B0 1in0 3Rd0 Un0 1oN0 11b0 zSp0 CL0 mN0 1Vz0 1gN0 1pz0 5Rd0 1fz0 1yp0 ML0 1kp0 17b0 1ip0 17b0 1fB0 19X0 1jB0 18L0 1ip0 17z0 qdd0 xX0 3S10 Tz0 dA10 11z0 1o10 11z0 1qN0 11z0 1ze0 11B0 WM0 1qO0 WI0 1nX0 1rB0 10L0 11B0 1in0 17d0 1in0 2pX0 19E0 1fU0 16Q0 1iI0 16Q0 1iI0 1Vd0 pb0 3Kp0 14o0 1de0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1a00 1fA0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WO0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 15w0|13e6","Asia/Jakarta|BMT JAVT WIB JST WIB WIB|-77.c -7k -7u -90 -80 -70|01232425|-1Q0Tk luM0 mPzO 8vWu 6kpu 4PXu xhcu|31e6","Asia/Jayapura|LMT WIT ACST|-9m.M -90 -9u|0121|-1uu9m.M sMMm.M L4nu|26e4","Asia/Jerusalem|JMT IST IDT IDDT|-2k.E -20 -30 -40|01212121212132121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-26Bek.E SyMk.E 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 3LB0 Em0 or0 1cn0 1dB0 16n0 10O0 1ja0 1tC0 14o0 1cM0 1a00 11A0 1Na0 An0 1MP0 AJ0 1Kp0 LC0 1oo0 Wl0 EQN0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 1hB0 1dX0 1ep0 1aL0 1eN0 17X0 1nf0 11z0 1tB0 19W0 1e10 17b0 1ep0 1gL0 18N0 1fz0 1eN0 17b0 1gq0 1gn0 19d0 1dz0 1c10 17X0 1hB0 1gn0 19d0 1dz0 1c10 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0|81e4","Asia/Kabul|AFT AFT|-40 -4u|01|-10Qs0|46e5","Asia/Kamchatka|LMT +11 +12 +13|-ay.A -b0 -c0 -d0|012323232323232323232321232323232323232323232323232323232323212|-1SLKy.A ivXy.A 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|18e4","Asia/Karachi|LMT IST IST KART PKT PKST|-4s.c -5u -6u -50 -50 -60|012134545454|-2xoss.c 1qOKW.c 7zX0 eup0 LqMu 1fy00 1cL0 dK10 11b0 1610 1jX0|24e6","Asia/Urumqi|LMT XJT|-5O.k -60|01|-1GgtO.k|32e5","Asia/Kathmandu|LMT IST NPT|-5F.g -5u -5J|012|-21JhF.g 2EGMb.g|12e5","Asia/Khandyga|LMT +08 +09 +10 +11|-92.d -80 -90 -a0 -b0|0123232323232323232323212323232323232323232323232343434343434343432|-21Q92.d pAp2.d 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 qK0 yN0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0|66e2","Asia/Krasnoyarsk|LMT +06 +07 +08|-6b.q -60 -70 -80|01232323232323232323232123232323232323232323232323232323232323232|-21Hib.q prAb.q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|10e5","Asia/Kuala_Lumpur|SMT MALT MALST MALT MALT JST MYT|-6T.p -70 -7k -7k -7u -90 -80|01234546|-2Bg6T.p 17anT.p 7hXE dM00 17bO 8Fyu 1so1u|71e5","Asia/Kuching|LMT BORT BORT BORTST JST MYT|-7l.k -7u -80 -8k -90 -80|01232323232323232425|-1KITl.k gDbP.k 6ynu AnE 1O0k AnE 1NAk AnE 1NAk AnE 1NAk AnE 1O0k AnE 1NAk AnE pAk 8Fz0 1so10|13e4","Asia/Macau|LMT MOT MOST CST|-7y.k -80 -90 -80|0121212121212121212121212121212121212121213|-2le7y.k 1XO34.k 1wn0 Rd0 1wn0 R9u 1wqu U10 1tz0 TVu 1tz0 17gu 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cJu 1cL0 1cN0 1fz0 1cN0 1cOu 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cJu 1cL0 1cN0 1fz0 1cN0 1cL0 KEp0|57e4","Asia/Magadan|LMT +10 +11 +12|-a3.c -a0 -b0 -c0|012323232323232323232321232323232323232323232323232323232323232312|-1Pca3.c eUo3.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3Cq0|95e3","Asia/Makassar|LMT MMT WITA JST|-7V.A -7V.A -80 -90|01232|-21JjV.A vfc0 myLV.A 8ML0|15e5","Asia/Manila|PHT PHST JST|-80 -90 -90|010201010|-1kJI0 AL0 cK10 65X0 mXB0 vX0 VK10 1db0|24e6","Asia/Nicosia|LMT EET EEST|-2d.s -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Vc2d.s 2a3cd.s 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|32e4","Asia/Novokuznetsk|LMT +06 +07 +08|-5M.M -60 -70 -80|012323232323232323232321232323232323232323232323232323232323212|-1PctM.M eULM.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|55e4","Asia/Novosibirsk|LMT +06 +07 +08|-5v.E -60 -70 -80|0123232323232323232323212323212121212121212121212121212121212121212|-21Qnv.E pAFv.E 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 ml0 Os0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 4eN0|15e5","Asia/Omsk|LMT +05 +06 +07|-4R.u -50 -60 -70|01232323232323232323232123232323232323232323232323232323232323232|-224sR.u pMLR.u 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|12e5","Asia/Oral|LMT +04 +05 +06|-3p.o -40 -50 -60|01232323232323232121212121212121212121212121212|-1Pc3p.o eUnp.o 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 1cM0 IM0 1EM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|27e4","Asia/Pontianak|LMT PMT WIB JST WIB WITA WIB|-7h.k -7h.k -7u -90 -80 -80 -70|012324256|-2ua7h.k XE00 munL.k 8Rau 6kpu 4PXu xhcu Wqnu|23e4","Asia/Pyongyang|LMT KST JCST JST KST|-8n -8u -90 -90 -90|012341|-2um8n 97XR 12FXu jdA0 2Onc0|29e5","Asia/Qyzylorda|LMT +04 +05 +06|-4l.Q -40 -50 -60|0123232323232323232323232323232323232323232323|-1Pc4l.Q eUol.Q 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 3ao0 1EM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|73e4","Asia/Rangoon|RMT BURT JST MMT|-6o.E -6u -90 -6u|0123|-21Jio.E SmnS.E 7j9u|48e5","Asia/Sakhalin|LMT +09 +11 +12 +10|-9u.M -90 -b0 -c0 -a0|01232323232323232323232423232323232424242424242424242424242424242|-2AGVu.M 1BoMu.M 1qFa0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 2pB0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|58e4","Asia/Samarkand|LMT +04 +05 +06|-4r.R -40 -50 -60|01232323232323232323232|-1Pc4r.R eUor.R 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|36e4","Asia/Seoul|LMT KST JCST JST KST KDT KDT|-8r.Q -8u -90 -90 -90 -9u -a0|01234151515151515146464|-2um8r.Q 97XV.Q 12FXu jjA0 kKo0 2I0u OL0 1FB0 Rb0 1qN0 TX0 1tB0 TX0 1tB0 TX0 1tB0 TX0 2ap0 12FBu 11A0 1o00 11A0|23e6","Asia/Singapore|SMT MALT MALST MALT MALT JST SGT SGT|-6T.p -70 -7k -7k -7u -90 -7u -80|012345467|-2Bg6T.p 17anT.p 7hXE dM00 17bO 8Fyu Mspu DTA0|56e5","Asia/Srednekolymsk|LMT +10 +11 +12|-ae.Q -a0 -b0 -c0|01232323232323232323232123232323232323232323232323232323232323232|-1Pcae.Q eUoe.Q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|35e2","Asia/Taipei|JWST JST CST CDT|-80 -90 -80 -90|01232323232323232323232323232323232323232|-1iw80 joM0 1yo0 Tz0 1ip0 1jX0 1cN0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 10N0 1BX0 10p0 1pz0 10p0 1pz0 10p0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1BB0 ML0 1Bd0 ML0 uq10 1db0 1cN0 1db0 97B0 AL0|74e5","Asia/Tashkent|LMT +05 +06 +07|-4B.b -50 -60 -70|012323232323232323232321|-1Pc4B.b eUnB.b 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0|23e5","Asia/Tbilisi|TBMT +03 +04 +05|-2X.b -30 -40 -50|0123232323232323232323212121232323232323232323212|-1Pc2X.b 1jUnX.b WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cK0 1cL0 1cN0 1cL0 1cN0 2pz0 1cL0 1fB0 3Nz0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 An0 Os0 WM0|11e5","Asia/Tehran|LMT TMT IRST IRST IRDT IRDT|-3p.I -3p.I -3u -40 -50 -4u|01234325252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2btDp.I 1d3c0 1huLT.I TXu 1pz0 sN0 vAu 1cL0 1dB0 1en0 pNB0 UL0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 64p0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0|14e6","Asia/Thimphu|LMT IST BTT|-5W.A -5u -60|012|-Su5W.A 1BGMs.A|79e3","Asia/Tokyo|JCST JST JDT|-90 -90 -a0|0121212121|-1iw90 pKq0 QL0 1lB0 13X0 1zB0 NX0 1zB0 NX0|38e6","Asia/Tomsk|LMT +06 +07 +08|-5D.P -60 -70 -80|0123232323232323232323212323232323232323232323212121212121212121212|-21NhD.P pxzD.P 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 co0 1bB0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3Qp0|10e5","Asia/Ulaanbaatar|LMT ULAT ULAT ULAST|-77.w -70 -80 -90|012323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2APH7.w 2Uko7.w cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 kEp0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0|12e5","Asia/Ust-Nera|LMT +08 +09 +12 +11 +10|-9w.S -80 -90 -c0 -b0 -a0|012343434343434343434345434343434343434343434343434343434343434345|-21Q9w.S pApw.S 23CL0 1d90 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0|65e2","Asia/Vladivostok|LMT +09 +10 +11|-8L.v -90 -a0 -b0|01232323232323232323232123232323232323232323232323232323232323232|-1SJIL.v itXL.v 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|60e4","Asia/Yakutsk|LMT +08 +09 +10|-8C.W -80 -90 -a0|01232323232323232323232123232323232323232323232323232323232323232|-21Q8C.W pAoC.W 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|28e4","Asia/Yekaterinburg|LMT PMT +04 +05 +06|-42.x -3J.5 -40 -50 -60|012343434343434343434343234343434343434343434343434343434343434343|-2ag42.x 7mQh.s qBvJ.5 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|14e5","Asia/Yerevan|LMT +03 +04 +05|-2W -30 -40 -50|0123232323232323232323212121212323232323232323232323232323232|-1Pc2W 1jUnW WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 4RX0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|13e5","Atlantic/Azores|HMT AZOT AZOST AZOMT AZOT AZOST WET|1S.w 20 10 0 10 0 0|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121454545454545454545454545454545456545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2ldW5.s aPX5.s Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|25e4","Atlantic/Bermuda|LMT AST ADT|4j.i 40 30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1BnRE.G 1LTbE.G 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|65e3","Atlantic/Canary|LMT CANT WET WEST|11.A 10 0 -10|01232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UtaW.o XPAW.o 1lAK0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4","Atlantic/Cape_Verde|LMT CVT CVST CVT|1y.4 20 10 10|01213|-2xomp.U 1qOMp.U 7zX0 1djf0|50e4","Atlantic/Faroe|LMT WET WEST|r.4 0 -10|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2uSnw.U 2Wgow.U 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|49e3","Atlantic/Madeira|FMT MADT MADST MADMT WET WEST|17.A 10 0 -10 0 -10|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2ldWQ.o aPWQ.o Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|27e4","Atlantic/Reykjavik|LMT IST ISST GMT|1s 10 0 0|012121212121212121212121212121212121212121212121212121212121212121213|-2uWmw mfaw 1Bd0 ML0 1LB0 Cn0 1LB0 3fX0 C10 HrX0 1cO0 LB0 1EL0 LA0 1C00 Oo0 1wo0 Rc0 1wo0 Rc0 1wo0 Rc0 1zc0 Oo0 1zc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0|12e4","Atlantic/South_Georgia|GST|20|0||30","Atlantic/Stanley|SMT FKT FKST FKT FKST|3P.o 40 30 30 20|0121212121212134343212121212121212121212121212121212121212121212121212|-2kJw8.A 12bA8.A 19X0 1fB0 19X0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 Cn0 1Cc10 WL0 1qL0 U10 1tz0 U10 1qM0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 U10 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qN0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 U10 1tz0 U10 1tz0 U10|21e2","Australia/Sydney|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|40e5","Australia/Adelaide|ACST ACDT|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 WM0 1qM0 Rc0 1zc0 U00 1tA0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|11e5","Australia/Brisbane|AEST AEDT|-a0 -b0|01010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0|20e5","Australia/Broken_Hill|ACST ACDT|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|18e3","Australia/Currie|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|746","Australia/Darwin|ACST ACDT|-9u -au|010101010|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0|12e4","Australia/Eucla|ACWST ACWDT|-8J -9J|0101010101010101010|-293kI xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0|368","Australia/Hobart|AEST AEDT|-a0 -b0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 VfB0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|21e4","Australia/Lord_Howe|AEST LHST LHDT LHDT|-a0 -au -bu -b0|0121212121313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313|raC0 1zdu Rb0 1zd0 On0 1zd0 On0 1zd0 On0 1zd0 TXu 1qMu WLu 1tAu WLu 1tAu TXu 1tAu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu 11zu 1o0u 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 11Au 1nXu 1qMu 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu 11zu 1o0u WLu 1qMu 14nu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1fzu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu|347","Australia/Lindeman|AEST AEDT|-a0 -b0|010101010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0|10","Australia/Melbourne|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1qM0 11A0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|39e5","Australia/Perth|AWST AWDT|-80 -90|0101010101010101010|-293jX xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0|18e5","CET|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","CST6CDT|CST CDT CWT CPT|60 50 50 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Pacific/Easter|EMT EAST EASST EAST EASST|7h.s 70 60 60 50|0121212121212121212121212121234343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434|-1uSgG.w 1s4IG.w WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0|30e2","EET|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","EST|EST|50|0|","EST5EDT|EST EDT EWT EPT|50 40 40 40|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 SgN0 8x40 iv0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Europe/Dublin|DMT IST GMT BST IST|p.l -y.D 0 -10 -10|01232323232324242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242|-2ax9y.D Rc0 1fzy.D 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 g5X0 14p0 1wn0 17d0 1io0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Etc/GMT+0|GMT|0|0|","Etc/GMT+1|-01|10|0|","Etc/GMT+10|-10|a0|0|","Etc/GMT+11|-11|b0|0|","Etc/GMT+12|-12|c0|0|","Etc/GMT+2|-02|20|0|","Etc/GMT+3|-03|30|0|","Etc/GMT+4|-04|40|0|","Etc/GMT+5|-05|50|0|","Etc/GMT+6|-06|60|0|","Etc/GMT+7|-07|70|0|","Etc/GMT+8|-08|80|0|","Etc/GMT+9|-09|90|0|","Etc/GMT-1|+01|-10|0|","Etc/GMT-10|+10|-a0|0|","Etc/GMT-11|+11|-b0|0|","Etc/GMT-12|+12|-c0|0|","Etc/GMT-13|+13|-d0|0|","Etc/GMT-14|+14|-e0|0|","Etc/GMT-2|+02|-20|0|","Etc/GMT-3|+03|-30|0|","Etc/GMT-4|+04|-40|0|","Etc/GMT-5|+05|-50|0|","Etc/GMT-6|+06|-60|0|","Etc/GMT-7|+07|-70|0|","Etc/GMT-8|+08|-80|0|","Etc/GMT-9|+09|-90|0|","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Amsterdam|AMT NST NEST NET CEST CET|-j.w -1j.w -1k -k -20 -10|010101010101010101010101010101010101010101012323234545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545|-2aFcj.w 11b0 1iP0 11A0 1io0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1co0 1io0 1yo0 Pc0 1a00 1fA0 1Bc0 Mo0 1tc0 Uo0 1tA0 U00 1uo0 W00 1s00 VA0 1so0 Vc0 1sM0 UM0 1wo0 Rc0 1u00 Wo0 1rA0 W00 1s00 VA0 1sM0 UM0 1w00 fV0 BCX.w 1tA0 U00 1u00 Wo0 1sm0 601k WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|16e5","Europe/Andorra|WET CET CEST|0 -10 -20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-UBA0 1xIN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|79e3","Europe/Astrakhan|LMT +03 +04 +05|-3c.c -30 -40 -50|012323232323232323212121212121212121212121212121212121212121212|-1Pcrc.c eUMc.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0","Europe/Athens|AMT EET EEST CEST CET|-1y.Q -20 -30 -20 -10|012123434121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a61x.Q CNbx.Q mn0 kU10 9b0 3Es0 Xa0 1fb0 1dd0 k3X0 Nz0 SCp0 1vc0 SO0 1cM0 1a00 1ao0 1fc0 1a10 1fG0 1cg0 1dX0 1bX0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|35e5","Europe/London|GMT BST BDST|0 -10 -20|0101010101010101010101010101010101010101010101010121212121210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|10e6","Europe/Belgrade|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19RC0 3IP0 WM0 1fA0 1cM0 1cM0 1rc0 Qo0 1vmo0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Berlin|CET CEST CEMT|-10 -20 -30|01010101010101210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 kL0 Nc0 m10 WM0 1ao0 1cp0 dX0 jz0 Dd0 1io0 17c0 1fA0 1a00 1ehA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|41e5","Europe/Prague|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 16M0 1lc0 1tA0 17A0 11c0 1io0 17c0 1io0 17c0 1fc0 1ao0 1bNc0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|13e5","Europe/Brussels|WET CET CEST WEST|0 -10 -20 -10|0121212103030303030303030303030303030303030303030303212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ehc0 3zX0 11c0 1iO0 11A0 1o00 11A0 my0 Ic0 1qM0 Rc0 1EM0 UM0 1u00 10o0 1io0 1io0 17c0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a30 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 y00 5Wn0 WM0 1fA0 1cM0 16M0 1iM0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|21e5","Europe/Bucharest|BMT EET EEST|-1I.o -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1xApI.o 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Axc0 On0 1fA0 1a10 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|19e5","Europe/Budapest|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1ip0 17b0 1op0 1tb0 Q2m0 3Ne0 WM0 1fA0 1cM0 1cM0 1oJ0 1dc0 1030 1fA0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1iM0 1fA0 8Ha0 Rb0 1wN0 Rb0 1BB0 Lz0 1C20 LB0 SNX0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e5","Europe/Zurich|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19Lc0 11A0 1o00 11A0 1xG10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|38e4","Europe/Chisinau|CMT BMT EET EEST CEST CET MSK MSD|-1T -1I.o -20 -30 -20 -10 -30 -40|012323232323232323234545467676767676767676767323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-26jdT wGMa.A 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 27A0 2en0 39g0 WM0 1fA0 1cM0 V90 1t7z0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 gL0 WO0 1cM0 1cM0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11D0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|67e4","Europe/Copenhagen|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 Tz0 VuO0 60q0 WM0 1fA0 1cM0 1cM0 1cM0 S00 1HA0 Nc0 1C00 Dc0 1Nc0 Ao0 1h5A0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Gibraltar|GMT BST BDST CET CEST|0 -10 -20 -10 -20|010101010101010101010101010101010101010101010101012121212121010121010101010101010101034343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 10Jz0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|30e3","Europe/Helsinki|HMT EET EEST|-1D.N -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1WuND.N OULD.N 1dA0 1xGq0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Kaliningrad|CET CEST CET CEST MSK MSD EEST EET +03|-10 -20 -20 -30 -30 -40 -30 -20 -30|0101010101010232454545454545454546767676767676767676767676767676767676767676787|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 Am0 Lb0 1en0 op0 1pNz0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|44e4","Europe/Kiev|KMT EET MSK CEST CET MSD EEST|-22.4 -20 -30 -20 -10 -40 -30|0123434252525252525252525256161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc22.4 eUo2.4 rnz0 2Hg0 WM0 1fA0 da0 1v4m0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 Db0 3220 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|34e5","Europe/Kirov|LMT +03 +04 +05|-3i.M -30 -40 -50|01232323232323232321212121212121212121212121212121212121212121|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|48e4","Europe/Lisbon|LMT WET WEST WEMT CET CEST|A.J 0 -10 -20 -10 -20|012121212121212121212121212121212121212121212321232123212321212121212121212121212121212121212121214121212121212121212121212121212124545454212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ldXn.f aPWn.f Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 pvy0 1cM0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|27e5","Europe/Luxembourg|LMT CET CEST WET WEST WEST WET|-o.A -10 -20 0 -10 -20 -10|0121212134343434343434343434343434343434343434343434565651212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2DG0o.A t6mo.A TB0 1nX0 Up0 1o20 11A0 rW0 CM0 1qP0 R90 1EO0 UK0 1u20 10m0 1ip0 1in0 17e0 19W0 1fB0 1db0 1cp0 1in0 17d0 1fz0 1a10 1in0 1a10 1in0 17f0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 vA0 60L0 WM0 1fA0 1cM0 17c0 1io0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4","Europe/Madrid|WET WEST WEMT CET CEST|0 -10 -20 -10 -20|01010101010101010101010121212121234343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-28dd0 11A0 1go0 19A0 1co0 1dA0 b1A0 18o0 3I00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 iyo0 Rc0 18o0 1hc0 1io0 1a00 14o0 5aL0 MM0 1vc0 17A0 1i00 1bc0 1eo0 17d0 1in0 17A0 6hA0 10N0 XIL0 1a10 1in0 17d0 19X0 1cN0 1fz0 1a10 1fX0 1cp0 1cO0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|62e5","Europe/Malta|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2arB0 Lz0 1cN0 1db0 1410 1on0 Wp0 1qL0 17d0 1cL0 M3B0 5M20 WM0 1fA0 1co0 17c0 1iM0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 LA0 1C00 LA0 1EM0 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1co0 1cM0 1lA0 Xc0 1qq0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1iN0 19z0 1fB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|42e4","Europe/Minsk|MMT EET MSK CEST CET MSD EEST +03|-1O -20 -30 -20 -10 -40 -30 -30|01234343252525252525252525261616161616161616161616161616161616161617|-1Pc1O eUnO qNX0 3gQ0 WM0 1fA0 1cM0 Al0 1tsn0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 3Fc0 1cN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0|19e5","Europe/Monaco|PMT WET WEST WEMT CET CEST|-9.l 0 -10 -20 -10 -20|01212121212121212121212121212121212121212121212121232323232345454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 2RV0 11z0 11B0 1ze0 WM0 1fA0 1cM0 1fa0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|38e3","Europe/Moscow|MMT MMT MST MDST MSD MSK +05 EET EEST MSK|-2u.h -2v.j -3v.j -4v.j -40 -30 -50 -20 -30 -40|012132345464575454545454545454545458754545454545454545454545454545454545454595|-2ag2u.h 2pyW.W 1bA0 11X0 GN0 1Hb0 c4v.j ik0 3DA0 dz0 15A0 c10 2q10 iM10 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|16e6","Europe/Paris|PMT WET WEST CEST CET WEMT|-9.l 0 -10 -20 -10 -20|0121212121212121212121212121212121212121212121212123434352543434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434|-2nco8.l cNb8.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 Ik0 5M30 WM0 1fA0 1cM0 Vx0 hB0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|11e6","Europe/Riga|RMT LST EET MSK CEST CET MSD EEST|-1A.y -2A.y -20 -30 -20 -10 -40 -30|010102345454536363636363636363727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272|-25TzA.y 11A0 1iM0 ko0 gWm0 yDXA.y 2bX0 3fE0 WM0 1fA0 1cM0 1cM0 4m0 1sLy0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 1o00 11A0 1o00 11A0 1qM0 3oo0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|64e4","Europe/Rome|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2arB0 Lz0 1cN0 1db0 1410 1on0 Wp0 1qL0 17d0 1cL0 M3B0 5M20 WM0 1fA0 1cM0 16M0 1iM0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 LA0 1C00 LA0 1EM0 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1C00 LA0 1zc0 Oo0 1C00 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1zc0 Oo0 1fC0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|39e5","Europe/Samara|LMT +03 +04 +05|-3k.k -30 -40 -50|0123232323232323232121232323232323232323232323232323232323212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 2y10 14m0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|12e5","Europe/Saratov|LMT +03 +04 +05|-34.i -30 -40 -50|012323232323232321212121212121212121212121212121212121212121212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1cM0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 5810","Europe/Simferopol|SMT EET MSK CEST CET MSD EEST MSK|-2g -20 -30 -20 -10 -40 -30 -40|012343432525252525252525252161616525252616161616161616161616161616161616172|-1Pc2g eUog rEn0 2qs0 WM0 1fA0 1cM0 3V0 1u0L0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 4eL0 1cL0 1cN0 1cL0 1cN0 dX0 WL0 1cN0 1cL0 1fB0 1o30 11B0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0|33e4","Europe/Sofia|EET CET CEST EEST|-20 -10 -20 -30|01212103030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030|-168L0 WM0 1fA0 1cM0 1cM0 1cN0 1mKH0 1dd0 1fb0 1ap0 1fb0 1a20 1fy0 1a30 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Stockholm|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 TB0 2yDe0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|15e5","Europe/Tallinn|TMT CET CEST EET MSK MSD EEST|-1D -10 -20 -20 -30 -40 -30|012103421212454545454545454546363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363|-26oND teD 11A0 1Ta0 4rXl KSLD 2FX0 2Jg0 WM0 1fA0 1cM0 18J0 1sTX0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o10 11A0 1qM0 5QM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|41e4","Europe/Tirane|LMT CET CEST|-1j.k -10 -20|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2glBj.k 14pcj.k 5LC0 WM0 4M0 1fCK0 10n0 1op0 11z0 1pd0 11z0 1qN0 WL0 1qp0 Xb0 1qp0 Xb0 1qp0 11z0 1lB0 11z0 1qN0 11z0 1iN0 16n0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|42e4","Europe/Ulyanovsk|LMT +03 +04 +05 +02|-3d.A -30 -40 -50 -20|01232323232323232321214121212121212121212121212121212121212121212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0","Europe/Uzhgorod|CET CEST MSK MSD EET EEST|-10 -20 -30 -40 -20 -30|010101023232323232323232320454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-1cqL0 6i00 WM0 1fA0 1cM0 1ml0 1Cp0 1r3W0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 1Nf0 2pw0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|11e4","Europe/Vienna|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 3KM0 14o0 LA00 6i00 WM0 1fA0 1cM0 1cM0 1cM0 400 2qM0 1a00 1cM0 1cM0 1io0 17c0 1gHa0 19X0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|18e5","Europe/Vilnius|WMT KMT CET EET MSK CEST MSD EEST|-1o -1z.A -10 -20 -30 -20 -40 -30|012324525254646464646464646473737373737373737352537373737373737373737373737373737373737373737373737373737373737373737373|-293do 6ILM.o 1Ooz.A zz0 Mfd0 29W0 3is0 WM0 1fA0 1cM0 LV0 1tgL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11B0 1o00 11A0 1qM0 8io0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4","Europe/Volgograd|LMT +03 +04 +05|-2V.E -30 -40 -50|01232323232323232121212121212121212121212121212121212121212121|-21IqV.E psLV.E 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1cM0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|10e5","Europe/Warsaw|WMT CET CEST EET EEST|-1o -10 -20 -20 -30|012121234312121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ctdo 1LXo 11d0 1iO0 11A0 1o00 11A0 1on0 11A0 6zy0 HWP0 5IM0 WM0 1fA0 1cM0 1dz0 1mL0 1en0 15B0 1aq0 1nA0 11A0 1io0 17c0 1fA0 1a00 iDX0 LA0 1cM0 1cM0 1C00 Oo0 1cM0 1cM0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1C00 LA0 uso0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e5","Europe/Zaporozhye|CUT EET MSK CEST CET MSD EEST|-2k -20 -30 -20 -10 -40 -30|01234342525252525252525252526161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc2k eUok rdb0 2RE0 WM0 1fA0 8m0 1v9a0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cK0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|77e4","HST|HST|a0|0|","Indian/Chagos|LMT IOT IOT|-4N.E -50 -60|012|-2xosN.E 3AGLN.E|30e2","Indian/Christmas|CXT|-70|0||21e2","Indian/Cocos|CCT|-6u|0||596","Indian/Kerguelen|-00 +05|0 -50|01|-MG00|130","Indian/Mahe|LMT SCT|-3F.M -40|01|-2yO3F.M|79e3","Indian/Maldives|MMT MVT|-4S -50|01|-olgS|35e4","Indian/Mauritius|LMT MUT MUST|-3O -40 -50|012121|-2xorO 34unO 14L0 12kr0 11z0|15e4","Indian/Reunion|LMT RET|-3F.Q -40|01|-2mDDF.Q|84e4","Pacific/Kwajalein|MHT KWAT MHT|-b0 c0 -c0|012|-AX0 W9X0|14e3","MET|MET MEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","MST|MST|70|0|","MST7MDT|MST MDT MWT MPT|70 60 60 60|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Pacific/Chatham|CHAST CHAST CHADT|-cf -cJ -dJ|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-WqAf 1adef IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|600","PST8PDT|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Pacific/Apia|LMT WSST SST SDT WSDT WSST|bq.U bu b0 a0 -e0 -d0|01232345454545454545454545454545454545454545454545454545454|-2nDMx.4 1yW03.4 2rRbu 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|37e3","Pacific/Bougainville|PGT JST BST|-a0 -90 -b0|0102|-16Wy0 7CN0 2MQp0|18e4","Pacific/Chuuk|CHUT|-a0|0||49e3","Pacific/Efate|LMT VUT VUST|-bd.g -b0 -c0|0121212121212121212121|-2l9nd.g 2Szcd.g 1cL0 1oN0 10L0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 Lz0 1Nd0 An0|66e3","Pacific/Enderbury|PHOT PHOT PHOT|c0 b0 -d0|012|nIc0 B8n0|1","Pacific/Fakaofo|TKT TKT|b0 -d0|01|1Gfn0|483","Pacific/Fiji|LMT FJT FJST|-bT.I -c0 -d0|0121212121212121212121212121212121212121212121212121212121212121|-2bUzT.I 3m8NT.I LA0 1EM0 IM0 nJc0 LA0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0|88e4","Pacific/Funafuti|TVT|-c0|0||45e2","Pacific/Galapagos|LMT ECT GALT|5W.o 50 60|012|-1yVS1.A 2dTz1.A|25e3","Pacific/Gambier|LMT GAMT|8X.M 90|01|-2jof0.c|125","Pacific/Guadalcanal|LMT SBT|-aD.M -b0|01|-2joyD.M|11e4","Pacific/Guam|GST ChST|-a0 -a0|01|1fpq0|17e4","Pacific/Honolulu|HST HDT HST|au 9u a0|010102|-1thLu 8x0 lef0 8Pz0 46p0|37e4","Pacific/Kiritimati|LINT LINT LINT|aE a0 -e0|012|nIaE B8nk|51e2","Pacific/Kosrae|KOST KOST|-b0 -c0|010|-AX0 1bdz0|66e2","Pacific/Majuro|MHT MHT|-b0 -c0|01|-AX0|28e3","Pacific/Marquesas|LMT MART|9i 9u|01|-2joeG|86e2","Pacific/Pago_Pago|LMT NST BST SST|bm.M b0 b0 b0|0123|-2nDMB.c 2gVzB.c EyM0|37e2","Pacific/Nauru|LMT NRT JST NRT|-b7.E -bu -90 -c0|01213|-1Xdn7.E PvzB.E 5RCu 1ouJu|10e3","Pacific/Niue|NUT NUT NUT|bk bu b0|012|-KfME 17y0a|12e2","Pacific/Norfolk|NMT NFT NFST NFT|-bc -bu -cu -b0|01213|-Kgbc W01G On0 1COp0|25e4","Pacific/Noumea|LMT NCT NCST|-b5.M -b0 -c0|01212121|-2l9n5.M 2EqM5.M xX0 1PB0 yn0 HeP0 Ao0|98e3","Pacific/Palau|PWT|-90|0||21e3","Pacific/Pitcairn|PNT PST|8u 80|01|18Vku|56","Pacific/Pohnpei|PONT|-b0|0||34e3","Pacific/Port_Moresby|PGT|-a0|0||25e4","Pacific/Rarotonga|CKT CKHST CKT|au 9u a0|012121212121212121212121212|lyWu IL0 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu|13e3","Pacific/Tahiti|LMT TAHT|9W.g a0|01|-2joe1.I|18e4","Pacific/Tarawa|GILT|-c0|0||29e3","Pacific/Tongatapu|+1220 +13 +14|-ck -d0 -e0|0121212121212121212121212121212121212121212121212121|-1aB0k 2n5dk 15A0 1wo0 xz0 1Q10 xz0 zWN0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0|75e3","Pacific/Wake|WAKT|-c0|0||16e3","Pacific/Wallis|WFT|-c0|0||94","WET|WET WEST|0 -10|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00"],
links:["Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Sao_Tome","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|Atlantic/St_Helena","Africa/Cairo|Egypt","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Khartoum|Africa/Juba","Africa/Lagos|Africa/Bangui","Africa/Lagos|Africa/Brazzaville","Africa/Lagos|Africa/Douala","Africa/Lagos|Africa/Kinshasa","Africa/Lagos|Africa/Libreville","Africa/Lagos|Africa/Luanda","Africa/Lagos|Africa/Malabo","Africa/Lagos|Africa/Niamey","Africa/Lagos|Africa/Porto-Novo","Africa/Maputo|Africa/Blantyre","Africa/Maputo|Africa/Bujumbura","Africa/Maputo|Africa/Gaborone","Africa/Maputo|Africa/Harare","Africa/Maputo|Africa/Kigali","Africa/Maputo|Africa/Lubumbashi","Africa/Maputo|Africa/Lusaka","Africa/Nairobi|Africa/Addis_Ababa","Africa/Nairobi|Africa/Asmara","Africa/Nairobi|Africa/Asmera","Africa/Nairobi|Africa/Dar_es_Salaam","Africa/Nairobi|Africa/Djibouti","Africa/Nairobi|Africa/Kampala","Africa/Nairobi|Africa/Mogadishu","Africa/Nairobi|Indian/Antananarivo","Africa/Nairobi|Indian/Comoro","Africa/Nairobi|Indian/Mayotte","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|US/Alaska","America/Argentina/Buenos_Aires|America/Buenos_Aires","America/Argentina/Catamarca|America/Argentina/ComodRivadavia","America/Argentina/Catamarca|America/Catamarca","America/Argentina/Cordoba|America/Cordoba","America/Argentina/Cordoba|America/Rosario","America/Argentina/Jujuy|America/Jujuy","America/Argentina/Mendoza|America/Mendoza","America/Atikokan|America/Coral_Harbour","America/Chicago|US/Central","America/Curacao|America/Aruba","America/Curacao|America/Kralendijk","America/Curacao|America/Lower_Princes","America/Denver|America/Shiprock","America/Denver|Navajo","America/Denver|US/Mountain","America/Detroit|US/Michigan","America/Edmonton|Canada/Mountain","America/Fort_Wayne|America/Indiana/Indianapolis","America/Fort_Wayne|America/Indianapolis","America/Fort_Wayne|US/East-Indiana","America/Halifax|Canada/Atlantic","America/Havana|Cuba","America/Indiana/Knox|America/Knox_IN","America/Indiana/Knox|US/Indiana-Starke","America/Jamaica|Jamaica","America/Kentucky/Louisville|America/Louisville","America/Los_Angeles|US/Pacific","America/Los_Angeles|US/Pacific-New","America/Manaus|Brazil/West","America/Mazatlan|Mexico/BajaSur","America/Mexico_City|Mexico/General","America/New_York|US/Eastern","America/Noronha|Brazil/DeNoronha","America/Panama|America/Cayman","America/Phoenix|US/Arizona","America/Port_of_Spain|America/Anguilla","America/Port_of_Spain|America/Antigua","America/Port_of_Spain|America/Dominica","America/Port_of_Spain|America/Grenada","America/Port_of_Spain|America/Guadeloupe","America/Port_of_Spain|America/Marigot","America/Port_of_Spain|America/Montserrat","America/Port_of_Spain|America/St_Barthelemy","America/Port_of_Spain|America/St_Kitts","America/Port_of_Spain|America/St_Lucia","America/Port_of_Spain|America/St_Thomas","America/Port_of_Spain|America/St_Vincent","America/Port_of_Spain|America/Tortola","America/Port_of_Spain|America/Virgin","America/Regina|Canada/East-Saskatchewan","America/Regina|Canada/Saskatchewan","America/Rio_Branco|America/Porto_Acre","America/Rio_Branco|Brazil/Acre","America/Santiago|Chile/Continental","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","America/Tijuana|America/Ensenada","America/Tijuana|America/Santa_Isabel","America/Tijuana|Mexico/BajaNorte","America/Toronto|America/Montreal","America/Toronto|Canada/Eastern","America/Vancouver|Canada/Pacific","America/Whitehorse|Canada/Yukon","America/Winnipeg|Canada/Central","Asia/Ashgabat|Asia/Ashkhabad","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Vientiane","Asia/Dhaka|Asia/Dacca","Asia/Dubai|Asia/Muscat","Asia/Ho_Chi_Minh|Asia/Saigon","Asia/Hong_Kong|Hongkong","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kathmandu|Asia/Katmandu","Asia/Kolkata|Asia/Calcutta","Asia/Macau|Asia/Macao","Asia/Makassar|Asia/Ujung_Pandang","Asia/Nicosia|Europe/Nicosia","Asia/Qatar|Asia/Bahrain","Asia/Rangoon|Asia/Yangon","Asia/Riyadh|Asia/Aden","Asia/Riyadh|Asia/Kuwait","Asia/Seoul|ROK","Asia/Shanghai|Asia/Chongqing","Asia/Shanghai|Asia/Chungking","Asia/Shanghai|Asia/Harbin","Asia/Shanghai|PRC","Asia/Singapore|Singapore","Asia/Taipei|ROC","Asia/Tehran|Iran","Asia/Thimphu|Asia/Thimbu","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Asia/Urumqi|Asia/Kashgar","Atlantic/Faroe|Atlantic/Faeroe","Atlantic/Reykjavik|Iceland","Australia/Adelaide|Australia/South","Australia/Brisbane|Australia/Queensland","Australia/Broken_Hill|Australia/Yancowinna","Australia/Darwin|Australia/North","Australia/Hobart|Australia/Tasmania","Australia/Lord_Howe|Australia/LHI","Australia/Melbourne|Australia/Victoria","Australia/Perth|Australia/West","Australia/Sydney|Australia/ACT","Australia/Sydney|Australia/Canberra","Australia/Sydney|Australia/NSW","Etc/GMT+0|Etc/GMT","Etc/GMT+0|Etc/GMT-0","Etc/GMT+0|Etc/GMT0","Etc/GMT+0|Etc/Greenwich","Etc/GMT+0|GMT","Etc/GMT+0|GMT+0","Etc/GMT+0|GMT-0","Etc/GMT+0|GMT0","Etc/GMT+0|Greenwich","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Belgrade|Europe/Ljubljana","Europe/Belgrade|Europe/Podgorica","Europe/Belgrade|Europe/Sarajevo","Europe/Belgrade|Europe/Skopje","Europe/Belgrade|Europe/Zagreb","Europe/Chisinau|Europe/Tiraspol","Europe/Dublin|Eire","Europe/Helsinki|Europe/Mariehamn","Europe/Istanbul|Asia/Istanbul","Europe/Istanbul|Turkey","Europe/Lisbon|Portugal","Europe/London|Europe/Belfast","Europe/London|Europe/Guernsey","Europe/London|Europe/Isle_of_Man","Europe/London|Europe/Jersey","Europe/London|GB","Europe/London|GB-Eire","Europe/Moscow|W-SU","Europe/Oslo|Arctic/Longyearbyen","Europe/Oslo|Atlantic/Jan_Mayen","Europe/Prague|Europe/Bratislava","Europe/Rome|Europe/San_Marino","Europe/Rome|Europe/Vatican","Europe/Warsaw|Poland","Europe/Zurich|Europe/Busingen","Europe/Zurich|Europe/Vaduz","Pacific/Auckland|Antarctica/McMurdo","Pacific/Auckland|Antarctica/South_Pole","Pacific/Auckland|NZ","Pacific/Chatham|NZ-CHAT","Pacific/Chuuk|Pacific/Truk","Pacific/Chuuk|Pacific/Yap","Pacific/Easter|Chile/EasterIsland","Pacific/Guam|Pacific/Saipan","Pacific/Honolulu|Pacific/Johnston","Pacific/Honolulu|US/Hawaii","Pacific/Kwajalein|Kwajalein","Pacific/Pago_Pago|Pacific/Midway","Pacific/Pago_Pago|Pacific/Samoa","Pacific/Pago_Pago|US/Samoa","Pacific/Pohnpei|Pacific/Ponape"]
}),a}),define("taoTests/runner/probeOverseer",["lodash","core/promise","moment","lib/uuid","lib/moment-timezone.min"],function(_,Promise,moment,uuid){"use strict";var timeZone=moment.tz.guess(),slice=Array.prototype.slice;return function(runner){function collectEvent(probe){var eventNs=".probe-"+probe.name,probeHandler=function(){var now=moment(),data={id:uuid(12,16),type:probe.name,timestamp:now.format("x")/1e3,timezone:now.tz(timeZone).format("Z")};"function"==typeof probe.capture&&(data.context=probe.capture.apply(probe,[runner].concat(slice.call(arguments)))),overseer.push(data)};if(probe.latency)return collectLatencyEvent(probe)
;_.forEach(probe.events,function(eventName){var listen=eventName.indexOf(".")>0?eventName:eventName+eventNs;runner.on(listen,_.partial(probeHandler,eventName))})}function collectLatencyEvent(probe){var eventNs=".probe-"+probe.name,startHandler=function(){var now=moment(),data={id:uuid(12,16),marker:"start",type:probe.name,timestamp:now.format("x")/1e3,timezone:now.tz(timeZone).format("Z")};"function"==typeof probe.capture&&(data.context=probe.capture.apply(probe,[runner].concat(slice.call(arguments)))),overseer.push(data)},stopHandler=function(){var last,now=moment(),data={type:probe.name,timestamp:now.format("x")/1e3,timezone:now.tz(timeZone).format("Z")
},args=slice.call(arguments);(last=_.findLast(immutableQueue,{type:probe.name,marker:"start"}))&&!_.findLast(immutableQueue,{type:probe.name,marker:"end",id:last.id})&&(data.id=last.id,data.marker="end","function"==typeof probe.capture&&(data.context=probe.capture.apply(probe,[runner].concat(args))),overseer.push(data))};if(!probe.latency)return collectEvent(probe);_.forEach(probe.startEvents,function(eventName){var listen=eventName.indexOf(".")>0?eventName:eventName+eventNs;runner.on(listen,_.partial(startHandler,eventName))}),_.forEach(probe.stopEvents,function(eventName){var listen=eventName.indexOf(".")>0?eventName:eventName+eventNs
;runner.on(listen,_.partial(stopHandler,eventName))})}var overseer,queueStorage,probes=[],queue=[],immutableQueue=[],writing=Promise.resolve(),started=!1,getStorage=function(){return queueStorage?Promise.resolve(queueStorage):runner.getTestStore().getStore("test-probe").then(function(newStorage){return queueStorage=newStorage,Promise.resolve(queueStorage)})},resetStorage=function(){queueStorage=null};if(!_.isPlainObject(runner)||!_.isFunction(runner.init)||!_.isFunction(runner.on))throw new TypeError("Please set a test runner");return overseer={add:function(probe){if(!_.isPlainObject(probe))throw new TypeError("A probe is a plain object")
;if(!_.isString(probe.name)||_.isEmpty(probe.name))throw new TypeError("A probe must have a name");if(_.where(probes,{name:probe.name}).length>0)throw new TypeError("A probe with this name is already regsitered");if(probe.latency){if(_.isString(probe.startEvents)&&!_.isEmpty(probe.startEvents)&&(probe.startEvents=[probe.startEvents]),_.isString(probe.stopEvents)&&!_.isEmpty(probe.stopEvents)&&(probe.stopEvents=[probe.stopEvents]),!probe.startEvents.length||!probe.stopEvents.length)throw new TypeError("Latency based probes must have startEvents and stopEvents defined");started&&collectLatencyEvent(probe)}else{
if(_.isString(probe.events)&&!_.isEmpty(probe.events)&&(probe.events=[probe.events]),!_.isArray(probe.events)||0===probe.events.length)throw new TypeError("A probe must define events");started&&collectEvent(probe)}return probes.push(probe),this},getQueue:function(){return getStorage().then(function(storage){return storage.getItem("queue")})},getProbes:function(){return probes},push:function(entry){getStorage().then(function(storage){writing=writing.then(function(){return queue.push(entry),immutableQueue.push(entry),storage.setItem("queue",queue)})})},flush:function(){return new Promise(function(resolve){getStorage().then(function(storage){
writing=writing.then(function(){return storage.getItem("queue").then(function(flushed){return queue=[],storage.setItem("queue",queue).then(function(){resolve(flushed)})})})})})},start:function(){return getStorage().then(function(storage){return storage.getItem("queue").then(function(savedQueue){_.isArray(savedQueue)&&(queue=savedQueue,immutableQueue=savedQueue),_.forEach(probes,collectEvent),started=!0})})},stop:function(){return started=!1,_.forEach(probes,function(probe){var eventNs=".probe-"+probe.name,removeHandler=function(eventName){runner.off(eventName+eventNs)};_.forEach(probe.startEvents,removeHandler),_.forEach(probe.stopEvents,removeHandler),
_.forEach(probe.events,removeHandler)}),queue=[],immutableQueue=[],getStorage().then(function(storage){return storage.removeItem("queue").then(resetStorage)})}}}}),define("taoTests/runner/testStore",["lodash","core/promise","core/store","core/logger"],function(_,Promise,store,loggerFactory){"use strict";var logger=loggerFactory("taoQtiTest/runner/provider/testStore"),legacyPrefixes=["actions-","duration-","test-probe","timer-"],modes={unified:"unified",fragmented:"fragmented"},selectStoreMode=function(testId,preselectedBackend){return store.getAll(function(storeName){return _.some(legacyPrefixes,function(prefix){
return!_.isEmpty(storeName)&&prefix+testId===storeName})},preselectedBackend).then(function(foundStores){return _.isArray(foundStores)&&foundStores.length>0?modes.fragmented:modes.unified})};return function(testId,preselectedBackend){var testMode,storeNames=[],volatiles=[],changeTracking={},isStoreModeUnified=function(){return _.isUndefined(testMode)?selectStoreMode(testId,preselectedBackend).then(function(result){return testMode=result&&void 0!==modes[result]?result:modes.unified,logger.debug("Test store mode "+result+" for "+testId),result===modes.unified}):Promise.resolve(testMode===modes.unified)}
;if(_.isEmpty(testId))throw new TypeError("The store must be identified with a unique test identifier");return{getStore:function(storeName){var trackChange=function(){_.isBoolean(changeTracking[storeName])&&(changeTracking[storeName]=!0)};if(_.isEmpty(storeName))throw new TypeError("A store name must be provided to get the store");return _.contains(storeNames,storeName)||storeNames.push(storeName),isStoreModeUnified().then(function(isUnified){var loadStore;return loadStore=isUnified?store(testId,preselectedBackend):store(storeName+"-"+testId,preselectedBackend),loadStore.then(function(loadedStore){
var keyPattern=new RegExp("^"+storeName+"__"),storeKey=function(key){return isUnified?storeName+"__"+key:key};return{getItem:function(key){return loadedStore.getItem(storeKey(key))},getItems:function(){return isUnified?loadedStore.getItems().then(function(entries){return _.transform(entries,function(acc,entry,key){return keyPattern.test(key)&&(acc[key.replace(keyPattern,"")]=entry),acc},{})}):loadedStore.getItems()},setItem:function(key,value){return trackChange(),loadedStore.setItem(storeKey(key),value)},removeItem:function(key){return trackChange(),loadedStore.removeItem(storeKey(key))},clear:function(){return trackChange(),
isUnified?loadedStore.getItems().then(function(entries){_.forEach(entries,function(entry,key){keyPattern.test(key)&&loadedStore.removeItem(key)})}):loadedStore.clear()}}})})},setVolatile:function(storeName){return _.contains(volatiles,storeName)||volatiles.push(storeName),this},clearVolatileIfStoreChange:function(storeId){var self=this,shouldClear=!1;return store.getIdentifier(preselectedBackend).then(function(savedStoreId){return _.isEmpty(storeId)||_.isEmpty(savedStoreId)||savedStoreId===storeId||(logger.info("Storage change detected ("+savedStoreId+" != "+storeId+") => volatiles data wipe out !"),shouldClear=!0),shouldClear}).then(function(clear){
return!!clear&&self.clearVolatileStores()})},clearVolatileStores:function(){var self=this,clearing=volatiles.map(function(storeName){return self.getStore(storeName).then(function(storeInstance){return storeInstance.clear()})});return Promise.all(clearing).then(function(results){return results&&results.length===volatiles.length})},startChangeTracking:function(storeName){return changeTracking[storeName]=!1,this},hasChanges:function(storeName){return!0===changeTracking[storeName]},resetChanges:function(storeName){return _.isBoolean(changeTracking[storeName])&&(changeTracking[storeName]=!1),this},remove:function(){var legacyStoreExp=new RegExp("-"+testId+"$")
;return isStoreModeUnified().then(function(isUnified){return isUnified?store(testId,preselectedBackend).then(function(storeInstance){return storeInstance.removeStore()}):store.removeAll(function(storeName){return legacyStoreExp.test(storeName)},preselectedBackend)})},getStorageIdentifier:function(){return store.getIdentifier(preselectedBackend)}}}}),define("taoQtiTest/runner/helpers/map",["lodash"],function(_){"use strict";function getEmptyStats(){return{questions:0,answered:0,flagged:0,viewed:0,total:0,questionsViewed:0}}return{getJumps:function(map){return map&&map.jumps},getParts:function(map){return map&&map.parts},getSections:function(map){
var parts=this.getParts(map),result={};return _.forEach(parts,function(part){var sections=part.sections;sections&&_.forEach(sections,function(section){result[section.id]=section})}),result},getActiveItem:function(map){var parts=this.getParts(map),result={};return _.forEach(parts,function(part){var sections=part.sections;sections&&_.forEach(sections,function(section){if(section.active){var items=section.items;_.forEach(items,function(item){item.active&&(result=item)})}})}),result},getNextSections:function(map,sectionId){var sections=this.getSections(map),result={},canList=!1;return _.forEach(sections,function(section){canList&&(result[section.id]=section),
section.id===sectionId&&(canList=!0)}),result},getJump:function(map,position){var jumps=this.getJumps(map);return jumps&&jumps[position]},getPart:function(map,partName){var parts=this.getParts(map);return parts&&parts[partName]},getSection:function(map,sectionName){var parts=this.getParts(map),section=null;return _.forEach(parts,function(part){var sections=part.sections;if(sections&&sections[sectionName])return section=sections[sectionName],!1}),section},getItem:function(map,itemName){var jump=_.find(this.getJumps(map),{identifier:itemName});return this.getItemAt(map,jump&&jump.position)},getTestStats:function(map){return map&&map.stats},
getPartStats:function(map,partName){var part=this.getPart(map,partName);return part&&part.stats},getSectionStats:function(map,sectionName){var section=this.getSection(map,sectionName);return section&&section.stats},getScopeStats:function(map,position,scope){var jump=this.getJump(map,position);switch(scope){case"section":case"testSection":return this.getSectionStats(map,jump&&jump.section);case"part":case"testPart":return this.getPartStats(map,jump&&jump.part);default:case"test":return this.getTestStats(map)}},getScopeMap:function(map,position,scope){
var scopeMap=_.cloneDeep(map||{}),jump=this.getJump(scopeMap,position),part=this.getPart(scopeMap,jump&&jump.part),section=this.getSection(scopeMap,jump&&jump.section);return scope&&"test"!==scope&&(scopeMap.parts={},part&&(scopeMap.parts[jump.part]=part)),!part||"section"!==scope&&"testSection"!==scope||(part.sections={},section&&(part.sections[jump.section]=section)),section&&(section.stats=this.computeItemStats(section.items)),part&&(part.stats=this.computeStats(part.sections)),scopeMap.stats=this.computeStats(scopeMap.parts),scopeMap},getScopeMapFromContext:function(map,context,scope){var part,section,scopeMap=_.cloneDeep(map||{})
;return context&&context.testPartId&&(part=this.getPart(scopeMap,context.testPartId)),context&&context.sectionId&&(section=this.getSection(scopeMap,context.sectionId)),scope&&"test"!==scope&&(scopeMap.parts={},part&&(scopeMap.parts[context.testPartId]=part)),!part||"section"!==scope&&"testSection"!==scope||(part.sections={},section&&(part.sections[context.sectionId]=section)),section&&(section.stats=this.computeItemStats(section.items)),part&&(part.stats=this.computeStats(part.sections)),scopeMap.stats=this.computeStats(scopeMap.parts),scopeMap},getItemPart:function(map,position){var jump=this.getJump(map,position);return this.getPart(map,jump&&jump.part)},
getItemSection:function(map,position){var jump=this.getJump(map,position),part=this.getPart(map,jump&&jump.part),sections=part&&part.sections;return sections&&sections[jump&&jump.section]},getItemAt:function(map,position){var jump=this.getJump(map,position),part=this.getPart(map,jump&&jump.part),sections=part&&part.sections,section=sections&&sections[jump&&jump.section],items=section&&section.items;return items&&items[jump&&jump.identifier]},getItemIdentifier:function(map,position){var item;return(item=_.isFinite(position)?this.getItemAt(map,position):this.getItem(map,position))&&item.id},each:function(map,callback){
return _.isFunction(callback)&&_.forEach(map&&map.parts,function(part){_.forEach(part&&part.sections,function(section){_.forEach(section&&section.items,function(item){callback(item,section,part,map)})})}),map},updateItemStats:function(map,position){var jump=this.getJump(map,position),part=this.getPart(map,jump&&jump.part),sections=part&&part.sections,section=sections&&sections[jump&&jump.section];return section&&(section.stats=this.computeItemStats(section.items)),part&&(part.stats=this.computeStats(part.sections)),map&&(map.stats=this.computeStats(map.parts)),map},computeItemStats:function(items){return _.reduce(items,function(acc,item){
return item.informational||(acc.questions++,item.answered&&acc.answered++,item.viewed&&acc.questionsViewed++),item.flagged&&acc.flagged++,item.viewed&&acc.viewed++,acc.total++,acc},getEmptyStats())},computeStats:function(collection){return _.reduce(collection,function(acc,item){return acc.questions+=item.stats.questions,acc.answered+=item.stats.answered,acc.flagged+=item.stats.flagged,acc.viewed+=item.stats.viewed,acc.total+=item.stats.total,acc.questionsViewed+=item.stats.questionsViewed,acc},getEmptyStats())},patch:function(currentMap,partialMap){var targetMap,self=this
;if(!_.isPlainObject(partialMap)||!partialMap.parts)throw new TypeError("Invalid test map format");return currentMap&&"test"!==partialMap.scope?(targetMap=_.cloneDeep(currentMap),_.forEach(partialMap.parts,function(partialPart,targetPartId){"part"===partialMap.scope&&(targetMap.parts[targetPartId]=_.cloneDeep(partialPart)),"section"===partialMap.scope&&_.forEach(partialPart.sections,function(partialSection,targetSectionId){targetMap.parts[targetPartId].sections[targetSectionId]=_.cloneDeep(partialSection),targetMap.parts[targetPartId].sections[targetSectionId].stats=self.computeItemStats(targetMap.parts[targetPartId].sections[targetSectionId].items)}),
targetMap.parts[targetPartId].stats=self.computeStats(targetMap.parts[targetPartId].sections)}),targetMap.stats=this.computeStats(targetMap.parts)):targetMap=_.cloneDeep(partialMap),targetMap=this.reindex(targetMap)},reindex:function(map){var lastPartId,lastSectionId,offset=0,offsetPart=0,offsetSection=0;if(!_.isPlainObject(map)||!map.parts)throw new TypeError("Invalid test map format");return map.jumps=[],_.sortBy(map&&map.parts,"position").forEach(function(part){_.sortBy(part&&part.sections,"position").forEach(function(section){_.sortBy(section&&section.items,"position").forEach(function(item){lastPartId!==part.id&&(offsetPart=0,lastPartId=part.id,
part.position=offset),lastSectionId!==section.id&&(offsetSection=0,lastSectionId=section.id,section.position=offset),item.position=offset,item.index=offsetSection+1,item.positionInPart=offsetPart,item.positionInSection=offsetSection,map.jumps[offset]={identifier:item.id,section:section.id,part:part.id,position:offset},offset++,offsetSection++,offsetPart++})})}),map},createJumpTable:function(map){if(!_.isPlainObject(map)||!map.parts)throw new TypeError("Invalid test map format");return map.jumps=[],this.each(map,function(item,section,part){var offset=item.position;map.jumps[offset]={identifier:item.id,section:section.id,part:part.id,position:offset}}),map}}
}),define("taoQtiTest/runner/provider/dataUpdater",["lodash","taoQtiTest/runner/helpers/map"],function(_,mapHelper){"use strict";return function(testDataHolder){if(!testDataHolder||!_.isFunction(testDataHolder.get)||!_.isFunction(testDataHolder.set))throw new TypeError("A data holder is mandatory for the udpater");return{update:function(dataSet){var self=this,isContextual=function(contextualData){return contextualData&&(_.isPlainObject(contextualData.testContext)||_.isPlainObject(contextualData.testData)||_.isPlainObject(contextualData.testMap))},updateData=function(contextualData){var builtTestMap,updatedTestMap
;contextualData&&(_.isPlainObject(contextualData.testData)&&testDataHolder.set("testData",contextualData.testData),_.isPlainObject(contextualData.testContext)&&testDataHolder.set("testContext",contextualData.testContext),_.isPlainObject(contextualData.testMap)&&(builtTestMap=self.buildTestMap(contextualData.testMap))&&testDataHolder.set("testMap",builtTestMap),(updatedTestMap=self.updateStats())&&testDataHolder.set("testMap",updatedTestMap))};updateData(isContextual(dataSet)?dataSet:_.findLast(dataSet,isContextual))},buildTestMap:function(testMap){var newMap=null
;return testMap&&(newMap=testMap.scope&&"test"!==testMap.scope?mapHelper.patch(testDataHolder.get("testMap"),testMap):mapHelper.reindex(testMap)),newMap},updateStats:function(){var item,testMap=testDataHolder.get("testMap"),testContext=testDataHolder.get("testContext"),testData=testDataHolder.get("testData"),updatedTestMap=null;return testMap&&testContext&&_.isNumber(testContext.itemPosition)&&testData&&testData.states&&(item=mapHelper.getItemAt(testMap,testContext.itemPosition))&&testContext.state===testData.states.interacting&&(item.viewed=!0,_.isUndefined(testContext.itemAnswered)||(item.answered=testContext.itemAnswered),
updatedTestMap=mapHelper.updateItemStats(testMap,testContext.itemPosition)),updatedTestMap},updatePluginsConfig:function(plugins){var testData=testDataHolder.get("testData");plugins&&testData&&testData.config&&testData.config.plugins&&_.forEach(testData.config.plugins,function(config,pluginName){_.isPlainObject(plugins[pluginName])&&_.isFunction(plugins[pluginName].setConfig)&&_.isPlainObject(config)&&plugins[pluginName].setConfig(config)})}}}}),define("taoQtiTest/runner/provider/toolStateBridge",["lodash"],function(_){"use strict";var mergeCollection=function(collection){return _.reduce(collection,function(acc,value){return value?_.merge(acc,value):acc},{})
};return function(testStore,activePlugins){var tools=[];if(!testStore||!_.isFunction(testStore.getStore))throw new TypeError("The toolStateBridge should be initialized with a testStore");if(!_.isArray(activePlugins)||!activePlugins.length)throw new TypeError("The toolStateBridge should be initialized with a the list of active plugins");return{setTools:function(toolNames){return tools=_(toolNames).filter(function(toolName){return _.contains(activePlugins,toolName)}).map(function(toolName){return testStore.startChangeTracking(toolName),toolName}).value(),this},getTools:function(){return tools},restoreState:function(toolName,toolState){
return _.contains(tools,toolName)&&_.isPlainObject(toolState)?testStore.getStore(toolName).then(function(toolStore){return toolStore.clear().then(function(){return toolStore})}).then(function(toolStore){return Promise.all(_.map(toolState,function(value,key){return toolStore.setItem(key,value)}))}).then(function(){return testStore.resetChanges(toolName),!0}):Promise.resolve(!1)},restoreStates:function(states){var self=this;return Promise.all(_.map(states,function(toolState,toolName){return self.restoreState(toolName,toolState).then(function(result){var formattedResult={};return formattedResult[toolName]=result,formattedResult})})).then(mergeCollection)},
getState:function(toolName,reset){return _.contains(tools,toolName)&&testStore.hasChanges(toolName)?testStore.getStore(toolName).then(function(toolStore){return!1!==reset&&testStore.resetChanges(toolName),toolStore.getItems()}):Promise.resolve(!1)},getStates:function(){var self=this;return Promise.all(_.map(tools,function(toolName){return self.getState(toolName).then(function(toolState){var formattedState={};return!!toolState&&(formattedState[toolName]=toolState,formattedState)})})).then(mergeCollection)}}}}),define("taoQtiTest/runner/helpers/currentItem",["lodash"],function(_){"use strict";var responseCardinalities={single:"base",multiple:"list",
ordered:"list",record:"record"},interactionMinConstraintProperties={matchInteraction:"minAssociations",choiceInteraction:"minChoices",orderInteraction:"minChoices",associateInteraction:"minAssociations",hottextInteraction:"minChoices",hotspotInteraction:"minChoices",graphicOrderInteraction:"minChoices",graphicAssociateInteraction:"minAssociations",selectPointInteraction:"minChoices"},currentItemHelper={getDeclarations:function(runner){var itemRunner=runner.itemRunner;return itemRunner._item&&itemRunner._item.responses},getResponseDeclaration:function(runner,identifier){var found=null
;return _.forEach(currentItemHelper.getDeclarations(runner),function(declaration){if((declaration.attributes||{}).identifier===identifier)return found=declaration,!1}),found},toResponse:function(value,baseType,cardinality){var mappedCardinality=responseCardinalities[cardinality],response={};return _.isString(value)&&(value=[value]),value=_.map(value||[],function(v){return"boolean"===baseType?!0===v||"true"===v:v}),mappedCardinality&&("base"===mappedCardinality?0===value.length?response.base=null:(response.base={},response.base[baseType]=value[0]):(response[mappedCardinality]={},response[mappedCardinality][baseType]=value)),response},
isQtiValueNull:function(value,baseType,cardinality){var mappedCardinality=responseCardinalities[cardinality];return _.isObject(value)&&null===value[mappedCardinality]&&(value=null),_.isObject(value)&&value[mappedCardinality]&&void 0!==value[mappedCardinality][baseType]&&(value=value[mappedCardinality][baseType]),null===value||"string"===baseType&&_.isEmpty(value)||"single"!==cardinality&&_.isEmpty(value)},isQuestionAnswered:function(response,baseType,cardinality,defaultValue,constraintValue){var answered,currentCardinality,responses,fullyAnswered=!0;return defaultValue=defaultValue||null,constraintValue=constraintValue||0,
currentItemHelper.isQtiValueNull(response,baseType,cardinality)?answered=!1:(answered=!_.isEqual(response,currentItemHelper.toResponse(defaultValue,baseType,cardinality)),0!==constraintValue&&(currentCardinality=responseCardinalities[cardinality],responses=response[currentCardinality][baseType]||[],fullyAnswered=responses&&responses.length>=constraintValue),answered=answered&&fullyAnswered),answered},guessInteractionConstraintValues:function(runner){var itemRunner=runner.itemRunner,itemBody=itemRunner._item&&itemRunner._item.bdy||{},interactions=itemBody.elements||{},constraintValues={};return _.forEach(interactions,function(interaction){
var attributes=interaction.attributes||{},qtiClass=interaction.__proto__.qtiClass;if(interactionMinConstraintProperties.hasOwnProperty(qtiClass)){var constraintProperty=interactionMinConstraintProperties[qtiClass];constraintValues[attributes.responseIdentifier]=attributes[constraintProperty]}}),constraintValues},isAnswered:function(runner,partially){var declarations,constraintValues,itemRunner=runner.itemRunner,responses=itemRunner&&itemRunner.getResponses(),count=0,empty=0;return itemRunner&&(declarations=currentItemHelper.getDeclarations(runner),constraintValues=currentItemHelper.guessInteractionConstraintValues(runner),
_.forEach(declarations,function(declaration){var attributes=declaration.attributes||{},response=responses[attributes.identifier],baseType=attributes.baseType,cardinality=attributes.cardinality;count++,currentItemHelper.isQuestionAnswered(response,baseType,cardinality,declaration.defaultValue,constraintValues[attributes.identifier])||empty++})),!1===partially?count>0&&0===empty:count>0&&empty<count}};return currentItemHelper}),define("taoQtiTest/runner/helpers/navigation",["lodash","taoQtiTest/runner/helpers/map"],function(_,mapHelper){"use strict";var navigationHelper={isLeavingSection:function(testContext,testMap,direction,scope,position){
var section,sectionStats,nbItems,item;if(_.isPlainObject(testContext)&&_.isPlainObject(testMap)&&!_.isEmpty(testContext.sectionId)&&!_.isEmpty(testContext.itemIdentifier))return section=mapHelper.getSection(testMap,testContext.sectionId),sectionStats=mapHelper.getSectionStats(testMap,testContext.sectionId),nbItems=sectionStats&&sectionStats.total,item=mapHelper.getItem(testMap,testContext.itemIdentifier),"section"===scope||"testPart"===scope||"next"===direction&&item.positionInSection+1===nbItems||"previous"===direction&&0===item.positionInSection||"jump"===direction&&position>0&&(position<section.position||position>=section.position+nbItems)
;throw new TypeError("Invalid test context and test map")},isLeavingTestPart:function(testContext,testMap,direction,scope,position){var testPart,testPartStats,nbItems,item,section,sectionStats;if(_.isPlainObject(testContext)&&_.isPlainObject(testMap)&&!_.isEmpty(testContext.testPartId)&&!_.isEmpty(testContext.sectionId)&&!_.isEmpty(testContext.itemIdentifier))return testPart=mapHelper.getPart(testMap,testContext.testPartId),testPartStats=mapHelper.getPartStats(testMap,testContext.testPartId),nbItems=testPartStats&&testPartStats.total,item=mapHelper.getItem(testMap,testContext.itemIdentifier),
"section"===scope&&(section=mapHelper.getSection(testMap,testContext.sectionId),sectionStats=mapHelper.getSectionStats(testMap,testContext.sectionId)),"testPart"===scope||"next"===direction&&"item"===scope&&item.positionInPart+1===nbItems||"next"===direction&&"section"===scope&&section.position+sectionStats.total>=nbItems||"previous"===direction&&"item"===scope&&0===item.positionInPart||"previous"===direction&&"section"===scope&&section.position===testPart.position||"jump"===direction&&position>0&&(position<testPart.position||position>=testPart.position+nbItems);throw new TypeError("Invalid test context and test map")},
isLast:function(testMap,itemIdentifier){return this.isLastOf(testMap,itemIdentifier,"test")},isFirst:function(testMap,itemIdentifier){return this.isFirstOf(testMap,itemIdentifier,"test")},isLastOf:function(testMap,itemIdentifier,scope){var item,stats;if(!_.isPlainObject(testMap))throw new TypeError("Invalid test map");if(_.isEmpty(itemIdentifier))throw new TypeError("Invalid item identifier");if(scope=scope||"test",item=mapHelper.getItem(testMap,itemIdentifier),(stats=mapHelper.getScopeStats(testMap,item.position,scope))&&_.isNumber(stats.total)){if("test"===scope)return item.position+1===stats.total
;if("section"===scope||"assessmentSection"===scope||"testSection"===scope)return item.positionInSection+1===stats.total;if("part"===scope||"testPart"===scope)return item.positionInPart+1===stats.total}return!1},isFirstOf:function(testMap,itemIdentifier,scope){var item;if(!_.isPlainObject(testMap))throw new TypeError("Invalid test map");if(_.isEmpty(itemIdentifier))throw new TypeError("Invalid item identifier");return scope=scope||"test",item=mapHelper.getItem(testMap,itemIdentifier),
"test"===scope?0===item.position:"section"===scope||"assessmentSection"===scope||"testSection"===scope?0===item.positionInSection:("part"===scope||"testPart"===scope)&&0===item.positionInPart},getSiblingItems:function(testMap,itemPosition,direction,size){var directions,itemId=mapHelper.getItemIdentifier(testMap,itemPosition),previous=null,siblings=[],itemChain=_.reduce(testMap&&testMap.jumps,function(map,jump){var ref=jump.identifier;return previous&&(map[previous].next=ref),map[ref]={identifier:ref,previous:previous,next:null},previous=ref,map},{});return size=_.isFinite(size)?parseInt(size,10):3,
directions=direction&&"both"!==direction?[direction]:["previous","next"],_.forEach(directions,function(link){var id=itemId;_.times(size,function(){if(!(id=itemChain[id]&&itemChain[id][link]))return!1;siblings.push(mapHelper.getItem(testMap,id))})}),siblings},getNextItem:function(testMap,itemPosition){var siblings=navigationHelper.getSiblingItems(testMap,itemPosition,"next",1);return siblings.length?siblings[0]:null},getPreviousItem:function(testMap,itemPosition){var siblings=navigationHelper.getSiblingItems(testMap,itemPosition,"previous",1);return siblings.length?siblings[0]:null},isMovingToNextItem:function(action,params){return params=params||{},
"timeout"===action||"skip"===action||"move"===action&&"next"===params.direction&&"item"===params.scope},isMovingToPreviousItem:function(action,params){return params=params||{},"move"===action&&"previous"===params.direction&&"item"===params.scope},isJumpingToItem:function(action,params){return params=params||{},"move"===action&&"jump"===params.direction&&"item"===params.scope}};return navigationHelper}),define("tpl!taoQtiTest/runner/plugins/templates/button",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+=" ",
(helper=helpers.className)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.className,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)}function program3(depth0,data){var stack1,helper,buffer="";return buffer+='<span class="icon icon-',(helper=helpers.icon)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.icon,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1),stack1=helpers.unless.call(depth0,depth0&&depth0.text,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data}),
(stack1||0===stack1)&&(buffer+=stack1),buffer+='"></span>'}function program4(depth0,data){return" no-label"}function program6(depth0,data){var stack1,helper,buffer="";return buffer+='<span class="text">',(helper=helpers.text)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.text,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>"}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<li data-control="',
(helper=helpers.control)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.control,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" class="small btn-info action',stack1=helpers.if.call(depth0,depth0&&depth0.className,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" title="',(helper=helpers.title)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.title,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+'">\n    <a class="li-inner" href="#">\n        ',stack1=helpers.if.call(depth0,depth0&&depth0.icon,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        ",stack1=helpers.if.call(depth0,depth0&&depth0.text,{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    </a>\n</li>"})}),define("taoQtiTest/runner/ui/toolbox/entry",["lodash","ui/component","tpl!taoQtiTest/runner/plugins/templates/button"],function(_,componentFactory,entryTpl){"use strict";var itemComponentApi={
initItem:function(){this.id=this.config.control,this.menu=null},getType:function(){return"entry"},getId:function(){return this.id},setMenuId:function(menuId){this.menuId=menuId},getMenuId:function(){return this.menuId},turnOn:function(){this.setState("active",!0)},turnOff:function(){this.setState("active",!1)},hoverOn:function(){this.setState("hover",!0)},hoverOff:function(){this.setState("hover",!1)}};return function(specs,defaults){return specs=_.defaults(specs||{},itemComponentApi),componentFactory(specs,defaults).setTemplate(entryTpl).on("enable",function(){this.is("rendered")&&this.$component.removeProp("disabled")}).on("disable",function(){
this.is("rendered")&&(this.$component.prop("disabled",!0),this.turnOff())}).on("init",function(){this.initItem()}).on("render",function(){var self=this;this.disable(),this.$component.on("mousedown",function(event){self.trigger("mousedown",event)}).on("click",function(event){self.trigger("click",event)})})}}),define("ui/hider",["jquery","lodash","core/eventifier"],function($,_){"use strict";function jqWrap(element){return element instanceof $?element:$(element)}return{show:function(element){return jqWrap(element).removeClass("hidden")},hide:function(element){return jqWrap(element).addClass("hidden")},toggle:function(element,state){
return void 0!==state&&(state=!state),jqWrap(element).toggleClass("hidden",state)},isHidden:function(element,real){var $elt=jqWrap(element);return real?$elt.hasClass("hidden")||"none"===$elt.css("display")||"hidden"===$elt.css("visibility"):$elt.hasClass("hidden")}}}),define("ui/stacker",["jquery"],function($){"use strict";function isElementValid($element){return $element instanceof $&&$element.length}function initScope(scope){indexes[scope]||(indexes[scope]=zIndexStart)}function isHighest($element,scope){return parseInt($element.css("z-index"),10)>=indexes[scope]}function getNext(scope){return indexes[scope]+=increment,indexes[scope]}
var ns=".stacker",indexes={},increment=10,zIndexStart=1e3;return function(scope){return scope=scope||"global",initScope(scope),{bringToFront:function($element){isElementValid($element)&&!isHighest($element,scope)&&($element.get(0).style.zIndex=getNext(scope))},autoBringToFront:function($element){var self=this;isElementValid($element)&&($element.off("mousedown"+ns),$element.on("mousedown"+ns,function(){self.bringToFront($element)}))},reset:function($element){isElementValid($element)&&($element.get(0).style.zIndex="auto")},getCurrent:function(){return indexes[scope]}}}}),define("util/shortcut",["util/shortcut/registry"],function(shortcutRegistry){"use strict"
;var defaultOptions={propagate:!1,prevent:!0};return shortcutRegistry(window,defaultOptions)}),define("tpl!taoQtiTest/runner/ui/toolbox/templates/menu",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+=" ",(helper=helpers.className)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.className,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)}function program3(depth0,data){var stack1,helper,buffer="";return buffer+='<span class="icon icon-',
(helper=helpers.icon)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.icon,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1),stack1=helpers.unless.call(depth0,depth0&&depth0.text,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='"></span>'}function program4(depth0,data){return" no-label"}function program6(depth0,data){var stack1,helper,buffer="";return buffer+='<span class="text">',(helper=helpers.text)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.text,
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>"}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<li data-control="',(helper=helpers.control)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.control,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" class="small btn-info action ',
stack1=helpers.if.call(depth0,depth0&&depth0.className,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" title="',(helper=helpers.title)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.title,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\n    <a class="li-inner" data-control="',(helper=helpers.control)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.control,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+'-button" href="#">\n        ',stack1=helpers.if.call(depth0,depth0&&depth0.icon,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        ",stack1=helpers.if.call(depth0,depth0&&depth0.text,{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n        &nbsp; <span class="icon icon-up"></span>\n    </a>\n    <div data-control="',(helper=helpers.control)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.control,stack1=typeof helper===functionType?helper.call(depth0,{
hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'-menu" class="hidden ',(helper=helpers.control)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.control,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'-menu" tabindex="1">\n        <ul data-control="',(helper=helpers.control)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.control,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'-list" class="menu ',(helper=helpers.control)?stack1=helper.call(depth0,{hash:{},
data:data}):(helper=depth0&&depth0.control,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'-list"></ul>\n    </div>\n</li>'})}),define("tpl!taoQtiTest/runner/ui/toolbox/templates/menu-item",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+=" ",(helper=helpers.className)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.className,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)}
this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<li class="small action menu-item ',stack1=helpers.if.call(depth0,depth0&&depth0.className,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" data-control="',(helper=helpers.control)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.control,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+'">\n    <a class="li-inner menu-inner">\n        <span class="icon icon-checkbox"></span><span class="icon icon-checkbox-checked"></span>\n        <span class="label">',(helper=helpers.text)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.text,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n    </a>\n</li>"})}),
define("taoQtiTest/runner/ui/toolbox/menu",["jquery","lodash","ui/component","ui/hider","ui/stacker","util/shortcut","util/namespace","tpl!taoQtiTest/runner/ui/toolbox/templates/menu","tpl!taoQtiTest/runner/ui/toolbox/templates/menu-item"],function($,_,componentFactory,hider,stackerFactory,shortcut,namespaceHelper,menuTpl,menuItemTpl){"use strict";var keyCodes={ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},stacker=stackerFactory("test-runner"),menuComponentApi={initMenu:function(){this.id=this.config.control,this.menuItems=[]},getType:function(){return"menu"},getId:function(){return this.id},turnOn:function(){this.setState("active",!0)},
turnOff:function(){this.setState("active",!1)},toggleMenu:function(){this.is("disabled")||(this.is("opened")?this.closeMenu():this.openMenu())},openMenu:function(){hider.show(this.$menuContainer),stacker.bringToFront(this.$menuContent),this.$menuStateIcon.removeClass("icon-up"),this.$menuStateIcon.addClass("icon-down"),this.turnOn(),this.enableShortcuts(),this.hoverOffAll(),this.hoverIndex=this.menuItems.length,document.activeElement&&document.activeElement.blur(),this.$menuContainer.focus(),this.setState("opened",!0),this.trigger("openmenu",this)},closeMenu:function(){hider.hide(this.$menuContainer),this.$menuStateIcon.removeClass("icon-down"),
this.$menuStateIcon.addClass("icon-up"),this.turnOff(),this.disableShortcuts(),this.hoverOffAll(),this.setState("opened",!1),this.trigger("closemenu",this)},getItemById:function(itemId){return _.find(this.menuItems,function(item){return item.getId()===itemId})},addItem:function(item){item&&this.menuItems.push(item)},renderItems:function(){var self=this;this.menuItems.forEach(function(item){item.setTemplate(menuItemTpl),item.render(self.$menuContent),item.enable()}),this.$menuItems=this.$menuContent.find(".menu-item"),this.$menuItems.on("mouseenter",function(e){var itemId=e.currentTarget.getAttribute("data-control");self.mouseOverItem(itemId)})},
mouseOverItem:function(itemId){var self=this;this.menuItems.forEach(function(item,index){item.id===itemId&&(self.hoverIndex=index)}),this.hoverItem(itemId)},hasDisplayedItems:function(){return this.menuItems.some(function(item){return!item.is("disabled")&&!item.is("hidden")})},turnOffAll:function(){this.menuItems.forEach(function(current){current.turnOff()})},enableShortcuts:function(){var self=this;this.$menuContainer.on("keydown.menuNavigation",function(e){var currentKeyCode=e.keyCode?e.keyCode:e.charCode;switch(e.preventDefault(),currentKeyCode){case keyCodes.SPACE:case keyCodes.ENTER:self.triggerHighlightedItem(),e.stopPropagation();break
;case keyCodes.LEFT:case keyCodes.UP:self.moveUp(),e.stopPropagation();break;case keyCodes.RIGHT:case keyCodes.DOWN:self.moveDown(),e.stopPropagation()}}),this.$menuButton.on("keydown.menuNavigation",function(e){(e.keyCode?e.keyCode:e.charCode)===keyCodes.UP&&(e.stopPropagation(),self.hoverIndex=self.menuItems.length-1,self.$menuContainer.focus(),self.hoverItem(self.menuItems[self.hoverIndex].id))})},disableShortcuts:function(){this.$menuContainer.off(".menuNavigation"),this.$menuButton.off(".menuNavigation")},moveUp:function(){this.hoverIndex>0&&(this.hoverIndex--,this.hoverItem(this.menuItems[this.hoverIndex].id))},moveDown:function(){
this.hoverIndex<this.menuItems.length-1?(this.hoverIndex++,this.hoverItem(this.menuItems[this.hoverIndex].id)):this.hoverIndex===this.menuItems.length-1&&(this.hoverIndex++,this.hoverOffAll(),this.$menuButton.closest(".action").focus(),this.closeMenu())},hoverItem:function(itemId){var itemToHover=this.getItemById(itemId);this.hoverOffAll(),itemToHover&&itemToHover.hoverOn()},hoverOffAll:function(){this.menuItems.forEach(function(current){current&&current.hoverOff()})},triggerHighlightedItem:function(){var activeItem;this.menuItems[this.hoverIndex]&&(activeItem=this.menuItems[this.hoverIndex],activeItem.getElement().trigger("click"),this.closeMenu(),
document.activeElement&&document.activeElement.blur())}};return function(specs,defaults){var _defaults,menuComponent;return _defaults={$component:$(),$menuButton:$(),$menuContainer:$(),$menuContent:$(),$menuItems:$(),$menuStateIcon:$(),hoverIndex:null,id:null,menuItems:[]},specs=_.defaults(specs||{},menuComponentApi),menuComponent=componentFactory(specs,defaults).setTemplate(menuTpl).on("enable",function(){this.is("rendered")&&this.$component.removeProp("disabled")}).on("disable",function(){this.is("rendered")&&(this.$component.prop("disabled",!0),this.closeMenu(),this.turnOff())}).on("hide",function(){this.is("rendered")&&this.closeMenu()
}).on("init",function(){this.initMenu()}).on("render",function(){var self=this;this.$menuButton=this.$component.find('[data-control="'+this.config.control+'-button"]'),this.$menuContainer=this.$component.find('[data-control="'+this.config.control+'-menu"]'),this.$menuContent=this.$component.find('[data-control="'+this.config.control+'-list"]'),this.$menuStateIcon=this.$menuButton.find(".icon-up"),this.disable(),this.$component.on("click",function(e){e.preventDefault(),self.is("opened")||e.stopPropagation(),self.toggleMenu()}),this.$menuContainer.on("click",function(e){e.preventDefault(),e.stopPropagation(),self.closeMenu()}),
this.$menuContent.on("mouseleave",this.hoverOffAll)}).on("destroy",function(){this.is("rendered")&&(this.$menuContainer.off(".menuNavigation"),this.$menuButton.off(".menuNavigation"))}),_.defaults(menuComponent,_defaults),menuComponent}}),define("tpl!taoQtiTest/runner/ui/toolbox/templates/text",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+='class="',(helper=helpers.className)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.className,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data
}):helper),buffer+=escapeExpression(stack1)+'" '}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+="<li ",stack1=helpers.if.call(depth0,depth0&&depth0.className,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='data-control="',(helper=helpers.control)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.control,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+'" >\n    ',(helper=helpers.text)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.text,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\n</li>"})}),define("taoQtiTest/runner/ui/toolbox/text",["lodash","ui/component","tpl!taoQtiTest/runner/ui/toolbox/templates/text"],function(_,componentFactory,textTpl){"use strict";var textComponentApi={initText:function(){this.id=this.config.control},getType:function(){return"text"},getId:function(){return this.id}};return function(specs,defaults){return specs=_.defaults(specs||{},textComponentApi),
componentFactory(specs,defaults).setTemplate(textTpl).on("init",function(){this.initText()}).on("render",function(){this.disable()})}}),define("tpl!taoQtiTest/runner/ui/toolbox/templates/toolbox",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{},'<ul class="plain tools-box-list"></ul>'})}),
define("taoQtiTest/runner/ui/toolbox/toolbox",["lodash","jquery","ui/component","taoQtiTest/runner/ui/toolbox/entry","taoQtiTest/runner/ui/toolbox/menu","taoQtiTest/runner/ui/toolbox/text","tpl!taoQtiTest/runner/ui/toolbox/templates/toolbox"],function(_,$,componentFactory,entryFactory,menuFactory,textFactory,toolboxTpl){"use strict";function defaultRenderer($container){var self=this,menuEntries=[];_.isArray(this.allItems)&&this.allItems.forEach(function(item){self.hasMenu(item)||item.render($container)}),this.allMenus.forEach(function(menu){var menuId=menu.getId();menuEntries=self.allItems.filter(function(item){
return"entry"===item.getType()&&item.getMenuId()===menuId}),menuEntries.forEach(function(item){menu.addItem(item)}),menu.renderItems()})}var toolboxComponentApi={initToolbox:function(){this.allItems=[],this.allMenus=[]},createMenu:function(config){var self=this,menu=menuFactory().init(config);return this.allItems.push(menu),this.allMenus.push(menu),menu.on("openmenu",function(openedMenu){self.allMenus.forEach(function(current){openedMenu.getId()!==current.getId()&&current.is("opened")&&current.closeMenu()})}),menu},createEntry:function(config){var item=entryFactory().init(config);return this.allItems.push(item),item},createText:function(config){
var text=textFactory().init(config);return this.allItems.push(text),text},hasMenu:function(item){return item&&_.isFunction(item.getMenuId)&&item.getMenuId()}};return function(specs,defaults){var $document=$(document);return specs=_.defaults(specs||{},toolboxComponentApi),componentFactory(specs,defaults).on("init",function(){this.initToolbox()}).on("render.defaultRenderer",defaultRenderer).on("render",function(){var self=this;$document.off(".toolboxmenu"),$document.on("click.toolboxmenu",function(){self.allMenus.forEach(function(menu){menu.is("opened")&&menu.closeMenu()})})}).on("destroy",function(){$document.off(".toolboxmenu"),
this.allItems.forEach(function(item){item.destroy()})}).setTemplate(toolboxTpl)}}),define("util/url",["lodash","context"],function(_,context){"use strict";var parsers={absolute:/^(?:[a-z]+:)?\/\//i,base64:/^data:[^\/]+\/[^;]+(;charset=[\w]+)?;base64,/,query:/(?:^|&)([^&=]*)=?([^&]*)/g,url:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/};return{parse:function(url){var matches,keys=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","queryString","hash"],i=keys.length,parsed=Object.create({toString:function(){
return this.source}});if(parsed.base64=parsers.base64.test(url),parsed.base64)parsed.source=url;else{for(matches=parsers.url.exec(url);i--;)parsed[keys[i]]=matches[i]||"";parsed.query={},parsed.queryString.replace(parsers.query,function($0,$1,$2){$1&&(parsed.query[$1]=$2)})}return parsed},isAbsolute:function(url){return"object"==typeof url&&url.hasOwnProperty("source")?url.source!==url.relative:"string"==typeof url?parsers.absolute.test(url):void 0},isRelative:function(url){var absolute=this.isAbsolute(url);if("boolean"==typeof absolute)return!absolute},isBase64:function(url){
return"object"==typeof url&&url.hasOwnProperty("source")?url.base64:"string"==typeof url?parsers.base64.test(url):void 0},encodeAsXmlAttr:function(uri){return/[<>&']+/.test(uri)?encodeURIComponent(uri):uri},build:function(path,params){var url,hasQueryString,queryString="";return path&&(_.isString(path)&&(url=path),_.isArray(path)&&(url="",_.forEach(path,function(chunk){/\/$/.test(url)&&/^\//.test(chunk)?url+=chunk.substr(1):""===url||/\/$/.test(url)||/^\//.test(chunk)?url+=chunk:url+="/"+chunk})),_.isPlainObject(params)&&(hasQueryString=url.indexOf("?")>-1,queryString=_.reduce(params,function(acc,value,key){return _.isEmpty(acc)&&!hasQueryString||(acc+="&"),
"object"!=typeof value||_.isArray(value)?acc+=encodeURIComponent(key)+"="+encodeURIComponent(value):_.forOwn(value,function(parameterValue,parameterName){acc+=encodeURIComponent(key)+"["+encodeURIComponent(parameterName)+"]="+encodeURIComponent(parameterValue)+"&"}),acc},queryString),_.isEmpty(queryString)||(hasQueryString||(url+="?"),url+=queryString))),url},route:function(action,controller,extension,params,rootUrl){var routeParts=[extension,controller,action];if(_.some(routeParts,function(value){return _.isEmpty(value)||!_.isString(value)}))throw new TypeError("All parts are required to build an URL");return rootUrl=rootUrl||context&&context.root_url,
this.build([rootUrl].concat(routeParts),params)}}}),define("taoItems/assets/manager",["lodash","util/url"],function(_,urlUtil){"use strict";var checkStrategy=function(strategy){if(!_.isPlainObject(strategy)||!_.isFunction(strategy.handle)||!_.isString(strategy.name))throw new TypeError("An asset resolution strategy is an object with a handle method and a name")};return function(strategies,data,options){var cache={};strategies=_.isArray(strategies)?strategies:[strategies],data=data||{},options=_.defaults(options||{},{parseUrl:!0});var assetManager={_strategies:[],addStrategy:function(strategy){checkStrategy(strategy),this._strategies.push(strategy)},
prependStrategy:function(strategy){checkStrategy(strategy),this._strategies.unshift(strategy)},setStrategies:function(newStrategies){var self=this;this._strategies=[],_.forEach(newStrategies,function(strategy){_.isPlainObject(strategy)?assetManager.addStrategy(strategy):_.isFunction(strategy)&&self.addStrategy({name:"strategy_"+(self._strategies.length+1),handle:strategy})})},setData:function(key,value){_.isString(key)&&void 0!==value?data[key]=value:_.isPlainObject(key)&&(data=key)},getData:function(key){return _.isString(key)?data[key]:data},resolve:function(url){var resolved,inputUrl
;return options.cache&&cache.hasOwnProperty(url)?cache[url]:(inputUrl=options.parseUrl?urlUtil.parse(url):url,_.forEach(this._strategies,function(strategy){var result=strategy.handle(inputUrl,data);if(result)return resolved=result,!1}),resolved=resolved||"",options.cache&&(cache[url]=resolved),resolved)},resolveBy:function(name,url){var inputUrl,resolved="",strategy=_.find(this._strategies,{name:name});return strategy&&(inputUrl=options.parseUrl?urlUtil.parse(url):url,resolved=strategy.handle(inputUrl,data)),resolved},clearCache:function(){options.cache&&(cache={})}};return assetManager.setStrategies(strategies),assetManager}}),
define("taoItems/runner/api/itemRunner",["jquery","lodash","core/eventifier","taoItems/assets/manager"],function($,_,eventifier,assetManagerFactory){"use strict";var itemRunnerFactory=function itemRunnerFactory(providerName,data,options){var provider,providers,assetManager,flow={init:{done:!1,pending:[]},render:{done:!1,pending:[]}};if(_.isPlainObject(providerName)&&(data=providerName,providerName=void 0),data=data||{},options=options||{},!(providers=itemRunnerFactory.providers)||0===_.size(providers))throw new Error("No provider regitered")
;if(_.isString(providerName)&&providerName.length>0?provider=providers[providerName]:1===_.size(providers)&&(providerName=_.keys(providers)[0],provider=providers[providerName]),!provider)throw new Error("No candidate found for the provider");return assetManager=options.assetManager||assetManagerFactory(function(url){return url.toString()}),eventifier({container:null,assetManager:assetManager,options:options,init:function(newData){var self=this,initDone=function(){!1===flow.init.done&&(flow.init.done=!0,_.forEach(flow.init.pending,function(pendingTask){_.isFunction(pendingTask)&&pendingTask.call(self)}),flow.init.pending=[]),self.trigger("init")}
;return newData&&(data=_.merge(data,newData)),_.isFunction(provider.init)?provider.init.call(this,data,initDone):initDone(),this},assets:function(strategies,data,options){try{this.assetManager=assetManagerFactory(strategies,data,options)}catch(err){this.trigger("error","Something was wrong while configuring the asset manager : "+err)}return this},render:function(elt,options){var self=this,renderDone=function(){!1===flow.render.done&&(flow.render.done=!0,_.forEach(flow.render.pending,function(pendingTask){_.isFunction(pendingTask)&&pendingTask.call(self)}),flow.render.pending=[]),self.trigger("render"),self.trigger("ready")}
;return options=_.defaults(options||{},{state:{}}),elt instanceof HTMLElement||elt instanceof $?(options.state&&this.setState(options.state),!1===flow.init.done?flow.init.pending.push(function(){this.render(elt,options)}):(this.container=elt instanceof $?elt.get(0):elt,_.isFunction(provider.render)?provider.render.call(this,this.container,renderDone,options):renderDone()),this):self.trigger("error","A valid HTMLElement (or a jquery element) at least is required to render the item")},clear:function(){var self=this,clearDone=function(){self.trigger("clear")};return _.isFunction(provider.clear)?provider.clear.call(this,this.container,clearDone):clearDone(),this
},getState:function(){var state=null;return _.isFunction(provider.getState)&&(state=provider.getState.call(this)),state},setState:function(state){return _.isPlainObject(state)?(!1===flow.render.done?flow.render.pending.push(function(){this.setState(state)}):_.isFunction(provider.setState)&&provider.setState.call(this,state),this):this.trigger("error","The item's state must be a JavaScript Plain Object: "+typeof state+" given")},getResponses:function(){var responses={};return _.isFunction(provider.getResponses)&&(responses=provider.getResponses.call(this)),responses},renderFeedbacks:function(feedbacks,itemSession,done){
_.isFunction(provider.renderFeedbacks)&&provider.renderFeedbacks.call(this,feedbacks,itemSession,done)}})};return itemRunnerFactory.register=function(name,provider){if(!_.isString(name)||name.length<=0)throw new TypeError("It is required to give a name to your provider.");if(!_.isPlainObject(provider)||!_.isFunction(provider.init)&&!_.isFunction(provider.render))throw new TypeError("A provider is an object that contains at least an init function or a render function.");this.providers=this.providers||{},this.providers[name]=provider},itemRunnerFactory});var initializing=!1,fnTest=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;Class=function(){},
Class.extend=function(prop){var _super=this.prototype;initializing=!0;var prototype=new this;initializing=!1;for(var name in prop)prototype[name]="function"==typeof prop[name]&&"function"==typeof _super[name]&&fnTest.test(prop[name])?function(name,fn){return function(){var tmp=this._super;this._super=_super[name];var ret=fn.apply(this,arguments);return this._super=tmp,ret}}(name,prop[name]):prop[name];return Class=function(){!initializing&&this.init&&this.init.apply(this,arguments)},Class.prototype=prototype,Class.constructor=Class,Class.extend=arguments.callee,Class},"undefined"!=typeof exports&&(exports.Class=Class),define("class",function(global){
return function(){return global.Class}}(this)),define("taoQtiItem/qtiItem/core/qtiClasses",[],function(){return{_container:"taoQtiItem/qtiItem/core/Container",assessmentItem:"taoQtiItem/qtiItem/core/Item",responseProcessing:"taoQtiItem/qtiItem/core/ResponseProcessing",_simpleFeedbackRule:"taoQtiItem/qtiItem/core/response/SimpleFeedbackRule",stylesheet:"taoQtiItem/qtiItem/core/Stylesheet",math:"taoQtiItem/qtiItem/core/Math",img:"taoQtiItem/qtiItem/core/Img",object:"taoQtiItem/qtiItem/core/Object",outcomeDeclaration:"taoQtiItem/qtiItem/core/variables/OutcomeDeclaration",responseDeclaration:"taoQtiItem/qtiItem/core/variables/ResponseDeclaration",
rubricBlock:"taoQtiItem/qtiItem/core/RubricBlock",associableHotspot:"taoQtiItem/qtiItem/core/choices/AssociableHotspot",gap:"taoQtiItem/qtiItem/core/choices/Gap",gapImg:"taoQtiItem/qtiItem/core/choices/GapImg",gapText:"taoQtiItem/qtiItem/core/choices/GapText",hotspotChoice:"taoQtiItem/qtiItem/core/choices/HotspotChoice",hottext:"taoQtiItem/qtiItem/core/choices/Hottext",inlineChoice:"taoQtiItem/qtiItem/core/choices/InlineChoice",simpleAssociableChoice:"taoQtiItem/qtiItem/core/choices/SimpleAssociableChoice",simpleChoice:"taoQtiItem/qtiItem/core/choices/SimpleChoice",associateInteraction:"taoQtiItem/qtiItem/core/interactions/AssociateInteraction",
choiceInteraction:"taoQtiItem/qtiItem/core/interactions/ChoiceInteraction",endAttemptInteraction:"taoQtiItem/qtiItem/core/interactions/EndAttemptInteraction",extendedTextInteraction:"taoQtiItem/qtiItem/core/interactions/ExtendedTextInteraction",gapMatchInteraction:"taoQtiItem/qtiItem/core/interactions/GapMatchInteraction",graphicAssociateInteraction:"taoQtiItem/qtiItem/core/interactions/GraphicAssociateInteraction",graphicGapMatchInteraction:"taoQtiItem/qtiItem/core/interactions/GraphicGapMatchInteraction",graphicOrderInteraction:"taoQtiItem/qtiItem/core/interactions/GraphicOrderInteraction",
hotspotInteraction:"taoQtiItem/qtiItem/core/interactions/HotspotInteraction",hottextInteraction:"taoQtiItem/qtiItem/core/interactions/HottextInteraction",inlineChoiceInteraction:"taoQtiItem/qtiItem/core/interactions/InlineChoiceInteraction",matchInteraction:"taoQtiItem/qtiItem/core/interactions/MatchInteraction",mediaInteraction:"taoQtiItem/qtiItem/core/interactions/MediaInteraction",orderInteraction:"taoQtiItem/qtiItem/core/interactions/OrderInteraction",prompt:"taoQtiItem/qtiItem/core/interactions/Prompt",selectPointInteraction:"taoQtiItem/qtiItem/core/interactions/SelectPointInteraction",
sliderInteraction:"taoQtiItem/qtiItem/core/interactions/SliderInteraction",textEntryInteraction:"taoQtiItem/qtiItem/core/interactions/TextEntryInteraction",uploadInteraction:"taoQtiItem/qtiItem/core/interactions/UploadInteraction",feedbackBlock:"taoQtiItem/qtiItem/core/feedbacks/FeedbackBlock",feedbackInline:"taoQtiItem/qtiItem/core/feedbacks/FeedbackInline",modalFeedback:"taoQtiItem/qtiItem/core/feedbacks/ModalFeedback",customInteraction:"taoQtiItem/qtiItem/core/interactions/CustomInteraction",infoControl:"taoQtiItem/qtiItem/core/PortableInfoControl",include:"taoQtiItem/qtiItem/core/Include",table:"taoQtiItem/qtiItem/core/Table",
printedVariable:"taoQtiItem/qtiItem/core/PrintedVariable",_tooltip:"taoQtiItem/qtiItem/core/Tooltip"}}),define("taoQtiItem/qtiItem/helper/util",["lodash"],function(_){"use strict";return{buildSerial:function(prefix){for(var id=prefix||"",chars="abcdefghijklmnopqrstuvwxyz0123456789",i=0;i<22;i++)id+=chars.charAt(Math.floor(Math.random()*chars.length));return id},buildId:function(item,prefix){var id,usedIds,i=1,suffix="",exists=!1;if(!item)throw new TypeError("A item is required to generate a unique identifier");usedIds=item.getUsedIds();do{exists=!1,id=prefix+suffix,_.contains(usedIds,id)&&(exists=!0,suffix="_"+i,i++)}while(exists);return id},
buildIdentifier:function(item,prefix,useSuffix){var id,usedIds,suffix="",i=1,exists=!1;if(!item)throw new TypeError("A item is required to generate a unique identifier");if(!prefix)throw new TypeError("Prefix is required to build an identifier");usedIds=item.getUsedIdentifiers(),useSuffix=!!_.isUndefined(useSuffix)||useSuffix,prefix&&(prefix=prefix.replace(/_[0-9]+$/gi,"_").replace(/[^a-zA-Z0-9_]/gi,"_").replace(/(_)+/gi,"_"),useSuffix&&(suffix="_"+i));do{exists=!1,id=prefix+suffix,usedIds[id]&&(exists=!0,suffix="_"+i,i++)}while(exists);return id},findInCollection:function(element,collectionNames,searchedSerial){var found=null
;if(_.isString(collectionNames)&&(collectionNames=[collectionNames]),!_.isArray(collectionNames))throw new Error("invalid argument : collectionNames must be an array or a string");return _.each(collectionNames,function(collectionName){var collection=element;_.each(collectionName.split("."),function(nameToken){collection=collection[nameToken]});var elt=collection[searchedSerial];return elt?(found={parent:element,element:elt},!1):(_.each(collection,function(elt){if(_.isFunction(elt.find)&&(found=elt.find(searchedSerial)))return!1}),!found&&void 0)}),found},addMarkupNamespace:function(markup,ns){
return ns?markup=markup.replace(/<(\/)?([a-z:]+)(\s?)([^><]*)>/g,function($0,$1,$2,$3,$4){return $2.indexOf(":")>0?$0:($1=$1||"",$3=$3||"","<"+$1+ns+":"+$2+$3+$4+">")}):markup},removeMarkupNamespaces:function(markup){return markup.replace(/<(\/)?(\w*):([^>]*)>/g,"<$1$3>")},getMarkupUsedNamespaces:function(markup){var namespaces=[];return markup.replace(/<(\/)?(\w*):([^>]*)>/g,function(original,slash,ns,node){return namespaces.push(ns),"<"+slash+node+">"}),_.uniq(namespaces)}}}),define("taoQtiItem/qtiItem/helper/rendererConfig",["lodash","jquery"],function(_,$){var rendererConfigHelper={};return rendererConfigHelper.getOptionsFromArguments=function(args){
var options={data:{},placeholder:null,subclass:"",renderer:null};return _.each(args,function(arg){arg&&(arg.isRenderer?options.renderer=arg:arg instanceof $&&arg.length?options.placeholder=arg:_.isString(arg)?options.subclass=arg:_.isPlainObject(arg)?options.data=arg:console.log("invalid arg",arg,args))}),options},rendererConfigHelper}),define("taoQtiItem/qtiItem/core/Element",["jquery","lodash","class","core/logger","taoQtiItem/qtiItem/helper/util","taoQtiItem/qtiItem/helper/rendererConfig"],function($,_,Class,loggerFactory,util,rendererConfig){"use strict";var _instances={},logger=loggerFactory("taoQtiItem/qtiItem/core/Element"),Element=Class.extend({
qtiClass:"",serial:"",rootElement:null,init:function(serial,attributes){if(this.attributes={},this.metaData={},"object"==typeof serial&&(attributes=serial,serial=""),serial||(serial=util.buildSerial(this.qtiClass+"_")),serial&&("string"!=typeof serial||!serial.match(/^[a-z_0-9]*$/i)))throw"invalid QTI serial : ("+typeof serial+") "+serial;if(_instances[serial])throw"a QTI Element with the same serial already exists "+serial;_instances[serial]=this,this.serial=serial,this.setAttributes(attributes||{}),"function"==typeof this.initContainer&&this.initContainer(arguments[2]||""),"function"==typeof this.initObject&&this.initObject()},is:function(qtiClass){
return qtiClass===this.qtiClass},placeholder:function(){return"{{"+this.serial+"}}"},getSerial:function(){return this.serial},getUsedIdentifiers:function(){var usedIds={},elts=this.getComposingElements();for(var i in elts){var elt=elts[i],id=elt.attr("identifier");id&&(usedIds[id]=elt)}return usedIds},getUsedIds:function(){var usedIds=[];return _.forEach(this.getComposingElements(),function(elt){var id=elt.attr("id");id&&!_.contains(usedIds,id)&&usedIds.push(id)}),usedIds},attr:function(name,value){
if(name)if(void 0!==value)this.attributes[name]=value;else if("object"==typeof name)for(var prop in name)this.attr(prop,name[prop]);else if("string"==typeof name)return void 0===this.attributes[name]?void 0:this.attributes[name];return this},data:function(name,value){if(name)if(void 0!==value)this.metaData[name]=value,$(document).trigger("metaChange.qti-widget",{element:this,key:name,value:value});else if("object"==typeof name)for(var prop in name)this.data(prop,name[prop]);else if("string"==typeof name)return void 0===this.metaData[name]?void 0:this.metaData[name];return this},removeData:function(name){return delete this.metaData[name],this},
removeAttr:function(name){return this.removeAttributes(name)},setAttributes:function(attributes){return _.isPlainObject(attributes)||logger.warn("attributes should be a plain object"),this.attributes=attributes,this},getAttributes:function(){return _.clone(this.attributes)},removeAttributes:function(attrNames){"string"==typeof attrNames&&(attrNames=[attrNames]);for(var i in attrNames)delete this.attributes[attrNames[i]];return this},getComposingElements:function(){function append(element){elts[element.getSerial()]=element,elts=_.extend(elts,element.getComposingElements())}var elts={};return"function"==typeof this.initContainer&&append(this.getBody()),
"function"==typeof this.initObject&&append(this.getObject()),_.each(this.metaData,function(v){Element.isA(v,"_container")?append(v):_.isArray(v)&&_.each(v,function(v){Element.isA(v,"_container")&&append(v)})}),elts},getUsedClasses:function(){var ret=[this.qtiClass],composingElts=this.getComposingElements();return _.each(composingElts,function(elt){ret.push(elt.qtiClass)}),_.uniq(ret)},find:function(serial){var object,body,found=null;return"function"==typeof this.initObject&&(object=this.getObject(),object.serial===serial&&(found={parent:this,element:object,location:"object"})),found||"function"!=typeof this.initContainer||(body=this.getBody(),
found=body.serial===serial?{parent:this,element:body,location:"body"}:this.getBody().find(serial,this)),found},parent:function(){var item=this.getRootElement();if(item){var found=item.find(this.getSerial());if(found)return found.parent}return null},setRelatedItem:function(item){logger.warn("Deprecated use of setRelatedItem()"),this.setRootElement(item)},setRootElement:function(item){var composingElts,i;if(Element.isA(item,"assessmentItem")){this.rootElement=item,composingElts=this.getComposingElements();for(i in composingElts)composingElts[i].setRootElement(item)}},getRelatedItem:function(){return logger.warn("Deprecated use of getRelatedItem()"),
this.getRootElement()},getRootElement:function(){var ret=null;return Element.isA(this.rootElement,"assessmentItem")&&(ret=this.rootElement),ret},setRenderer:function(renderer){if(!renderer||!renderer.isRenderer)throw"invalid qti rendering engine";this.renderer=renderer;var elts=this.getComposingElements();for(var serial in elts)elts[serial].setRenderer(renderer)},getRenderer:function(){return this.renderer},render:function(){var rendering,args=rendererConfig.getOptionsFromArguments(arguments),_renderer=args.renderer||this.getRenderer(),tplData={},defaultData={tag:this.qtiClass,serial:this.serial,attributes:this.getAttributes()}
;if(!_renderer)throw new Error("render: no renderer found for the element "+this.qtiClass+":"+this.serial);return"function"==typeof this.initContainer&&(defaultData.body=this.getBody().render(args.renderer)),"function"==typeof this.initObject&&(defaultData.object={attributes:this.object.getAttributes()},defaultData.object.attributes.data=_renderer.resolveUrl(this.object.attr("data"))),tplData=_.merge(defaultData,args.data||{}),tplData=_renderer.getData(this,tplData,args.subclass),rendering=_renderer.renderTpl(this,tplData,args.subclass),args.placeholder&&args.placeholder.replaceWith(rendering),rendering},postRender:function(data,altClassName,renderer){
var postRenderers=[],_renderer=renderer||this.getRenderer();if("function"==typeof this.initContainer&&(postRenderers=this.getBody().postRender(data,"",renderer)),!_renderer)throw"postRender: no renderer found for the element "+this.qtiClass+":"+this.serial;return postRenderers.push(_renderer.postRender(this,data,altClassName)),_.compact(postRenderers)},getContainer:function($scope,subclass){var renderer=this.getRenderer();if(renderer)return renderer.getContainer(this,$scope,subclass);throw"getContainer: no renderer found for the element "+this.qtiClass+":"+this.serial},toArray:function(){var arr={serial:this.serial,type:this.qtiClass,
attributes:this.getAttributes()};return"function"==typeof this.initContainer&&(arr.body=this.getBody().toArray()),"function"==typeof this.initObject&&(arr.object=this.object.toArray()),arr},isEmpty:function(){return!1},addClass:function(className){var clazz=this.attr("class")||"";_containClass(clazz,className)||this.attr("class",clazz+(clazz.length?" ":"")+className)},hasClass:function(className){return _containClass(this.attr("class"),className)},removeClass:function(className){var clazz=this.attr("class")||"";if(clazz){var regex=new RegExp("(?:^|\\s)"+className+"(?:\\s|$)");clazz=clazz.replace(regex," ").trim(),
clazz?this.attr("class",clazz):this.removeAttr("class")}},toggleClass:function(className,state){return"boolean"==typeof state?state?this.addClass(className):this.removeClass(className):this.hasClass(className)?this.removeClass(className):this.addClass(className)},isset:function(){return Element.issetElement(this.serial)},unset:function(){return Element.unsetElement(this.serial)}}),_containClass=function(allClassStr,className){var regex=new RegExp("(?:^|\\s)"+className+"(?:\\s|$)","");return allClassStr&&regex.test(allClassStr)};return Element.isA=function(qtiElement,qtiClass){return qtiElement instanceof Element&&qtiElement.is(qtiClass)},
Element.getElementBySerial=function(serial){return _instances[serial]},Element.issetElement=function(serial){return!!_instances[serial]},Element.unsetElement=function(serial){var element=Element.getElementBySerial(serial);if(element){var composingElements=element.getComposingElements();return _.each(composingElements,function(elt){delete _instances[elt.serial]}),delete _instances[element.serial],!0}return!1},Element}),define("taoQtiItem/qtiItem/helper/xmlNsHandler",[],function(){"use strict";function getPrefix(namespaces,html5Ns){var key;for(key in namespaces)if(namespaces[key]===html5Ns)return key;return"qh5"}
var prefixed="article|aside|bdi|figure|footer|header|nav|rb|rp|rt|rtc|ruby|section";return{stripNs:function(body){var pattern="([\\w]+)\\:("+prefixed+")",openRegEx=new RegExp("(<"+pattern+")","gi"),closeRegEx=new RegExp("(<\\/"+pattern+">)","gi");return body.replace(openRegEx,"<$3").replace(closeRegEx,"</$3>")},restoreNs:function(xml,namespaces){
var tagMatch,xmlRe=new RegExp("(<("+prefixed+")[^>]*>|<\\/("+prefixed+")>)","gi"),tagRe=new RegExp("((<)("+prefixed+")([^>]*)(>)|(<\\/)("+prefixed+")(>))","i"),xmlMatch=xml.match(xmlRe),imsXsd="http://www.imsglobal.org/xsd",html5Ns=imsXsd+"/imsqtiv2p2_html5_v1p0",prefix=getPrefix(namespaces,html5Ns),prefixAtt="xmlns:"+prefix+'="'+html5Ns+'"',i=xmlMatch?xmlMatch.length:0;if(!xmlMatch)return xml;for(;i--;)tagMatch=xmlMatch[i].match(tagRe),xml=xml.replace(xmlMatch[i],tagMatch[5]?"<"+prefix+":"+tagMatch[3]+tagMatch[4]+">":"</"+prefix+":"+tagMatch[7]+">")
;return xmlMatch.length&&-1===xml.indexOf(prefixAtt)&&(xml=xml.replace("<assessmentItem","<assessmentItem "+prefixAtt)),xml=xml.replace('xmlns="'+imsXsd+'/imsqti_v2p1"','xmlns="'+imsXsd+'/imsqti_v2p2"'),xml=xml.replace('xsi:schemaLocation="'+imsXsd+'/imsqti_v2p1 imsqti_v2p1.xsd"','xsi:schemaLocation="'+imsXsd+"/imsqti_v2p2 "+imsXsd+'/qti/qtiv2p2/imsqti_v2p2.xsd"')}}}),define("taoQtiItem/qtiItem/core/Loader",["lodash","class","taoQtiItem/qtiItem/core/qtiClasses","taoQtiItem/qtiItem/core/Element","taoQtiItem/qtiItem/helper/xmlNsHandler"],function(_,Class,qtiClasses,Element,xmlNsHandler){"use strict";function loadPortableCustomElementData(portableElement,data){
portableElement.typeIdentifier=data.typeIdentifier,portableElement.markup=data.markup,portableElement.entryPoint=data.entryPoint,portableElement.libraries=data.libraries,portableElement.setNamespace("",data.xmlns),loadPortableCustomElementProperties(portableElement,data.properties)}function loadPortableCustomElementProperties(portableElement,rawProperties){var properties={};_.forOwn(rawProperties,function(value,key){try{properties[key]=JSON.parse(value)}catch(e){properties[key]=value}}),portableElement.properties=properties}var Loader=Class.extend({init:function(item,classesLocation){this.qti={},this.classesLocation={},this.item=item||null,
this.setClassesLocation(classesLocation||qtiClasses)},setClassesLocation:function(qtiClasses){return _.extend(this.classesLocation,qtiClasses),this},getRequiredClasses:function(data){var i,ret=[];for(i in data)"qtiClass"===i&&"_container"!==data[i]&&"rootElement"!==i?ret.push(data[i]):"object"==typeof data[i]&&"responseRules"!==i&&(ret=_.union(ret,this.getRequiredClasses(data[i])));return ret},loadRequiredClasses:function(data,callback,reload){var i,requiredClass,requiredClasses=this.getRequiredClasses(data,reload),required=[];for(i in requiredClasses){if(requiredClass=requiredClasses[i],
!this.classesLocation[requiredClass])throw new Error("missing qti class location declaration : "+requiredClass);required.push(this.classesLocation[requiredClass])}var _this=this;require(required,function(){_.each(arguments,function(QtiClass){_this.qti[QtiClass.prototype.qtiClass]=QtiClass}),callback.call(_this,_this.qti)})},getLoadedClasses:function(){return _.keys(this.qti)},loadItemData:function(data,callback){var _this=this;_this.loadRequiredClasses(data,function(Qti){var i;if("object"==typeof data&&"assessmentItem"===data.qtiClass){data.serial&&Element.unsetElement(data.serial),_this.item=new Qti.assessmentItem(data.serial,data.attributes||{}),
_this.loadContainer(_this.item.getBody(),data.body);for(i in data.outcomes){var outcome=_this.buildOutcome(data.outcomes[i]);outcome&&_this.item.addOutcomeDeclaration(outcome)}for(i in data.feedbacks){var feedback=_this.buildElement(data.feedbacks[i]);feedback&&_this.item.addModalFeedback(feedback)}for(i in data.stylesheets){var stylesheet=_this.buildElement(data.stylesheets[i]);stylesheet&&_this.item.addStylesheet(stylesheet)}for(i in data.responses){var response=_this.buildResponse(data.responses[i]);if(response){_this.item.addResponseDeclaration(response);var feedbackRules=data.responses[i].feedbackRules
;feedbackRules&&_.forIn(feedbackRules,function(fbData,serial){response.feedbackRules[serial]=_this.buildSimpleFeedbackRule(fbData,response)})}}data.responseProcessing&&_this.item.setResponseProcessing(_this.buildResponseProcessing(data.responseProcessing)),_this.item.setNamespaces(data.namespaces),_this.item.setSchemaLocations(data.schemaLocations),_this.item.setApipAccessibility(data.apipAccessibility)}"function"==typeof callback&&callback.call(_this,_this.item)})},loadAndBuildElement:function(data,callback){var _this=this;_this.loadRequiredClasses(data,function(Qti){var element=_this.buildElement(data)
;"function"==typeof callback&&callback.call(_this,element)})},loadElement:function(element,data,callback){var _this=this;this.loadRequiredClasses(data,function(){_this.loadElementData(element,data),"function"==typeof callback&&callback.call(_this,element)})},loadElements:function(data,callback){var _this=this;if(!_this.item)throw"QtiLoader : cannot load elements in empty item";this.loadRequiredClasses(data,function(){var allElements=_this.item.getComposingElements();for(var i in data){var elementData=data[i]
;elementData&&elementData.qtiClass&&elementData.serial&&allElements[elementData.serial]&&_this.loadElementData(allElements[elementData.serial],elementData)}"function"==typeof callback&&callback.call(_this,_this.item)})},buildResponse:function(data){var response=this.buildElement(data);return response.template=data.howMatch||null,response.defaultValue=data.defaultValue||null,response.correctResponse=data.correctResponses||null,_.size(data.mapping)?response.mapEntries=data.mapping:_.size(data.areaMapping)?response.mapEntries=data.areaMapping:response.mapEntries={},response.mappingAttributes=data.mappingAttributes||{},response},
buildSimpleFeedbackRule:function(data,response){var feedbackRule=this.buildElement(data);feedbackRule.setCondition(response,data.condition,data.comparedValue||null),feedbackRule.feedbackOutcome=this.item.outcomes[data.feedbackOutcome]||null,feedbackRule.feedbackThen=this.item.modalFeedbacks[data.feedbackThen]||null,feedbackRule.feedbackElse=this.item.modalFeedbacks[data.feedbackElse]||null;var response=feedbackRule.comparedOutcome;return feedbackRule.feedbackThen&&feedbackRule.feedbackThen.data("relatedResponse",response),feedbackRule.feedbackElse&&feedbackRule.feedbackElse.data("relatedResponse",response),feedbackRule},buildOutcome:function(data){
var outcome=this.buildElement(data);return outcome.defaultValue=data.defaultValue||null,outcome},buildResponseProcessing:function(data){var rp=this.buildElement(data);return data&&data.processingType&&("custom"===data.processingType?(rp.xml=data.data,rp.processingType="custom"):rp.processingType="templateDriven"),rp},loadContainer:function(bodyObject,bodyData){if(!Element.isA(bodyObject,"_container"))throw"bodyObject must be a QTI Container";if(!bodyData||"string"!=typeof bodyData.body||"array"!=typeof bodyData.elements&&"object"!=typeof bodyData.elements)throw"wrong bodydata format";for(var serial in bodyData.elements){
var eltData=bodyData.elements[serial],element=this.buildElement(eltData);element&&bodyObject.setElement(element,bodyData.body)}bodyObject.body(xmlNsHandler.stripNs(bodyData.body))},buildElement:function(elementData){var elt=null;if(!(elementData&&elementData.qtiClass&&elementData.serial))throw"wrong elementData format";var className=elementData.qtiClass;if(!this.qti[className])throw"the qti element class does not exist: "+className;return elt=new this.qti[className](elementData.serial),this.loadElementData(elt,elementData),elt},loadElementData:function(element,data){var attributes=_.defaults(data.attributes||{},element.attributes||{})
;return element.setAttributes(attributes),element.body&&data.body&&element.bdy&&this.loadContainer(element.getBody(),data.body),element.object&&data.object&&element.object&&this.loadObjectData(element.object,data.object),Element.isA(element,"interaction")?this.loadInteractionData(element,data):Element.isA(element,"choice")?this.loadChoiceData(element,data):Element.isA(element,"math")?this.loadMathData(element,data):Element.isA(element,"infoControl")?this.loadPicData(element,data):Element.isA(element,"_tooltip")&&this.loadTooltipData(element,data),element},loadInteractionData:function(interaction,data){
Element.isA(interaction,"blockInteraction")&&data.prompt&&this.loadContainer(interaction.prompt.getBody(),data.prompt),this.buildInteractionChoices(interaction,data),Element.isA(interaction,"customInteraction")&&this.loadPciData(interaction,data)},buildInteractionChoices:function(interaction,data){if(data.choices){if(Element.isA(interaction,"matchInteraction"))for(var set=0;set<2;set++){if(!data.choices[set])throw"missing match set #"+set;var matchSet=data.choices[set];for(var serial in matchSet){var choice=this.buildElement(matchSet[serial]);choice&&interaction.addChoice(choice,set)}}else for(var serial in data.choices){
var choice=this.buildElement(data.choices[serial]);choice&&interaction.addChoice(choice)}if(Element.isA(interaction,"graphicGapMatchInteraction")&&data.gapImgs)for(var serial in data.gapImgs){var gapImg=this.buildElement(data.gapImgs[serial]);gapImg&&interaction.addGapImg(gapImg)}}},loadChoiceData:function(choice,data){Element.isA(choice,"textVariableChoice")?choice.val(data.text):Element.isA(choice,"gapImg")||(Element.isA(choice,"gapText")?choice.body()||choice.body(data.text):Element.isA(choice,"containerChoice"))},loadObjectData:function(object,data){object.setAttributes(data.attributes),
data._alt&&("object"===data._alt.qtiClass?object._alt=Loader.buildElement(data._alt):object._alt=data._alt)},loadMathData:function(math,data){math.ns=data.ns||{},math.setMathML(data.mathML||""),_.forIn(data.annotations||{},function(value,encoding){math.setAnnotation(encoding,value)})},loadTooltipData:function(tooltip,data){tooltip.content(data.content)},loadPciData:function(pci,data){loadPortableCustomElementData(pci,data)},loadPicData:function(pic,data){loadPortableCustomElementData(pic,data)}});return Loader}),define("taoQtiItem/portableElementRegistry/factory/factory",["lodash","core/promise","core/eventifier"],function(_,Promise,eventifier){"use strict"
;var _requirejs=window.require,_defaultLoadingOptions={reload:!1},loadModuleConfig=function(manifest){return new Promise(function(resolve,reject){var baseUrl,requireConfigAliases={},reqConfigs=[],modules={};if(!manifest||!manifest.runtime)return reject("invalid manifest");baseUrl=manifest.baseUrl,_.isArray(manifest.runtime.config)&&manifest.runtime.config.length&&_.forEach(manifest.runtime.config,function(pciConfig){_.isString(pciConfig)?reqConfigs.push("json!"+baseUrl+"/"+pciConfig):pciConfig.data?modules=_.defaults(modules,pciConfig.data.paths||{}):pciConfig.file&&reqConfigs.push("json!"+baseUrl+"/"+pciConfig.file)}),require(reqConfigs,function(){
var runtimeModules={};requireConfigAliases[manifest.typeIdentifier]=baseUrl,"IMSPCI"===manifest.model&&(modules=_.reduce(arguments,function(acc,conf){return _.defaults(acc,conf.paths||{})},modules),_.forEach(manifest.runtime.modules||{},function(paths,id){paths&&(_.isString(paths)||_.isArray(paths)&&paths.length)&&(runtimeModules[id]=paths)}),modules=_.merge(modules,runtimeModules),_.forEach(modules,function(paths,id){paths=_.isArray(paths)?paths:[paths],requireConfigAliases[id]=_.map(paths,function(path){return baseUrl+"/"+path.replace(/\.js$/,"")})})),resolve(requireConfigAliases)},reject)})},isPortableElementProvider=function(provider){
return provider&&_.isFunction(provider.load)};return function(methods){var _loaded=!1,__providers={};return eventifier(_.defaults(methods||{},{_registry:{},get:function(typeIdentifier,version){if(this._registry[typeIdentifier])return version?_.find(this._registry[typeIdentifier],{version:version}):_.last(this._registry[typeIdentifier])},registerProvider:function(moduleName,provider){return __providers[moduleName]=isPortableElementProvider(provider)?provider:null,_loaded=!1,this},resetProviders:function(){return __providers={},_loaded=!1,this},loadProviders:function(options){var self=this
;return _loaded&&!options.reload?Promise.resolve([]):new Promise(function(resolve,reject){var providerLoadingStack=[];_.forIn(__providers,function(provider,id){null===provider&&providerLoadingStack.push(id)}),_requirejs(providerLoadingStack,function(){_.each([].slice.call(arguments),function(provider){isPortableElementProvider(provider)&&(__providers[providerLoadingStack.shift()]=provider)}),resolve(__providers),_loaded=!0,self.trigger("providersloaded",__providers)},reject)})},getAllVersions:function(){var all={};return _.forIn(this._registry,function(versions,id){all[id]=_.map(versions,"version")}),all},getRuntime:function(typeIdentifier,version){
var portableElement=this.get(typeIdentifier,version);if(portableElement)return _.assign(portableElement.runtime,{id:portableElement.typeIdentifier,label:portableElement.label,baseUrl:portableElement.baseUrl,model:portableElement.model});this.trigger("error",{message:"no portable element runtime found",typeIdentifier:typeIdentifier,version:version})},getCreator:function(typeIdentifier,version){var portableElement=this.get(typeIdentifier,version);if(portableElement&&portableElement.creator)return _.assign(portableElement.creator,{id:portableElement.typeIdentifier,label:portableElement.label,baseUrl:portableElement.baseUrl,response:portableElement.response,
model:portableElement.model,xmlns:portableElement.xmlns});this.trigger("error",{message:"no portable element runtime found",typeIdentifier:typeIdentifier,version:version})},getLatestCreators:function(){var all={};return _.forIn(this._registry,function(versions,id){var lastVersion=_.last(versions);lastVersion.creator&&lastVersion.creator.hook&&lastVersion.enabled&&(all[id]=lastVersion)}),all},getBaseUrl:function(typeIdentifier,version){var runtime=this.get(typeIdentifier,version);return runtime?runtime.baseUrl:""},loadRuntimes:function(options){var loadPromise,self=this;return options=_.defaults(options||{},_defaultLoadingOptions),
loadPromise=self.loadProviders(options).then(function(providers){var loadStack=[];return _.forEach(providers,function(provider){provider&&loadStack.push(provider.load())}),Promise.all(loadStack).then(function(results){var configLoadingStack=[];return self._registry=_.reduce(results,function(acc,_pcis){return _.merge(acc,_pcis)},self._registry||{}),_.forIn(self._registry,function(versions,typeIdentifier){if(_.isArray(options.include)&&_.indexOf(options.include,typeIdentifier)<0)return!0;configLoadingStack.push(loadModuleConfig(self.get(typeIdentifier)))}),Promise.all(configLoadingStack).then(function(moduleConfigs){
var requireConfigAliases=_.reduce(moduleConfigs,function(acc,paths){return _.merge(acc,paths)},{});_requirejs.config({paths:requireConfigAliases})})})}),loadPromise.then(function(){self.trigger("runtimesloaded")}).catch(function(err){self.trigger("error",err)}),loadPromise},loadCreators:function(options){var loadPromise,self=this;return options=_.defaults(options||{},_defaultLoadingOptions),loadPromise=self.loadRuntimes(options).then(function(){var requiredCreatorHooks=[];return _.forIn(self._registry,function(versions,typeIdentifier){var portableElementModel=self.get(typeIdentifier);if(portableElementModel.creator&&portableElementModel.creator.hook){
if(portableElementModel.enabled){if(_.isArray(options.include)&&_.indexOf(options.include,typeIdentifier)<0)return!0}else if(!_.isArray(options.include)||_.indexOf(options.include,typeIdentifier)<0)return!0;requiredCreatorHooks.push(portableElementModel.creator.hook.replace(/\.js$/,""))}}),requiredCreatorHooks.length?new Promise(function(resolve,reject){_requirejs(requiredCreatorHooks,function(){var creators={};_.each(arguments,function(creatorHook){var id=creatorHook.getTypeIdentifier(),portableElementModel=self.get(id),i=_.findIndex(self._registry[id],{version:portableElementModel.version})
;i<0?self.trigger("error","no creator found for id/version "+id+"/"+portableElementModel.version):(self._registry[id][i].creator.module=creatorHook,creators[id]=creatorHook)}),resolve(creators)},reject)}):Promise.resolve({})}),loadPromise.then(function(creators){return self.trigger("creatorsloaded",creators),creators}).catch(function(err){self.trigger("error",err)}),loadPromise},enable:function(typeIdentifier,version){var portableElement=this.get(typeIdentifier,version);return portableElement&&(portableElement.enabled=!0),this},disable:function(typeIdentifier,version){var portableElement=this.get(typeIdentifier,version)
;return portableElement&&(portableElement.enabled=!1),this},isEnabled:function(typeIdentifier,version){var portableElement=this.get(typeIdentifier,version);return portableElement&&!0===portableElement.enabled}}))}}),define("taoQtiItem/qtiCreator/helper/qtiElements",["jquery","lodash","i18n"],function($,_,__){"use strict";var QtiElements={};return QtiElements.classes={itemBody:{parents:["bodyElement"],contains:["block"],abstract:!0},atomicBlock:{parents:["blockStatic","bodyElement","flowStatic"],contains:["inline"],abstract:!0},atomicInline:{parents:["bodyElement","flowStatic","inlineStatic"],contains:["inline"],abstract:!0},simpleBlock:{
parents:["blockStatic","bodyElement","flowStatic"],contains:["block"],abstract:!0},simpleInline:{parents:["bodyElement","flowStatic","inlineStatic"],contains:["inline"],abstract:!0},flowStatic:{parents:["flow"],abstract:!0},blockStatic:{parents:["block"],abstract:!0},inlineStatic:{parents:["inline"],abstract:!0},flow:{parents:["objectFlow"],abstract:!0},tableCell:{parents:["bodyElement"],contains:["flow"],abstract:!0},caption:{parents:["bodyElement"],contains:["inline"],xhtml:!0},col:{parents:["bodyElement"],xhtml:!0},colgroup:{parents:["bodyElement"],contains:["col"],xhtml:!0},div:{parents:["blockStatic","bodyElement","flowStatic"],contains:["flow"],
xhtml:!0},dl:{parents:["blockStatic","bodyElement","flowStatic"],contains:["dlElement"],xhtml:!0},dt:{parents:["dlElement"],contains:["inline"],xhtml:!0},dd:{parents:["dlElement"],contains:["flow"],xhtml:!0},hr:{parents:["blockStatic","bodyElement","flowStatic"],xhtml:!0},math:{parents:["blockStatic","flowStatic","inlineStatic"],xhtml:!0},li:{parents:["bodyElement"],contains:["flow"],xhtml:!0},ol:{parents:["blockStatic","bodyElement","flowStatic"],contains:["li"],xhtml:!0},ul:{parents:["blockStatic","bodyElement","flowStatic"],contains:["li"],xhtml:!0},object:{parents:["bodyElement","flowStatic","inlineStatic"],contains:["objectFlow"],xhtml:!0},param:{
parents:["objectFlow"],xhtml:!0},table:{parents:["blockStatic","bodyElement","flowStatic"],contains:["caption","col","colgroup","thead","tfoot","tbody"],xhtml:!0},tbody:{parents:["bodyElement"],contains:["tr"],xhtml:!0},tfoot:{parents:["bodyElement"],contains:["tr"],xhtml:!0},thead:{parents:["bodyElement"],contains:["tr"],xhtml:!0},td:{parents:["tableCell"],xhtml:!0},th:{parents:["tableCell"],xhtml:!0},tr:{parents:["bodyElement"],contains:["tableCell"],xhtml:!0},a:{parents:["simpleInline"],xhtml:!0},abbr:{parents:["simpleInline"],xhtml:!0},acronym:{parents:["simpleInline"],xhtml:!0},b:{parents:["simpleInline"],xhtml:!0},big:{parents:["simpleInline"],xhtml:!0
},cite:{parents:["simpleInline"],xhtml:!0},code:{parents:["simpleInline"],xhtml:!0},dfn:{parents:["simpleInline"],xhtml:!0},em:{parents:["simpleInline"],xhtml:!0},i:{parents:["simpleInline"],xhtml:!0},kbd:{parents:["simpleInline"],xhtml:!0},q:{parents:["simpleInline"],xhtml:!0},samp:{parents:["simpleInline"],xhtml:!0},small:{parents:["simpleInline"],xhtml:!0},span:{parents:["simpleInline"],xhtml:!0},strong:{parents:["simpleInline"],xhtml:!0},sub:{parents:["simpleInline"],xhtml:!0},sup:{parents:["simpleInline"],xhtml:!0},tt:{parents:["simpleInline"],xhtml:!0},var:{parents:["simpleInline"],xhtml:!0},blockquote:{parents:["simpleBlock"],xhtml:!0},address:{
parents:["atomicBlock"],xhtml:!0},h1:{parents:["atomicBlock"],xhtml:!0},h2:{parents:["atomicBlock"],xhtml:!0},h3:{parents:["atomicBlock"],xhtml:!0},h4:{parents:["atomicBlock"],xhtml:!0},h5:{parents:["atomicBlock"],xhtml:!0},h6:{parents:["atomicBlock"],xhtml:!0},p:{parents:["atomicBlock"],xhtml:!0},pre:{parents:["atomicBlock"],xhtml:!0},img:{parents:["atomicInline"],xhtml:!0,attributes:["src","alt","longdesc","height","width"]},br:{parents:["atomicInline"],xhtml:!0},infoControl:{parents:["blockStatic","bodyElement","flowStatic"],qti:!0},textRun:{parents:["inlineStatic","flowstatic"],qti:!0},feedbackInline:{parents:["simpleInline","feedbackElement"],qti:!0},
feedbackBlock:{parents:["simpleBlock"],qti:!0},rubricBlock:{parents:["simpleBlock"],qti:!0},blockInteraction:{parents:["block","flow","interaction"],qti:!0},inlineInteraction:{parents:["inline","flow","interaction"],qti:!0},gap:{parents:["inlineStatic"],qti:!0},hottext:{parents:["flowstatic","inlineStatic"],contains:["inlineStatic"],qti:!0},printedVariable:{parents:["bodyElement","flowStatic","inlineStatic","textOrVariable"],qti:!0},prompt:{parents:["bodyElement"],contains:["inlineStatic"],qti:!0},templateElement:{parents:["bodyElement"],qti:!0},templateBlock:{parents:["blockStatic","flowStatic","templateElement"],contains:["blockStatic"],qti:!0},
templateInline:{parents:["inlineStatic","flowStatic","templateElement"],contains:["inlineStatic"],qti:!0},choiceInteraction:{parents:["blockInteraction"],qti:!0},associateInteraction:{parents:["blockInteraction"],qti:!0},orderInteraction:{parents:["blockInteraction"],qti:!0},matchInteraction:{parents:["blockInteraction"],qti:!0},hottextInteraction:{parents:["blockInteraction"],qti:!0},gapMatchInteraction:{parents:["blockInteraction"],qti:!0},mediaInteraction:{parents:["blockInteraction"],qti:!0},sliderInteraction:{parents:["blockInteraction"],qti:!0},uploadInteraction:{parents:["blockInteraction"],qti:!0},drawingInteraction:{parents:["blockInteraction"],
qti:!0},graphicInteraction:{parents:["blockInteraction"],qti:!0},hotspotInteraction:{parents:["graphicInteraction"],qti:!0},graphicAssociateInteraction:{parents:["graphicInteraction"],qti:!0},graphicOrderInteraction:{parents:["graphicInteraction"],qti:!0},graphicGapMatchInteraction:{parents:["graphicInteraction"],qti:!0},selectPointInteraction:{parents:["graphicInteraction"],qti:!0},textEntryInteraction:{parents:["stringInteraction","inlineInteraction"],qti:!0},extendedTextInteraction:{parents:["stringInteraction","blockInteraction"],qti:!0},inlineChoiceInteraction:{parents:["inlineInteraction"],qti:!0},endAttemptInteraction:{parents:["inlineInteraction"],
qti:!0},customInteraction:{parents:["block","flow","interaction"],qti:!0},_container:{parents:["block"],qti:!0}},QtiElements.cache={containable:{},children:{},parents:{}},QtiElements.getAllowedContainersElements=function(qtiClass,$container){var classes=QtiElements.getAllowedContainers(qtiClass),jqSelector="";for(var i in classes)classes[i].qti||(jqSelector+=classes[i]+", ");return jqSelector&&(jqSelector=jqSelector.substring(0,jqSelector.length-2)),$(jqSelector,$container||$(document)).filter(":not([data-qti-type])")},QtiElements.getAllowedContainers=function(qtiClass){var ret
;if(QtiElements.cache.containable[qtiClass])ret=QtiElements.cache.containable[qtiClass];else{ret=[];var parents=QtiElements.getParentClasses(qtiClass,!0);for(var aClass in QtiElements.classes){var model=QtiElements.classes[aClass];if(model.contains){_.intersection(model.contains,parents).length&&(model.abstract||ret.push(aClass),ret=_.union(ret,QtiElements.getChildClasses(aClass,!0)))}}QtiElements.cache.containable[qtiClass]=ret}return ret},QtiElements.getAllowedContents=function(qtiClass,recursive,checked){var ret=[];checked=checked||{};var model=QtiElements.classes[qtiClass];if(model&&model.contains)for(var i in model.contains){
var contain=model.contains[i];if(!checked[contain]){checked[contain]=!0,ret.push(contain);var children=QtiElements.getChildClasses(contain,!0);for(var i in children){var child=children[i];checked[child]||(checked[child]=!0,ret.push(child),recursive&&(ret=_.union(ret,QtiElements.getAllowedContents(child,!0,checked))))}recursive&&(ret=_.union(ret,QtiElements.getAllowedContents(contain,!0,checked)))}}var parents=QtiElements.getParentClasses(qtiClass,!0);for(var i in parents)ret=_.union(ret,QtiElements.getAllowedContents(parents[i],recursive,checked));return _.uniq(ret,!1)},QtiElements.isAllowedClass=function(qtiContainerClass,qtiContentClass){
var allowedClasses=QtiElements.getAllowedContents(qtiContainerClass);return _.indexOf(allowedClasses,qtiContentClass)>=0},QtiElements.getParentClasses=function(qtiClass,recursive){var ret;if(recursive&&QtiElements.cache.parents[qtiClass])ret=QtiElements.cache.parents[qtiClass];else{if(ret=[],QtiElements.classes[qtiClass]&&(ret=QtiElements.classes[qtiClass].parents,recursive)){for(var i in ret)ret=_.union(ret,QtiElements.getParentClasses(ret[i],recursive));ret=_.uniq(ret,!1)}QtiElements.cache.parents[qtiClass]=ret}return ret},QtiElements.getChildClasses=function(qtiClass,recursive,type){var ret,cacheType=type||"all"
;if(recursive&&QtiElements.cache.children[qtiClass]&&QtiElements.cache.children[qtiClass][cacheType])ret=QtiElements.cache.children[qtiClass][cacheType];else{ret=[];for(var aClass in QtiElements.classes){var model=QtiElements.classes[aClass];_.indexOf(model.parents,qtiClass)>=0&&(type?model[type]&&ret.push(aClass):ret.push(aClass),recursive&&(ret=_.union(ret,QtiElements.getChildClasses(aClass,recursive,type))))}QtiElements.cache.children[qtiClass]||(QtiElements.cache.children[qtiClass]={}),QtiElements.cache.children[qtiClass][cacheType]=ret}return ret},QtiElements.isBlock=function(qtiClass){return QtiElements.is(qtiClass,"block")},
QtiElements.isInline=function(qtiClass){return QtiElements.is(qtiClass,"inline")},QtiElements.is=function(qtiClass,topClass){if(qtiClass===topClass)return!0;var parents=QtiElements.getParentClasses(qtiClass,!0);return _.indexOf(parents,topClass)>=0},QtiElements.getAvailableAuthoringElements=function(){return{choiceInteraction:{label:__("Choice Interaction"),description:__("Select a single (radio buttons) or multiple (check boxes) responses among a set of choices."),icon:"icon-choice",short:__("Choice"),qtiClass:"choiceInteraction",tags:["Common Interactions","mcq"]},orderInteraction:{label:__("Order Interaction"),icon:"icon-order",
description:__("Arrange a list of choices in the correct order."),short:__("Order"),qtiClass:"orderInteraction",tags:["Common Interactions","ordering"]},associateInteraction:{label:__("Associate Interaction"),icon:"icon-associate",description:__("Create pair(s) from a series of choices."),short:__("Associate"),qtiClass:"associateInteraction",tags:["Common Interactions","association"]},matchInteraction:{label:__("Match Interaction"),icon:"icon-match",description:__("Create association(s) between two sets of choices displayed in a table (row and column)."),short:__("Match"),qtiClass:"matchInteraction",tags:["Common Interactions","association"]},
hottextInteraction:{label:__("Hottext Interaction"),icon:"icon-hottext",description:__("Select one or more text parts (hottext) within a text."),short:__("Hottext"),qtiClass:"hottextInteraction",tags:["Common Interactions","text"]},gapMatchInteraction:{label:__("Gap Match Interaction"),icon:"icon-gap-match",description:__(" Fill in the gaps in a text from a set of choices."),short:__("Gap Match"),qtiClass:"gapMatchInteraction",tags:["Common Interactions","text","association"]},sliderInteraction:{label:__("Slider Interaction"),icon:"icon-slider",description:__("Select a value within a numerical range."),short:__("Slider"),qtiClass:"sliderInteraction",
tags:["Common Interactions","special"]},extendedTextInteraction:{label:__("Extended Text Interaction"),icon:"icon-extended-text",description:__("Collect open-ended information in one or more text area(s) (strings or numeric values)."),short:__("Extended Text"),qtiClass:"extendedTextInteraction",tags:["Common Interactions","text"]},uploadInteraction:{label:__("File Upload Interaction"),icon:"icon-upload",description:__("Upload a file (e.g. document, picture...) as a response."),short:__("File Upload"),qtiClass:"uploadInteraction",tags:["Common Interactions","special"]},mediaInteraction:{label:__("Media Interaction"),icon:"icon-media",
description:__("Control the playing parameters (auto-start, loop) of a video or audio file and report the number of time it has been played."),short:__("Media"),qtiClass:"mediaInteraction",tags:["Common Interactions","media"]},_container:{label:__("Text Block"),icon:"icon-font",description:__("Block contains the content (stimulus) of the item such as text or image. It is also required for Inline Interactions."),short:__("Block"),qtiClass:"_container",tags:["Inline Interactions","text"]},inlineChoiceInteraction:{label:__("Inline Choice Interaction"),icon:"icon-inline-choice",description:__("Select a choice from a drop-down list."),short:__("Inline Choice"),
qtiClass:"inlineChoiceInteraction",tags:["Inline Interactions","inline-interactions","mcq"]},textEntryInteraction:{label:__("Text Entry Interaction"),icon:"icon-text-entry",description:__("Collect open-ended information in a short text input (strings or numeric values)."),short:__("Text Entry"),qtiClass:"textEntryInteraction",tags:["Inline Interactions","inline-interactions","text"]},endAttemptInteraction:{label:__("End Attempt Interaction"),icon:"icon-end-attempt",description:__("Trigger the end of the item attempt."),short:__("End Attempt"),qtiClass:"endAttemptInteraction",tags:["Inline Interactions","inline-interactions","button","submit"]},
hotspotInteraction:{label:__("Hotspot Interaction"),icon:"icon-hotspot",description:__("Select one or more areas (hotspots) displayed on an picture."),short:__("Hotspot"),qtiClass:"hotspotInteraction",tags:["Graphic Interactions","mcq"]},graphicOrderInteraction:{label:__("Graphic Order Interaction"),icon:"icon-graphic-order",description:__("Order the areas (hotspots) displayed on a picture."),short:__("Order"),qtiClass:"graphicOrderInteraction",tags:["Graphic Interactions","ordering"]},graphicAssociateInteraction:{label:__("Graphic Associate Interaction"),icon:"icon-graphic-associate",
description:__("Create association(s) between areas (hotspots) displayed on a picture."),short:__("Associate"),qtiClass:"graphicAssociateInteraction",tags:["Graphic Interactions","association"]},graphicGapMatchInteraction:{label:__("Graphic Gap Match Interaction"),icon:"icon-graphic-gap",description:__("Fill in the gaps on a picture with a set of image choices."),short:__("Gap Match"),qtiClass:"graphicGapMatchInteraction",tags:["Graphic Interactions","association"]},selectPointInteraction:{label:__("Select Point Interaction"),icon:"icon-select-point",description:__("Position one or more points on a picture (response areas are not displayed)."),
short:__("Select Point"),qtiClass:"selectPointInteraction",tags:["Graphic Interactions"]}}},QtiElements}),define("taoQtiItem/portableElementRegistry/factory/ciRegistry",["lodash","taoQtiItem/portableElementRegistry/factory/factory","taoQtiItem/qtiCreator/helper/qtiElements"],function(_,portableElementRegistry,qtiElements){"use strict";return function(){return portableElementRegistry({getAuthoringData:function(typeIdentifier,options){var pciModel;if(options=_.defaults(options||{},{version:0,enabledOnly:!1}),
(pciModel=this.get(typeIdentifier,options.version))&&pciModel.creator&&pciModel.creator.hook&&pciModel.creator.icon&&(pciModel.enabled||!options.enabledOnly))return{label:pciModel.label,icon:pciModel.creator.icon.replace(new RegExp("^"+typeIdentifier+"/"),pciModel.baseUrl),short:pciModel.short,description:pciModel.description,qtiClass:"customInteraction."+pciModel.typeIdentifier,tags:_.union(["Custom Interactions"],pciModel.tags)}}}).on("creatorsloaded",function(){var creators=this.getLatestCreators();_.forEach(creators,function(creator,typeIdentifier){qtiElements.classes["customInteraction."+typeIdentifier]={parents:["customInteraction"],qti:!0}})})}}),
define("taoQtiItem/portableElementRegistry/ciRegistry",["lodash","taoQtiItem/portableElementRegistry/factory/ciRegistry","module"],function(_,ciRegistry,module){"use strict";var registry=ciRegistry(),providers=[],config=module.config();return config&&config.providers&&(providers=config.providers),_.each(providers,function(provider){provider.name&&provider.module&&registry.registerProvider(provider.module)}),registry}),define("taoQtiItem/portableElementRegistry/factory/icRegistry",["lodash","taoQtiItem/portableElementRegistry/factory/factory"],function(_,portableElementRegistry){"use strict";return function(){return portableElementRegistry()}}),
define("taoQtiItem/portableElementRegistry/icRegistry",["lodash","taoQtiItem/portableElementRegistry/factory/icRegistry","module"],function(_,icRegistry,module){"use strict";var registry=icRegistry(),providers=[],config=module.config();return config&&config.providers&&(providers=config.providers),_.each(providers,function(provider){provider.name&&provider.module&&registry.registerProvider(provider.module)}),registry}),define("taoQtiItem/portableElementRegistry/provider/sideLoadingProviderFactory",[],function(){"use strict";return function(portableElements){var _registry=portableElements;return{add:function(id,portableElement){
return _registry[id]=portableElement,this},load:function(){return _registry}}}}),define("taoQtiItem/qtiItem/helper/interactionHelper",["lodash","taoQtiItem/qtiItem/core/Element"],function(_,Element){return{convertChoices:function(choices,outputType){var ret=[],_this=this;return _.each(choices,function(c){if(Element.isA(c,"choice"))switch(outputType){case"serial":ret.push(c.getSerial());break;case"identifier":ret.push(c.id());break;default:ret.push(c)}else _.isArray(c)&&ret.push(_this.convertChoices(c,outputType))}),ret},findChoices:function(interaction,choices,inputType){var ret=[],_this=this;return _.each(choices,function(c){var choice
;_.isString(c)?"serial"===inputType?(choice=interaction.getChoice(c))&&ret.push(choice):"identifier"===inputType?(choice=interaction.getChoiceByIdentifier(c))&&ret.push(choice):ret.push(c):_.isArray(c)?ret.push(_this.findChoices(interaction,c,inputType)):ret.push(c)}),ret},shuffleChoices:function(choices){var r=[],f={},j=0;for(var i in choices){if(!Element.isA(choices[i],"choice"))throw"invalid element in array: is not a qti choice";var choice=choices[i];choice.attr("fixed")&&(f[j]=choice),r.push(choice),j++}for(var n=0;n<r.length-1;n++)if(!f[n]){var k=-1;do{k=n+Math.floor(Math.random()*(r.length-n))}while(f[k]);var tmp=r[k];r[k]=r[n],r[n]=tmp}return r},
serialToIdentifier:function(interaction,choiceSerial){var choice=interaction.getChoice(choiceSerial);return choice?choice.id():""}}}),define("ui/themeLoader",["jquery","lodash"],function($,_){"use strict";var prefix="custom-theme-",$container=$($("head").length?"head":"body"),triggerThemeChange=function(themeId){_.delay(function(){$(document).trigger("themechange.themeloader",[themeId])},200)},createStyleSheet=function(theme){var type="base"===theme.id?prefix+"base":prefix+"theme";return $("<link>").attr({rel:"stylesheet",type:"text/css",href:theme.path,"data-type":type,"data-name":theme.name||theme.id,"data-id":theme.id})},getLink=function(id){
return $('link[data-id="'+id+'"][data-type^="'+prefix+'"]',$container)},isAttached=function(id){return getLink(id).length>0},enable=function($nodes){$nodes.prop("disabled",!1).removeProp("disabled").removeAttr("disabled")},disable=function($nodes){return $nodes.prop("disabled",!0).attr("disabled",!0)};return function(config){var defaultTheme,activeTheme,themes,i,styles={};if(!_.isPlainObject(config))throw new TypeError("Theme loader configuration is required");if(!_.isString(config.base))throw new TypeError("Theme loader configuration is an object with a base property configuration")
;if(!_.isArray(config.available)||!config.available.length)throw new TypeError("No theme declared in the configuration");for(i in config.available)if(!_.isPlainObject(config.available[i])||_.isEmpty(config.available[i].id)||_.isEmpty(config.available[i].path))throw new TypeError("There is a theme that does not contain an id or a path");return defaultTheme=config.default||_.first(_.pluck(config.available,"id")),activeTheme=defaultTheme,themes=[{id:"base",path:config.base,name:"TAO"}],themes=themes.concat(config.available),_.forEach(themes,function(theme){isAttached(theme.id)?styles[theme.id]=getLink(theme.id):styles[theme.id]=createStyleSheet(theme)}),{
load:function(preload){return _.forEach(styles,function($link,id){isAttached(id)||(preload||id!==activeTheme||$link.on("load",function(){triggerThemeChange(id)}),disable($link),$container.append($link)),preload||("base"!==id&&id!==defaultTheme?disable($link):(enable($link),activeTheme=id,triggerThemeChange(activeTheme)))}),this},unload:function(){return disable($('link[data-type^="'+prefix+'"]',$container)),this},change:function(id){return _.contains(["base","default"],id)&&!isAttached(id)&&(id=defaultTheme),isAttached(id)&&(disable($('link[data-type="'+prefix+'theme"]',$container)),enable(getLink(id)),activeTheme=id,triggerThemeChange(activeTheme)),this},
getActiveTheme:function(){return activeTheme}}}}),define("ui/themes",["lodash","module"],function(_,module){"use strict";var themesConfig;return{getConfig:function(){var initialConfig;return themesConfig||(initialConfig=module.config(),themesConfig=_.cloneDeep(initialConfig)),themesConfig},getDefaultNamespacePrefix:function(){return"items"},get:function(what,ns){var config=this.getConfig();if(ns?what+="_"+ns:config.activeNamespace&&config[what+"_"+config.activeNamespace]&&(what+="_"+config.activeNamespace),_.isPlainObject(config[what]))return config[what]},getAvailable:function(what,ns){var available=[],themes=this.get(what,ns)
;return themes&&_.isArray(themes.available)&&(available=themes.available),available},getActiveNamespace:function(){return this.getConfig().activeNamespace},setActiveNamespace:function(ns){this.getConfig().activeNamespace=ns},getCurrentThemeData:function(what){var themeNamespace=this.getActiveNamespace();return what||(what=this.getDefaultNamespacePrefix()),this.get(what,themeNamespace)}}}),
define("taoQtiItem/qtiRunner/core/Renderer",["lodash","jquery","handlebars","core/promise","taoQtiItem/qtiItem/core/Element","taoQtiItem/qtiItem/helper/interactionHelper","ui/themeLoader","ui/themes"],function(_,$,Handlebars,Promise,Element,interactionHelper,themeLoader,themesHelper){"use strict";function getDocumentBaseUrl(){return window.location.protocol+"//"+window.location.host+window.location.pathname.replace(/([^\/]*)$/,"")}var _isValidRenderer=function(renderer){var valid=!0;if("object"!=typeof renderer)return!1;var classCorrect=!1;if(renderer.qtiClass)if(_.indexOf(_renderableClasses,renderer.qtiClass)>=0)classCorrect=!0;else{
var pos=renderer.qtiClass.indexOf(".");if(pos>0){var qtiClass=renderer.qtiClass.slice(0,pos),subClass=renderer.qtiClass.slice(pos+1);_renderableSubclasses[qtiClass]&&_.indexOf(_renderableSubclasses[qtiClass],subClass)>=0&&(classCorrect=!0)}}if(!classCorrect)throw valid=!1,new Error("invalid qti class name in renderer declaration : "+renderer.qtiClass);if(!renderer.template)throw valid=!1,new Error("missing template in renderer declaration : "+renderer.qtiClass);return valid
},_renderableClasses=["_container","assessmentItem","stylesheet","responseDeclaration","outcomeDeclaration","responseProcessing","_simpleFeedbackRule","_tooltip","img","math","object","table","modalFeedback","rubricBlock","associateInteraction","choiceInteraction","extendedTextInteraction","gapMatchInteraction","graphicAssociateInteraction","graphicGapMatchInteraction","graphicOrderInteraction","hotspotInteraction","hottextInteraction","inlineChoiceInteraction","matchInteraction","mediaInteraction","orderInteraction","selectPointInteraction","sliderInteraction","textEntryInteraction","uploadInteraction","endAttemptInteraction","customInteraction","prompt","associableHotspot","gap","gapImg","gapText","hotspotChoice","hottext","inlineChoice","simpleAssociableChoice","simpleChoice","infoControl","include","printedVariable"],_dependencies={
assessmentItem:["stylesheet","_container","prompt","modalFeedback"],rubricBlock:["_container"],associateInteraction:["simpleAssociableChoice"],choiceInteraction:["simpleChoice"],gapMatchInteraction:["gap","gapText"],graphicAssociateInteraction:["associableHotspot"],graphicGapMatchInteraction:["associableHotspot","gapImg"],graphicOrderInteraction:["hotspotChoice"],hotspotInteraction:["hotspotChoice"],hottextInteraction:["hottext"],inlineChoiceInteraction:["inlineChoice"],matchInteraction:["simpleAssociableChoice"],orderInteraction:["simpleChoice"]},_renderableSubclasses={simpleAssociableChoice:["associateInteraction","matchInteraction"],
simpleChoice:["choiceInteraction","orderInteraction"]},_defaults={shuffleChoices:!0},Renderer=function(options){function registerRendererClass(qtiClass,list){var success=!1;return!1===_locations[qtiClass]?(_renderers[qtiClass]=!1,success=!0):_locations[qtiClass]&&(list.push(_locations[qtiClass]),success=!0),success}var _locations={},_renderers={};options=_.defaults(options||{},_defaults),this.isRenderer=!0,this.name="",this.shuffledChoices=[];var _getClassRenderer=function(qtiClass){var ret=null;if(_renderers[qtiClass])ret=_renderers[qtiClass];else{var pos=qtiClass.indexOf(".");pos>0&&(qtiClass=qtiClass.slice(0,pos),
_renderers[qtiClass]&&(ret=_renderers[qtiClass]))}return ret};this.setOption=function(key,value){return"string"==typeof key&&(options[key]=value),this},this.setOptions=function(opts){return options=_.extend(options,opts),this},this.getOption=function(key){return"string"==typeof key&&options[key]?options[key]:null},this.getCustomMessage=function(elementName,messageKey){var messages=this.getOption("messages");return messages&&elementName&&messages[elementName]&&_.isString(messages[elementName][messageKey])?Handlebars.compile(messages[elementName][messageKey]):null},this.getAssetManager=function(){return options.assetManager},this.getThemeLoader=function(){
return this.themeLoader},this.renderTpl=function(element,data,qtiSubclass){var res,ret="",qtiClass=qtiSubclass||element.qtiClass,renderer=_getClassRenderer(qtiClass),decorators=this.getOption("decorators");if(!renderer||!_.isFunction(renderer.template))throw new Error("no renderer template loaded under the class name : "+qtiClass);return _.isObject(decorators)&&_.isFunction(decorators.before)&&(res=decorators.before(element,qtiSubclass),_.isString(res)&&(ret+=res)),ret+=renderer.template(data),_.isObject(decorators)&&_.isFunction(decorators.after)&&(res=decorators.after(element,qtiSubclass),_.isString(res)&&(ret+=res)),ret},
this.getData=function(element,data,qtiSubclass){var ret=data,qtiClass=qtiSubclass||element.qtiClass,renderer=_getClassRenderer(qtiClass);return renderer&&"function"==typeof renderer.getData&&(ret=renderer.getData.call(this,element,data)),ret},this.renderDirect=function(tpl,data){return Handlebars.compile(tpl)(data)},this.getContainer=function(qtiElement,$scope,qtiSubclass){var qtiClass=qtiSubclass||qtiElement.qtiClass,renderer=_getClassRenderer(qtiClass);if(!renderer)throw"no renderer found for the class : "+qtiElement.qtiClass;return renderer.getContainer(qtiElement,$scope)},this.postRender=function(qtiElement,data,qtiSubclass){
var qtiClass=qtiSubclass||qtiElement.qtiClass,renderer=_getClassRenderer(qtiClass);if(renderer&&"function"==typeof renderer.render)return renderer.render.call(this,qtiElement,data)},this.setResponse=function(qtiInteraction,response,qtiSubclass){var ret=!1,qtiClass=qtiSubclass||qtiInteraction.qtiClass,renderer=_getClassRenderer(qtiClass);if(!renderer)throw"no renderer registered under the name : "+qtiClass;if("function"==typeof renderer.setResponse){ret=renderer.setResponse.call(this,qtiInteraction,response);var $container=renderer.getContainer.call(this,qtiInteraction)
;$container instanceof $&&$container.length&&$container.trigger("responseSet",[qtiInteraction,response])}return ret},this.getResponse=function(qtiInteraction,qtiSubclass){var ret=!1,qtiClass=qtiSubclass||qtiInteraction.qtiClass,renderer=_getClassRenderer(qtiClass);if(!renderer)throw"no renderer registered under the name : "+qtiClass;return"function"==typeof renderer.getResponse&&(ret=renderer.getResponse.call(this,qtiInteraction)),ret},this.resetResponse=function(qtiInteraction,qtiSubclass){var ret=!1,qtiClass=qtiSubclass||qtiInteraction.qtiClass,renderer=_getClassRenderer(qtiClass);if(!renderer)throw"no renderer registered under the name : "+qtiClass
;return"function"==typeof renderer.resetResponse&&(ret=renderer.resetResponse.call(this,qtiInteraction)),ret},this.getState=function(qtiInteraction,qtiSubclass){var qtiClass=qtiSubclass||qtiInteraction.qtiClass,renderer=_getClassRenderer(qtiClass);if(!renderer)throw"no renderer registered under the name : "+qtiClass;return _.isFunction(renderer.getState)?renderer.getState.call(this,qtiInteraction):renderer.getResponse.call(this,qtiInteraction)},this.setState=function(qtiInteraction,state,qtiSubclass){var qtiClass=qtiSubclass||qtiInteraction.qtiClass,renderer=_getClassRenderer(qtiClass);if(!renderer)throw"no renderer registered under the name : "+qtiClass
;_.isFunction(renderer.setState)?renderer.setState.call(this,qtiInteraction,state):(renderer.resetResponse.call(this,qtiInteraction),renderer.setResponse.call(this,qtiInteraction,state))},this.destroy=function(qtiInteraction,qtiSubclass){var ret=!1,qtiClass=qtiSubclass||qtiInteraction.qtiClass,renderer=_getClassRenderer(qtiClass);if(!renderer)throw"no renderer registered under the name : "+qtiClass;return _.isFunction(renderer.destroy)&&(ret=renderer.destroy.call(this,qtiInteraction)),ret},this.getLoadedRenderers=function(){return _renderers},this.register=function(renderersLocations){_.extend(_locations,renderersLocations)},
this.load=function(callback,requiredClasses){var self=this,required=[],themeData=themesHelper.getCurrentThemeData();if(themeData&&(options.themes=themeData),options.themes&&(options.themes.base=this.resolveUrl(options.themes.base),_.forEach(options.themes.available,function(theme,index){options.themes.available[index].path=self.resolveUrl(theme.path)}),this.themeLoader=themeLoader(options.themes).load(options.preload)),requiredClasses){if(!_.isArray(requiredClasses))throw new Error('invalid argument type: expected array for arg "requireClasses"');requiredClasses=_.intersection(requiredClasses,_renderableClasses),_.each(requiredClasses,function(reqClass){
var deps=_dependencies[reqClass];deps&&(requiredClasses=_.union(requiredClasses,deps))}),_.forEach(requiredClasses,function(qtiClass){var requiredSubClasses;if(_renderableSubclasses[qtiClass])requiredSubClasses=_.intersection(requiredClasses,_renderableSubclasses[qtiClass]),_.each(requiredSubClasses,function(subclass){if(!registerRendererClass(qtiClass+"."+subclass,required)&&!registerRendererClass(qtiClass,required))throw new Error(self.name+" : missing qti class location declaration: "+qtiClass+", subclass: "+subclass)});else if(!registerRendererClass(qtiClass,required))throw new Error(self.name+" : missing qti class location declaration: "+qtiClass)})
}else required=_.values(_locations);return require(required,function(){_.each(arguments,function(clazz){_isValidRenderer(clazz)&&(_renderers[clazz.qtiClass]=clazz)}),"function"==typeof callback&&callback.call(self,_renderers)}),this},this.unload=function(){return this.themeLoader&&themeLoader(options.themes).unload(),this},this.setShuffledChoices=function(interaction,choices,identificationType){Element.isA(interaction,"interaction")&&(this.shuffledChoices[interaction.getSerial()]=_.pluck(interactionHelper.findChoices(interaction,choices,identificationType),"serial"))},this.getShuffledChoices=function(interaction,reshuffle,returnedType){
var serial,i,choices=[];if(Element.isA(interaction,"interaction")){if(serial=interaction.getSerial(),!this.shuffledChoices[serial]||reshuffle)if(Element.isA(interaction,"matchInteraction"))for(this.shuffledChoices[serial]=[],i=0;i<2;i++)choices[i]=interactionHelper.shuffleChoices(interaction.getChoices(i)),this.shuffledChoices[serial][i]=_.pluck(choices[i],"serial");else choices=interactionHelper.shuffleChoices(interaction.getChoices()),this.shuffledChoices[serial]=_.pluck(choices,"serial");else Element.isA(interaction,"matchInteraction")?_.forEach(choices,function(choice,index){index<2&&_.forEach(this.shuffledChoices[serial][i],function(choiceSerial){
choice.push(interaction.getChoice(choiceSerial))})}):_.forEach(this.shuffledChoices[serial],function(choiceSerial){choices.push(interaction.getChoice(choiceSerial))});return"serial"===returnedType||"identifier"===returnedType?interactionHelper.convertChoices(choices,returnedType):_.clone(choices)}return[]},this.getRenderers=function(){return _renderers},this.getLocations=function(){return _locations},this.resolveUrl=function(url){return options.assetManager?"string"==typeof url&&url.length>0?options.assetManager.resolve(url):void 0:url},this.getAbsoluteUrl=function(relUrl){if(console.warn("DEPRECATED used getAbsoluteUrl with ",arguments),
this.getOption("userRelativeUrl"))return relUrl.replace(/^\.?\//,"");if(/^http(s)?:\/\//i.test(relUrl)||/^data:[^\/]+\/[^;]+(;charset=[\w]+)?;base64,/.test(relUrl))return relUrl;var absUrl="",runtimeLocations=this.getOption("runtimeLocations");return runtimeLocations&&_.size(runtimeLocations)&&_.forIn(runtimeLocations,function(runtimeLocation,typeIdentifier){if(0===relUrl.indexOf(typeIdentifier))return absUrl=relUrl.replace(typeIdentifier,runtimeLocation),!1}),absUrl||(this.getOption("baseUrl")||getDocumentBaseUrl())+relUrl},this.setAreaBroker=function(areaBroker){this._areaBroker=areaBroker},this.getAreaBroker=function(){
if(this._areaBroker)return this._areaBroker},this.getItemCreator=function(){return this.getOption("itemCreator")}};return{build:function(renderersLocations,name,defaultOptions){var NewRenderer=function(){var options=_.isPlainObject(arguments[0])?arguments[0]:{};Renderer.apply(this),this.register(renderersLocations),this.name=name||"",this.setOptions(_.defaults(options,defaultOptions||{}))};return NewRenderer.prototype=Renderer.prototype,NewRenderer}}}),define("taoItems/assets/strategies",["util/url","lodash"],function(urlUtil,_){"use strict";var prependToUrl=function(url,base,slashcat){
return!0===slashcat?base.replace(/\/$/,"")+"/"+url.directory.replace(/^\.\//,"").replace(/^\//,"")+encodeURIComponent(url.file.replace(/^\.\//,"").replace(/^\//,"")):base+url.directory.replace(/^\.?\//,"")+encodeURIComponent(url.file.replace(/^\.?\//,""))};return{packedUrl:{name:"packedUrl",handle:function(url,data){var type;if(!_.isUndefined(url.source)&&!_.isUndefined(data.assets)&&(type=_.findKey(data.assets,url.source))&&urlUtil.isAbsolute(data.assets[type][url.source]))return data.assets[type][url.source]}},baseUrl:{name:"baseUrl",handle:function(url,data){
if("string"==typeof data.baseUrl&&urlUtil.isRelative(url))return prependToUrl(url,data.baseUrl,data.slashcat)}},itemCssNoCache:{name:"itemCssNoCache",handle:function(url,data){if("string"==typeof data.baseUrl&&urlUtil.isRelative(url)&&/\.css$/.test(url.file))return urlUtil.build(prependToUrl(url,data.baseUrl,data.slashcat),{bust:Date.now()})}},external:{name:"external",handle:function(url){if(urlUtil.isAbsolute(url))return url.toString()}},base64:{name:"base64",handle:function(url){if(urlUtil.isBase64(url))return url.toString()}},taomedia:{name:"taomedia",handle:function(url,data){var baseUrl=data.baseUrl||"./"
;if("object"==typeof url&&"taomedia"===url.protocol||/^taomedia:\/\//.test(url.toString()))return baseUrl+url.toString()}}}}),define("taoQtiItem/portableElementRegistry/assetManager/portableAssetStrategy",["taoQtiItem/portableElementRegistry/ciRegistry","taoQtiItem/portableElementRegistry/icRegistry"],function(ciRegistry,icRegistry){"use strict";function getBaseUrlByIdentifier(typeIdentifier){return ciRegistry.get(typeIdentifier)?ciRegistry.getBaseUrl(typeIdentifier):icRegistry.get(typeIdentifier)?icRegistry.getBaseUrl(typeIdentifier):typeIdentifier}return{name:"portableElementLocation",handle:function(url){
return url.file===url.path?getBaseUrlByIdentifier(url.file):url.source===url.relative?url.relative.replace(/^(\.\/)?([a-z_0-9]+)\/(.*)/i,function(fullmatch,$1,typeIdentifier,relPath){var runtimeLocation=getBaseUrlByIdentifier(typeIdentifier);return runtimeLocation?runtimeLocation+"/"+relPath:fullmatch}):void 0}}}),define("taoQtiItem/qtiCommonRenderer/renderers/config",["lodash","context","ui/themes","taoItems/assets/manager","taoItems/assets/strategies","module","taoQtiItem/portableElementRegistry/assetManager/portableAssetStrategy"],function(_,context,themes,assetManagerFactory,assetStrategies,module,portableAssetStrategy){"use strict"
;var itemThemes=themes.get("items"),moduleConfig=module.config();return{name:"commonRenderer",locations:{assessmentItem:"taoQtiItem/qtiCommonRenderer/renderers/Item",_container:"taoQtiItem/qtiCommonRenderer/renderers/Container",_simpleFeedbackRule:!1,_tooltip:"taoQtiItem/qtiCommonRenderer/renderers/Tooltip",stylesheet:"taoQtiItem/qtiCommonRenderer/renderers/Stylesheet",outcomeDeclaration:!1,responseDeclaration:!1,responseProcessing:!1,img:"taoQtiItem/qtiCommonRenderer/renderers/Img",math:"taoQtiItem/qtiCommonRenderer/renderers/Math",object:"taoQtiItem/qtiCommonRenderer/renderers/Object",table:"taoQtiItem/qtiCommonRenderer/renderers/Table",
printedVariable:"taoQtiItem/qtiCommonRenderer/renderers/PrintedVariable",rubricBlock:"taoQtiItem/qtiCommonRenderer/renderers/RubricBlock",modalFeedback:"taoQtiItem/qtiCommonRenderer/renderers/ModalFeedback",prompt:"taoQtiItem/qtiCommonRenderer/renderers/interactions/Prompt",choiceInteraction:"taoQtiItem/qtiCommonRenderer/renderers/interactions/ChoiceInteraction",extendedTextInteraction:"taoQtiItem/qtiCommonRenderer/renderers/interactions/ExtendedTextInteraction",orderInteraction:"taoQtiItem/qtiCommonRenderer/renderers/interactions/OrderInteraction",associateInteraction:"taoQtiItem/qtiCommonRenderer/renderers/interactions/AssociateInteraction",
matchInteraction:"taoQtiItem/qtiCommonRenderer/renderers/interactions/MatchInteraction",textEntryInteraction:"taoQtiItem/qtiCommonRenderer/renderers/interactions/TextEntryInteraction",sliderInteraction:"taoQtiItem/qtiCommonRenderer/renderers/interactions/SliderInteraction",inlineChoiceInteraction:"taoQtiItem/qtiCommonRenderer/renderers/interactions/InlineChoiceInteraction","simpleChoice.choiceInteraction":"taoQtiItem/qtiCommonRenderer/renderers/choices/SimpleChoice.ChoiceInteraction","simpleChoice.orderInteraction":"taoQtiItem/qtiCommonRenderer/renderers/choices/SimpleChoice.OrderInteraction",hottext:"taoQtiItem/qtiCommonRenderer/renderers/choices/Hottext",
gap:"taoQtiItem/qtiCommonRenderer/renderers/choices/Gap",gapText:"taoQtiItem/qtiCommonRenderer/renderers/choices/GapText","simpleAssociableChoice.matchInteraction":"taoQtiItem/qtiCommonRenderer/renderers/choices/SimpleAssociableChoice.MatchInteraction","simpleAssociableChoice.associateInteraction":"taoQtiItem/qtiCommonRenderer/renderers/choices/SimpleAssociableChoice.AssociateInteraction",inlineChoice:"taoQtiItem/qtiCommonRenderer/renderers/choices/InlineChoice",hottextInteraction:"taoQtiItem/qtiCommonRenderer/renderers/interactions/HottextInteraction",hotspotInteraction:"taoQtiItem/qtiCommonRenderer/renderers/interactions/HotspotInteraction",
hotspotChoice:!1,gapMatchInteraction:"taoQtiItem/qtiCommonRenderer/renderers/interactions/GapMatchInteraction",selectPointInteraction:"taoQtiItem/qtiCommonRenderer/renderers/interactions/SelectPointInteraction",graphicOrderInteraction:"taoQtiItem/qtiCommonRenderer/renderers/interactions/GraphicOrderInteraction",mediaInteraction:"taoQtiItem/qtiCommonRenderer/renderers/interactions/MediaInteraction",uploadInteraction:"taoQtiItem/qtiCommonRenderer/renderers/interactions/UploadInteraction",graphicGapMatchInteraction:"taoQtiItem/qtiCommonRenderer/renderers/interactions/GraphicGapMatchInteraction",gapImg:"taoQtiItem/qtiCommonRenderer/renderers/choices/GapImg",
graphicAssociateInteraction:"taoQtiItem/qtiCommonRenderer/renderers/interactions/GraphicAssociateInteraction",associableHotspot:!1,customInteraction:"taoQtiItem/qtiCommonRenderer/renderers/interactions/PortableCustomInteraction",infoControl:"taoQtiItem/qtiCommonRenderer/renderers/PortableInfoControl",include:"taoQtiItem/qtiCommonRenderer/renderers/Include",endAttemptInteraction:"taoQtiItem/qtiCommonRenderer/renderers/interactions/EndAttemptInteraction"},options:{assetManager:assetManagerFactory([{name:"theme",handle:function(url){
if(itemThemes&&url.path&&(url.path===itemThemes.base||_.contains(_.pluck(itemThemes.available,"path"),url.path)))return context.root_url+url.toString()}},assetStrategies.taomedia,assetStrategies.external,assetStrategies.base64,assetStrategies.itemCssNoCache,assetStrategies.baseUrl,portableAssetStrategy],{baseUrl:""}),themes:itemThemes,enableDragAndDrop:{associate:!!moduleConfig.associateDragAndDrop,gapMatch:!!moduleConfig.gapMatchDragAndDrop,graphicGapMatch:!!moduleConfig.graphicGapMatchDragAndDrop,order:!!moduleConfig.orderDragAndDrop},messages:moduleConfig.messages}}}),
define("taoQtiItem/qtiCommonRenderer/renderers/Renderer",["taoQtiItem/qtiRunner/core/Renderer","taoQtiItem/qtiCommonRenderer/renderers/config"],function(Renderer,config){"use strict";return Renderer.build(config.locations,config.name,config.options)}),define("taoQtiItem/runner/provider/manager/picManager",["jquery","lodash","taoQtiItem/qtiItem/core/Element"],function($,_,Element){"use strict";var picManager={init:function(pic,item){return Element.isA(pic,"infoControl")&&(this._pic=pic),Element.isA(item,"assessmentItem")&&(this._item=item),this},getPic:function(){return this._pic},getItem:function(){return this._item},getSerial:function(){
return this._pic&&this._pic.serial},getTypeIdentifier:function(){return this._pic&&this._pic.typeIdentifier},getDom:function(){if(!this._dom){var pic,tool,serial=this.getSerial();serial&&(pic=$('[data-serial="'+serial+'"]'),pic.length&&(tool=$('[data-pic-serial="'+serial+'"]'),tool.length||(tool=pic.children().first()),this._dom={pic:pic,tool:tool,button:tool.find(".sts-button"),broken:pic.is(":empty")}))}return this._dom},enable:function(){var dom=this.getDom();return dom&&(dom.button.removeClass("disabled"),dom.tool.find(".sts-button-disable-mask").remove(),this.disabled=!1,this.trigger("enable")),this},disable:function(){var button,dom=this.getDom()
;return dom&&(button=dom.button.addClass("disabled"),$('<div class="sts-button-disable-mask" style="position:absolute;z-index:10000000000000"></div>').appendTo(dom.tool).offset(button.offset()).width(button.outerWidth()).height(button.outerHeight()),dom.tool.find(".sts-container, .sts-menu-container").addClass("sts-hidden-container"),this.disabled=!0,this.trigger("disable")),this},show:function(){var dom=this.getDom();return dom&&(dom.tool.show(),this.trigger("show")),this},hide:function(){var dom=this.getDom();return dom&&(dom.tool.hide(),this.trigger("hide")),this},trigger:function(eventName){var dom=this.getDom(),args=_.rest(arguments,1)
;return args.unshift(this),dom&&(dom.tool.trigger(eventName,args),dom.broken&&dom.pic.trigger(eventName,args)),this}},picManagerCollection={init:function(item){return Element.isA(item,"assessmentItem")&&(this._item=item),this},getList:function(force){var self=this;return!force&&self._list||(self._map={},self._list=[],self._item&&_.forEach(self._item.getElements(),function(element){var manager;Element.isA(element,"infoControl")&&(manager=managerFactory(element,self._item),self._list.push(manager),self._map[element.serial]=manager,self._map[element.typeIdentifier]=manager)})),this._list},getPic:function(picId){return this.getList(),this._map[picId]},
execute:function(picId,action){var pic=this.getPic(picId);if(pic&&pic[action])return pic[action].apply(pic,_.rest(arguments,2))},executeAll:function(action,filter){var cb,args=_.rest(arguments,2);return cb="function"==typeof filter?function(pic){filter.call(pic,pic)&&pic[action]&&pic[action].apply(pic,args)}:function(pic){pic[action]&&pic[action].apply(pic,args)},this.each(cb)},each:function(cb){return _.forEach(this.getList(),cb),this},enablePic:function(picId){return this.execute(picId,"enable"),this},disablePic:function(picId){return this.execute(picId,"disable"),this},showPic:function(picId){return this.execute(picId,"show"),this},
hidePic:function(picId){return this.execute(picId,"hide"),this},enableAll:function(filter){return this.executeAll("enable",filter),this},disableAll:function(filter){return this.executeAll("disable",filter),this},showAll:function(filter){return this.executeAll("show",filter),this},hideAll:function(filter){return this.executeAll("hide",filter),this}},managerFactory=function(pic,item){return _.clone(picManager,!0).init(pic,item)};return{collection:function(item){return _.clone(picManagerCollection,!0).init(item)},manager:managerFactory}}),define("taoQtiItem/runner/provider/manager/userModules",["lodash","module","core/promise"],function(_,module,Promise){
"use strict";return{load:function(userModules){var config=module.config();return userModules&&_.isArray(userModules)||(userModules=config&&config.userModules&&_.isArray(config.userModules)?config.userModules:[]),new Promise(function(resolve,reject){require(userModules,function(){_.forEach(arguments,function(dependency){dependency&&_.isFunction(dependency.exec)&&dependency.exec()}),resolve()},function(err){reject(err.message)})})}}}),define("taoQtiItem/qtiItem/helper/pci",["lodash"],function(_){return{getRawValues:function(pciVar){if(_.isPlainObject(pciVar)){if(void 0!==pciVar.base)return _.values(pciVar.base);if(pciVar.list)return _.values(pciVar.list)}
throw"unsupported type "}}}),define("taoQtiItem/qtiItem/helper/container",["lodash","jquery"],function(_,$){"use strict";function _checkContainerType(element){if(_.isFunction(element.initContainer)&&_.isFunction(element.body))return!0;throw"the element is not of a container type"}function _getBodyDom(element){if(_checkContainerType(element))return $("<div>").html(element.body()).find(".x-tao-wrapper")}function _setBodyDomClass(element,newClass,oldClass){if(_checkContainerType(element)&&(oldClass||newClass)){var $wrapper=$("<div>").html(element.body());_setDomClass($wrapper,newClass,oldClass),element.body($wrapper.html())}}
function _setDomClass($wrapper,newClass,oldClass){var $bodyDom=$wrapper.find(".x-tao-wrapper");$bodyDom.length||($wrapper.wrapInner('<div class="x-tao-wrapper">'),$bodyDom=$wrapper.find(".x-tao-wrapper")),oldClass&&$bodyDom.removeClass(oldClass),newClass&&$bodyDom.addClass(newClass)}function setEncodedDataToDom($wrapper,dataName,newValue,oldValue){_setDomClass($wrapper,_getEncodedDataString(dataName,newValue),_getEncodedDataString(dataName,oldValue))}function _getEncodedDataString(dataName,value){return dataName&&value?_prefix+dataName+"-"+value:""}function setEncodedData(element,dataName,newValue){var oldValue=getEncodedData(element,dataName)
;return _setBodyDomClass(element,_getEncodedDataString(dataName,newValue),_getEncodedDataString(dataName,oldValue))}function removeEncodedData(element,dataName){var oldValue=getEncodedData(element,dataName);dataName&&oldValue&&_setBodyDomClass(element,"",_getEncodedDataString(dataName,oldValue))}function hasEncodedData(element,dataName,value){var $body=_getBodyDom(element);return!!($body&&$body.length&&dataName&&value)&&$body.hasClass(_getEncodedDataString(dataName,value))}function getEncodedData(element,dataName){var regex,matches,$body=_getBodyDom(element)
;if(dataName&&$body&&$body.length&&$body.attr("class")&&(regex=new RegExp(_prefix+dataName+"-([a-zA-Z0-9-._]*)"),matches=$body.attr("class").match(regex)))return matches[1]}var _prefix="x-tao-";return{setEncodedData:setEncodedData,hasEncodedData:hasEncodedData,getEncodedData:getEncodedData,removeEncodedData:removeEncodedData,setEncodedDataToDom:setEncodedDataToDom}}),define("taoQtiItem/qtiItem/helper/modalFeedback",["jquery","lodash","taoQtiItem/qtiItem/helper/pci","taoQtiItem/qtiItem/helper/container"],function($,_,pci,containerHelper){"use strict";var getFeedbackMessageSignature=function(feedback){
return(""+feedback.body()+feedback.attr("title")).toLowerCase().trim().replace(/x-tao-[a-zA-Z0-9\-._\s]*/g,"")},extractDisplayInfo=function(interaction){var messageGroupId,$displayContainer,$interactionContainer=interaction.getContainer(),responseIdentifier=interaction.attr("responseIdentifier");return interaction.is("inlineInteraction")?($displayContainer=$interactionContainer.closest('[class*=" col-"], [class^="col-"]'),(messageGroupId=$displayContainer.attr("data-messageGroupId"))||(messageGroupId=_.uniqueId("inline_message_group_"),$displayContainer.attr("data-messageGroupId",messageGroupId))):(messageGroupId=responseIdentifier,
$displayContainer=$interactionContainer),{responseIdentifier:responseIdentifier,interactionContainer:$interactionContainer,displayContainer:$displayContainer,messageGroupId:messageGroupId,order:-1}},getInteractionsDisplayInfo=function(item){var interactionsDisplayInfo=[],$itemContainer=item.getContainer(),interactionOrder=0;return _.forEach(item.getComposingElements(),function(element){element.is("interaction")&&interactionsDisplayInfo.push(extractDisplayInfo(element))}),$itemContainer.find(".qti-interaction").each(function(){var self=this;_.forEach(interactionsDisplayInfo,function(_interactionInfo){
if(_interactionInfo.interactionContainer[0]===self)return _interactionInfo.order=interactionOrder,!1}),interactionOrder++}),interactionsDisplayInfo=_.sortBy(interactionsDisplayInfo,"order")};return{getFeedbacks:function(item,itemSession){var messages={},$itemContainer=item.getContainer(),$itemBody=$(".qti-itemBody",$itemContainer),interactionsDisplayInfo=getInteractionsDisplayInfo(item),renderingQueue=[];return _.forEach(item.modalFeedbacks,function(feedback){var feedbackIds,message,$container,comparedOutcome,_currentMessageGroupId,interactionInfo,outcomeIdentifier=feedback.attr("outcomeIdentifier"),order=-1;if(itemSession[outcomeIdentifier]){
if(feedbackIds=pci.getRawValues(itemSession[outcomeIdentifier]),!_.contains(feedbackIds,feedback.id()))return!0;if(message=getFeedbackMessageSignature(feedback),comparedOutcome=containerHelper.getEncodedData(feedback,"relatedOutcome"),interactionInfo=_.find(interactionsDisplayInfo,{responseIdentifier:comparedOutcome}),comparedOutcome&&interactionInfo?($container=interactionInfo.displayContainer,_currentMessageGroupId=interactionInfo.messageGroupId,order=interactionInfo.order):($container=$itemBody,_currentMessageGroupId="__item__"),messages[_currentMessageGroupId]||(messages[_currentMessageGroupId]=[]),
_.contains(messages[_currentMessageGroupId],message))return!0;messages[_currentMessageGroupId].push(message),renderingQueue.push({feedback:feedback,$container:$container,order:order})}}),renderingQueue=_.sortBy(renderingQueue,"order")}}}),
define("taoQtiItem/runner/provider/qti",["jquery","lodash","context","core/promise","taoQtiItem/qtiItem/core/Loader","taoQtiItem/qtiItem/core/Element","taoQtiItem/portableElementRegistry/ciRegistry","taoQtiItem/portableElementRegistry/icRegistry","taoQtiItem/portableElementRegistry/provider/sideLoadingProviderFactory","taoQtiItem/qtiCommonRenderer/renderers/Renderer","taoQtiItem/runner/provider/manager/picManager","taoQtiItem/runner/provider/manager/userModules","taoQtiItem/qtiItem/helper/modalFeedback","taoItems/assets/manager"],function($,_,context,Promise,QtiLoader,Element,ciRegistry,icRegistry,sideLoadingProviderFactory,QtiRenderer,picManager,userModules,modalFeedbackHelper){
"use strict";var timeout=1e3*(context.timeout>0?context.timeout+1:30);return{init:function(itemData,done){var self=this,rendererOptions=_.merge({assetManager:this.assetManager},_.pick(this.options,["themes","preload"]));this._renderer=new QtiRenderer(rendererOptions),this._loader=new QtiLoader,this._loader.loadItemData(itemData,function(item){if(!item)return self.trigger("error","Unable to load item from the given data.");self._item=item,self._renderer.load(function(){self._item.setRenderer(this),done()},this.getLoadedClasses())})},render:function(elt,done,options){var self=this;if(options=_.defaults(options||{},{state:{}}),this._item){try{
elt.innerHTML=this._item.render({})}catch(e){self.trigger("error","Error in template rendering : "+e.message)}try{options.portableElements&&(options.portableElements.pci&&(ciRegistry.resetProviders(),ciRegistry.registerProvider("pciDeliveryProvider",sideLoadingProviderFactory(options.portableElements.pci))),options.portableElements.pic&&(icRegistry.resetProviders(),icRegistry.registerProvider("picDeliveryProvider",sideLoadingProviderFactory(options.portableElements.pic)))),Promise.race([Promise.all(this._item.postRender(options)),new Promise(function(resolve,reject){_.delay(reject,timeout,new Error("Post rendering ran out of time."))})]).then(function(){
return $(elt).off("responseChange").on("responseChange",function(){self.trigger("statechange",self.getState()),self.trigger("responsechange",self.getResponses())}).off("endattempt").on("endattempt",function(e,responseIdentifier){self.trigger("endattempt",responseIdentifier||e.originalEvent.detail)}).off("themechange").on("themechange",function(e,themeName){var themeLoader=self._renderer.getThemeLoader();themeName=themeName||e.originalEvent.detail,themeLoader&&themeLoader.change(themeName)}),self.trigger("listpic",picManager.collection(self._item)),userModules.load().then(done)}).catch(function(err){
self.trigger("error","Error in post rendering : "+err instanceof Error?err.message:err)})}catch(err){self.trigger("error","Error in post rendering : "+err.message)}}},clear:function(elt,done){var self=this;self._item&&Promise.all(this._item.getInteractions().map(function(interaction){return interaction.clear()})).then(function(){self._item.clear(),$(elt).off("responseChange").off("endattempt").off("themechange").off("feedback").empty(),self._renderer&&self._renderer.unload(),self._item=null}).then(done).catch(function(err){self.trigger("error","Something went wrong while destroying an interaction: "+err.message)})},getState:function(){var state={}
;return this._item&&(_.forEach(this._item.getInteractions(),function(interaction){state[interaction.attr("responseIdentifier")]=interaction.getState()}),_.forEach(this._item.getElements(),function(element){Element.isA(element,"infoControl")&&element.attr("id")&&(state.pic=state.pic||{},state.pic[element.attr("id")]=element.getState())})),state},setState:function(state){this._item&&state&&(_.forEach(this._item.getInteractions(),function(interaction){var id=interaction.attr("responseIdentifier");id&&state[id]&&interaction.setState(state[id])}),state.pic&&_.forEach(this._item.getElements(),function(element){
Element.isA(element,"infoControl")&&state.pic[element.attr("id")]&&element.setState(state.pic[element.attr("id")])}))},getResponses:function(){var responses={};return this._item&&_.reduce(this._item.getInteractions(),function(res,interaction){return responses[interaction.attr("responseIdentifier")]=interaction.getResponse(),responses},responses),responses},renderFeedbacks:function(feedbacks,itemSession,done){var self=this,_renderer=self._item.getRenderer();new QtiLoader(self._item).loadElements(feedbacks,function(item){_renderer.load(function(){var renderingQueue=modalFeedbackHelper.getFeedbacks(item,itemSession);done(renderingQueue)
},this.getLoadedClasses())})}}}),define("taoQtiItem/runner/qtiItemRunner",["taoItems/runner/api/itemRunner","taoQtiItem/runner/provider/qti"],function(itemRunner,qtiRuntimeProvider){"use strict";return itemRunner.register("qti",qtiRuntimeProvider),itemRunner}),define("taoQtiTest/runner/config/assetManager",["taoItems/assets/manager","taoItems/assets/strategies","taoQtiItem/portableElementRegistry/assetManager/portableAssetStrategy"],function(assetManagerFactory,assetStrategies,assetPortableElement){"use strict"
;var defaultStrategies=[assetStrategies.packedUrl,assetStrategies.external,assetStrategies.base64,assetStrategies.baseUrl,assetPortableElement],assetManagers={};return function(testId){var assetManager;return void 0!==assetManagers[testId]?assetManager=assetManagers[testId]:(assetManager=assetManagerFactory(defaultStrategies,{baseUrl:""}),assetManagers[testId]=assetManager),assetManager}}),define("tpl!taoQtiTest/runner/provider/layout",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{},
'<main class="test-runner-scope">\n    <div class="action-bar content-action-bar horizontal-action-bar top-action-bar">\n        <div class="control-box size-wrapper"></div>\n    </div>\n\n    <div class="test-runner-sections">\n\n        <aside class="test-sidebar test-sidebar-left"></aside>\n\n        <section class="content-wrapper">\n            <div id="qti-content"></div>\n        </section>\n    </div>\n\n    <nav class="action-bar content-action-bar horizontal-action-bar bottom-action-bar">\n        <div class="control-box size-wrapper">\n            <div class="lft tools-box"></div>\n            <div class="rgt navi-box">\n                <ul class="plain navi-box-list"></ul>\n            </div>\n        </div>\n    </nav>\n\n</main>'
})
}),define("taoQtiTest/runner/provider/qti",["jquery","lodash","i18n","core/promise","core/cachedStore","taoTests/runner/areaBroker","taoTests/runner/proxy","taoTests/runner/probeOverseer","taoTests/runner/testStore","taoQtiTest/runner/provider/dataUpdater","taoQtiTest/runner/provider/toolStateBridge","taoQtiTest/runner/helpers/currentItem","taoQtiTest/runner/helpers/map","taoQtiTest/runner/helpers/navigation","taoQtiTest/runner/ui/toolbox/toolbox","taoQtiItem/runner/qtiItemRunner","taoQtiTest/runner/config/assetManager","tpl!taoQtiTest/runner/provider/layout"],function($,_,__,Promise,cachedStore,areaBrokerFactory,proxyFactory,probeOverseerFactory,testStoreFactory,dataUpdater,toolStateBridgeFactory,currentItemHelper,mapHelper,navigationHelper,toolboxFactory,qtiItemRunner,getAssetManager,layoutTpl){
"use strict";return{name:"qti",loadAreaBroker:function(){var $layout=$(layoutTpl());return areaBrokerFactory($layout,{content:$("#qti-content",$layout),toolbox:$(".tools-box",$layout),navigation:$(".navi-box-list",$layout),control:$(".top-action-bar .control-box",$layout),actionsBar:$(".bottom-action-bar .control-box",$layout),panel:$(".test-sidebar-left",$layout),header:$(".title-box",$layout)})},loadProxy:function(){var config=this.getConfig(),proxyProvider=config.proxyProvider||"qtiServiceProxy",proxyConfig=_.pick(config,["testDefinition","testCompilation","serviceCallId","bootstrap"]);return proxyFactory(proxyProvider,proxyConfig)},
loadProbeOverseer:function(){return probeOverseerFactory(this)},loadTestStore:function(){var config=this.getConfig(),identifier=config.serviceCallId||"test-"+Date.now();return testStoreFactory(identifier)},loadPersistentStates:function(){var self=this,config=this.getConfig(),persistencePromise=cachedStore("test-states-"+config.serviceCallId,"states");return persistencePromise.catch(function(err){self.trigger("error",err)}),persistencePromise.then(function(storage){self.stateStorage=storage})},getPersistentState:function(name){if(this.stateStorage)return this.stateStorage.getItem(name)},setPersistentState:function(name,active){var setPromise,self=this
;if(this.stateStorage)return setPromise=this.stateStorage.setItem(name,active),setPromise.catch(function(err){self.trigger("error",err)}),setPromise},install:function(){this.dataUpdater=dataUpdater(this.getDataHolder()),this.toolStateBridge=toolStateBridgeFactory(this.getTestStore(),_.keys(this.getPlugins()))},init:function(){function getItemResults(){var results={},context=self.getTestContext(),states=self.getTestData().states;return context&&self.itemRunner&&context.itemSessionState<=states.interacting&&(results={itemResponse:self.itemRunner.getResponses(),itemState:self.itemRunner.getState()}),results}function computeNext(action,params,loadPromise){
var context=self.getTestContext(),submitError=function(err){200===err.code?self.trigger("alert.submitError",err.message||__("An error occurred during results submission. Please retry."),load):self.trigger("error",err)};new Promise(function(resolve){context.hasFeedbacks?(params=_.omit(params,["itemState","itemResponse"]),self.getProxy().submitItem(context.itemIdentifier,self.itemRunner.getState(),self.itemRunner.getResponses(),params).then(function(results){return results.itemSession&&(context.itemAnswered=results.itemSession.itemAnswered,
!0===results.displayFeedbacks&&results.feedbacks)?void self.itemRunner.renderFeedbacks(results.feedbacks,results.itemSession,function(queue){self.trigger("modalFeedbacks",queue,resolve)}):resolve()}).catch(submitError)):(context.itemAnswered="skip"!==action&&(currentItemHelper.isAnswered(self)||context.isLinear),self.setTestContext(context),resolve())}).then(function(){return self.toolStateBridge.getStates()}).then(function(toolStates){toolStates&&_.size(toolStates)>0&&(params.toolStates=toolStates),self.setTestMap(self.dataUpdater.updateStats()),self.on("unloaditem."+action,function(){self.off("."+action),
self.getProxy().callItemAction(context.itemIdentifier,action,params).then(function(results){return loadPromise=loadPromise||Promise.resolve(),loadPromise.then(function(){return results})}).then(function(results){self.dataUpdater.update(results),load()}).catch(submitError)}),self.unloadItem(context.itemIdentifier)}).catch(submitError)}function load(){var context=self.getTestContext(),states=self.getTestData().states;context.state<=states.interacting?self.loadItem(context.itemIdentifier):context.state===states.closed&&self.finish()}var self=this,areaBroker=this.getAreaBroker();return areaBroker.setComponent("toolbox",toolboxFactory()),
areaBroker.getToolbox().init(),this.on("ready",function(){load()}).on("move",function(direction,scope,position){var itemResults=getItemResults();this.trigger("disablenav disabletools"),computeNext("move",_.merge(itemResults,{direction:direction,scope:scope||"item",ref:position}))}).on("skip",function(scope){this.trigger("disablenav disabletools"),computeNext("skip",{scope:scope||"item"})}).on("exit",function(reason){var context=self.getTestContext();this.disableItem(context.itemIdentifier),this.getProxy().callTestAction("exitTest",_.merge(getItemResults(),{itemDefinition:context.itemIdentifier,reason:reason})).then(function(){return self.finish()
}).catch(function(err){self.trigger("error",err)})}).on("timeout",function(scope,ref,timer){var context=self.getTestContext();context.isTimeout=!0,this.setTestContext(context),timer&&timer.allowLateSubmission?(self.trigger("alert.timeout",__("Time limit reached, this part of the test has ended. However you are allowed to finish the current item.")),self.before("move.latetimeout",function(){return self.off("move.latetimeout"),computeNext("timeout",_.merge(getItemResults(),{scope:scope,ref:ref,late:!0})),Promise.reject({cancel:!0})})):(this.disableItem(context.itemIdentifier),computeNext("timeout",_.merge(getItemResults(),{scope:scope,ref:ref
}),new Promise(function(resolve){context.options&&context.options.hasOwnProperty("noAlertTimeout")&&context.options.noAlertTimeout?resolve():self.trigger("alert.timeout",__("Time limit reached, this part of the test has ended."),resolve)})))}).on("pause",function(data){this.setState("closedOrSuspended",!0),this.getProxy().callTestAction("pause",{reason:{reasons:data&&data.reasons,comment:data&&data.message}}).then(function(){self.trigger("leave",{code:self.getTestData().states.suspended,message:data&&data.message})}).catch(function(err){self.trigger("error",err)})}).on("loaditem",function(){
var context=this.getTestContext(),states=this.getTestData().itemStates,warning=!1,getItemLabel=function(){var item=mapHelper.getItem(self.getTestMap(),context.itemIdentifier);return item&&item.label?item.label:context.itemIdentifier};context.isTimeout?warning=__('Time limit reached for item "%s".',getItemLabel()):context.itemSessionState>states.interacting&&(warning=0===context.remainingAttempts?__('No more attempts allowed for item "%s".',getItemLabel()):__('Item "%s" is completed.',getItemLabel())),warning&&(self.disableItem(context.itemIdentifier),self.trigger("warning",warning))}).on("renderitem",function(){var context=this.getTestContext()
;this.getItemState(context.itemIdentifier,"disabled")||this.trigger("enabletools"),this.trigger("enablenav")}).on("resumeitem",function(){this.trigger("enableitem enablenav")}).on("disableitem",function(){this.trigger("disabletools")}).on("enableitem",function(){this.trigger("enabletools")}).on("error",function(){this.trigger("disabletools enablenav")}).on("finish",function(){this.flush()}).on("leave",function(){this.trigger("endsession"),this.flush()}).on("flush",function(){this.destroy()}),this.getProbeOverseer()&&this.getProbeOverseer().start(),this.getTestStore().getStorageIdentifier().then(function(storeId){return self.getProxy().init({storeId:storeId
}).then(function(response){return self.dataUpdater.update(response),self.dataUpdater.updatePluginsConfig(self.getPlugins()),self.getTestStore().clearVolatileIfStoreChange(response.lastStoreId).then(function(){return response})}).then(function(response){var isNewStore=!response.lastStoreId||response.lastStoreId!==storeId;if(response.toolStates&&isNewStore)return self.toolStateBridge.setTools(_.keys(response.toolStates)).restoreStates(response.toolStates)})})},render:function(){var config=this.getConfig(),areaBroker=this.getAreaBroker();config.renderTo.append(areaBroker.getContainer()),areaBroker.getToolbox().render(areaBroker.getToolboxArea())},
loadItem:function(itemIdentifier){return this.getProxy().getItem(itemIdentifier).then(function(data){return{content:data.itemData,baseUrl:data.baseUrl,state:data.itemState,portableElements:data.portableElements}})},renderItem:function(itemIdentifier,itemData){var self=this,config=this.getConfig(),assetManager=getAssetManager(config.serviceCallId),changeState=function(){self.setItemState(itemIdentifier,"changed",!0)};return new Promise(function(resolve,reject){assetManager.setData("baseUrl",itemData.baseUrl),assetManager.setData("itemIdentifier",itemIdentifier),assetManager.setData("assets",itemData.content.assets),itemData.content=itemData.content||{},
self.itemRunner=qtiItemRunner(itemData.content.type,itemData.content.data,{assetManager:assetManager}).on("error",function(err){self.trigger("enablenav"),reject(err)}).on("init",function(){var itemContainer=self.getAreaBroker().getContentArea(),itemRenderingOptions=_.pick(itemData,["state","portableElements"]);this.render(itemContainer,itemRenderingOptions)}).on("render",function(){this.on("responsechange",changeState),this.on("statechange",changeState),resolve()}).init()})},unloadItem:function(){var self=this;return self.trigger("beforeunloaditem disablenav disabletools"),new Promise(function(resolve){
if(self.itemRunner)return void self.itemRunner.on("clear",resolve).clear();resolve()})},finish:function(){if(!this.getState("finish")&&(this.trigger("disablenav disabletools"),this.stateStorage))return this.stateStorage.removeStore()},flush:function(){var flushPromise,self=this,probeOverseer=this.getProbeOverseer(),proxy=this.getProxy();return flushPromise=probeOverseer&&!this.getState("disconnected")?probeOverseer.flush().then(function(data){var traceData={};if(data&&data.length)return _.forEach(data,function(entry){var id=entry.type+"-"+entry.id;entry.marker&&(id=entry.marker+"-"+id),traceData[id]=entry}),self.getProxy().sendVariables(traceData)
}).then(function(){probeOverseer.stop()}):Promise.resolve(),flushPromise.then(function(){proxy.hasCommunicator()&&proxy.getCommunicator().then(function(communicator){return communicator.close()}).catch(_.noop)})},destroy:function(){var areaBroker=this.getAreaBroker();if(this.itemRunner&&this.itemRunner.clear(),this.itemRunner=null,areaBroker&&areaBroker.getToolbox().destroy(),this.getState("finish"))return this.getTestStore().remove()}}}),define("taoItems/scoring/api/scorer",["lodash","core/eventifier"],function(_,eventifier){"use strict";var scorerFactory=function scorerFactory(providerName,options){var provider,providers
;if(_.isPlainObject(providerName)&&(options=providerName,providerName=void 0),options=options||{},!(providers=scorerFactory.providers)||0===_.size(providers))throw new Error("No provider regitered");if(_.isString(providerName)&&providerName.length>0?provider=providers[providerName]:1===_.size(providers)&&(providerName=_.keys(providers)[0],provider=providers[providerName]),!provider)throw new Error("No candidate found for the provider");return eventifier({process:function(responses,processingData){var self=this;_.isFunction(provider.process)&&provider.process.call(this,responses,processingData,function(outcome,state){
if(!_.isPlainObject(outcome))return self.trigger("error","The given outcome is not formated correctly. An object is expected but a "+typeof outcome+" given");self.trigger("outcome",outcome,state)})}})};return scorerFactory.register=function(name,provider){if(!_.isString(name)||name.length<=0)throw new TypeError("It is required to give a name to your provider.");if(!_.isPlainObject(provider)||!_.isFunction(provider.process))throw new TypeError("A provider is an object that contains a process function.");this.providers=this.providers||{},this.providers[name]=provider},scorerFactory}),define("taoQtiItem/scoring/processor/errorHandler",["lodash"],function(_){
"use strict";var errorHandlerContext=function(){var globalHandler,typedHandlers={};return{listen:function(type,handler){_.isFunction(type)&&!handler&&(handler=type),_.isFunction(handler)&&(_.isString(type)&&!_.isEmpty(type)?typedHandlers[type]=handler:globalHandler=handler)},throw:function(err){return _.isString(err)&&(err=new Error(err)),_.isFunction(typedHandlers[err.name])&&typedHandlers[err.name](err),_.isFunction(globalHandler)&&globalHandler(err),!1}}};return{_contexts:{},getContext:function(name){if(_.isString(name)&&name.length)return this._contexts[name]=this._contexts[name]||errorHandlerContext(),this._contexts[name]},
listen:function(name,type,handler){var context=this.getContext(name);context&&context.listen.apply(context,[].slice.call(arguments,1))},throw:function(name,err){var context=this.getContext(name);if(context)return context.throw(err)},reset:function(name){this._contexts[name]&&(this._contexts=_.omit(this._contexts,name))}}}),define("taoQtiItem/scoring/processor/responseRules/processor",["lodash","taoQtiItem/scoring/processor/errorHandler"],function(_,errorHandler){"use strict";var processors={},responseRuleProcessor=function(rule,state){var name=rule.qtiClass,processor=processors[name];return processor?(processor.rule=rule,processor.state=state,{
process:function(){return processor.process.apply(processor,[].slice.call(arguments,1))}}):errorHandler.throw("scoring",new Error("No processor found for "+name))};return responseRuleProcessor.register=function(name,processor){return _.isEmpty(name)?errorHandler.throw("scoring",new TypeError("Please give a valid name to your processor")):_.isPlainObject(processor)&&_.isFunction(processor.process)?void(processors[name]=processor):errorHandler.throw("scoring",new TypeError("The processor must be an object that contains a process method."))},responseRuleProcessor}),define("taoQtiItem/scoring/processor/responseRules/exitResponse",[],function(){"use strict"
;return{process:function(){return!1}}}),define("taoQtiItem/scoring/processor/expressions/typeCaster",["lodash"],function(_){"use strict";function toInt(value){return parseInt(value,10)}function toString(value){return value.toString()}function toDirectedPair(value){return _.isString(value)&&value.indexOf(" ")>-1?_.first(value.split(" "),2):_.first(_.toArray(value),2)}function toPair(value){return toDirectedPair(value).sort()}function toBoolean(value){if(_.isString(value)){if("true"===value||"1"===value)return!0;if("false"===value||"0"===value)return!1}return!!value}function toIntegerOrVariableRef(value,state){
return toInt(!_.isNumber(value)&&state&&_.isObject(state[value])&&void 0!==state[value].value?state[value].value:value)}function toFloatOrVariableRef(value,state){return!_.isNumber(value)&&state&&_.isObject(state[value])&&void 0!==state[value].value?parseFloat(state[value].value):parseFloat(value)}function toStringOrVariableRef(value,state){return state&&_.isObject(state[value])&&void 0!==state[value].value?state[value].value:value}function toPoint(value){return _.isString(value)&&value.indexOf(" ")>-1&&(value=_.first(value.split(" "),2)),_.isArray(value)?_.map(value,toInt):null}var castingMap={float:parseFloat,string:toString,integer:toInt,
identifier:toString,pair:toPair,directedPair:toDirectedPair,duration:parseFloat,boolean:toBoolean,integerOrVariableRef:toIntegerOrVariableRef,floatOrVariableRef:toFloatOrVariableRef,stringOrVariableRef:toStringOrVariableRef,point:toPoint};return function(type){return castingMap[type]||_.constant}}),define("taoQtiItem/scoring/processor/expressions/preprocessor",["lodash","taoQtiItem/scoring/processor/expressions/typeCaster"],function(_,typeCaster){"use strict";return function(state){var preProcessor={parseOperands:function(operands){return _(operands).map(function(operand){if(_.isNull(operand))return operand
;if("record"===operand.cardinality&&_.isObject(operand.value))return _.mapValues(operand.value,preProcessor.parseVariable);var caster=_.partialRight(typeCaster(operand.baseType),state),multiple="multiple"===operand.cardinality||"ordered"===operand.cardinality&&_.isArray(operand.value),value=multiple?operand.value:[operand.value];return"multiple"===operand.cardinality&&(value=value.sort()),_.map(value,caster)}).flatten(!0)},parseVariable:function(variable){return variable.value=preProcessor.parseValue(variable.value,variable.baseType,variable.cardinality),variable},parseValue:function(value,baseType,cardinality){if(null!==value){
if("record"===cardinality)return _.mapValues(value,preProcessor.parseVariable);var caster=typeCaster(baseType);cardinality=cardinality||"single",value="single"===cardinality?caster(value,state):_.map(value,caster),"multiple"===cardinality&&(value=value.sort())}return value},mapNumbers:function(operands){return this.parseOperands(operands).filter(this.isNumber)},isNumber:function(value){return _.isNumber(value)&&!_.isNaN(value)&&_.isFinite(value)}};return preProcessor}}),define("taoQtiItem/scoring/processor/expressions/operators/constraintValidator",["lodash","taoQtiItem/scoring/processor/errorHandler"],function(_,errorHandler){"use strict";return{
validate:function(processor,operands){var size=0,name=processor.name,minOperand=processor.constraints.minOperand,maxOperand=processor.constraints.maxOperand,hasWrongType=function(operand){return!_.isNull(operand)&&!_.contains(processor.constraints.baseType,operand.baseType)},hasWrongCardinality=function(operand){return!_.isNull(operand)&&!_.contains(processor.constraints.cardinality,operand.cardinality)};return _.isArray(operands)?(size=_.size(operands),
minOperand>0&&size<minOperand?errorHandler.throw("scoring",new TypeError("Processor "+name+" requires at least "+minOperand+" operands, "+size+" given")):maxOperand>-1&&size>maxOperand?errorHandler.throw("scoring",new TypeError("Processor "+name+" requires maximum "+maxOperand+" operands, "+size+" given")):_.some(operands,hasWrongType)?errorHandler.throw("scoring",new TypeError("An operand given to processor "+name+" has an unexpected baseType")):!_.some(operands,hasWrongCardinality)||errorHandler.throw("scoring",new TypeError("An operand given to processor "+name+" has an unexpected cardinality"))):errorHandler.throw("scoring",new TypeError("Processor "+name+" requires operands to be an array : "+typeof operands+" given"))
}}.validate}),define("taoQtiItem/scoring/processor/expressions/processor",["lodash","taoQtiItem/scoring/processor/expressions/preprocessor","taoQtiItem/scoring/processor/errorHandler","taoQtiItem/scoring/processor/expressions/operators/constraintValidator"],function(_,preProcessorFactory,errorHandler,constraintValidator){"use strict";var processors={},expressionProcessor=function(expression,state,operands){var name=expression.qtiClass,processor=processors.expression[name]||processors.operator[name];return processor?(processor.expression=expression,processor.preProcessor=preProcessorFactory(state),processor.state=state,processor.name=name,
processor.operands&&processor.constraints&&(constraintValidator(processor,operands),processor.operands=operands),{process:function(){return processor.process.apply(processor,[].slice.call(arguments,1))}}):errorHandler.throw("scoring",new Error("No processor found for "+name))};return expressionProcessor.types={EXPRESSION:"expression",OPERATOR:"operator"},expressionProcessor.register=function(name,type,processor){return _.contains(this.types,type)?_.isEmpty(name)?errorHandler.throw("scoring",new TypeError("Please give a valid name to your processor")):_.isPlainObject(processor)&&_.isFunction(processor.process)?(processors[type]=processors[type]||{},
void(processors[type][name]=processor)):errorHandler.throw("scoring",new TypeError("The processor must be an object that contains a process method.")):errorHandler.throw("scoring",new TypeError(type+" is not a valid expression type"))},expressionProcessor}),define("taoQtiItem/scoring/processor/expressions/baseValue",[],function(){"use strict";return{process:function(){return this.preProcessor.parseVariable({cardinality:"single",baseType:this.expression.attributes.baseType,value:this.expression.value})}}}),define("taoQtiItem/scoring/processor/expressions/correct",[],function(){"use strict";return{process:function(){
var identifier=this.expression.attributes.identifier,variable=this.state[identifier];return void 0===variable||null===variable||void 0===variable.correctResponse?null:this.preProcessor.parseVariable({cardinality:variable.cardinality,baseType:variable.baseType,value:variable.correctResponse})}}}),define("taoQtiItem/scoring/processor/expressions/default",[],function(){"use strict";return{process:function(){var identifier=this.expression.attributes.identifier,variable=this.state[identifier];return void 0===variable||null===variable||void 0===variable.defaultValue?null:{cardinality:variable.cardinality,baseType:variable.baseType,value:variable.defaultValue}}}}),
define("taoQtiItem/scoring/processor/expressions/mapResponse",["lodash","taoQtiItem/scoring/processor/errorHandler"],function(_,errorHandler){"use strict";return{process:function(){var mapEntries,mapResult,defaultValue,lowerBound,upperBound,self=this,identifier=this.expression.attributes.identifier,variable=this.state[identifier],result={cardinality:"single",baseType:"float"}
;return void 0===variable?null:null===variable||void 0===variable.mapping||"mapping"!==variable.mapping.qtiClass?errorHandler.throw("scoring",new Error("The variable "+identifier+" has no mapping, how can I execute a mapResponse on it?")):(variable=this.preProcessor.parseVariable(variable),mapEntries=_.map(variable.mapping.mapEntries,function(mapEntry){return mapEntry.mapKey=self.preProcessor.parseValue(mapEntry.mapKey,variable.baseType,"single"),mapEntry}),defaultValue=parseFloat(variable.mapping.attributes.defaultValue)||0,void 0!==variable.mapping.attributes.lowerBound&&(lowerBound=parseFloat(variable.mapping.attributes.lowerBound)),
void 0!==variable.mapping.attributes.upperBound&&(upperBound=parseFloat(variable.mapping.attributes.upperBound)),"single"===variable.cardinality?void 0!==(mapResult=_.find(mapEntries,function(mapEntry){return"string"===variable.baseType&&!1===mapEntry.attributes.caseSensitive?_.isEqual(mapEntry.mapKey.toLowerCase(),variable.value.toLowerCase()):_.isEqual(mapEntry.mapKey,variable.value)}))&&(result.value=parseFloat(mapResult.mapValue)):"multiple"!==variable.cardinality&&"ordered"!==variable.cardinality||void 0!==(mapResult=_(mapEntries).filter(function(mapEntry){var found
;return"string"===variable.baseType&&!1===mapEntry.attributes.caseSensitive?_.contains(_.invoke(variable.value,"toLowerCase"),mapEntry.mapKey.toLowerCase()):_.isArray(mapEntry.mapKey)?(found=_.find(variable.value,mapEntry.mapKey))&&found.length>0:_.contains(variable.value,mapEntry.mapKey)}).reduce(function(sum,mapEntry){return sum+parseFloat(mapEntry.mapValue)},0))&&(result.value=mapResult),_.isNumber(result.value)||(result.value=defaultValue),_.isNumber(lowerBound)&&result.value<lowerBound&&(result.value=lowerBound),_.isNumber(upperBound)&&result.value>upperBound&&(result.value=upperBound),result)}}}),
define("taoQtiItem/scoring/processor/expressions/isPointInShape",["lodash"],function(_){"use strict";function isPointInShape(shape,point,coords){var x=point[0],y=point[1],p2=_.partialRight(Math.pow,2),isPointIn={rect:function(){var left=coords[0],top=coords[1],right=coords[2],bottom=coords[3];return x>=left&&x<=right&&y>=top&&y<=bottom},circle:function(){var centerx=coords[0],centery=coords[1],radius=coords[2];return p2(x-centerx)+p2(y-centery)<p2(radius)},ellipse:function(){var centerx=coords[0],centery=coords[1],radiush=coords[2],radiusv=coords[3],distx=x-centerx,disty=y-centery;return p2(distx)/p2(radiush)+p2(disty)/p2(radiusv)<=1},poly:function(){
var i,j,xi,yi,xj,yj,inside=!1,vertx=_.reduce(coords,function(acc,coord,index){return index%2==0?acc.push([coord]):acc[acc.length-1][1]=coord,acc},[]),vSize=vertx.length;for(i=0,j=vSize-1;i<vSize;j=i++)xi=vertx[i][0],yi=vertx[i][1],xj=vertx[j][0],yj=vertx[j][1],yi>y!=yj>y&&x<(xj-xi)*(y-yi)/(yj-yi)+xi&&(inside=!inside);return inside},default:function(){return!0}};return!!_.isFunction(isPointIn[shape])&&isPointIn[shape]()}return isPointInShape}),
define("taoQtiItem/scoring/processor/expressions/mapResponsePoint",["lodash","taoQtiItem/scoring/processor/expressions/isPointInShape","taoQtiItem/scoring/processor/errorHandler"],function(_,isPointInShape,errorHandler){"use strict";return{process:function(){var points,defaultValue,lowerBound,upperBound,filtered,identifier=this.expression.attributes.identifier,variable=this.state[identifier],result={cardinality:"single",baseType:"float"}
;return void 0===variable||null===variable?null:void 0===variable.mapping||"areaMapping"!==variable.mapping.qtiClass?errorHandler.throw("scoring",new Error("The variable "+identifier+" has no areaMapping, how can I execute a mapResponsePoint on it?")):"point"!==variable.baseType?errorHandler.throw("scoring",new Error("The variable "+identifier+" must be of type point, but it is a "+variable.baseType)):(variable=this.preProcessor.parseVariable(variable),defaultValue=parseFloat(variable.mapping.attributes.defaultValue)||0,void 0!==variable.mapping.attributes.lowerBound&&(lowerBound=parseFloat(variable.mapping.attributes.lowerBound)),
void 0!==variable.mapping.attributes.upperBound&&(upperBound=parseFloat(variable.mapping.attributes.upperBound)),points="single"===variable.cardinality?[variable.value]:variable.value,filtered=_.filter(variable.mapping.mapEntries,function(mapEntry){return _.filter(points,function(point){var coords=_.map(mapEntry.coords.split(","),parseFloat);return isPointInShape(mapEntry.shape,point,coords)}).length>0}),filtered.length&&(result.value=_.reduce(filtered,function(acc,mapEntry){var value=parseFloat(mapEntry.mappedValue);return acc+(_.isNaN(value)?0:value)},0)),_.isNumber(result.value)||(result.value=defaultValue),
_.isNumber(lowerBound)&&result.value<lowerBound&&(result.value=lowerBound),_.isNumber(upperBound)&&result.value>upperBound&&(result.value=upperBound),result)}}}),define("taoQtiItem/scoring/processor/expressions/mathConstant",[],function(){"use strict";return{process:function(){var value;return"e"===this.expression.attributes.name&&(value=Math.E),"pi"===this.expression.attributes.name&&(value=Math.PI),{cardinality:"single",baseType:"float",value:value}}}}),define("taoQtiItem/scoring/processor/expressions/null",[],function(){"use strict";return{process:function(){return null}}}),
define("taoQtiItem/scoring/processor/expressions/randomFloat",["lodash","taoQtiItem/scoring/processor/errorHandler"],function(_,errorHandler){"use strict";return{process:function(){var min=this.preProcessor.parseValue(this.expression.attributes.min,"floatOrVariableRef"),max=this.preProcessor.parseValue(this.expression.attributes.max,"floatOrVariableRef"),result={cardinality:"single",baseType:"float"};return!_.isNaN(min)&&_.isFinite(min)||(min=0),
_.isNaN(max)||!_.isFinite(max)?errorHandler.throw("scoring",new Error("The max value of a randomFloat expresssion should be a finite integer.")):min>max?errorHandler.throw("scoring",new Error("Come on! How am I supposed to generate a random number from a negative range : min > max")):(result.value=_.random(min,max,!0),result)}}}),define("taoQtiItem/scoring/processor/expressions/randomInteger",["lodash","taoQtiItem/scoring/processor/errorHandler"],function(_,errorHandler){"use strict";return{process:function(){
var range,min=this.preProcessor.parseValue(this.expression.attributes.min,"integerOrVariableRef"),max=this.preProcessor.parseValue(this.expression.attributes.max,"integerOrVariableRef"),step=void 0!==this.expression.attributes.step?this.preProcessor.parseValue(this.expression.attributes.step,"integerOrVariableRef"):1,result={cardinality:"single",baseType:"integer"};return!_.isNaN(min)&&_.isFinite(min)||(min=0),
_.isNaN(max)||!_.isFinite(max)?errorHandler.throw("scoring",new Error("The max value of a randomInteger expresssion should be a finite integer.")):min>max?errorHandler.throw("scoring",new Error("Come on! How am I supposed to generate a random number from a negative range : min > max")):(!_.isNaN(step)&&_.isFinite(step)||(step=1),1!==step?(range=_.range(min,max,step),_.contains(range,max)||range.push(max),result.value=_.sample(range)):result.value=_.random(min,max),result)}}}),define("taoQtiItem/scoring/processor/expressions/variable",[],function(){"use strict";return{process:function(){
var identifier=this.expression.attributes.identifier,variable=this.state[identifier];return void 0===variable||null===variable?null:this.preProcessor.parseVariable({cardinality:variable.cardinality,baseType:variable.baseType,value:variable.value})}}}),
define("taoQtiItem/scoring/processor/expressions/expressions",["taoQtiItem/scoring/processor/expressions/baseValue","taoQtiItem/scoring/processor/expressions/correct","taoQtiItem/scoring/processor/expressions/default","taoQtiItem/scoring/processor/expressions/mapResponse","taoQtiItem/scoring/processor/expressions/mapResponsePoint","taoQtiItem/scoring/processor/expressions/mathConstant","taoQtiItem/scoring/processor/expressions/null","taoQtiItem/scoring/processor/expressions/randomFloat","taoQtiItem/scoring/processor/expressions/randomInteger","taoQtiItem/scoring/processor/expressions/variable"],function(baseValue,correct,defaultt,mapResponse,mapResponsePoint,mathConstant,nulll,randomFloat,randomInteger,variable){
"use strict";return{baseValue:baseValue,correct:correct,default:defaultt,mapResponse:mapResponse,mapResponsePoint:mapResponsePoint,mathConstant:mathConstant,null:nulll,randomFloat:randomFloat,randomInteger:randomInteger,variable:variable}}),define("taoQtiItem/scoring/processor/expressions/operators/and",["lodash"],function(_){"use strict";return{constraints:{minOperand:1,maxOperand:-1,cardinality:["single"],baseType:["boolean"]},operands:[],process:function(){var result={cardinality:"single",baseType:"boolean"};return!0===_.some(this.operands,_.isNull)?null:(result.value=this.preProcessor.parseOperands(this.operands).reduce(function(f,s){return f&&s}),
result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/anyN",["lodash"],function(_){"use strict";return{constraints:{minOperand:1,maxOperand:-1,cardinality:["single"],baseType:["boolean"]},operands:[],process:function(){var result={cardinality:"single",baseType:"boolean"},min=this.preProcessor.parseValue(this.expression.attributes.min,"integerOrVariableRef"),max=this.preProcessor.parseValue(this.expression.attributes.max,"integerOrVariableRef"),counted=this.preProcessor.parseOperands(this.operands).countBy().value();if(counted.true>=min&&counted.true<=max)result.value=!0;else{
if(counted.true+counted.null>=min&&counted.true+counted.null<=max)return null;result.value=!1}return result}}}),define("taoQtiItem/scoring/processor/expressions/operators/containerSize",["lodash"],function(_){"use strict";return{constraints:{minOperand:1,maxOperand:1,cardinality:["multiple","ordered"],baseType:["identifier","boolean","integer","float","string","point","pair","directedPair","duration","file","uri","intOrIdentifier"]},operands:[],process:function(){var result={cardinality:"single",baseType:"integer",value:0};return!0===_.some(this.operands,_.isNull)?result:(result.value=this.preProcessor.parseVariable(this.operands[0]).value.length,result)}}
}),define("taoQtiItem/scoring/processor/expressions/operators/contains",["lodash","taoQtiItem/scoring/processor/errorHandler"],function(_,errorHandler){"use strict";return{constraints:{minOperand:2,maxOperand:2,cardinality:["multiple","ordered"],baseType:["identifier","boolean","integer","float","string","point","pair","directedPair","file","uri","intOrIdentifier"]},operands:[],process:function(){var result={cardinality:"single",baseType:"boolean"};if(!0===_.some(this.operands,_.isNull))return null;if(1!==Object.keys(_.countBy(this.operands,"baseType")).length)return errorHandler.throw("scoring",new Error("operands must be of the same baseType")),null
;if(1!==Object.keys(_.countBy(this.operands,"cardinality")).length)return errorHandler.throw("scoring",new Error("operands must be of the same cardinality")),null;var op1=_.flatten(this.preProcessor.parseVariable(this.operands[0]).value).join(),op2=_.flatten(this.preProcessor.parseVariable(this.operands[1]).value).join();return result.value=_.contains(op1,op2),result}}}),define("taoQtiItem/scoring/processor/expressions/operators/customOperator",["lodash","require","taoQtiItem/scoring/processor/errorHandler","taoQtiItem/scoring/processor/expressions/operators/constraintValidator"],function(_,require,errorHandler,constraintValidator){"use strict"
;var customOperatorProcessor={constraints:{minOperand:-1,maxOperand:-1,cardinality:["single","multiple"],baseType:["identifier","boolean","integer","float","string","point","pair","directedPair","duration","file","uri","intOrIdentifier"]},operands:[],process:function(){var classs=this.expression.attributes.class;this.expression.attributes.definition;if(!require.defined(classs))return errorHandler.throw("scoring",new Error("Class must be specified for custom operator"));var custom=require(classs);return constraintValidator(custom,customOperatorProcessor.operands)?(custom.preProcessor=customOperatorProcessor.preProcessor,
custom.operands=customOperatorProcessor.operands,custom.expression=[],custom.expression.attributes=customOperatorProcessor.expression.attributes,custom.process()):void 0}};return customOperatorProcessor}),define("taoQtiItem/scoring/processor/expressions/operators/delete",["lodash","taoQtiItem/scoring/processor/errorHandler"],function(_,errorHandler){"use strict";return{constraints:{minOperand:2,maxOperand:2,cardinality:["multiple","single","ordered"],baseType:["identifier","boolean","integer","float","string","point","pair","directedPair","file","uri","intOrIdentifier","duration"]},operands:[],process:function(){var result={}
;if(!0===_.some(this.operands,_.isNull))return null;if(1!==Object.keys(_.countBy(this.operands,"baseType")).length)return errorHandler.throw("scoring",new Error("operands must be of the same baseType")),null;if("single"!==this.operands[0].cardinality||!_.contains(["multiple","ordered"],this.operands[1].cardinality))return errorHandler.throw("scoring",new Error("operands must be of the specific cardinality")),null;var op1=this.preProcessor.parseVariable(this.operands[0]),op2=this.preProcessor.parseVariable(this.operands[1]);return result.value=_.reject(op2.value,function(e){return op1.value===e}),result.baseType=op1.baseType,
result.cardinality=op2.cardinality,result}}}),define("taoQtiItem/scoring/processor/expressions/operators/divide",["lodash"],function(_){"use strict";return{constraints:{minOperand:2,maxOperand:2,cardinality:["single"],baseType:["integer","float"]},operands:[],process:function(){var result={cardinality:"single",baseType:"float"};return!0===_.some(this.operands,_.isNull)?null:(result.value=this.preProcessor.mapNumbers(this.operands).reduce(function(f,s){var result=f/s;return 0===s?null:0===result&&0!==f?null:result}),_.isNull(result.value)?null:result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/durationGTE",["lodash"],function(_){
"use strict";return{constraints:{minOperand:2,maxOperand:2,cardinality:["single"],baseType:["duration"]},operands:[],process:function(){var result={cardinality:"single",baseType:"boolean"};return!0===_.some(this.operands,_.isNull)?null:(result.value=this.preProcessor.parseVariable(this.operands[0]).value>=this.preProcessor.parseVariable(this.operands[1]).value,result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/durationLT",["lodash"],function(_){"use strict";return{constraints:{minOperand:2,maxOperand:2,cardinality:["single"],baseType:["duration"]},operands:[],process:function(){var result={cardinality:"single",baseType:"boolean"}
;return!0===_.some(this.operands,_.isNull)?null:(result.value=this.preProcessor.parseVariable(this.operands[0]).value<this.preProcessor.parseVariable(this.operands[1]).value,result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/equal",["lodash","taoQtiItem/scoring/processor/errorHandler"],function(_,errorHandler){"use strict";var equalProcessor={engines:{exact:function(x,y){return x===y},absolute:function(x,y,includeLowerBound,includeUpperBound,tolerance){var lower=includeLowerBound?y>=x-tolerance[0]:y>x-tolerance[0],upper=includeUpperBound?y<=x+tolerance[1]:y<x+tolerance[1];return lower&&upper},
relative:function(x,y,includeLowerBound,includeUpperBound,tolerance){var lower=includeLowerBound?y>=x-(1-tolerance[0]/100):y>x-(1-tolerance[0]/100),upper=includeUpperBound?y<=x+(1-tolerance[1]/100):y<x+(1-tolerance[1]/100);return lower&&upper}},constraints:{minOperand:2,maxOperand:2,cardinality:["single"],baseType:["integer","float"]},operands:[],process:function(){var result={cardinality:"single",baseType:"boolean"
},attributes=this.expression.attributes||{},toleranceMode=attributes.toleranceMode||"exact",engine=this.engines[toleranceMode],tolerance=attributes.tolerance?attributes.tolerance.toString().split(" "):[],includeLowerBound=!_.isString(attributes.includeLowerBound)&&!_.isBoolean(attributes.includeLowerBound)||this.preProcessor.parseValue(attributes.includeLowerBound,"boolean"),includeUpperBound=!_.isString(attributes.includeUpperBound)&&!_.isBoolean(attributes.includeUpperBound)||this.preProcessor.parseValue(attributes.includeUpperBound,"boolean")
;return!_.isFunction(engine)||_.contains(["absolute","relative"],toleranceMode)&&0===tolerance.length?errorHandler.throw("scoring",new Error("tolerance must me specified")):!0===_.some(this.operands,_.isNull)?null:(tolerance=_(tolerance).map(function(t){return equalProcessor.preProcessor.parseValue(t,"floatOrVariableRef")}).value(),1===tolerance.length&&tolerance.push(tolerance[0]),result.value=engine(this.preProcessor.parseVariable(this.operands[0]).value,this.preProcessor.parseVariable(this.operands[1]).value,includeLowerBound,includeUpperBound,tolerance),result)}};return equalProcessor}),
define("taoQtiItem/scoring/processor/expressions/operators/equalRounded",["lodash","taoQtiItem/scoring/processor/errorHandler"],function(_,errorHandler){"use strict";function decimalAdjust(type,value,exp){return value=value.toString().split("e"),value=Math[type](+(value[0]+"e"+(value[1]?+value[1]+exp:exp))),value=value.toString().split("e"),+(value[0]+"e"+(value[1]?+value[1]-exp:-exp))}return{engines:{significantFigures:function(value,exp){return decimalAdjust("round",value,exp)},decimalPlaces:function(value,exp){return decimalAdjust("floor",value,exp)}},constraints:{minOperand:2,maxOperand:2,cardinality:["single"],baseType:["integer","float"]},operands:[],
process:function(){var attributes=this.expression.attributes||{},roundingMode=attributes.roundingMode||"significantFigures",roundingEngine=_.isFunction(this.engines[roundingMode])?this.engines[roundingMode]:this.engines.significantFigures,figures=this.preProcessor.parseValue(this.expression.attributes.figures,"integerOrVariableRef");if(!this.preProcessor.isNumber(figures))return errorHandler.throw("scoring",new Error("figures must me numeric")),null;if(figures<=1&&"significantFigures"===roundingMode)return errorHandler.throw("scoring",new Error("significantFigures must me numeric")),null;var result={cardinality:"single",baseType:"boolean"}
;if(!0===_.some(this.operands,_.isNull))return null;var op1=this.preProcessor.parseVariable(this.operands[0]).value,op2=this.preProcessor.parseVariable(this.operands[1]).value;return result.value=roundingEngine(op1,figures)===roundingEngine(op2,figures),result}}}),define("taoQtiItem/scoring/processor/expressions/operators/fieldValue",["lodash"],function(_){"use strict";return{constraints:{minOperand:1,maxOperand:1,cardinality:["record"],baseType:[void 0]},operands:[],process:function(){var result={},fieldIdentifier=this.expression.attributes.fieldIdentifier,record=this.preProcessor.parseVariable(this.operands[0]).value
;return record[fieldIdentifier]?(result.value=record[fieldIdentifier].value,result.baseType=record[fieldIdentifier].baseType,result.cardinality=record[fieldIdentifier].cardinality,result):null}}}),define("taoQtiItem/scoring/processor/expressions/operators/gcd",["lodash"],function(_){"use strict";function gcd(numbers){for(var n=numbers.length,y=0,x=Math.abs(numbers[0]),i=1;i<n;i++){for(y=Math.abs(numbers[i]);x&&y;)x>y?x%=y:y%=x;x+=y}return x}return{constraints:{minOperand:1,gcdOperand:-1,cardinality:["single","multiple","ordered"],baseType:["integer"]},operands:[],process:function(){var result={cardinality:"single",baseType:"integer"}
;if(!0===_.some(this.operands,_.isNull))return null;var castedOperands=this.preProcessor.parseOperands(this.operands);return castedOperands.every(this.preProcessor.isNumber)?0===castedOperands.max().value()&&0===castedOperands.min().value()?(result.value=0,result):(result.value=gcd(castedOperands.value()),result):null}}}),define("taoQtiItem/scoring/processor/expressions/operators/gt",["lodash"],function(_){"use strict";return{constraints:{minOperand:2,maxOperand:2,cardinality:["single"],baseType:["integer","float"]},operands:[],process:function(){var result={cardinality:"single",baseType:"boolean"}
;return!0===_.some(this.operands,_.isNull)?null:(result.value=this.preProcessor.mapNumbers(this.operands).reduce(function(f,s){return f>s}),result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/gte",["lodash"],function(_){"use strict";return{constraints:{minOperand:2,maxOperand:2,cardinality:["single"],baseType:["integer","float"]},operands:[],process:function(){var result={cardinality:"single",baseType:"boolean"};return!0===_.some(this.operands,_.isNull)?null:(result.value=this.preProcessor.mapNumbers(this.operands).reduce(function(f,s){return f>=s}),result)}}}),
define("taoQtiItem/scoring/processor/expressions/operators/index",["lodash","taoQtiItem/scoring/processor/errorHandler"],function(_,errorHandler){"use strict";return{constraints:{minOperand:1,maxOperand:1,cardinality:["ordered"],baseType:["identifier","boolean","integer","float","string","point","pair","directedPair","file","uri","intOrIdentifier","duration"]},operands:[],process:function(){var result={cardinality:"single"},n=this.preProcessor.parseValue(this.expression.attributes.n,"integerOrVariableRef");if(!0===_.some(this.operands,_.isNull))return null;if(n<1)return errorHandler.throw("scoring",new Error("n must be greater than 0")),null
;var op1=this.preProcessor.parseVariable(this.operands[0]);return _.isUndefined(op1.value[n-1])?null:(result.value=op1.value[n-1],result.baseType=op1.baseType,result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/inside",["lodash","taoQtiItem/scoring/processor/expressions/isPointInShape","taoQtiItem/scoring/processor/errorHandler"],function(_,isPointInShape,errorHandler){"use strict";return{constraints:{minOperand:1,maxOperand:1,cardinality:["single","ordered","multiple"],baseType:["point"]},operands:[],process:function(){var result={cardinality:"single",baseType:"boolean"
},attributes=this.expression.attributes,shape=attributes.shape||"default",coords=_.map(attributes.coords.split(","),parseFloat);if(!0===_.some(this.operands,_.isNull))return null;var point=this.preProcessor.parseVariable(this.operands[0]).value;return result.value=isPointInShape(shape,point,coords),result}}}),define("taoQtiItem/scoring/processor/expressions/operators/integerDivide",["lodash"],function(_){"use strict";return{constraints:{minOperand:2,maxOperand:2,cardinality:["single"],baseType:["integer"]},operands:[],process:function(){var result={cardinality:"single",baseType:"integer"}
;return!0===_.some(this.operands,_.isNull)?null:(result.value=this.preProcessor.mapNumbers(this.operands).reduce(function(f,s){var result=Math.floor(f/s);return 0===s?null:result}),_.isNull(result.value)?null:result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/integerModulus",["lodash"],function(_){"use strict";return{constraints:{minOperand:2,maxOperand:2,cardinality:["single"],baseType:["integer"]},operands:[],process:function(){var result={cardinality:"single",baseType:"integer"};return!0===_.some(this.operands,_.isNull)?null:(result.value=this.preProcessor.mapNumbers(this.operands).reduce(function(f,s){var result=f%s
;return 0===s?null:result}),_.isNull(result.value)?null:result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/integerToFloat",["lodash"],function(_){"use strict";return{constraints:{minOperand:1,maxOperand:1,cardinality:["single"],baseType:["integer"]},operands:[],process:function(){var result={cardinality:"single",baseType:"float"};return!0===_.some(this.operands,_.isNull)?null:(result.value=this.preProcessor.parseValue(this.operands[0].value,"float"),result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/isNull",["lodash"],function(_){"use strict";return{constraints:{minOperand:1,maxOperand:1,
cardinality:["single","multiple","ordered","record"],baseType:["identifier","boolean","integer","float","string","point","pair","directedPair","duration","file","uri","intOrIdentifier"]},operands:[],process:function(){var result={cardinality:"single",baseType:"boolean",value:!1};return null!==this.operands[0]&&null!==this.operands[0].value||(result.value=!0),result}}}),define("taoQtiItem/scoring/processor/expressions/operators/lcm",["lodash"],function(_){"use strict";function lcm(numbers){for(var n=numbers.length,a=Math.abs(numbers[0]),i=1;i<n;i++){for(var b=Math.abs(numbers[i]),c=a;a&&b;)a>b?a%=b:b%=a;a=Math.abs(c*numbers[i])/(a+b)}return a}return{
constraints:{minOperand:1,lcmOperand:-1,cardinality:["single","multiple","ordered"],baseType:["integer"]},operands:[],process:function(){var result={cardinality:"single",baseType:"integer"};if(!0===_.some(this.operands,_.isNull))return null;var castedOperands=this.preProcessor.parseOperands(this.operands);return castedOperands.every(this.preProcessor.isNumber)?-1!==castedOperands.value().indexOf(0)?(result.value=0,result):(result.value=lcm(castedOperands.value()),result):null}}}),define("taoQtiItem/scoring/processor/expressions/operators/lt",["lodash"],function(_){"use strict";return{constraints:{minOperand:2,maxOperand:2,cardinality:["single"],
baseType:["integer","float"]},operands:[],process:function(){var result={cardinality:"single",baseType:"boolean"};return!0===_.some(this.operands,_.isNull)?null:(result.value=this.preProcessor.mapNumbers(this.operands).reduce(function(f,s){return f<s}),result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/lte",["lodash"],function(_){"use strict";return{constraints:{minOperand:2,maxOperand:2,cardinality:["single"],baseType:["integer","float"]},operands:[],process:function(){var result={cardinality:"single",baseType:"boolean"}
;return!0===_.some(this.operands,_.isNull)?null:(result.value=this.preProcessor.mapNumbers(this.operands).reduce(function(f,s){return f<=s}),result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/match",["lodash"],function(_){"use strict";return{constraints:{minOperand:2,maxOperand:2,cardinality:["single","multiple","ordered"],baseType:["string","identifier","boolean","integer","float","pair","directedPair"]},operands:[],process:function(){var result={cardinality:"single",baseType:"boolean"}
;return!0===_.some(this.operands,_.isNull)?null:(result.value=_.isEqual(this.preProcessor.parseVariable(this.operands[0]),this.preProcessor.parseVariable(this.operands[1])),result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/mathOperator",["lodash"],function(_){"use strict";function atan2(arg){return Math.atan2(arg[0],arg[1])}function reciprocalFactory(trigonometric){return function(operands){var trig=trigonometric(operands);return close(trig,0,mathOperatorProcessor.accuracy)?null:1/trig}}function inversedFactory(trigonometric){return function(operand){return Math.abs(operand)<1?null:trigonometric([1/operand])}}function acot(operand){
return Math.atan([1/operand])}function sinh(operand){var y=Math.exp(operand);return(y-1/y)/2}function cosh(operand){var y=Math.exp(operand);return(y+1/y)/2}function tanh(operand){if(operand===1/0)return 1;if(operand===-1/0)return-1;var y=Math.exp(2*operand);return(y-1)/(y+1)}function log10(operand){return Math.log(operand)/Math.LN10}function signum(operand){return 0===operand?0:operand>0?1:-1}function toDegrees(operand){return operand*(180/Math.PI)}function toRadians(operand){return operand*(Math.PI/180)}function close(actual,expected,maxDifference){return(actual===expected?0:Math.abs(actual-expected))<=maxDifference}var mathOperatorProcessor={
accuracy:1e-14,constraints:{minOperand:1,maxOperand:-1,cardinality:["single"],baseType:["float","integer"]},operands:[],process:function(){var result={cardinality:"single",baseType:"float"};if(!0===_.some(this.operands,_.isNull))return null;var name=this.expression.attributes.name;if(!_.contains(Object.keys(functions),name))return null;var operands=this.preProcessor.parseOperands(this.operands).value();return _.some(operands,_.isNaN)?null:(_.isFunction(functions[name])?result.value=functions[name](operands[0]):result.value=functions[name].func(operands),_.isNull(result.value)||_.isNaN(result.value)?null:result)}},functions={sin:Math.sin,cos:Math.cos,
tan:Math.tan,sec:reciprocalFactory(Math.cos),csc:reciprocalFactory(Math.sin),cot:reciprocalFactory(Math.tan),asin:Math.asin,acos:Math.acos,atan:Math.atan,atan2:{func:atan2},asec:inversedFactory(Math.acos),acsc:inversedFactory(Math.asin),acot:acot,sinh:sinh,cosh:cosh,tanh:tanh,sech:reciprocalFactory(cosh),csch:reciprocalFactory(sinh),coth:reciprocalFactory(tanh),log:log10,ln:Math.log,exp:Math.exp,abs:Math.abs,signum:signum,floor:Math.floor,ceil:Math.ceil,toDegrees:toDegrees,toRadians:toRadians};return mathOperatorProcessor}),define("taoQtiItem/scoring/processor/expressions/operators/max",["lodash"],function(_){"use strict";return{constraints:{minOperand:1,
maxOperand:-1,cardinality:["single","multiple","ordered"],baseType:["integer","float"]},operands:[],process:function(){var result={cardinality:"single",baseType:"integer"};if(!0===_.some(this.operands,_.isNull))return null;_.some(this.operands,{baseType:"float"})&&(result.baseType="float");var castedOperands=this.preProcessor.parseOperands(this.operands);return castedOperands.every(this.preProcessor.isNumber)?(result.value=castedOperands.max().value(),result):null}}}),define("taoQtiItem/scoring/processor/expressions/operators/member",["lodash","taoQtiItem/scoring/processor/errorHandler"],function(_,errorHandler){"use strict";return{constraints:{minOperand:2,
maxOperand:2,cardinality:["multiple","ordered","single"],baseType:["identifier","boolean","integer","string","point","pair","directedPair","file","uri","intOrIdentifier"]},operands:[],process:function(){var result={cardinality:"single",baseType:"boolean"};if(!0===_.some(this.operands,_.isNull))return null;if(1!==Object.keys(_.countBy(this.operands,"baseType")).length)return errorHandler.throw("scoring",new Error("operands must be of the same baseType")),null
;if("single"!==this.operands[0].cardinality||-1===["multiple","ordered"].indexOf(this.operands[1].cardinality))return errorHandler.throw("scoring",new Error("operands must be single and multiply|ordered cardinality respectively")),null;var op1=this.preProcessor.parseVariable(this.operands[0]).value,op2=this.preProcessor.parseVariable(this.operands[1]).value;return _.isArray(op1)?result.value=-1!==_.flatten(op2).join().indexOf(op1):result.value=-1!==op2.indexOf(op1),result}}}),define("taoQtiItem/scoring/processor/expressions/operators/min",["lodash"],function(_){"use strict";return{constraints:{minOperand:1,maxOperand:-1,
cardinality:["single","multiple","ordered"],baseType:["integer","float"]},operands:[],process:function(){var result={cardinality:"single",baseType:"integer"};if(!0===_.some(this.operands,_.isNull))return null;_.some(this.operands,{baseType:"float"})&&(result.baseType="float");var castedOperands=this.preProcessor.parseOperands(this.operands);return castedOperands.every(this.preProcessor.isNumber)?(result.value=castedOperands.min().value(),result):null}}}),define("taoQtiItem/scoring/processor/expressions/operators/multiple",["lodash","taoQtiItem/scoring/processor/errorHandler"],function(_,errorHandler){"use strict";return{constraints:{minOperand:0,
maxOperand:-1,cardinality:["single","multiple"],baseType:["identifier","boolean","integer","float","string","point","pair","directedPair","duration","file","uri","intOrIdentifier"]},operands:[],process:function(){var result={cardinality:"multiple"};if(!0===_.every(this.operands,_.isNull)||0===this.operands.length)return null;var filteredOperands=_(this.operands).filter(_.isObject).value();return 1!==Object.keys(_.countBy(filteredOperands,"baseType")).length?(errorHandler.throw("scoring",new Error("operands must be of the same type")),null):(result.baseType=this.operands[0].baseType,result.value=this.preProcessor.parseOperands(filteredOperands).value(),
result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/not",["lodash"],function(_){"use strict";return{constraints:{minOperand:1,maxOperand:1,cardinality:["single"],baseType:["boolean"]},operands:[],process:function(){var result={cardinality:"single",baseType:"boolean"};return!0===_.some(this.operands,_.isNull)?null:(result.value=!this.preProcessor.parseVariable(this.operands[0]).value,result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/or",["lodash"],function(_){"use strict";return{constraints:{minOperand:1,maxOperand:-1,cardinality:["single"],baseType:["boolean"]},operands:[],process:function(){var result={
cardinality:"single",baseType:"boolean"};return!0===_.some(this.operands,_.isNull)?null:(result.value=this.preProcessor.parseOperands(this.operands).reduce(function(f,s){return f||s}),result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/ordered",["lodash","taoQtiItem/scoring/processor/errorHandler"],function(_,errorHandler){"use strict";return{constraints:{minOperand:0,maxOperand:-1,cardinality:["single","ordered"],baseType:["identifier","boolean","integer","float","string","point","pair","directedPair","duration","file","uri","intOrIdentifier"]},operands:[],process:function(){var result={cardinality:"ordered"}
;if(!0===_.every(this.operands,_.isNull)||0===this.operands.length)return null;var filteredOperands=_(this.operands).filter(_.isObject).value();return 1!==Object.keys(_.countBy(filteredOperands,"baseType")).length?(errorHandler.throw("scoring",new Error("operands must be of the same type")),null):(result.baseType=this.operands[0].baseType,result.value=this.preProcessor.parseOperands(filteredOperands).reduce(function(acc,current){return acc.push(current),acc},[]),result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/patternMatch",["lodash"],function(_){"use strict";return{constraints:{minOperand:1,maxOperand:1,cardinality:["single"],
baseType:["string"]},operands:[],process:function(){var result={cardinality:"single",baseType:"boolean"};if(!0===_.some(this.operands,_.isNull))return null;var pattern=this.preProcessor.parseValue(this.expression.attributes.pattern,"stringOrVariableRef").replace(/[\^\$]/g,"\\$&");pattern.match(/^(\.\*)/)||(pattern="^"+pattern),pattern.match(/(\.\*)$/)||(pattern+="$");var regexp=new RegExp(pattern);return result.value=regexp.test(this.preProcessor.parseVariable(this.operands[0]).value),result}}}),define("taoQtiItem/scoring/processor/expressions/operators/power",["lodash"],function(_){"use strict";return{constraints:{minOperand:2,maxOperand:2,
cardinality:["single"],baseType:["integer","float"]},operands:[],process:function(){var result={cardinality:"single",baseType:"float"};return!0===_.some(this.operands,_.isNull)?null:(result.value=this.preProcessor.mapNumbers(this.operands).reduce(function(base,exp){var result=Math.pow(base,exp);return!_.isFinite(result)&&_.isFinite(base)&&(result=null),0===result&&0!==base&&(result=null),result}),_.isNull(result.value)?null:result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/product",["lodash"],function(_){"use strict";return{constraints:{minOperand:1,maxOperand:-1,cardinality:["single","multiple","ordered"],baseType:["integer","float"]},
operands:[],process:function(){var result={cardinality:"single",baseType:"integer"};return!0===_.some(this.operands,_.isNull)?null:(_.some(this.operands,{baseType:"float"})&&(result.baseType="float"),result.value=this.preProcessor.mapNumbers(this.operands).reduce(function(product,value){return product*value}),result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/random",["lodash"],function(_){"use strict";return{constraints:{minOperand:1,maxOperand:1,cardinality:["multiple","ordered"],baseType:["identifier","boolean","integer","string","point","pair","directedPair","file","uri","intOrIdentifier","duration","float"]},operands:[],
process:function(){var result={cardinality:"single"};if(!0===_.some(this.operands,_.isNull))return null;var op=this.preProcessor.parseVariable(this.operands[0]);return result.value=op.value[_.random(0,op.value.length-1)],result.baseType=op.baseType,result}}}),define("taoQtiItem/scoring/processor/expressions/operators/repeat",["lodash","taoQtiItem/scoring/processor/errorHandler"],function(_,errorHandler){"use strict";return{constraints:{minOperand:0,maxOperand:-1,cardinality:["single","ordered"],baseType:["identifier","boolean","integer","float","string","point","pair","directedPair","duration","file","uri","intOrIdentifier"]},operands:[],state:{},
process:function(){var result={cardinality:"ordered",value:[]},numberRepeats=this.preProcessor.parseValue(this.expression.attributes.numberRepeats,"integerOrVariableRef");if(numberRepeats<1||!0===_.every(this.operands,_.isNull)||0===this.operands.length)return null;var filteredOperands=_(this.operands).filter(_.isObject).value();if(1!==Object.keys(_.countBy(filteredOperands,"baseType")).length)return errorHandler.throw("scoring",new Error("operands must be of the same type")),null;result.baseType=this.operands[0].baseType;for(var value=this.preProcessor.parseOperands(filteredOperands).value();numberRepeats-- >0;)result.value.push(value)
;return result.value=_.flatten(result.value,!0),result}}}),define("taoQtiItem/scoring/processor/expressions/operators/round",["lodash"],function(_,preProcessor){"use strict";return{constraints:{minOperand:1,maxOperand:1,cardinality:["single"],baseType:["integer","float"]},operands:[],process:function(){var result={cardinality:"single",baseType:"float"};if(!0===_.some(this.operands,_.isNull))return null;var value=this.preProcessor.parseOperands(this.operands).value()[0];return _.isNaN(value)?null:_.isFinite(value)?(result.value=Math.round(value),result):(result.value=value,result)}}}),
define("taoQtiItem/scoring/processor/expressions/operators/roundTo",["lodash","taoQtiItem/scoring/processor/errorHandler"],function(_,errorHandler){"use strict";function decimalAdjust(type,value,exp){return value=value.toString().split("e"),value=Math[type](+(value[0]+"e"+(value[1]?+value[1]+exp:exp))),value=value.toString().split("e"),+(value[0]+"e"+(value[1]?+value[1]-exp:-exp))}return{engines:{significantFigures:function(value,exp){return decimalAdjust("round",value,exp)},decimalPlaces:function(value,exp){return decimalAdjust("floor",value,exp)}},constraints:{minOperand:1,maxOperand:1,cardinality:["single"],baseType:["integer","float"]},operands:[],
process:function(){var roundingMode=_.isFunction(this.engines[this.expression.attributes.roundingMode])?this.engines[this.expression.attributes.roundingMode]:this.engines.significantFigures,figures=this.preProcessor.parseValue(this.expression.attributes.figures,"integerOrVariableRef");if(!this.preProcessor.isNumber(figures))return errorHandler.throw("scoring",new Error("figures must be numeric")),null;if(figures<=1&&roundingMode===this.engines.significantFigures)return errorHandler.throw("scoring",new Error("significantFigures must be numeric")),null;var result={cardinality:"single",baseType:"float"};if(!0===_.some(this.operands,_.isNull))return null
;var value=this.preProcessor.parseVariable(this.operands[0]).value;return _.isFinite(value)?(result.value=roundingMode(value,figures),result):(result.value=value,result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/statsOperator",["lodash"],function(_){"use strict";function mean(values){return _(values).reduce(function(s,v){return s+v})/values.length}function sampleVariance(values){return getVariance(values,!0)}function sampleSD(values){return getDeviation(values,!0)}function popVariance(values){return getVariance(values,!1)}function popSD(values){return getDeviation(values,!1)}function getVariance(values,c){if(1===values.length)return null
;var mean2=mean(values);return _.reduce(values,function(s,v){return s+Math.pow(mean2-v,2)},0)/(c?values.length-1:values.length)}function getDeviation(values,c){if(1===values.length)return null;var mean2=mean(values);return Math.sqrt(_.reduce(values,function(s,v){return s+Math.pow(mean2-v,2)},0)/(c?values.length-1:values.length))}return{constraints:{minOperand:1,maxOperand:1,cardinality:["multiple","ordered"],baseType:["float","integer"]},operands:[],algorithms:{mean:mean,sampleVariance:sampleVariance,sampleSD:sampleSD,popVariance:popVariance,popSD:popSD},process:function(){var result={cardinality:"single",baseType:"float"}
;if(!0===_.some(this.operands,_.isNull))return null;var operand=this.preProcessor.parseVariable(this.operands[0]).value;if(!_.every(operand,this.preProcessor.isNumber))return null;var name=this.expression.attributes.name;return result.value=_.isFunction(this.algorithms[name])?this.algorithms[name](operand):null,_.isNull(result.value)?null:result}}}),define("taoQtiItem/scoring/processor/expressions/operators/stringMatch",["lodash"],function(_){"use strict";return{constraints:{minOperand:2,maxOperand:2,cardinality:["single"],baseType:["string"]},operands:[],process:function(){var result={cardinality:"single",baseType:"boolean"}
;if(!0===_.some(this.operands,_.isNull))return null;var values=this.operands,caseSensitive=!_.isBoolean(this.expression.attributes.caseSensitive)||this.expression.attributes.caseSensitive,v1=this.preProcessor.parseVariable(values[0]).value,v2=this.preProcessor.parseVariable(values[1]).value;return result.value=caseSensitive?v1===v2:v1.toUpperCase()===v2.toUpperCase(),result}}}),define("taoQtiItem/scoring/processor/expressions/operators/substring",["lodash"],function(_){"use strict";return{constraints:{minOperand:2,maxOperand:2,cardinality:["single"],baseType:["string"]},operands:[],process:function(){var result={cardinality:"single",baseType:"boolean"
},caseSensitive=!_.isBoolean(this.expression.attributes.caseSensitive)||this.expression.attributes.caseSensitive;return!0===_.some(this.operands,_.isNull)?null:(result.value=this.preProcessor.parseOperands(this.operands).reduce(function(f,s){return caseSensitive?-1!==f.indexOf(s):-1!==f.toLowerCase().indexOf(s.toLowerCase())}),result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/subtract",["lodash"],function(_){"use strict";return{constraints:{minOperand:2,maxOperand:2,cardinality:["single"],baseType:["integer","float"]},operands:[],process:function(){var result={cardinality:"single",baseType:"integer"}
;return!0===_.some(this.operands,_.isNull)?null:(_.some(this.operands,{baseType:"float"})&&(result.baseType="float"),result.value=this.preProcessor.mapNumbers(this.operands).reduce(function(sub,value){return sub-value}),result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/sum",["lodash"],function(_){"use strict";return{constraints:{minOperand:1,maxOperand:-1,cardinality:["single","multiple","ordered"],baseType:["integer","float"]},operands:[],process:function(){var result={cardinality:"single",baseType:"integer"};return!0===_.some(this.operands,_.isNull)?null:(_.some(this.operands,{baseType:"float"})&&(result.baseType="float"),
result.value=this.preProcessor.mapNumbers(this.operands).reduce(function(sum,value){return sum+value}),result)}}}),define("taoQtiItem/scoring/processor/expressions/operators/truncate",["lodash"],function(_){"use strict";return{constraints:{minOperand:1,maxOperand:1,cardinality:["single"],baseType:["integer","float"]},operands:[],process:function(){var result={cardinality:"single",baseType:"float"};if(!0===_.some(this.operands,_.isNull))return null;var value=this.preProcessor.parseOperands(this.operands).value()[0];return _.isNaN(value)?null:(result.value=_.isFinite(value)?parseInt(value,10):value,result)}}}),
define("taoQtiItem/scoring/processor/expressions/operators/operators",["taoQtiItem/scoring/processor/expressions/operators/and","taoQtiItem/scoring/processor/expressions/operators/anyN","taoQtiItem/scoring/processor/expressions/operators/containerSize","taoQtiItem/scoring/processor/expressions/operators/contains","taoQtiItem/scoring/processor/expressions/operators/customOperator","taoQtiItem/scoring/processor/expressions/operators/delete","taoQtiItem/scoring/processor/expressions/operators/divide","taoQtiItem/scoring/processor/expressions/operators/durationGTE","taoQtiItem/scoring/processor/expressions/operators/durationLT","taoQtiItem/scoring/processor/expressions/operators/equal","taoQtiItem/scoring/processor/expressions/operators/equalRounded","taoQtiItem/scoring/processor/expressions/operators/fieldValue","taoQtiItem/scoring/processor/expressions/operators/gcd","taoQtiItem/scoring/processor/expressions/operators/gt","taoQtiItem/scoring/processor/expressions/operators/gte","taoQtiItem/scoring/processor/expressions/operators/index","taoQtiItem/scoring/processor/expressions/operators/inside","taoQtiItem/scoring/processor/expressions/operators/integerDivide","taoQtiItem/scoring/processor/expressions/operators/integerModulus","taoQtiItem/scoring/processor/expressions/operators/integerToFloat","taoQtiItem/scoring/processor/expressions/operators/isNull","taoQtiItem/scoring/processor/expressions/operators/lcm","taoQtiItem/scoring/processor/expressions/operators/lt","taoQtiItem/scoring/processor/expressions/operators/lte","taoQtiItem/scoring/processor/expressions/operators/match","taoQtiItem/scoring/processor/expressions/operators/mathOperator","taoQtiItem/scoring/processor/expressions/operators/max","taoQtiItem/scoring/processor/expressions/operators/member","taoQtiItem/scoring/processor/expressions/operators/min","taoQtiItem/scoring/processor/expressions/operators/multiple","taoQtiItem/scoring/processor/expressions/operators/not","taoQtiItem/scoring/processor/expressions/operators/or","taoQtiItem/scoring/processor/expressions/operators/ordered","taoQtiItem/scoring/processor/expressions/operators/patternMatch","taoQtiItem/scoring/processor/expressions/operators/power","taoQtiItem/scoring/processor/expressions/operators/product","taoQtiItem/scoring/processor/expressions/operators/random","taoQtiItem/scoring/processor/expressions/operators/repeat","taoQtiItem/scoring/processor/expressions/operators/round","taoQtiItem/scoring/processor/expressions/operators/roundTo","taoQtiItem/scoring/processor/expressions/operators/statsOperator","taoQtiItem/scoring/processor/expressions/operators/stringMatch","taoQtiItem/scoring/processor/expressions/operators/substring","taoQtiItem/scoring/processor/expressions/operators/subtract","taoQtiItem/scoring/processor/expressions/operators/sum","taoQtiItem/scoring/processor/expressions/operators/truncate"],function(and,anyN,containerSize,contains,customOperator,deletee,divide,durationGTE,durationLT,equal,equalRounded,fieldValue,gcd,gt,gte,index,inside,integerDivide,integerModulus,integerToFloat,isNull,lcm,lt,lte,match,mathOperator,max,member,min,multiple,not,or,ordered,patternMatch,power,product,random,repeat,round,roundTo,statsOperator,stringMatch,substring,subtract,sum,truncate){
"use strict";return{and:and,anyN:anyN,containerSize:containerSize,contains:contains,customOperator:customOperator,deletee:deletee,divide:divide,durationGTE:durationGTE,durationLT:durationLT,equal:equal,equalRounded:equalRounded,fieldValue:fieldValue,gcd:gcd,gt:gt,gte:gte,index:index,inside:inside,integerDivide:integerDivide,integerModulus:integerModulus,integerToFloat:integerToFloat,isNull:isNull,lcm:lcm,lt:lt,lte:lte,match:match,mathOperator:mathOperator,max:max,member:member,min:min,multiple:multiple,not:not,or:or,ordered:ordered,patternMatch:patternMatch,power:power,product:product,random:random,repeat:repeat,round:round,roundTo:roundTo,
statsOperator:statsOperator,stringMatch:stringMatch,substring:substring,subtract:subtract,sum:sum,truncate:truncate}}),define("taoQtiItem/scoring/processor/expressions/engine",["lodash","taoQtiItem/scoring/processor/expressions/processor","taoQtiItem/scoring/processor/expressions/expressions","taoQtiItem/scoring/processor/expressions/operators/operators"],function(_,processorFactory,expressionProcessors,operatorProcessors){"use strict";var operators=_.keys(operatorProcessors);return _.forEach(expressionProcessors,function(expressionProcessor,name){processorFactory.register(name,processorFactory.types.EXPRESSION,expressionProcessor)}),
_.forEach(operatorProcessors,function(operatorProcessor,name){processorFactory.register(name,processorFactory.types.OPERATOR,operatorProcessor)}),function(state){var trail=[],marker=[],operands=[],isMarked=function(expression){return _.contains(marker,expression)},mark=function(expression){marker.push(expression)},isOperator=function(expression){return _.contains(operators,expression.qtiClass)},pushSubExpressions=function(expression){_.forEach(expression.expressions,function(subExpression){trail.push(subExpression)})},popOperands=function(expression){return _.reduce(expression.expressions,function(result){
return operands.length&&result.push(_.clone(operands.pop())),result},[])};return{execute:function(expression){var currentExpression,currentProcessor,result;expression.qtiClass;for(trail.push(expression);trail.length>0;)currentExpression=trail.pop(),currentProcessor=null,!isMarked(currentExpression)&&isOperator(currentExpression)?(mark(currentExpression),trail.push(currentExpression),pushSubExpressions(currentExpression)):isMarked(currentExpression)?(currentProcessor=processorFactory(currentExpression,state,popOperands(currentExpression)),result=currentProcessor.process(),operands.push(result)):(currentProcessor=processorFactory(currentExpression,state),
result=currentProcessor.process(),operands.push(result));return result}}}}),define("taoQtiItem/scoring/processor/responseRules/responseCondition",["taoQtiItem/scoring/processor/expressions/engine","taoQtiItem/scoring/processor/errorHandler"],function(expressionEngineFactory,errorHandler){"use strict";return{process:function(){var index=0,expressionEngine=expressionEngineFactory(this.state),evalRuleCondition=function(rule){var expressionResult;return!!rule.expression&&((expressionResult=expressionEngine.execute(rule.expression))&&!0===expressionResult.value)};if(evalRuleCondition(this.rule.responseIf))return this.rule.responseIf.responseRules
;if(this.rule.responseElseIfs)for(index in this.rule.responseElseIfs)if(evalRuleCondition(this.rule.responseElseIfs[index]))return this.rule.responseElseIfs[index].responseRules;return this.rule.responseElse?this.rule.responseElse.responseRules:[]}}}),define("taoQtiItem/scoring/processor/responseRules/setOutcomeValue",["taoQtiItem/scoring/processor/expressions/engine","taoQtiItem/scoring/processor/errorHandler"],function(expressionEngineFactory,errorHandler){"use strict";return{process:function(){var identifier=this.rule.attributes.identifier,variable=this.state[identifier],expressionEngine=expressionEngineFactory(this.state)
;if(!variable||!variable.baseType)return errorHandler.throw("scoring",new TypeError("No variable found with identifier "+identifier));var result=expressionEngine.execute(this.rule.expression);result&&void 0!==result.value&&(variable.value=result.value)}}}),define("taoQtiItem/scoring/processor/responseRules/rules",["taoQtiItem/scoring/processor/responseRules/exitResponse","taoQtiItem/scoring/processor/responseRules/responseCondition","taoQtiItem/scoring/processor/responseRules/setOutcomeValue"],function(exitResponse,responseCondition,setOutcomeValue){"use strict";var _noopProcessor={process:function(){}};return{exitResponse:exitResponse,
responseCondition:responseCondition,responseIf:_noopProcessor,responseElse:_noopProcessor,responseElseIf:_noopProcessor,setOutcomeValue:setOutcomeValue}}),define("taoQtiItem/scoring/processor/responseRules/engine",["lodash","taoQtiItem/scoring/processor/responseRules/processor","taoQtiItem/scoring/processor/responseRules/rules"],function(_,processorFactory,rules){"use strict";_.forEach(rules,function(rule,name){processorFactory.register(name,rule)});var supportedRules=_.keys(rules);return function ruleEngineFactory(state){return{isRuleSupported:function(rule){return _.contains(supportedRules,rule.qtiClass)},execute:function(rules){
return rules&&(_.isArray(rules)||(rules=[rules]),_.forEach(rules,function(rule){for(var currentRule,currentProcessor,processResult,trail=[rule];trail.length>0&&(currentRule=trail.pop(),currentProcessor=processorFactory(currentRule,state),!1!==(processResult=currentProcessor.process()));)_.isArray(processResult)&&(trail=trail.concat(_.filter(processResult,ruleEngineFactory.isRuleSupported).reverse()))})),state}}}}),
define("taoQtiItem/scoring/provider/qti",["lodash","require","taoQtiItem/scoring/processor/responseRules/engine","taoQtiItem/scoring/processor/expressions/preprocessor","taoQtiItem/scoring/processor/errorHandler"],function(_,require,ruleEngineFactory,preProcessor,errorHandler){"use strict";var qtiPciCardinalities={single:"base",multiple:"list",ordered:"list",record:"record"},stateBuilder=function(responses,itemData){var state={};return _.forEach(itemData.responses,function(response){
var responseValue,identifier=response.attributes.identifier,cardinality=response.attributes.cardinality,baseType=response.attributes.baseType,pciCardinality=qtiPciCardinalities[cardinality];if(state[identifier])return errorHandler.throw("scoring",new Error("Variable collision : the state already contains the response variable "+identifier));state[identifier]={cardinality:cardinality,baseType:baseType,correctResponse:response.correctResponses,defaultValue:response.attributes.defaultValue||response.defaultValue},
!response.mapping||"mapping"!==response.mapping.qtiClass&&"areaMapping"!==response.mapping.qtiClass?state[identifier].mapping=reFormatMapping(response):state[identifier].mapping=response.mapping,responses&&responses[identifier]&&void 0!==responses[identifier][pciCardinality]&&(responseValue=responses[identifier][pciCardinality],_.isArray(responseValue)?state[identifier].value=pciRecordToVariable(responseValue):_.isObject(responseValue)?state[identifier].value=void 0!==responseValue[baseType]?responseValue[baseType]:null:state[identifier].value=null)}),_.forEach(itemData.outcomes,function(outcome){var outcomeVariable,identifier=outcome.attributes.identifier
;if(state[identifier])return errorHandler.throw("scoring",new Error("Variable collision : the state already contains the outcome variable "+identifier));outcomeVariable={cardinality:outcome.attributes.cardinality,baseType:outcome.attributes.baseType},void 0!==outcome.defaultValue&&(outcomeVariable.defaultValue=outcome.defaultValue,null===outcomeVariable.defaultValue&&"single"===outcomeVariable.cardinality?"integer"!==outcomeVariable.baseType&&"float"!==outcomeVariable.baseType||(outcomeVariable.value=0):outcomeVariable.value=outcomeVariable.defaultValue),state[identifier]=preProcessor().parseVariable(outcomeVariable)}),state},stateToPci=function(state){
var pciState={};return _.forEach(state,function(variable,identifier){var pciCardinality=qtiPciCardinalities[variable.cardinality],baseType=variable.baseType;pciCardinality&&(pciState[identifier]={},"base"===pciCardinality?null===variable.value||void 0===variable.value?pciState[identifier].base=null:(pciState[identifier].base={},pciState[identifier].base[baseType]=variable.value):(pciState[identifier][pciCardinality]={},pciState[identifier][pciCardinality][baseType]=variable.value))}),pciState},pciRecordToVariable=function(record){var variableObject={};return _.forEach(record,function(value){var valueObject,ret={}
;value&&(valueObject=value.base||value.list||null,valueObject&&_.forOwn(valueObject,function(actualValue,baseType){var cardinality=value.base?"single":"multiple";return ret={cardinality:cardinality,baseType:baseType,value:actualValue},!1}),variableObject[value.name]=ret)}),variableObject},reFormatMapping=function(response){var mapping;return response.mapping&&_.size(response.mapping)>0&&(mapping={qtiClass:"mapping",attributes:response.mappingAttributes},mapping.mapEntries=_.map(response.mapping,function(value,key){return{qtiClass:"mapEntry",mapKey:key,mapValue:value,attributes:{caseSensitive:!1}}})),
response.areaMapping&&_.size(response.areaMapping)>0&&(mapping={qtiClass:"areaMapping",attributes:response.mappingAttributes},mapping.mapEntries=_.map(response.areaMapping,function(entry){return _.extend({qtiClass:"areaMapEntry"},entry)})),mapping},loadCustomOperators=function(rules,done){var supportedRules=_.filter(rules,ruleEngineFactory.isRuleSupported),classes=[],getCustomOperatorsClasses=function getCustomOperatorsClasses(e){if(_.isObject(e)){if("customOperator"!==e.qtiClass)return _.each(e,getCustomOperatorsClasses);if(!e.attributes.class)return errorHandler.throw("scoring",new Error("Class must be specified for custom operator"))
;classes.push(e.attributes.class)}};_.each(supportedRules,getCustomOperatorsClasses),classes.length?require(classes,done):done()};return{process:function(responses,itemData,done){var state,ruleEngine,self=this;errorHandler.listen("scoring",function(err){self.trigger("error",err)}),state=stateBuilder(responses,itemData),itemData.responseProcessing?loadCustomOperators(itemData.responseProcessing.responseRules,function(){ruleEngine=ruleEngineFactory(state),ruleEngine.execute(itemData.responseProcessing.responseRules),done(stateToPci(state),state)}):(errorHandler.throw("scoring",new Error("The item "+itemData.identifier+" has not responseProcessing")),
done(stateToPci(state),state))}}}),define("taoQtiItem/scoring/qtiScorer",["taoItems/scoring/api/scorer","taoQtiItem/scoring/provider/qti"],function(scorer,qtiScoringProvider){"use strict";return scorer.register("qti",qtiScoringProvider),scorer}),define("app/runner/resultCollector",["lodash","moment","core/promise","app/service/result","taoQtiItem/scoring/qtiScorer"],function(_,moment,Promise,resultService,scorer){"use strict";return function(testId,deliveryExecutionId,item){if(_.isEmpty(testId))throw new TypeError("A valid test id is required to collect results")
;if(_.isEmpty(deliveryExecutionId))throw new TypeError("A valid delivery execution id is required to collect results");if(!_.isPlainObject(item)||_.isEmpty(item.itemIdentifier)||!_.isPlainObject(item.itemData)||!_.isPlainObject(item.metadata)||!_.isPlainObject(item.stats))throw new TypeError("The given item to the result collector is incomplete");return{getDeliveryExecutionId:function(){return deliveryExecutionId},getCallItemId:function(){return deliveryExecutionId+"."+item.itemIdentifier+"."+item.stats.occurrence},getItemId:function(){return item&&item.metadata&&item.metadata.uri},getTestId:function(){return testId},addOutcomes:function(responses){
var self=this,supportedOutcomes=["SCORE","MAXSCORE"];return new Promise(function(resolve,reject){scorer("qti").on("error",reject).on("outcome",function(outcomes,state){var responsesDeclarations=_.pluck(item.itemData.data.responses,"identifier");Promise.all(_.map(state,function(variable,identifier){return _.contains(supportedOutcomes,identifier)?resultService.createFromOutcome(self.getDeliveryExecutionId(),self.getTestId(),self.getItemId(),self.getCallItemId(),identifier,variable.value):_.contains(responsesDeclarations,identifier)?resultService.createFromResponse(self.getDeliveryExecutionId(),self.getTestId(),self.getItemId(),self.getCallItemId(),{
identifier:identifier,baseType:variable.baseType,cardinality:variable.cardinality,value:variable.value}):void 0})).then(resolve).catch(reject)}).process(responses,item.itemData.data)})},addDuration:function(duration){if(_.isNumber(duration)&&duration>0)return resultService.createFromDuration(this.getDeliveryExecutionId(),this.getTestId(),this.getItemId(),this.getCallItemId(),moment.duration(duration,"seconds").toISOString())},addCompletion:function(){return resultService.createFromCompletion(this.getDeliveryExecutionId(),this.getTestId(),this.getItemId(),this.getCallItemId(),"completed")},addAttempts:function(attempts){
return resultService.createFromAttempt(this.getDeliveryExecutionId(),this.getTestId(),this.getItemId(),this.getCallItemId(),attempts||1)}}}}),define("taoQtiTest/runner/navigator/navigator",["lodash","taoQtiTest/runner/helpers/map","taoQtiTest/runner/helpers/navigation"],function(_,mapHelper,navigationHelper){"use strict";var getOptionsFromCategories=function(categories){return _.isArray(categories)&&categories.length?_.reduce(categories,function(acc,category){if(_.isString(category)&&!_.isEmpty(category)){var categoryName=category.replace("x-tao-option-","").split(/[\-_]+/g).map(function(name,index){
return 0===index?name:name.length?name.charAt(0).toUpperCase()+name.substr(1).toLowerCase():""}).join("");categoryName&&(acc[categoryName]=!0)}return acc},{}):{}};return function(testData,testContext,testMap){var buildContextFromPosition=function(position){var newSection,newTestPart,isLeavingSection,isLeavingTestPart,newContext,updatedMap=mapHelper.updateItemStats(testMap,position),newItem=mapHelper.getItemAt(updatedMap,position);return!!newItem&&(newSection=mapHelper.getItemSection(updatedMap,position),newTestPart=mapHelper.getItemPart(updatedMap,position),isLeavingSection=newSection.id!==testContext.sectionId,
isLeavingTestPart=newTestPart.id!==testContext.testPartId,newContext=_.defaults({itemIdentifier:newItem.id,itemPosition:position,itemAnswered:newItem.answered||newTestPart.isLinear,numberPresented:testMap.stats.viewed,numberCompleted:testMap.stats.answered,hasFeedbacks:!1,remainingAttempts:newItem.remainingAttempts>-1?newItem.remainingAttempts-1:-1,sectionId:newSection.id,sectionTitle:newSection.label,testPartId:newTestPart.id,isLinear:newTestPart.isLinear,isLast:navigationHelper.isLast(testMap,newItem.id),canMoveBackward:!newTestPart.isLinear&&!navigationHelper.isFirst(testMap,newItem.id)},testContext),isLeavingSection&&(newContext.numberRubrics=0,
newContext.rubrics=""),newContext.timeConstraints=_.reject(testContext.timeConstraints,function(constraint){return"assessmentItemRef"===constraint.qtiClassName||isLeavingSection&&"assessmentSection"===constraint.qtiClassName||isLeavingTestPart&&"testPart"===constraint.qtiClassName}),newItem.timeConstraint&&newContext.timeConstraints.push(newItem.timeConstraint),isLeavingSection&&newSection.timeConstraint&&newContext.timeConstraints.push(newSection.timeConstraint),isLeavingTestPart&&newTestPart.timeConstraint&&newContext.timeConstraints.push(newTestPart.timeConstraint),
newContext.options=_.defaults(getOptionsFromCategories(newItem.categories||[]),_.pick(testContext.options,["allowComment","allowSkipping","exitButton","logoutButton"])),newContext)};if(!_.all([testData,testContext,testMap],_.isPlainObject))throw new TypeError("The navigator must be built with a testData, a testContext and a testMap");return{navigate:function(direction,scope,position){var methodName=direction.toLowerCase()+scope.substr(0,1).toUpperCase()+scope.substr(1).toLowerCase();if(_.isFunction(this[methodName]))return this[methodName](position)},nextItem:function(){return buildContextFromPosition(testContext.itemPosition+1)},previousItem:function(){
return buildContextFromPosition(testContext.itemPosition-1)},nextSection:function(){var sectionStats=mapHelper.getSectionStats(testMap,testContext.sectionId),section=mapHelper.getSection(testMap,testContext.sectionId);return buildContextFromPosition(section.position+sectionStats.total)},jumpItem:function(position){return buildContextFromPosition(position)}}}}),define("taoQtiTest/runner/proxy/cache/itemPreloader",["lodash","core/promise","core/logger","taoQtiItem/runner/qtiItemRunner","taoQtiTest/runner/config/assetManager","util/url"],function(_,Promise,loggerFactory,qtiItemRunner,getAssetManager,urlUtil){"use strict"
;var logger=loggerFactory("taoQtiTest/runner/proxy/cache/itemPreloader"),relSupport=function(feature){var fakeLink=document.createElement("link");try{if(fakeLink.relList&&_.isFunction(fakeLink.relList.supports))return fakeLink.relList.supports(feature)}catch(err){return!1}},supportPreload=relSupport("preload"),supportPrefetch=relSupport("prefetch"),isItemObjectValid=function(item){return _.isPlainObject(item)&&_.isString(item.baseUrl)&&_.isString(item.itemIdentifier)&&!_.isEmpty(item.itemIdentifier)&&_.isPlainObject(item.itemData)};return function(options){
var testAssetManager,preloadAssetManager=getAssetManager("item-preloader"),images={},audioBlobs={},loaders={img:function(url,sourceUrl,itemIdentifier){images[itemIdentifier]=images[itemIdentifier]||{},"Image"in window&&!images[itemIdentifier][sourceUrl]&&(images[itemIdentifier][sourceUrl]=new Image,images[itemIdentifier][sourceUrl].src=url)},css:function(url){var link=document.createElement("link");supportPreload?(link.setAttribute("rel","preload"),link.setAttribute("as","style")):supportPrefetch?(link.setAttribute("rel","prefetch"),link.setAttribute("as","style")):(link.disabled=!0,link.setAttribute("rel","stylesheet"),link.setAttribute("type","text/css")),
link.setAttribute("data-preload",!0),link.setAttribute("href",url),document.querySelector("head").appendChild(link)},audio:function(url,sourceUrl,itemIdentifier){var request;audioBlobs[itemIdentifier]=audioBlobs[itemIdentifier]||{},void 0===audioBlobs[itemIdentifier][sourceUrl]&&(request=new XMLHttpRequest,request.open("GET",url,!0),request.responseType="blob",request.onload=function(){200===this.status&&(audioBlobs[itemIdentifier][sourceUrl]=this.response)},request.send())}},unloaders={img:function(url,sourceUrl,itemIdentifier){images[itemIdentifier]&&(images[itemIdentifier]=_.omit(images[itemIdentifier],sourceUrl))},css:function(url){
var link=document.querySelector('head link[data-preload][href="'+url+'"]');link&&document.querySelector("head").removeChild(link)},audio:function(url,sourceUrl,itemIdentifier){audioBlobs[itemIdentifier]&&(audioBlobs[itemIdentifier]=_.omit(audioBlobs[itemIdentifier],sourceUrl))}},resolveAssets=function(baseUrl,assets){return new Promise(function(resolve){return preloadAssetManager.setData("baseUrl",baseUrl),preloadAssetManager.setData("assets",assets),resolve(_.reduce(assets,function(acc,assetList,type){var resolved={};return _.forEach(assetList,function(url){urlUtil.isBase64(url)||(resolved[url]=preloadAssetManager.resolve(url))}),
_.size(resolved)>0&&(acc[type]=resolved),acc},{}))})};if(!options||!options.testId)throw new TypeError("The test identifier is mandatory to start the item preloader");return testAssetManager=getAssetManager(options.testId),testAssetManager.prependStrategy({name:"precaching",handle:function(url,data){var sourceUrl=url.toString();if(data.itemIdentifier&&audioBlobs[data.itemIdentifier]&&void 0!==audioBlobs[data.itemIdentifier][sourceUrl])return URL.createObjectURL(audioBlobs[data.itemIdentifier][sourceUrl])}}),{preload:function(item){var loading=[];return isItemObjectValid(item)&&(loading.push(function(){
return logger.debug("Start preloading of item "+item.itemIdentifier),new Promise(function(resolve,reject){qtiItemRunner(item.itemData.type,item.itemData.data,{assetManager:preloadAssetManager,preload:!0}).on("init",function(){logger.debug("Preloading of item "+item.itemIdentifier+" done"),resolve(!0)}).on("error",reject).init()})}()),_.size(item.itemData.assets)>0&&loading.push(function(){return resolveAssets(item.baseUrl,item.itemData.assets).then(function(resolved){return _.forEach(resolved,function(assets,type){_.isFunction(loaders[type])&&_.forEach(assets,function(url,sourceUrl){
logger.debug("Loading asset "+sourceUrl+"("+type+") for item "+item.itemIdentifier),loaders[type](url,sourceUrl,item.itemIdentifier)})}),!0})}())),Promise.all(loading).then(function(results){return results.length>0&&_.all(results,_.isTrue)})},unload:function(item,itemIdentifier){return isItemObjectValid(item)&&_.size(item.itemData.assets)>0?resolveAssets(item.baseUrl,item.itemData.assets).then(function(resolved){return _.forEach(resolved,function(assets,type){_.isFunction(unloaders[type])&&_.forEach(assets,function(url,sourceUrl){logger.debug("Unloading asset "+sourceUrl+"("+type+") for item "+item.itemIdentifier),
unloaders[type](url,sourceUrl,item.itemIdentifier)})}),!0}):Promise.resolve(!1)}}}}),define("taoQtiTest/runner/proxy/cache/itemStore",["lodash","core/store","taoQtiTest/runner/proxy/cache/itemPreloader"],function(_,store,itemPreloaderFactory){"use strict";var defaultConfig={maxSize:10,preload:!1};return function(options){var itemPreloader,config=_.defaults(options||{},defaultConfig),getStore=function(){return store("item-cache",store.backends.memory)},index=[];return config.preload&&(itemPreloader=itemPreloaderFactory(_.pick(config,["testId"]))),{get:function(key){return getStore().then(function(itemStorage){return itemStorage.getItem(key)})},
has:function(key){return _.contains(index,key)},set:function(key,item){var self=this;return getStore().then(function(itemStorage){return itemStorage.setItem(key,item).then(function(updated){return updated&&(_.contains(index,key)||index.push(key),config.preload&&_.defer(function(){itemPreloader.preload(item)})),index.length>1&&index.length>config.maxSize?self.remove(index[0]).then(function(removed){return updated&&removed}):updated})})},update:function(key,updateKey,updateValue){return this.has(key)&&_.isString(updateKey)?getStore().then(function(itemStorage){return itemStorage.getItem(key).then(function(itemData){
if(_.isPlainObject(itemData))return itemData[updateKey]=updateValue,itemStorage.setItem(key,itemData)})}):Promise.resolve(!1)},remove:function(key){return this.has(key)?getStore().then(function(itemStorage){return index=_.without(index,key),itemStorage.getItem(key).then(function(item){config.preload&&_.defer(function(){itemPreloader.unload(item)})}).then(function(){return itemStorage.removeItem(key)})}):Promise.resolve(!1)},clear:function(){return getStore().then(function(itemStorage){return index=[],itemStorage.clear()})}}}}),
define("app/runner/proxy",["lodash","core/promise","core/logger","app/service/deliveryAssembly","app/runner/resultCollector","taoTests/runner/testStore","taoQtiTest/runner/navigator/navigator","taoQtiTest/runner/helpers/map","taoQtiTest/runner/provider/dataUpdater","taoQtiTest/runner/proxy/cache/itemStore"],function(_,Promise,loggerFactory,deliveryAssemblyService,resultCollectorFactory,testStore,testNavigatorFactory,mapHelper,dataUpdater,itemStoreFactory){"use strict";var logger=loggerFactory("runner/local/proxy");return{install:function(config){var self=this;this.getJsonFile=function(url){
return deliveryAssemblyService.readAssemblyFile(config.testDefinition,config.testCompilation,url,!1).then(function(content){try{return JSON.parse(content)}catch(err){logger.error("Unable to parse content of "+url+" : "+err.message)}return null})},this.getBaseUrl=function(){return deliveryAssemblyService.getAssemblyDirBaseUrl(config.testDefinition,config.testCompilation)},this.getTestURI=function(){return self.getJsonFile("test-metadata.json").then(function(fileContent){return fileContent&&fileContent["@id"]})},this.getItemUri=function(itemIdentifier){return self.getJsonFile("items/"+itemIdentifier+"/metadataElements.json").then(function(fileContent){
return fileContent&&fileContent["@uri"]})},this.getItemContent=function(itemIdentifier){return self.getJsonFile("items/"+itemIdentifier+"/item.json").then(function(itemContent){return itemContent&&itemContent.type&&"qti"===itemContent.type?itemContent:null})},this.getItemVariableElements=function(itemIdentifier){return self.getJsonFile("items/"+itemIdentifier+"/variableElements.json")},this.getTestState=function(){if(!this.testStateStore)throw new Error("The test state store is not yet available");return this.testStateStore.getItem("current").then(function(testState){return testState||self.getJsonFile("testData.json")})},this.saveCurrentTestState=function(){
return this.testStateStore.setItem("current",{testData:this.getDataHolder().get("testData"),testContext:this.getDataHolder().get("testContext"),testMap:this.getDataHolder().get("testMap")})}},init:function(config){var self=this;return this.executionId=config.serviceCallId,Promise.all([testStore(this.executionId).getStore("testState"),testStore(this.executionId).getStore("itemState"),this.getTestURI(),this.getBaseUrl()]).then(function(results){return self.testStateStore=results[0],self.itemStateStore=results[1],self.testUri=results[2],self.baseUrl=results[3],self.getTestState()}).then(function(testState){var itemStoreSize=100
;return testState&&testState.testMap&&testState.testMap.stats&&(itemStoreSize=testState.testMap.stats.total),logger.info("Set up item cache store for "+itemStoreSize+" items"),self.itemStore=itemStoreFactory({maxSize:itemStoreSize,preload:!1,testId:self.executionId}),testState})},destroy:function(){if(this.itemStore)return this.itemStore.clear()},getTestData:function(){return this.getTestState().then(function(testState){return testState&&testState.testData})},getTestContext:function(){return this.getTestState().then(function(testState){return testState&&testState.testContext})},getTestMap:function(){return this.getTestState().then(function(testState){
return testState&&testState.testMap})},sendVariables:function(variables){logger.info("Collected variables : "+JSON.stringify(variables)),logger.warn("SENDING TEST VARIABLES IS NOT YET SUPPORTED")},callTestAction:function(action,params){var self=this,actions={flagItem:function(actionParams){var testContext=self.getDataHolder().get("testContext"),testMap=self.getDataHolder().get("testMap");return testContext.itemPosition===actionParams.position&&(testContext.itemFlagged=!!actionParams.flag),mapHelper.getItemAt(testMap,actionParams.position).flagged=!!actionParams.flag,self.getDataHolder().set("testContext",testContext),
self.getDataHolder().set("testMap",testMap),self.saveCurrentTestState()}};if("function"==typeof actions[action])return actions[action](params);logger.warn("Test action action  "+action+" is not yet supported")},getItem:function(itemIdentifier){var self=this;return this.itemStore&&this.itemStateStore?this.itemStateStore.getItem(itemIdentifier).then(function(itemState){return self.itemStore.has(itemIdentifier)?self.itemStore.get(itemIdentifier).then(function(item){return item.itemState=itemState,item}):self.getItemContent(itemIdentifier).then(function(itemContent){var item={};return itemContent?(item={itemState:itemState,itemIdentifier:itemIdentifier,
itemData:itemContent,baseUrl:self.baseUrl+"/items/"+itemIdentifier+"/"},self.itemStore?self.itemStore.set(itemIdentifier,item).then(function(){return item}):item):null})}):Promise.reject(new Error("Please initiaze the proxy first"))},submitItem:function(itemIdentifier,state,response,params){if(this.itemStateStore&&params.itemState)return this.itemStateStore.setItem(itemIdentifier,params.itemState)},callItemAction:function(itemIdentifier,action,params){var testNavigator,newTestContext,self=this,updatePromises=[],testState={success:!0
},testData=this.getDataHolder().get("testData"),testContext=this.getDataHolder().get("testContext"),testMap=this.getDataHolder().get("testMap");return this.testStateStore&&this.itemStateStore?(params.itemState&&(logger.info("Item state for "+itemIdentifier+" : "+JSON.stringify(params.itemState)),updatePromises.push(this.itemStateStore.setItem(itemIdentifier,params.itemState))),params.itemResponse&&(logger.info("Item response for "+itemIdentifier+" : "+JSON.stringify(params.itemResponse)),updatePromises.push(Promise.all([self.itemStore.get(itemIdentifier),self.getItemUri(itemIdentifier),self.getItemVariableElements(itemIdentifier)]).then(function(results){
var resultCollector,item=results[0],itemDataVariable=results[2];return item.metadata={uri:results[1]},item.stats=mapHelper.getItem(testMap,itemIdentifier),_.forEach(item.itemData.data.responses,function(response,index){itemDataVariable[index]&&(item.itemData.data.responses[index]=_.defaults(itemDataVariable[index],response))}),item.itemData.data.responseProcessing||_.forEach(itemDataVariable,function(content,key){if(_.isString(content.processingType))return item.itemData.data.responseProcessing=_.merge({serial:key,qtiClass:"responseProcessing",attributes:{}},content),!1}),resultCollector=resultCollectorFactory(self.testUri,self.executionId,item),
Promise.all([resultCollector.addDuration(params.itemDuration),resultCollector.addAttempts(testContext.attempts),resultCollector.addCompletion(),resultCollector.addOutcomes(params.itemResponse)])}))),testContext.isLast&&"move"===action&&"item"===params.scope&&"next"===params.direction||"timeout"===action&&"item"!==params.scope?(testState.testContext={state:testData.states.closed},updatePromises.push(self.testStateStore.clear()),updatePromises.push(self.itemStateStore.clear())):params.direction&&params.scope&&(testNavigator=testNavigatorFactory(testData,testContext,testMap),newTestContext=testNavigator.navigate(params.direction,params.scope,params.ref),
testState.testContext=newTestContext,this.getDataHolder().set("testContext",newTestContext),updatePromises.push(self.saveCurrentTestState())),Promise.all(updatePromises).then(function(){return testState})):Promise.reject(new Error("Please initiaze the proxy first"))},telemetry:function(){return null},loadCommunicator:function(){return null}}}),define("json!app/runner/plugins.json",function(){return{"taoQtiTest/runner/plugins/content/rubricBlock/rubricBlock":{id:"rubricBlock",module:"taoQtiTest/runner/plugins/content/rubricBlock/rubricBlock",bundle:!1,position:null,name:"Rubric Block",description:"Display test rubric blocks",category:"content",active:!0,
tags:["core","qti"]},"taoQtiTest/runner/plugins/content/overlay/overlay":{id:"overlay",module:"taoQtiTest/runner/plugins/content/overlay/overlay",bundle:!1,position:null,name:"Overlay",description:"Add an overlay over items when disabled",category:"content",active:!0,tags:["core","technical","required"]},"taoQtiTest/runner/plugins/content/dialog/dialog":{id:"dialog",module:"taoQtiTest/runner/plugins/content/dialog/dialog",bundle:!1,position:null,name:"Dialog",description:"Display popups that require user interactions",category:"content",active:!0,tags:["core","technical","required"]},"taoQtiTest/runner/plugins/content/feedback/feedback":{id:"feedback",
module:"taoQtiTest/runner/plugins/content/feedback/feedback",bundle:!1,position:null,name:"Feedback",description:"Display notifications into feedback popups",category:"content",active:!0,tags:["core","technical","required"]},"taoQtiTest/runner/plugins/content/dialog/exitMessages":{id:"exitMessages",module:"taoQtiTest/runner/plugins/content/dialog/exitMessages",bundle:!1,position:null,name:"Exit Messages",description:"Display messages when a test taker leaves the test",category:"content",active:!0,tags:["core"]},"taoQtiTest/runner/plugins/content/loading/loading":{id:"loading",module:"taoQtiTest/runner/plugins/content/loading/loading",bundle:!1,position:null,
name:"Loading bar",description:"Show a loading bar when the test is loading",category:"content",active:!0,tags:["core"]},"taoQtiTest/runner/plugins/controls/title/title":{id:"title",module:"taoQtiTest/runner/plugins/controls/title/title",bundle:!1,position:null,name:"Title indicator",description:"Display the title of current test element",category:"controls",active:!0,tags:["core"]},"taoQtiTest/runner/plugins/content/modalFeedback/modalFeedback":{id:"modalFeedback",module:"taoQtiTest/runner/plugins/content/modalFeedback/modalFeedback",bundle:!1,position:null,name:"QTI modal feedbacks",description:"Display Qti modalFeedback element",category:"content",
active:!0,tags:["core","qti","required"]},"taoQtiTest/runner/plugins/content/accessibility/keyNavigation":{id:"keyNavigation",module:"taoQtiTest/runner/plugins/content/accessibility/keyNavigation",bundle:!1,position:null,name:"Using key to navigate test runner",description:"Provide a way to navigate within the test runner with the keyboard",category:"content",active:!0,tags:["core","qti"]},"taoQtiTest/runner/plugins/content/responsiveness/collapser":{id:"collapser",module:"taoQtiTest/runner/plugins/content/responsiveness/collapser",bundle:null,position:null,name:"Collapser",description:"Reduce the size of the tools when the available space is not enough",
category:"content",active:!0,tags:["core"]},"taoQtiTest/runner/plugins/controls/timer/plugin":{id:"timer",module:"taoQtiTest/runner/plugins/controls/timer/plugin",bundle:!1,position:null,name:"Timer indicator",description:"Add countdown when remaining time",category:"controls",active:!0,tags:["core","qti"]},"taoQtiTest/runner/plugins/controls/progressbar/progressbar":{id:"progressbar",module:"taoQtiTest/runner/plugins/controls/progressbar/progressbar",bundle:!1,position:null,name:"Progress indicator",description:"Display the current progression within the test",category:"controls",active:!0,tags:["core"]},
"taoQtiTest/runner/plugins/controls/duration/duration":{id:"duration",module:"taoQtiTest/runner/plugins/controls/duration/duration",bundle:!1,position:null,name:"Duration record",description:"Record accurately time spent by the test taker",category:"controls",active:!0,tags:["core","technical","required"]},"taoQtiTest/runner/plugins/controls/connectivity/connectivity":{id:"connectivity",module:"taoQtiTest/runner/plugins/controls/connectivity/connectivity",bundle:!1,position:null,name:"Connectivity check",description:"Pause the test when the network loose the connection",category:"controls",active:!0,tags:["core","technical"]},
"taoQtiTest/runner/plugins/controls/testState/testState":{id:"testState",module:"taoQtiTest/runner/plugins/controls/testState/testState",bundle:!1,position:null,name:"Test state",description:"Manage test state",category:"controls",active:!0,tags:["core","technical","required"]},"taoQtiTest/runner/plugins/navigation/review/review":{id:"review",module:"taoQtiTest/runner/plugins/navigation/review/review",bundle:!1,position:null,name:"Navigation and review panel",description:"Enable a panel to handle navigation and item reviews",category:"navigation",active:!0,tags:["core"]},"taoQtiTest/runner/plugins/navigation/previous":{id:"previous",
module:"taoQtiTest/runner/plugins/navigation/previous",bundle:!1,position:null,name:"Previous button",description:"Enable to move backward",category:"navigation",active:!0,tags:["core","qti","required"]},"taoQtiTest/runner/plugins/navigation/next":{id:"next",module:"taoQtiTest/runner/plugins/navigation/next",bundle:!1,position:null,name:"Next button",description:"Enable to move forward",category:"navigation",active:!0,tags:["core","qti","required"]},"taoQtiTest/runner/plugins/navigation/nextSection":{id:"nextSection",module:"taoQtiTest/runner/plugins/navigation/nextSection",bundle:!1,position:null,name:"Next section button",
description:"Enable to move to the next available section",category:"navigation",active:!0,tags:["core","qti"]},"taoQtiTest/runner/plugins/navigation/skip":{id:"skip",module:"taoQtiTest/runner/plugins/navigation/skip",bundle:!1,position:null,name:"Skip button",description:"Skip the current item",category:"navigation",active:!0,tags:["core","qti"]},"taoQtiTest/runner/plugins/navigation/allowSkipping":{id:"allowSkipping",module:"taoQtiTest/runner/plugins/navigation/allowSkipping",bundle:!1,position:null,name:"Allow Skipping",description:"Prevent submission of default/null responses",category:"navigation",active:!0,tags:["core","qti"]},
"taoQtiTest/runner/plugins/navigation/validateResponses":{id:"validateResponses",module:"taoQtiTest/runner/plugins/navigation/validateResponses",bundle:!1,position:null,name:"Validate Responses",description:"Prevent submission of invalid responses",category:"navigation",active:!0,tags:["core","qti"]},"taoQtiTest/runner/plugins/tools/comment/comment":{id:"comment",module:"taoQtiTest/runner/plugins/tools/comment/comment",bundle:!1,position:null,name:"Comment tool",description:"Allow test taker to comment an item",category:"tools",active:!0,tags:["core","qti"]},"taoQtiTest/runner/plugins/tools/calculator":{id:"calculator",
module:"taoQtiTest/runner/plugins/tools/calculator",bundle:!1,position:null,name:"Caculator tool",description:"Gives the student access to a basic calculator",category:"tools",active:!0,tags:["core"]},"taoQtiTest/runner/plugins/tools/zoom":{id:"zoom",module:"taoQtiTest/runner/plugins/tools/zoom",bundle:!1,position:null,name:"Zoom",description:"Zoom in and out the item content",category:"tools",active:!0,tags:["core"]},"taoQtiTest/runner/plugins/tools/highlighter/plugin":{id:"highlighter",module:"taoQtiTest/runner/plugins/tools/highlighter/plugin",bundle:!1,position:null,name:"Text Highlighter",description:"Allows the test taker to highlight text",
category:"tools",active:!0,tags:[]},"taoQtiTest/runner/plugins/tools/magnifier/magnifier":{id:"magnifier",module:"taoQtiTest/runner/plugins/tools/magnifier/magnifier",bundle:!1,position:null,name:"Magnifier",description:"Gives student access to a magnification tool",category:"tools",active:!0,tags:[]},"taoQtiTest/runner/plugins/tools/lineReader/plugin":{id:"lineReader",module:"taoQtiTest/runner/plugins/tools/lineReader/plugin",bundle:!1,position:null,name:"Line Reader",description:"Display a customisable mask with a customisable hole in it!",category:"tools",active:!0,tags:[]},"taoQtiTest/runner/plugins/tools/answerMasking/plugin":{id:"answerMasking",
module:"taoQtiTest/runner/plugins/tools/answerMasking/plugin",bundle:!1,position:null,name:"Answer Masking",description:"Hide all answers of a choice interaction and allow revealing them",category:"tools",active:!0,tags:[]},"taoQtiTest/runner/plugins/tools/answerElimination/eliminator":{id:"eliminator",module:"taoQtiTest/runner/plugins/tools/answerElimination/eliminator",bundle:!1,position:null,name:"Eliminate choices",description:"Allows student to eliminate choices",category:"tools",active:!0,tags:[]},"taoQtiTest/runner/plugins/tools/areaMasking/areaMasking":{id:"area-masking",module:"taoQtiTest/runner/plugins/tools/areaMasking/areaMasking",bundle:!1,
position:null,name:"Area Masking",description:"Mask areas of the item",category:"tools",active:!0,tags:[]}}}),define("css!taoQtiTestCss/new-test-runner",[],function(){}),define("css!taoQtiItemCss/qti-runner",[],function(){}),define("css!app/runner/css/theme",[],function(){}),
define("app/runner/runner",["core/logger","taoTests/runner/runnerComponent","taoTests/runner/runner","taoQtiTest/runner/provider/qti","taoTests/runner/proxy","app/runner/proxy","json!app/runner/plugins.json","css!taoQtiTestCss/new-test-runner","css!taoQtiItemCss/qti-runner.css","css!app/runner/css/theme.css"],function(loggerFactory,runnerComponentFactory,runnerFactory,qtiRunnerProvider,proxyFactory,appProxyProvider,plugins){"use strict";var logger=loggerFactory("runner");return function(container,deliveryId,assemblyPath,deliveryExecutionId){var testConfig={testDefinition:deliveryId,testCompilation:assemblyPath,serviceCallId:deliveryExecutionId,
deliveryServerConfig:[],bootstrap:{timeout:0,communication:{enabled:!1}},provider:"qti",providers:{},proxyProvider:"appProxy",plugins:plugins};return logger.debug("Launch test with "+deliveryId+" ( "+assemblyPath+"), execution :"+deliveryExecutionId),runnerFactory.registerProvider("qti",qtiRunnerProvider),proxyFactory.registerProvider("appProxy",appProxyProvider),new Promise(function(resolve,reject){runnerComponentFactory(container,testConfig).on("render",function(){this.setState("fullpage",!0),this.setState("no-controls",!0)}).on("ready",function(runner){resolve(runner)}).on("error",function(err){logger.error("Test runner error : "+err.message),reject(err)
})})}}),define("app/controller/delivery/runner",["app/controller/pageController","app/service/session","app/service/deliveryExecution","app/runner/runner"],function(pageController,sessionService,deliveryExecutionService,appRunnerFactory){"use strict";return pageController({start:function(){var self=this,logger=this.getLogger(),params=this.getParams(),handleError=function(err){self.handleError(err),setTimeout(function(){self.getRouter().dispatch("delivery/index")},4e3)};sessionService.getCurrent().then(function(session){
if(!session||!session.user||"testTaker"!==session.user.role)throw new Error("Attempt to start a delivery with a user role of "+session.user.role);if(!(params&&params.delivery&&params.delivery.id&&params.delivery.assemblyPath))throw new Error("Missing delivery parameters");return deliveryExecutionService.create(params.delivery.id,session.user.id,params.delivery.label)}).then(function(deliveryExecution){return logger.debug("Delivery execution "+deliveryExecution.id+" created for user "+deliveryExecution.testTakerId),appRunnerFactory(self.getContainer(),params.delivery.id,params.delivery.assemblyPath,deliveryExecution.id).then(function(runner){
runner.after("destroy",function(){setTimeout(function(){deliveryExecutionService.finish(deliveryExecution.id).then(function(){self.getRouter().dispatch("delivery/index")}).catch(handleError)})})})}).catch(handleError)}})}),define("core/logger/console",["lodash"],function(_){"use strict";var config={level:"info"},mapping={trace:"debug",debug:"debug",info:"info",warn:"warn",error:"error",fatal:"error"};return{setConfig:function(newConfig){config=_.defaults(newConfig||{},config)},log:function(record){var level=record.level
;this.checkMinLevel(config.level,level)&&(_.isFunction(window.console[mapping[level]])?record.err?window.console[mapping[level]].call(window.console,record.name,record.msg,record.err,record):window.console[mapping[level]].call(window.console,record.name,record.msg,record):window.console.log("["+level.toUpperCase()+"]",record.name,record.msg,record))}}}),function(){"use strict";var started=!1,controllerOptions={},loaderScript=document.getElementById("amd-loader"),controllerPath=loaderScript.getAttribute("data-controller"),params=loaderScript.getAttribute("data-params");try{controllerOptions=JSON.parse(params)}catch(err){controllerOptions={}}
requirejs([controllerPath],function(controller){var startController=function(){started||(started=!0,controller.start(controllerOptions))};document.addEventListener("readystatechange",startController,!1),document.addEventListener("deviceready",startController,!1),"complete"===document.readyState&&startController()})}(),define("loader/bootstrap",function(){}),define("core/plugin",["lodash","core/delegator","core/promise"],function(_,delegator,Promise){"use strict";function pluginFactory(provider,defaults){var pluginName
;if(!_.isPlainObject(provider)||!_.isString(provider.name)||_.isEmpty(provider.name)||!_.isFunction(provider.init))throw new TypeError("A plugin should be defined at least by a name property and an init method");return pluginName=provider.name,defaults=defaults||{},function(host,areaBroker,config){var plugin,delegate,states={},pluginContent={};if(!_.isObject(host)||!_.isFunction(host.on)||!_.isFunction(host.trigger))throw new TypeError("A plugin host should be a valid eventified object");return config=_.defaults(config||{},defaults),plugin={install:function(){var self=this;return delegate("install").then(function(){self.trigger("install")})},
init:function(content){var self=this;return states={},content&&(pluginContent=content),delegate("init",content).then(function(){self.setState("init",!0).trigger("init")})},render:function(){var self=this;return delegate("render").then(function(){self.setState("ready",!0).trigger("render").trigger("ready")})},finish:function(){var self=this;return delegate("finish").then(function(){self.setState("finish",!0).trigger("finish")})},destroy:function(){var self=this;return delegate("destroy").then(function(){config={},states={},self.setState("init",!1),self.trigger("destroy")})},trigger:function(name){var args=[].slice.call(arguments,1)
;return host.trigger.apply(host,["plugin-"+name+"."+pluginName,plugin].concat(args)),this},getHost:function(){return host},getAreaBroker:function(){return areaBroker},getConfig:function(){return config},setConfig:function(name,value){return _.isPlainObject(name)?config=_.defaults(name,config):config[name]=value,this},getState:function(name){return!!states[name]},setState:function(name,active){if(!_.isString(name)||_.isEmpty(name))throw new TypeError("The state must have a name");return states[name]=!!active,this},getContent:function(){return pluginContent},setContent:function(content){return pluginContent=content,this},getName:function(){return pluginName},
show:function(){var self=this;return delegate("show").then(function(){self.setState("visible",!0).trigger("show")})},hide:function(){var self=this;return delegate("hide").then(function(){self.setState("visible",!1).trigger("hide")})},enable:function(){var self=this;return delegate("enable").then(function(){self.setState("enabled",!0).trigger("enable")})},disable:function(){var self=this;return delegate("disable").then(function(){self.setState("enabled",!1).trigger("disable")})}},delegate=delegator(plugin,provider,{eventifier:!1,wrapper:function(response){return Promise.resolve(response)}}),
_.isString(defaults.hostName)&&!_.isEmpty(defaults.hostName)&&(plugin["get"+defaults.hostName.charAt(0).toUpperCase()+defaults.hostName.slice(1)]=plugin.getHost),plugin}}return pluginFactory}),define("taoTests/runner/plugin",["lodash","core/plugin"],function(_,pluginFactory){"use strict";return _.partialRight(pluginFactory,{hostName:"testRunner"})}),define("tpl!taoQtiTest/runner/plugins/content/rubricBlock/rubricBlock",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{},'<div id="qti-rubrics"></div>'})})
;var MathJax=void 0;define("mathJax",function(){}),define("taoQtiTest/runner/plugins/content/rubricBlock/rubricBlock",["jquery","i18n","core/promise","ui/hider","taoTests/runner/plugin","tpl!taoQtiTest/runner/plugins/content/rubricBlock/rubricBlock"],function($,__,Promise,hider,pluginFactory,containerTpl){"use strict";var blankifyLinks=function($container){$("a",$container).attr("target","_blank")},mathify=function($container){return new Promise(function(resolve){$("math",$container).length>0?require(["mathJax"],function(MathJax){MathJax?(MathJax.Hub.Queue(["Typeset",MathJax.Hub],$container[0]),MathJax.Hub.Queue(resolve)):resolve()},resolve):resolve()})}
;return pluginFactory({name:"rubricBlock",init:function(){var self=this,testRunner=this.getTestRunner();this.$element=$(containerTpl()),this.hide(),testRunner.on("ready",function(){self.hide()}).on("loaditem",function(){var context=testRunner.getTestContext();context.rubrics&&(self.$element.html(context.rubrics),blankifyLinks(self.$element),mathify(self.$element).then(function(){testRunner.trigger("rubricblock")}))}).on("renderitem",function(){self.show()}).on("unloaditem",function(){self.hide(),self.$element.empty()})},render:function(){this.getAreaBroker().getContentArea().before(this.$element)},destroy:function(){this.$element.remove()},enable:function(){
this.$element.removeProp("disabled").removeClass("disabled")},disable:function(){this.$element.prop("disabled",!0).addClass("disabled")},show:function(){hider.show(this.$element)},hide:function(){hider.hide(this.$element)}})}),define("taoQtiTest/runner/plugins/content/overlay/overlay",["jquery","i18n","taoTests/runner/plugin"],function($,__,pluginFactory){"use strict";return pluginFactory({name:"overlay",init:function(){var self=this,testRunner=this.getTestRunner();this.$element=$("<div />"),this.$element.on("click mousedown mouseup touchstart touchend keyup keydow keypress scroll drop",function(e){e.stopImmediatePropagation(),e.stopPropagation()})
;var shield=function(){self.enable()},unshield=function(itemRef){self.disable()};testRunner.on("disableitem",shield).on("enableitem unloaditem",unshield)},render:function(){this.getTestRunner().getAreaBroker().getContentArea().after(this.$element)},destroy:function(){this.$element.remove()},enable:function(){var testRunner=this.getTestRunner(),testData=testRunner.getTestData()||{},testConfig=testData.config||{},pluginsConfig=testConfig.plugins||{},overlayConfig=pluginsConfig.overlay||{};this.$element.addClass("overlay"),overlayConfig.full&&this.$element.addClass("overlay-full")},disable:function(){this.$element.removeClass("overlay overlay-full")},
show:function(){this.enable()},hide:function(){this.disable()}})}),define("ui/dialog/alert",["lodash","ui/dialog"],function(_,dialog){"use strict";return function(message,action){var dlg=dialog({message:message,buttons:"ok",autoRender:!0,autoDestroy:!0});return _.isFunction(action)&&dlg.on("closed.modal",action),dlg}}),define("taoQtiTest/runner/plugins/content/dialog/dialog",["jquery","lodash","i18n","taoTests/runner/plugin","ui/dialog/alert","ui/dialog/confirm","util/shortcut/registry","util/shortcut","util/namespace"],function($,_,__,pluginFactory,dialogAlert,dialogConfirm,shortcutRegistry,globalShortcut,namespaceHelper){"use strict";return pluginFactory({
name:"dialog",init:function(){function closeAccept(dialog){dialog.trigger("okbtn.modal").hide()}function closeReject(dialog){dialog.hide()}function closeLast(accept,shortcut){var handle=opened.length&&opened[opened.length-1];handle&&(handle.shortcut=shortcut,accept?closeAccept(handle.dialog):closeReject(handle.dialog))}function addHandle(namespace,stack,dialog,message,accept,reject,options){function doAccept(e,reason){_.isFunction(accept)&&accept(handle.shortcut||reason)}function doReject(e,reason){_.isFunction(reject)&&reject(handle.shortcut||reason)}var handle={context:namespace,dialog:dialog(message,doAccept,doReject,options)};globalShortcut.disable(),
dialogShortcut.enable(),stack.push(handle),opened.push(handle),handle.dialog.focus(),handle.dialog.on("closed.modal",function(){removeHandle(stack,handle.dialog),removeHandle(opened,handle.dialog),opened.length||(globalShortcut.enable(),dialogShortcut.disable())})}function removeHandle(stack,dialog){dialog&&_.remove(stack,function(handle){if(handle&&dialog===handle.dialog)return!0})}function closeDialogs(namespace,accept,stack){stack?_.forEach(stack,function(handle){!handle||"@"!==namespace&&namespace!==handle.context||(accept?closeAccept(handle.dialog):closeReject(handle.dialog))}):(closeDialogs(namespace,accept,alerts),
closeDialogs(namespace,accept,confirms))}var testRunner=this.getTestRunner(),testData=testRunner.getTestData()||{},testConfig=testData.config||{},pluginShortcuts=(testConfig.shortcuts||{}).dialog||{},alerts=[],confirms=[],opened=[],dialogShortcut=shortcutRegistry($("body"),{propagate:!1,prevent:!0});dialogShortcut.disable().set("Tab Shift+Tab"),testConfig.allowShortcuts&&_.forEach(pluginShortcuts,function(command,key){dialogShortcut.add(namespaceHelper.namespaceAll(command,"dialog",!0),function(e,shortcut){testRunner.trigger("tool-dialog-"+key,shortcut)})}),testRunner.before("alert.*",function(e,msg,accept){
addHandle(e.namespace,alerts,dialogAlert,msg,accept,accept)}).before("confirm.*",function(e,msg,accept,reject,options){addHandle(e.namespace,confirms,dialogConfirm,msg,accept,reject,options)}).before("closedialog.*",function(e,accept){closeDialogs(e.namespace,accept)}).on("tool-dialog-accept",function(shortcut){closeLast(!0,shortcut)}).on("tool-dialog-reject",function(shortcut){closeLast(!1,shortcut)}).on("destroy",function(){closeDialogs(".@"),dialogShortcut.clear(),dialogShortcut=null})}})}),define("taoQtiTest/runner/plugins/content/feedback/feedback",["jquery","i18n","taoTests/runner/plugin","ui/feedback"],function($,__,pluginFactory,feedback){
"use strict";return pluginFactory({name:"feedback",init:function(){var currentFeedback,self=this,testRunner=this.getTestRunner(),closeCurrent=function(){currentFeedback&&currentFeedback.close()};this.setState("enabled",!0),testRunner.on("error",function(err){var message=err,type="error";if(self.getState("enabled")){if("object"==typeof err&&(message=err.message,type=err.type),!message)switch(type){case"TestState":message=__("The test has been closed/suspended!");break;case"FileNotFound":message=__("File not found!");break;default:message=__("An error occurred!")}currentFeedback=feedback().error(message)}}).on("danger",function(message){
self.getState("enabled")&&(currentFeedback=feedback().danger(message))}).on("warning",function(message){self.getState("enabled")&&(currentFeedback=feedback().warning(message))}).on("info",function(message){self.getState("enabled")&&(currentFeedback=feedback().info(message))}).on("alert.* confirm.* unloaditem",closeCurrent).on("disablefeedbackalerts",function(){closeCurrent(),self.setState("enabled",!1)}).on("enablefeedbackalerts",function(){self.setState("enabled",!0)})}})}),define("taoQtiTest/runner/plugins/content/dialog/exitMessages",["lodash","core/promise","taoTests/runner/plugin"],function(_,Promise,pluginFactory){"use strict";return pluginFactory({
name:"exitMessages",init:function(){},install:function(){var testRunner=this.getTestRunner();testRunner.before("leave",function(e,data){if(_.isObject(data)&&data.message)return new Promise(function(resolve){var context=testRunner.getTestContext();context&&context.itemIdentifier&&testRunner.disableItem(context.itemIdentifier),testRunner.trigger("disablefeedbackalerts").trigger("alert.leave",data.message,function(){testRunner.trigger("enablefeedbackalerts"),resolve()})})})}})}),define("layout/loading-bar",["jquery"],function($){"use strict";function getHeaderHeight(headerElements){var $element;headerHeight=0
;for($element in headerElements)headerElements[$element].length&&headerElements[$element].is(":visible")&&(headerHeight+=headerElements[$element].outerHeight());return headerHeight}function updateHeight(){$loadingBar.hasClass("loading")&&(headerHeight=getHeaderHeight(headerElements),headerHeight<=$win.scrollTop()?$loadingBar.addClass("fixed"):$loadingBar.removeClass("fixed"),$loadingBar.hasClass("loadingbar-covered")?$loadingBar.height($doc.height()):$loadingBar.height(""))}var $loadingBar=$(".loading-bar"),originalHeight=$loadingBar.height(),$win=$(window),$doc=$(document),$contentWrap=$(".content-wrap"),headerElements={
$versionWarning:$contentWrap.find(".version-warning"),$header:$contentWrap.find("header:first()")},headerHeight=getHeaderHeight(headerElements);return $win.on("scroll.loadingbar",function(){updateHeight()}),{start:function(covered){void 0===covered&&(covered=!0),$loadingBar.hasClass("loading")&&$loadingBar.stop(),$loadingBar.addClass("loading"),$loadingBar.toggleClass("loadingbar-covered",covered),updateHeight()},stop:function(){$loadingBar.removeClass("loading fixed").height(originalHeight)}}}),define("taoQtiTest/runner/plugins/content/loading/loading",["layout/loading-bar","taoTests/runner/plugin"],function(loadingBar,pluginFactory){"use strict"
;return pluginFactory({name:"loading",init:function(){this.getTestRunner().on("unloaditem",function(){loadingBar.start()}).on("renderitem",function(){loadingBar.stop()})}})}),define("tpl!taoQtiTest/runner/plugins/controls/title/title",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+='\n        <span data-control="',(helper=helpers.control)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.control,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+'" class="qti-controls" title="',(helper=helpers.text)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.text,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">',stack1=helpers.unless.call(depth0,null==data||!1===data?data:data.first,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),(helper=helpers.text)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.text,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+"</span>\n    "}function program2(depth0,data){return" - "}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<div class="title-box truncate">\n    ',stack1=helpers.each.call(depth0,depth0&&depth0.titles,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</div>"})}),
define("taoQtiTest/runner/plugins/controls/title/title",["jquery","i18n","taoTests/runner/plugin","tpl!taoQtiTest/runner/plugins/controls/title/title"],function($,__,pluginFactory,titleTpl){"use strict";return pluginFactory({name:"title",init:function(){var self=this,testRunner=this.getTestRunner(),testData=testRunner.getTestData(),createElement=function(){var context=testRunner.getTestContext(),titles=[{control:"qti-test-title",text:testData.title}];return context.isDeepestSectionVisible&&titles.push({control:"qti-test-position",text:context.sectionTitle}),$(titleTpl({titles:titles}))};this.$element=createElement(),testRunner.after("renderitem",function(){
var $element=createElement();self.$element.replaceWith($element),self.$element=$element})},render:function(){this.getAreaBroker().getControlArea().append(this.$element)}})}),define("taoQtiTest/runner/plugins/content/dialog/itemInlineMessage",["jquery","i18n","ui/hider","taoTests/runner/plugin","tpl!taoQtiTest/runner/plugins/templates/button"],function($,__,hider,pluginFactory,buttonTpl){"use strict";var buttonData={next:{control:"move-forward",title:__("Submit and go to the next item"),icon:"forward",text:__("OK")},end:{control:"move-end",title:__("Submit and go to the end of the test"),icon:"fast-forward",text:__("OK & End test")}};return pluginFactory({
name:"itemInlineMessage",init:function(){var self=this,testRunner=this.getTestRunner();this.$button=function(){var dataType=testRunner.getTestContext().isLast?"end":"next",$btn=$(buttonTpl(buttonData[dataType]));return $btn.addClass("modalFeedback-button"),$btn.on("click",function(e){e.preventDefault(),self.disable(),"move-end"===$(this).data("control")&&self.trigger("end"),$btn.remove(),self.$element.remove(),self.trigger("resume",self)}),$btn}(),this.$element=$(this.getContent().dom)},render:function(){
var $navigationContainer=this.getAreaBroker().getNavigationArea(),testRunner=this.getTestRunner(),itemRunner=testRunner.itemRunner,$inlineContainer=this.getContent().$container;!$inlineContainer&&itemRunner._item.container&&($inlineContainer=$(".qti-itemBody",itemRunner._item.container)),$inlineContainer.append(this.$element),$(".modalFeedback-button",$navigationContainer).length||$navigationContainer.append(this.$button)},enable:function(){this.$button.removeProp("disabled").removeClass("disabled")},disable:function(){this.$button.prop("disabled",!0).addClass("disabled")},destroy:function(){this.$button.click()}})}),
define("taoQtiTest/runner/plugins/content/dialog/itemAlertMessage",["jquery","i18n","ui/hider","taoTests/runner/plugin"],function($,__,hider,pluginFactory){"use strict";return pluginFactory({name:"itemAlertMessage",init:function(){var self=this;this.$element=$(this.getContent().dom),this.$element.on("closed.modal",function(){$(this).modal("destroy")}).on("destroyed.modal",function(){self.$element=null,self.trigger("resume",self)})},render:function(){var testRunner=this.getTestRunner(),itemRunner=testRunner.itemRunner,$modalsContainer=this.getContent().$container;$modalsContainer||($modalsContainer=$("#modalFeedbacks",itemRunner._item.container)),
$modalsContainer.append(this.$element),this.$element.modal()},destroy:function(){this.$element&&this.$element.length&&this.$element.modal("close")}})}),define("ui/autoscroll",["jquery","core/promise"],function($,Promise){"use strict";function autoscroll(element,container){return new Promise(function(resolve){var currentScrollTop,minScrollTop,maxScrollTop,scrollTop,$element=$(element),$container=$(container||$element.parent());$element.length&&$container.length?(currentScrollTop=$container.scrollTop(),maxScrollTop=$element.offset().top-$container.offset().top+currentScrollTop,minScrollTop=maxScrollTop-$container.height()+$element.outerHeight(),
scrollTop=Math.max(Math.min(maxScrollTop,currentScrollTop),minScrollTop),scrollTop!==currentScrollTop?$container.animate({scrollTop:scrollTop}).promise().done(resolve):resolve()):resolve()})}return autoscroll}),define("taoQtiTest/runner/plugins/content/modalFeedback/modalFeedback",["jquery","lodash","module","taoTests/runner/plugin","taoQtiTest/runner/plugins/content/dialog/itemInlineMessage","taoQtiTest/runner/plugins/content/dialog/itemAlertMessage","ui/autoscroll"],function($,_,module,pluginFactory,inlineMessage,alertMessage,autoscroll){"use strict";function destroyFeedback(feedback){var removed=!1;_.remove(renderedFeedbacks,function(storedFeedback){
var found=storedFeedback===feedback;return found&&(removed=!0),found}),removed&&(feedback.destroy(),renderedFeedbacks.length||nextStep())}function defineMode(inline){inlineMode=inline,messagePlugin=inlineMode?inlineMessage:alertMessage}var inlineMode,messagePlugin,renderedFeedbacks,isDestroyed,nextStep;return pluginFactory({name:"QtiModalFeedback",init:function(){nextStep=function(){},defineMode(!!module.config().inlineModalFeedback)},render:function(){var self=this,testRunner=this.getTestRunner(),createMessages=function(renderingQueue,inline){var bInlineMode=inlineMode;isDestroyed=!1,renderedFeedbacks=[],_.isBoolean(inline)&&defineMode(inline),
renderingQueue.length?(_.forEach(renderingQueue,function(renderingToken){var feedback=messagePlugin(testRunner,testRunner.getAreaBroker());feedback.init({dom:renderingToken.feedback.render({inline:inlineMode}),$container:inlineMode?renderingToken.$container:null}),feedback.render(),renderedFeedbacks.push(feedback)}),inlineMode&&renderedFeedbacks&&autoscroll($(".qti-modalFeedback",testRunner.getAreaBroker().getContentArea()).first(),testRunner.getAreaBroker().getContentArea().parents(".content-wrapper"))):nextStep(),defineMode(bInlineMode)};inlineMode?testRunner.off("plugin-resume.itemInlineMessage").on("plugin-resume.itemInlineMessage",function(){
self.destroy()}):testRunner.off("plugin-resume.itemAlertMessage").on("plugin-resume.itemAlertMessage",function(feedback){destroyFeedback(feedback)}),testRunner.on("modalFeedbacks",function(renderingQueue,done,inline){nextStep=done,createMessages(renderingQueue,inline)})},destroy:function(){var tFeedbacks,i;if(!isDestroyed)if(isDestroyed=!0,renderedFeedbacks){tFeedbacks=renderedFeedbacks.slice(0);for(i in tFeedbacks)destroyFeedback(tFeedbacks[i])}else nextStep()}})}),define("ui/keyNavigation/navigableGroupElement",["jquery","lodash","core/eventifier"],function($,_,eventifier){"use strict"
;var _ns=".navigable-group-element",navigableGroupElementFactory=function(keyNavigator){var $group;if(!keyNavigator)throw new TypeError("the navigation group does not exist");if($group=keyNavigator.getGroup(),!$group.length||!$.contains(document,$group[0]))throw new TypeError("the group dom element does not exist");return eventifier({init:function(){return $group.on("focusin"+_ns,function(){$group.addClass("focusin")}).on("focusout"+_ns,function(){_.defer(function(){document.activeElement&&$.contains($group.get(0),document.activeElement)||$group.removeClass("focusin")})}),this},destroy:function(){return $group.removeClass("focusin").off(_ns),this},
getElement:function(){return $group},isVisible:function(){var hasVisibleNavigable=!1;return!!$group.is(":visible")&&(_.forEach(keyNavigator.getNavigables(),function(nav){if(nav.isVisible())return hasVisibleNavigable=!0,!1}),hasVisibleNavigable)},isEnabled:function(){var hasEnabledNavigable=!1;return!$group.is(":disabled")&&(_.forEach(keyNavigator.getNavigables(),function(nav){if(nav.isEnabled())return hasEnabledNavigable=!0,!1}),hasEnabledNavigable)},focus:function(){return keyNavigator.focus(this),this}})};return navigableGroupElementFactory.createFromNavigators=function(keyNavigators){var list=[];return _.each(keyNavigators,function(keyNavigator){
list.push(navigableGroupElementFactory(keyNavigator))}),list},navigableGroupElementFactory}),define("css!taoQtiTestCss/plugins/key-navigation",[],function(){}),define("taoQtiTest/runner/plugins/content/accessibility/keyNavigation",["jquery","lodash","ui/keyNavigation/navigator","ui/keyNavigation/navigableDomElement","ui/keyNavigation/navigableGroupElement","util/shortcut","util/namespace","taoTests/runner/plugin","css!taoQtiTestCss/plugins/key-navigation"],function($,_,keyNavigator,navigableDomElement,navigableGroupElement,shortcut,namespaceHelper,pluginFactory){"use strict";function initToolbarNavigation(){
var $navigationBar=$(".bottom-action-bar"),$focusables=$navigationBar.find(".action:not(.btn-group):visible, .action.btn-group .li-inner:visible"),navigables=navigableDomElement.createFromDoms($focusables);return navigables.length?[keyNavigator({id:"bottom-toolbar",replace:!0,group:$navigationBar,elements:navigables,defaultPosition:navigables.length-1}).on("right down",function(elem){if(!allowedToNavigateFrom(elem))return!1;this.next()}).on("left up",function(elem){if(!allowedToNavigateFrom(elem))return!1;this.previous()}).on("activate",function(cursor){cursor.navigable.getElement().click().mousedown()})]:[]}function initHeaderNavigation(){
var $headerElements=$('[data-control="exit"]:visible a'),navigables=navigableDomElement.createFromDoms($headerElements);return navigables.length?[keyNavigator({id:"header-toolbar",group:$headerElements.closest(".infoControl"),elements:navigables,loop:!0,replace:!0}).on("activate",function(cursor){cursor.navigable.getElement().click()})]:[]}function initNavigatorNavigation(testRunner){var filtersNavigator,itemsNavigator,$filters,$trees,navigableFilters,navigableTrees,filterCursor,$panel=testRunner.getAreaBroker().getPanelArea(),$navigator=$panel.find(".qti-navigator"),navigators=[],itemListingVisited=!1
;return $navigator.length&&!$navigator.hasClass("disabled")&&($filters=$navigator.find(".qti-navigator-filters .qti-navigator-filter"),navigableFilters=navigableDomElement.createFromDoms($filters),navigableFilters.length&&(filtersNavigator=keyNavigator({keepState:!0,id:"navigator-filters",replace:!0,elements:navigableFilters,group:$navigator}).on("right",function(elem){if(!allowedToNavigateFrom(elem))return!1;this.next()}).on("left",function(elem){if(!allowedToNavigateFrom(elem))return!1;this.previous()}).on("down",function(elem){if(!allowedToNavigateFrom(elem))return!1;itemsNavigator&&_.defer(function(){
itemListingVisited?itemsNavigator.focus().first():itemsNavigator.focus()})}).on("up",function(elem){if(!allowedToNavigateFrom(elem))return!1;itemsNavigator&&_.defer(function(){itemsNavigator.last()})}).on("focus",function(cursor,origin){cursor.navigable.getElement().click(),(filterCursor&&filterCursor.position!==cursor.position||origin)&&(itemListingVisited=!1),filterCursor=cursor}),navigators.push(filtersNavigator)),$trees=$navigator.find(".qti-navigator-tree .qti-navigator-item:not(.unseen) .qti-navigator-label"),navigableTrees=navigableDomElement.createFromDoms($trees),navigableTrees.length&&(itemsNavigator=keyNavigator({id:"navigator-items",replace:!0,
elements:navigableTrees,defaultPosition:function(navigables){var pos=0;return filterCursor&&"flagged"!==filterCursor.navigable.getElement().data("mode")&&_.forIn(navigables,function(navigable,i){var $parent=navigable.getElement().parent(".qti-navigator-item");if($parent.hasClass("active")&&$parent.is(":visible"))return pos=i,!1}),pos}}).on("down",function(elem){if(!allowedToNavigateFrom(elem))return!1;this.next()}).on("up",function(elem){if(!allowedToNavigateFrom(elem))return!1;this.previous()}).on("right",function(elem){if(!allowedToNavigateFrom(elem))return!1;filtersNavigator&&filtersNavigator.focus().next()}).on("left",function(elem){
if(!allowedToNavigateFrom(elem))return!1;filtersNavigator&&filtersNavigator.focus().previous()}).on("activate",function(cursor){cursor.navigable.getElement().click()}).on("lowerbound upperbound",function(){filtersNavigator&&filtersNavigator.focus()}).on("focus",function(cursor){itemListingVisited=!0,cursor.navigable.getElement().parent().addClass("key-navigation-highlight")}).on("blur",function(cursor){cursor.navigable.getElement().parent().removeClass("key-navigation-highlight")}))),navigators}function initContentNavigation(testRunner){var itemNavigators=[],$content=testRunner.getAreaBroker().getContentArea()
;return $content.find(".key-navigation-focusable").addClass("key-navigation-scrollable"),$content.find(".key-navigation-focusable,.qti-interaction").filter(function(){return!$(this).parents(".qti-interaction").length}).each(function(){var $itemElement=$(this);$itemElement.hasClass("qti-interaction")?itemNavigators=_.union(itemNavigators,initInteractionNavigation($itemElement)):itemNavigators.push(keyNavigator({elements:navigableDomElement.createFromDoms($itemElement),group:$itemElement,propagateTab:!1}))}),itemNavigators}function initInteractionNavigation($interaction){var $inputs,interactionNavigables,interactionNavigators=[]
;return $interaction.find(".key-navigation-focusable").each(function(){var $nav=$(this);$nav.closest(".qti-choice").length||interactionNavigators.push(keyNavigator({elements:navigableDomElement.createFromDoms($nav),group:$nav,propagateTab:!1}))}),$interaction.off(".keyNavigation"),$inputs=$interaction.is(":input")?$interaction:$interaction.find(":input"),interactionNavigables=navigableDomElement.createFromDoms($inputs),interactionNavigables.length&&interactionNavigators.push(keyNavigator({elements:interactionNavigables,group:$interaction,loop:!1}).on("right down",function(elem){if(!allowedToNavigateFrom(elem))return!1;this.next()
}).on("left up",function(elem){if(!allowedToNavigateFrom(elem))return!1;this.previous()}).on("activate",function(cursor){var $elt=cursor.navigable.getElement();$elt.is(":checkbox")?$elt.each(function(){this.click()}):$elt.click()}).on("focus",function(cursor){cursor.navigable.getElement().closest(".qti-choice").addClass("key-navigation-highlight")}).on("blur",function(cursor){cursor.navigable.getElement().closest(".qti-choice").removeClass("key-navigation-highlight")})),interactionNavigators}function initRubricNavigation(){var $itemElements,rubricNavigators=[];return $itemElements=$("#qti-rubrics").find(".qti-rubricBlock"),$itemElements.each(function(){
var $itemElement=$(this),id="rubric_element_navigation_group_"+rubricNavigators.length;rubricNavigators.push(keyNavigator({id:id,elements:navigableDomElement.createFromDoms($itemElement),group:$itemElement,replace:!0}))}),rubricNavigators}function initTestRunnerNavigation(testRunner){var navigators;return document.activeElement&&document.activeElement.blur(),navigators=_.union(initRubricNavigation(testRunner),initContentNavigation(testRunner),initToolbarNavigation(testRunner),initNavigatorNavigation(testRunner),initHeaderNavigation(testRunner)),navigators=navigableGroupElement.createFromNavigators(navigators),keyNavigator({id:"test-runner",replace:!0,
loop:!0,elements:navigators}).on("tab",function(elem){if(!allowedToNavigateFrom(elem))return!1;this.next()}).on("shift+tab",function(elem){if(!allowedToNavigateFrom(elem))return!1;this.previous()})}function allowedToNavigateFrom(element){var $element=$(element);return!($element.hasClass(ignoredClass)||$element.parents("."+ignoredClass).length>0)}var ignoredClass="no-key-navigation";return pluginFactory({name:"keyNavigation",init:function(){var self=this,testRunner=this.getTestRunner();this.disable(),testRunner.after("renderitem",function(){self.groupNavigator=initTestRunnerNavigation(testRunner),shortcut.add("tab shift+tab",function(e){
if(!allowedToNavigateFrom(e.target))return!1;self.groupNavigator.isFocused()||self.groupNavigator.focus()}),self.enable()}).on("unloaditem",function(){self.disable()})},destroy:function(){shortcut.remove("."+this.getName()),this.groupNavigator&&this.groupNavigator.destroy()}})}),define("taoQtiTest/runner/plugins/content/responsiveness/collapser",["lodash","jquery","taoTests/runner/plugin"],function(_,$,pluginFactory){"use strict";var ns=".collapser",labelHiddenCls="no-tool-label",separatorCls="separator",defaults={collapseTools:!0,collapseNavigation:!1,collapseInOrder:!1,hover:!1,collapseOrder:[]},$window=$(window);return pluginFactory({name:"collapser",
init:function(){function buildCollapsiblesList(){allCollapsibles=config.collapseInOrder&&config.collapseOrder.length?getCollapsiblesFromConfig():config.collapseInOrder?getSortedCollapsiblesFromDom():getUnsortedCollapsiblesFromDom()}function getExtraWidth($element){var expandedWidth,collapsedWidth;return $element.removeClass(collapseCls),expandedWidth=$element.outerWidth(!0),$element.addClass(collapseCls),collapsedWidth=$element.outerWidth(!0),$element.removeClass(collapseCls),expandedWidth-collapsedWidth}function toggleCollapsibles(){availableWidth=getAvailableWidth(),availableWidth<previousAvailableWidth?collapseInOrder():expandInOrder(),
previousAvailableWidth=availableWidth}function collapseInOrder(){for(var toCollapse,collapsiblesCopy=_.clone(allCollapsibles);collapseNeeded()&&collapsiblesCopy.length;)toCollapse=collapsiblesCopy.shift(),toCollapse.$elements.addClass(collapseCls)}function collapseNeeded(){return getToolbarWidth()>getAvailableWidth()}function expandInOrder(){_.forEachRight(allCollapsibles,function(toExpand){if(toExpand.$elements.hasClass(collapseCls)){if(!expandPossible(toExpand.extraWidth))return!1;toExpand.$elements.removeClass(collapseCls)}})}function expandPossible(extraWidth){return getToolbarWidth()+extraWidth<getAvailableWidth()}function getAvailableWidth(){
return $actionsBar.width()-20}function getToolbarWidth(){return $toolbox.outerWidth(!0)+$navigation.outerWidth(!0)}function getControlsFromDom(){var $controls=$();return config.collapseTools&&($controls=$controls.add($toolbox.find(">ul>[data-control]").not("."+labelHiddenCls).not("."+separatorCls))),config.collapseNavigation&&($controls=$controls.add($navigation.find(">ul>[data-control]").not("."+labelHiddenCls).not("."+separatorCls))),$controls}function getCollapsiblesFromConfig(){return _.compact(config.collapseOrder.map(function(selector){var $elements=$(selector).not("."+labelHiddenCls).not("."+separatorCls),extraWidth=0
;return!!$elements.length&&($elements.each(function(){extraWidth+=getExtraWidth($(this))}),{$elements:$elements,extraWidth:extraWidth})}))}function getSortedCollapsiblesFromDom(){var $elements=getControlsFromDom(),_allCollapsibles=[],order={};return $elements.each(function(){var ctrl=this.dataset.control,key=ctrl.substring(0,ctrl.search(/[A-Z-_]/))||ctrl;order[key]=order[key]||$(),order[key]=order[key].add($(this))}),_.forOwn(order,function($elements){var extraWidth=0;$elements.each(function(){extraWidth+=getExtraWidth($(this))}),_allCollapsibles.push({$elements:$elements,extraWidth:extraWidth})}),_.compact(_allCollapsibles)}
function getUnsortedCollapsiblesFromDom(){var $elements=getControlsFromDom(),_allCollapsibles=[],extraWidth=0;return $elements.each(function(){extraWidth+=getExtraWidth($(this))}),_allCollapsibles.push({$elements:$elements,extraWidth:extraWidth}),_.compact(_allCollapsibles)}
var allCollapsibles,availableWidth,previousAvailableWidth,testRunner=this.getTestRunner(),testData=testRunner.getTestData()||{},testConfig=testData.config||{},pluginsConfig=testConfig.plugins||{},config=_.defaults(pluginsConfig.collapser||{},defaults),collapseCls=config.hover?"tool-label-collapsed-hover":"tool-label-collapsed",areaBroker=testRunner.getAreaBroker(),$actionsBar=areaBroker.getArea("actionsBar"),$toolbox=areaBroker.getToolboxArea(),$navigation=areaBroker.getNavigationArea();$window.on("resize"+ns,_.throttle(function(){testRunner.trigger("collapseTools")},40)),testRunner.after("renderitem loaditem",function(){previousAvailableWidth=1/0,
buildCollapsiblesList(),testRunner.trigger("collapseTools")}).on("collapseTools"+ns,function(){toggleCollapsibles()})},destroy:function(){$window.off(ns)}})}),define("taoQtiTest/runner/plugins/controls/timer/strategy/enforcedStay",[],function(){"use strict";return function(testRunner,timer){var testContext=testRunner.getTestContext();return!(!timer||"min"!==timer.type||"item"!==timer.scope||!testContext.isLinear)&&{name:"enforcedStay",setUp:function(){testRunner.on("enablenav.enforcestay",function(){testRunner.trigger("disablenav")}),testRunner.trigger("disablenav")},complete:function(){this.tearDown(),testRunner.trigger("enablenav")},tearDown:function(){
testRunner.off("enablenav.enforcestay")}}}}),define("taoQtiTest/runner/plugins/controls/timer/strategy/extraTime",["lodash"],function(_){"use strict";var lastConsumedExtraTime=0;return function(testRunner,timer){var applyExtraTime=function(){_.isNumber(timer.extraTime)&&timer.extraTime>0&&!timer.extraTimeSetup&&(timer.extraTimeSetup=!0,testRunner.before("move.extra skip.extra exit.extra timeout.extra",function(){var consumedExtraTime=0,testContext=testRunner.getTestContext();timer.remainingTime<timer.extraTime&&(consumedExtraTime=Math.max(timer.extraTime-timer.remainingTime,0)/1e3,
lastConsumedExtraTime=Math.max(consumedExtraTime,lastConsumedExtraTime,testContext.extraTime.consumed),testRunner.getProxy().addCallActionParams({consumedExtraTime:lastConsumedExtraTime}))}).after("move.extra skip.extra exit.extra timeout.extra",function(){lastConsumedExtraTime=0}))};return!(!timer||"max"!==timer.type)&&{name:"extraTime",setUp:function(){applyExtraTime()},start:function(){applyExtraTime()},tearDown:function(){testRunner.off("move.extra skip.extra exit.extra timeout.extra")}}}}),define("taoQtiTest/runner/plugins/controls/timer/strategy/guidedNavigation",[],function(){"use strict";return function(testRunner,timer){
var testData=testRunner.getTestData(),testContext=testRunner.getTestContext(),config=testData&&testData.config;return!(!timer||"locked"!==timer.type||"item"!==timer.scope||!0!==config.guidedNavigation||!0!==testContext.isLinear)&&{name:"guidedNavigation",setUp:function(){testRunner.trigger("hidenav")},complete:function(){testRunner.trigger("disableitem disablenav shownav"),setTimeout(function(){testRunner.trigger("move","next","item")},500)}}}}),define("taoQtiTest/runner/plugins/controls/timer/strategy/timeout",[],function(){"use strict";return function(testRunner,timer){return!(!timer||"max"!==timer.type)&&{name:"timeout",complete:function(){
if(timer.qtiClassName&&timer.source)return testRunner.timeout(timer.qtiClassName,timer.source,timer)}}}}),define("taoQtiTest/runner/helpers/stats",["lodash","taoQtiTest/runner/helpers/map","taoQtiTest/runner/helpers/currentItem"],function(_,mapHelper,currentItemHelper){"use strict";function getInstantStats(scope,runner,sync){var isItemCurrentlyAnswered,map=runner.getTestMap(),context=runner.getTestContext(),stats=_.clone(mapHelper.getScopeStats(map,context.itemPosition,scope)),item=mapHelper.getItemAt(map,context.itemPosition);return item.informational||(isItemCurrentlyAnswered=currentItemHelper.isAnswered(runner),
!isItemCurrentlyAnswered&&context.itemAnswered?stats.answered--:!isItemCurrentlyAnswered&&!sync||context.itemAnswered?sync&&!isItemCurrentlyAnswered&&context.itemAnswered&&context.isLinear&&stats.answered++:stats.answered++),stats}return{getInstantStats:getInstantStats}}),define("taoQtiTest/runner/helpers/messages",["lodash","i18n","taoQtiTest/runner/helpers/map","taoQtiTest/runner/helpers/stats"],function(_,__,mapHelper,statsHelper){"use strict";function getExitMessage(message,scope,runner,sync){var itemsCountMessage="",testData=runner.getTestData(),testConfig=testData&&testData.config
;return(!testConfig||testConfig.enableUnansweredItemsWarning)&&(itemsCountMessage=getUnansweredItemsWarning(scope,runner,sync)),(itemsCountMessage+" "+message).trim()}function getUnansweredItemsWarning(scope,runner,sync){var stats=statsHelper.getInstantStats(scope,runner,sync),unansweredCount=stats&&stats.questions-stats.answered,flaggedCount=stats&&stats.flagged,itemsCountMessage=""
;return"section"===scope||"testSection"===scope?(itemsCountMessage=0===unansweredCount?__("You answered all %s question(s) in this section",stats.questions.toString()):__("You answered only %s of the %s question(s) in this section",stats.answered.toString(),stats.questions.toString()),flaggedCount&&(itemsCountMessage+=", "+__("and flagged %s of them",flaggedCount.toString()))):"test"===scope?(itemsCountMessage=0===unansweredCount?__("You answered all %s question(s) in this test",stats.questions.toString()):__("You have %s unanswered question(s)",unansweredCount.toString()),
flaggedCount&&(itemsCountMessage+=" "+__("and you flagged %s item(s) that you can review now",flaggedCount.toString()))):"part"===scope&&(itemsCountMessage=0===unansweredCount?__("You answered all %s question(s)",stats.questions.toString()):__("You have %s unanswered question(s)",unansweredCount.toString()),flaggedCount&&(itemsCountMessage+=" "+__("and you flagged %s item(s) that you can review now",flaggedCount.toString()))),itemsCountMessage&&(itemsCountMessage+="."),itemsCountMessage}return{getExitMessage:getExitMessage}}),
define("taoQtiTest/runner/plugins/controls/timer/strategy/warnSectionLeaving",["lodash","i18n","core/promise","taoQtiTest/runner/helpers/messages","taoQtiTest/runner/helpers/navigation"],function(_,__,Promise,messages,navigationHelper){"use strict";var exitMessage=__("Once you close this section, you cannot return to it or change your answers.");return function(testRunner,timer){var leaveTimedSection=function(direction,scope,position){var context=testRunner.getTestContext(),map=testRunner.getTestMap(),testData=testRunner.getTestData()
;return!context.isTimeout&&context.itemSessionState!==testData.itemStates.closed&&context.sectionId===timer.source&&navigationHelper.isLeavingSection(context,map,direction,scope,position)};return!(!timer||"section"!==timer.scope||"max"!==timer.type)&&{name:"warnSectionLeaving",setUp:function(){testRunner.off("move.warntimedsection skip.warntimedsection").before("move.warntimedsection skip.warntimedsection",function(e,type,scope,position){
var context=testRunner.getTestContext(),testDataBeforeMove=testRunner.getTestData(),config=testDataBeforeMove&&testDataBeforeMove.config,timerConfig=config&&config.timer||{},options=context&&context.options||{},movePromise=new Promise(function(resolve,reject){context.isLast&&options.endTestWarning?resolve():!leaveTimedSection(type||"next",scope,position)||options.noExitTimedSectionWarning||timerConfig.keepUpToTimeout?resolve():testRunner.trigger("confirm.exittimed",messages.getExitMessage(exitMessage,"section",testRunner),resolve,reject,{buttons:{labels:{ok:__("Close this Section"),cancel:__("Review my Answers")}}})});return movePromise.catch(function(){
_.defer(function(){testRunner.trigger("enableitem enablenav")})}),movePromise})},complete:function(){return this.tearDown()},tearDown:function(){testRunner.off("move.warntimedsection skip.warntimedsection")}}}}),
define("taoQtiTest/runner/plugins/controls/timer/strategy/strategyHandler",["lodash","core/promise","taoQtiTest/runner/plugins/controls/timer/strategy/enforcedStay","taoQtiTest/runner/plugins/controls/timer/strategy/extraTime","taoQtiTest/runner/plugins/controls/timer/strategy/guidedNavigation","taoQtiTest/runner/plugins/controls/timer/strategy/timeout","taoQtiTest/runner/plugins/controls/timer/strategy/warnSectionLeaving"],function(_,Promise,extraTimeStrategy,enforcedStayStrategy,guidedNavigationStrategy,timeoutStrategy,warnSectionLeavingStrategy){"use strict"
;var defaultAvailableStrategies=[extraTimeStrategy,enforcedStayStrategy,guidedNavigationStrategy,timeoutStrategy,warnSectionLeavingStrategy];return function(testRunner,strategies){var strategyHandler,actives={},applyToStrategies=function(timerId,action){var api=_.keys(strategyHandler);if(_.isEmpty(timerId)||_.isEmpty(action)||!_.contains(api,action))throw new TypeError("Invalid timer id or unauthorized action");return _.isArray(actives[timerId])?Promise.all(_.map(actives[timerId],function(strategy){if(_.isFunction(strategy[action]))return strategy[action]()})):Promise.resolve()},availableStrategies=strategies||defaultAvailableStrategies
;if(!testRunner||!_.isFunction(testRunner.on)||!_.isFunction(testRunner.getTestContext))throw new TypeError("The strategy handler needs a valid test runner.");return strategyHandler={setUp:function(timer){return _.forEach(availableStrategies,function(availableStrategy){var strategy=availableStrategy(testRunner,timer);!1!==strategy&&(actives[timer.id]=actives[timer.id]||[],actives[timer.id].push(strategy))}),applyToStrategies(timer.id,"setUp")},getActives:function(timer){return timer&&timer.id&&_.isArray(actives[timer.id])?actives[timer.id]:[]},start:function(timer){return applyToStrategies(timer.id,"start")},stop:function(timer){
return applyToStrategies(timer.id,"stop")},complete:function(timer){return applyToStrategies(timer.id,"complete")},tearDown:function(timer){return applyToStrategies(timer.id,"tearDown").then(function(){actives=_.omit(actives,timer.id)})}}}}),define("core/encoder/time",["moment"],function(moment){return{encode:function(modelValue){var seconds=parseInt(modelValue,10);isNaN(seconds)&&(seconds=0);var time=moment.duration(seconds,"seconds");return(time.get("hours")>=10?time.get("hours"):"0"+time.get("hours"))+":"+(time.get("minutes")>=10?time.get("minutes"):"0"+time.get("minutes"))+":"+(time.get("seconds")>=10?time.get("seconds"):"0"+time.get("seconds"))},
decode:function(nodeValue){var time=moment(nodeValue,"HH:mm:ss");return time.seconds()+60*time.minutes()+3600*time.hours()}}}),define("core/polling",["jquery","lodash","core/promise","core/eventifier"],function($,_,Promise,eventifier){"use strict";return function(config){var timer,promise,interval,max,iter,action,context,autoStart,state={},startTimer=function(){timer=setTimeout(iteration,interval),state.stopped=!1,state.pending=!0},stopTimer=function(){clearTimeout(timer),timer=null,state.stopped=!0,state.pending=!1},iteration=function(){if(max&&iter>=max)return void polling.stop();iter=(iter||0)+1,state.processing=!0,state.pending=!1,
polling.trigger("call"),action.call(context,polling),promise||state.stopped||(state.processing=!1,startTimer())},polling={async:function(){var resolver={};return promise=new Promise(function(resolve,reject){resolver.resolve=resolve,resolver.reject=reject}),promise.then(function(){promise=null,state.processing=!1,state.stopped||startTimer(),polling.trigger("resolved")}).catch(function(){promise=null,state.processing=!1,polling.stop(),polling.trigger("rejected")}),polling.trigger("async",resolver),resolver},next:function(){var _next;return state.stopped&&(iter=0),stopTimer(),max&&iter>=max?this:(state.stopped=!1,promise?(_next=this.next.bind(this),
promise.then(_next).catch(_next)):(this.trigger("next"),iteration()),this)},start:function(){return timer||(iter=0,startTimer(),this.trigger("start")),this},stop:function(){return stopTimer(),this.trigger("stop"),this},setInterval:function(value){return interval=Math.abs(parseInt(value,10)||6e4),this.trigger("setinterval",interval),this},getInterval:function(){return interval},setAction:function(fn){return action=fn,this.trigger("setaction",action),this},getAction:function(){return action},setContext:function(ctx){return context=ctx||this,this.trigger("setcontext",ctx),this},getContext:function(){return context},setMax:function(value){
return max=Math.abs(parseInt(value,10)||0),this},getMax:function(){return max},getIteration:function(){return iter||0},is:function(stateName){return!!state[stateName]}};return eventifier(polling),interval=6e4,context=polling,action=null,state.stopped=!0,autoStart=!1,iter=0,_.isFunction(config)&&(polling.setAction(config),config=null),_.isObject(config)&&(polling.setAction(config.action),polling.setInterval(config.interval||arguments[1]),polling.setContext(config.context),polling.setMax(config.max),autoStart=!!config.autoStart),autoStart&&polling.start(),polling}}),define("core/timer",[],function(){"use strict";function timerFactory(config){function now(){
return window.performance.now()}var initConfig=config||{},begin=now(),last=begin,duration=initConfig.startDuration||0,state={},disableAutoStart=!1===initConfig.autoStart,timer={start:function(startDuration){return begin=now(),last=begin,duration=startDuration||0,state.running=!0,state.started=!0,this},tick:function(){var elapsed,timestamp=now();return state.running&&(elapsed=timestamp-last,last=timestamp),elapsed},pause:function(){return state.running&&(duration+=now()-begin,state.running=!1),this},resume:function(){return state.running||(begin=now(),last=begin,state.started=!0,state.running=!0),this},stop:function(){
return state.running&&(duration+=now()-begin),state.running=!1,state.started=!1,this},getDuration:function(){return state.running?duration+(now()-begin):duration},is:function(stateName){return!!state[stateName]},add:function(time){return time=parseFloat(time),duration+=time,last-=time,this},sub:function(time){return time=parseFloat(time),duration-=time,last+=time,this}};return disableAutoStart||timer.start(initConfig.startDuration),timer}return timerFactory}),define("tpl!taoQtiTest/runner/plugins/controls/timer/component/tpl/countdown",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){
this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",escapeExpression=this.escapeExpression;return buffer+='<div class="countdown" data-control="',(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-type="',(helper=helpers.type)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.type,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+'" data-scope="',(helper=helpers.scope)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.scope,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" title="',(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" disabled>\n    <span class="label truncate">',(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,
stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>\n    <span class="time"></span>\n</div>'})}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("lib/popper/popper",factory):global.Popper=factory()}(this,function(){"use strict";function microtaskDebounce(fn){var called=!1;return function(){called||(called=!0,window.Promise.resolve().then(function(){called=!1,fn()}))}}function taskDebounce(fn){var scheduled=!1;return function(){scheduled||(scheduled=!0,setTimeout(function(){scheduled=!1,fn()
},timeoutDuration))}}function isFunction(functionToCheck){var getType={};return functionToCheck&&"[object Function]"===getType.toString.call(functionToCheck)}function getStyleComputedProperty(element,property){if(1!==element.nodeType)return[];var window=element.ownerDocument.defaultView,css=window.getComputedStyle(element,null);return property?css[property]:css}function getParentNode(element){return"HTML"===element.nodeName?element:element.parentNode||element.host}function getScrollParent(element){if(!element)return document.body;switch(element.nodeName){case"HTML":case"BODY":return element.ownerDocument.body;case"#document":return element.body}
var _getStyleComputedProp=getStyleComputedProperty(element),overflow=_getStyleComputedProp.overflow,overflowX=_getStyleComputedProp.overflowX;return/(auto|scroll|overlay)/.test(overflow+_getStyleComputedProp.overflowY+overflowX)?element:getScrollParent(getParentNode(element))}function isIE(version){return 11===version?isIE11:10===version?isIE10:isIE11||isIE10}function getOffsetParent(element){if(!element)return document.documentElement;for(var noOffsetParent=isIE(10)?document.body:null,offsetParent=element.offsetParent||null;offsetParent===noOffsetParent&&element.nextElementSibling;)offsetParent=(element=element.nextElementSibling).offsetParent
;var nodeName=offsetParent&&offsetParent.nodeName;return nodeName&&"BODY"!==nodeName&&"HTML"!==nodeName?-1!==["TH","TD","TABLE"].indexOf(offsetParent.nodeName)&&"static"===getStyleComputedProperty(offsetParent,"position")?getOffsetParent(offsetParent):offsetParent:element?element.ownerDocument.documentElement:document.documentElement}function isOffsetContainer(element){var nodeName=element.nodeName;return"BODY"!==nodeName&&("HTML"===nodeName||getOffsetParent(element.firstElementChild)===element)}function getRoot(node){return null!==node.parentNode?getRoot(node.parentNode):node}function findCommonOffsetParent(element1,element2){
if(!(element1&&element1.nodeType&&element2&&element2.nodeType))return document.documentElement;var order=element1.compareDocumentPosition(element2)&Node.DOCUMENT_POSITION_FOLLOWING,start=order?element1:element2,end=order?element2:element1,range=document.createRange();range.setStart(start,0),range.setEnd(end,0);var commonAncestorContainer=range.commonAncestorContainer;if(element1!==commonAncestorContainer&&element2!==commonAncestorContainer||start.contains(end))return isOffsetContainer(commonAncestorContainer)?commonAncestorContainer:getOffsetParent(commonAncestorContainer);var element1root=getRoot(element1)
;return element1root.host?findCommonOffsetParent(element1root.host,element2):findCommonOffsetParent(element1,getRoot(element2).host)}function getScroll(element){var side=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",upperSide="top"===side?"scrollTop":"scrollLeft",nodeName=element.nodeName;if("BODY"===nodeName||"HTML"===nodeName){var html=element.ownerDocument.documentElement;return(element.ownerDocument.scrollingElement||html)[upperSide]}return element[upperSide]}function includeScroll(rect,element){
var subtract=arguments.length>2&&void 0!==arguments[2]&&arguments[2],scrollTop=getScroll(element,"top"),scrollLeft=getScroll(element,"left"),modifier=subtract?-1:1;return rect.top+=scrollTop*modifier,rect.bottom+=scrollTop*modifier,rect.left+=scrollLeft*modifier,rect.right+=scrollLeft*modifier,rect}function getBordersSize(styles,axis){var sideA="x"===axis?"Left":"Top",sideB="Left"===sideA?"Right":"Bottom";return parseFloat(styles["border"+sideA+"Width"],10)+parseFloat(styles["border"+sideB+"Width"],10)}function getSize(axis,body,html,computedStyle){
return Math.max(body["offset"+axis],body["scroll"+axis],html["client"+axis],html["offset"+axis],html["scroll"+axis],isIE(10)?parseInt(html["offset"+axis])+parseInt(computedStyle["margin"+("Height"===axis?"Top":"Left")])+parseInt(computedStyle["margin"+("Height"===axis?"Bottom":"Right")]):0)}function getWindowSizes(document){var body=document.body,html=document.documentElement,computedStyle=isIE(10)&&getComputedStyle(html);return{height:getSize("Height",body,html,computedStyle),width:getSize("Width",body,html,computedStyle)}}function getClientRect(offsets){return _extends({},offsets,{right:offsets.left+offsets.width,bottom:offsets.top+offsets.height})}
function getBoundingClientRect(element){var rect={};try{if(isIE(10)){rect=element.getBoundingClientRect();var scrollTop=getScroll(element,"top"),scrollLeft=getScroll(element,"left");rect.top+=scrollTop,rect.left+=scrollLeft,rect.bottom+=scrollTop,rect.right+=scrollLeft}else rect=element.getBoundingClientRect()}catch(e){}var result={left:rect.left,top:rect.top,width:rect.right-rect.left,height:rect.bottom-rect.top
},sizes="HTML"===element.nodeName?getWindowSizes(element.ownerDocument):{},width=sizes.width||element.clientWidth||result.right-result.left,height=sizes.height||element.clientHeight||result.bottom-result.top,horizScrollbar=element.offsetWidth-width,vertScrollbar=element.offsetHeight-height;if(horizScrollbar||vertScrollbar){var styles=getStyleComputedProperty(element);horizScrollbar-=getBordersSize(styles,"x"),vertScrollbar-=getBordersSize(styles,"y"),result.width-=horizScrollbar,result.height-=vertScrollbar}return getClientRect(result)}function getOffsetRectRelativeToArbitraryNode(children,parent){
var fixedPosition=arguments.length>2&&void 0!==arguments[2]&&arguments[2],isIE10=isIE(10),isHTML="HTML"===parent.nodeName,childrenRect=getBoundingClientRect(children),parentRect=getBoundingClientRect(parent),scrollParent=getScrollParent(children),styles=getStyleComputedProperty(parent),borderTopWidth=parseFloat(styles.borderTopWidth,10),borderLeftWidth=parseFloat(styles.borderLeftWidth,10);fixedPosition&&isHTML&&(parentRect.top=Math.max(parentRect.top,0),parentRect.left=Math.max(parentRect.left,0));var offsets=getClientRect({top:childrenRect.top-parentRect.top-borderTopWidth,left:childrenRect.left-parentRect.left-borderLeftWidth,width:childrenRect.width,
height:childrenRect.height});if(offsets.marginTop=0,offsets.marginLeft=0,!isIE10&&isHTML){var marginTop=parseFloat(styles.marginTop,10),marginLeft=parseFloat(styles.marginLeft,10);offsets.top-=borderTopWidth-marginTop,offsets.bottom-=borderTopWidth-marginTop,offsets.left-=borderLeftWidth-marginLeft,offsets.right-=borderLeftWidth-marginLeft,offsets.marginTop=marginTop,offsets.marginLeft=marginLeft}return(isIE10&&!fixedPosition?parent.contains(scrollParent):parent===scrollParent&&"BODY"!==scrollParent.nodeName)&&(offsets=includeScroll(offsets,parent)),offsets}function getViewportOffsetRectRelativeToArtbitraryNode(element){
var excludeScroll=arguments.length>1&&void 0!==arguments[1]&&arguments[1],html=element.ownerDocument.documentElement,relativeOffset=getOffsetRectRelativeToArbitraryNode(element,html),width=Math.max(html.clientWidth,window.innerWidth||0),height=Math.max(html.clientHeight,window.innerHeight||0),scrollTop=excludeScroll?0:getScroll(html),scrollLeft=excludeScroll?0:getScroll(html,"left");return getClientRect({top:scrollTop-relativeOffset.top+relativeOffset.marginTop,left:scrollLeft-relativeOffset.left+relativeOffset.marginLeft,width:width,height:height})}function isFixed(element){var nodeName=element.nodeName
;return"BODY"!==nodeName&&"HTML"!==nodeName&&("fixed"===getStyleComputedProperty(element,"position")||isFixed(getParentNode(element)))}function getFixedPositionOffsetParent(element){if(!element||!element.parentElement||isIE())return document.documentElement;for(var el=element.parentElement;el&&"none"===getStyleComputedProperty(el,"transform");)el=el.parentElement;return el||document.documentElement}function getBoundaries(popper,reference,padding,boundariesElement){var fixedPosition=arguments.length>4&&void 0!==arguments[4]&&arguments[4],boundaries={top:0,left:0
},offsetParent=fixedPosition?getFixedPositionOffsetParent(popper):findCommonOffsetParent(popper,reference);if("viewport"===boundariesElement)boundaries=getViewportOffsetRectRelativeToArtbitraryNode(offsetParent,fixedPosition);else{var boundariesNode=void 0;"scrollParent"===boundariesElement?(boundariesNode=getScrollParent(getParentNode(reference)),"BODY"===boundariesNode.nodeName&&(boundariesNode=popper.ownerDocument.documentElement)):boundariesNode="window"===boundariesElement?popper.ownerDocument.documentElement:boundariesElement;var offsets=getOffsetRectRelativeToArbitraryNode(boundariesNode,offsetParent,fixedPosition)
;if("HTML"!==boundariesNode.nodeName||isFixed(offsetParent))boundaries=offsets;else{var _getWindowSizes=getWindowSizes(popper.ownerDocument),height=_getWindowSizes.height,width=_getWindowSizes.width;boundaries.top+=offsets.top-offsets.marginTop,boundaries.bottom=height+offsets.top,boundaries.left+=offsets.left-offsets.marginLeft,boundaries.right=width+offsets.left}}padding=padding||0;var isPaddingNumber="number"==typeof padding;return boundaries.left+=isPaddingNumber?padding:padding.left||0,boundaries.top+=isPaddingNumber?padding:padding.top||0,boundaries.right-=isPaddingNumber?padding:padding.right||0,
boundaries.bottom-=isPaddingNumber?padding:padding.bottom||0,boundaries}function getArea(_ref){return _ref.width*_ref.height}function computeAutoPlacement(placement,refRect,popper,reference,boundariesElement){var padding=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===placement.indexOf("auto"))return placement;var boundaries=getBoundaries(popper,reference,padding,boundariesElement),rects={top:{width:boundaries.width,height:refRect.top-boundaries.top},right:{width:boundaries.right-refRect.right,height:boundaries.height},bottom:{width:boundaries.width,height:boundaries.bottom-refRect.bottom},left:{width:refRect.left-boundaries.left,
height:boundaries.height}},sortedAreas=Object.keys(rects).map(function(key){return _extends({key:key},rects[key],{area:getArea(rects[key])})}).sort(function(a,b){return b.area-a.area}),filteredAreas=sortedAreas.filter(function(_ref2){var width=_ref2.width,height=_ref2.height;return width>=popper.clientWidth&&height>=popper.clientHeight}),computedPlacement=filteredAreas.length>0?filteredAreas[0].key:sortedAreas[0].key,variation=placement.split("-")[1];return computedPlacement+(variation?"-"+variation:"")}function getReferenceOffsets(state,popper,reference){var fixedPosition=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null
;return getOffsetRectRelativeToArbitraryNode(reference,fixedPosition?getFixedPositionOffsetParent(popper):findCommonOffsetParent(popper,reference),fixedPosition)}function getOuterSizes(element){var window=element.ownerDocument.defaultView,styles=window.getComputedStyle(element),x=parseFloat(styles.marginTop)+parseFloat(styles.marginBottom),y=parseFloat(styles.marginLeft)+parseFloat(styles.marginRight);return{width:element.offsetWidth+y,height:element.offsetHeight+x}}function getOppositePlacement(placement){var hash={left:"right",right:"left",bottom:"top",top:"bottom"};return placement.replace(/left|right|bottom|top/g,function(matched){return hash[matched]})}
function getPopperOffsets(popper,referenceOffsets,placement){placement=placement.split("-")[0];var popperRect=getOuterSizes(popper),popperOffsets={width:popperRect.width,height:popperRect.height},isHoriz=-1!==["right","left"].indexOf(placement),mainSide=isHoriz?"top":"left",secondarySide=isHoriz?"left":"top",measurement=isHoriz?"height":"width",secondaryMeasurement=isHoriz?"width":"height";return popperOffsets[mainSide]=referenceOffsets[mainSide]+referenceOffsets[measurement]/2-popperRect[measurement]/2,
popperOffsets[secondarySide]=placement===secondarySide?referenceOffsets[secondarySide]-popperRect[secondaryMeasurement]:referenceOffsets[getOppositePlacement(secondarySide)],popperOffsets}function find(arr,check){return Array.prototype.find?arr.find(check):arr.filter(check)[0]}function findIndex(arr,prop,value){if(Array.prototype.findIndex)return arr.findIndex(function(cur){return cur[prop]===value});var match=find(arr,function(obj){return obj[prop]===value});return arr.indexOf(match)}function runModifiers(modifiers,data,ends){return(void 0===ends?modifiers:modifiers.slice(0,findIndex(modifiers,"name",ends))).forEach(function(modifier){
modifier.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var fn=modifier.function||modifier.fn;modifier.enabled&&isFunction(fn)&&(data.offsets.popper=getClientRect(data.offsets.popper),data.offsets.reference=getClientRect(data.offsets.reference),data=fn(data,modifier))}),data}function update(){if(!this.state.isDestroyed){var data={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};data.offsets.reference=getReferenceOffsets(this.state,this.popper,this.reference,this.options.positionFixed),
data.placement=computeAutoPlacement(this.options.placement,data.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),data.originalPlacement=data.placement,data.positionFixed=this.options.positionFixed,data.offsets.popper=getPopperOffsets(this.popper,data.offsets.reference,data.placement),data.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",data=runModifiers(this.modifiers,data),this.state.isCreated?this.options.onUpdate(data):(this.state.isCreated=!0,this.options.onCreate(data))}}function isModifierEnabled(modifiers,modifierName){
return modifiers.some(function(_ref){var name=_ref.name;return _ref.enabled&&name===modifierName})}function getSupportedPropertyName(property){for(var prefixes=[!1,"ms","Webkit","Moz","O"],upperProp=property.charAt(0).toUpperCase()+property.slice(1),i=0;i<prefixes.length;i++){var prefix=prefixes[i],toCheck=prefix?""+prefix+upperProp:property;if(void 0!==document.body.style[toCheck])return toCheck}return null}function destroy(){return this.state.isDestroyed=!0,isModifierEnabled(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",
this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[getSupportedPropertyName("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function getWindow(element){var ownerDocument=element.ownerDocument;return ownerDocument?ownerDocument.defaultView:window}function attachToScrollParents(scrollParent,event,callback,scrollParents){var isBody="BODY"===scrollParent.nodeName,target=isBody?scrollParent.ownerDocument.defaultView:scrollParent;target.addEventListener(event,callback,{passive:!0}),
isBody||attachToScrollParents(getScrollParent(target.parentNode),event,callback,scrollParents),scrollParents.push(target)}function setupEventListeners(reference,options,state,updateBound){state.updateBound=updateBound,getWindow(reference).addEventListener("resize",state.updateBound,{passive:!0});var scrollElement=getScrollParent(reference);return attachToScrollParents(scrollElement,"scroll",state.updateBound,state.scrollParents),state.scrollElement=scrollElement,state.eventsEnabled=!0,state}function enableEventListeners(){this.state.eventsEnabled||(this.state=setupEventListeners(this.reference,this.options,this.state,this.scheduleUpdate))}
function removeEventListeners(reference,state){return getWindow(reference).removeEventListener("resize",state.updateBound),state.scrollParents.forEach(function(target){target.removeEventListener("scroll",state.updateBound)}),state.updateBound=null,state.scrollParents=[],state.scrollElement=null,state.eventsEnabled=!1,state}function disableEventListeners(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=removeEventListeners(this.reference,this.state))}function isNumeric(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(n)}function setStyles(element,styles){Object.keys(styles).forEach(function(prop){var unit=""
;-1!==["width","height","top","right","bottom","left"].indexOf(prop)&&isNumeric(styles[prop])&&(unit="px"),element.style[prop]=styles[prop]+unit})}function setAttributes(element,attributes){Object.keys(attributes).forEach(function(prop){!1!==attributes[prop]?element.setAttribute(prop,attributes[prop]):element.removeAttribute(prop)})}function applyStyle(data){return setStyles(data.instance.popper,data.styles),setAttributes(data.instance.popper,data.attributes),data.arrowElement&&Object.keys(data.arrowStyles).length&&setStyles(data.arrowElement,data.arrowStyles),data}function applyStyleOnLoad(reference,popper,options,modifierOptions,state){
var referenceOffsets=getReferenceOffsets(state,popper,reference,options.positionFixed),placement=computeAutoPlacement(options.placement,referenceOffsets,popper,reference,options.modifiers.flip.boundariesElement,options.modifiers.flip.padding);return popper.setAttribute("x-placement",placement),setStyles(popper,{position:options.positionFixed?"fixed":"absolute"}),options}function computeStyle(data,options){var x=options.x,y=options.y,popper=data.offsets.popper,legacyGpuAccelerationOption=find(data.instance.modifiers,function(modifier){return"applyStyle"===modifier.name}).gpuAcceleration
;void 0!==legacyGpuAccelerationOption&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var gpuAcceleration=void 0!==legacyGpuAccelerationOption?legacyGpuAccelerationOption:options.gpuAcceleration,offsetParent=getOffsetParent(data.instance.popper),offsetParentRect=getBoundingClientRect(offsetParent),styles={position:popper.position},offsets={left:Math.floor(popper.left),top:Math.round(popper.top),bottom:Math.round(popper.bottom),right:Math.floor(popper.right)
},sideA="bottom"===x?"top":"bottom",sideB="right"===y?"left":"right",prefixedProperty=getSupportedPropertyName("transform"),left=void 0,top=void 0;if(top="bottom"===sideA?"HTML"===offsetParent.nodeName?-offsetParent.clientHeight+offsets.bottom:-offsetParentRect.height+offsets.bottom:offsets.top,left="right"===sideB?"HTML"===offsetParent.nodeName?-offsetParent.clientWidth+offsets.right:-offsetParentRect.width+offsets.right:offsets.left,gpuAcceleration&&prefixedProperty)styles[prefixedProperty]="translate3d("+left+"px, "+top+"px, 0)",styles[sideA]=0,styles[sideB]=0,styles.willChange="transform";else{
var invertTop="bottom"===sideA?-1:1,invertLeft="right"===sideB?-1:1;styles[sideA]=top*invertTop,styles[sideB]=left*invertLeft,styles.willChange=sideA+", "+sideB}var attributes={"x-placement":data.placement};return data.attributes=_extends({},attributes,data.attributes),data.styles=_extends({},styles,data.styles),data.arrowStyles=_extends({},data.offsets.arrow,data.arrowStyles),data}function isModifierRequired(modifiers,requestingName,requestedName){var requesting=find(modifiers,function(_ref){return _ref.name===requestingName}),isRequired=!!requesting&&modifiers.some(function(modifier){
return modifier.name===requestedName&&modifier.enabled&&modifier.order<requesting.order});if(!isRequired){var _requesting="`"+requestingName+"`",requested="`"+requestedName+"`";console.warn(requested+" modifier is required by "+_requesting+" modifier in order to work, be sure to include it before "+_requesting+"!")}return isRequired}function arrow(data,options){var _data$offsets$arrow;if(!isModifierRequired(data.instance.modifiers,"arrow","keepTogether"))return data;var arrowElement=options.element;if("string"==typeof arrowElement){if(!(arrowElement=data.instance.popper.querySelector(arrowElement)))return data
}else if(!data.instance.popper.contains(arrowElement))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),data;var placement=data.placement.split("-")[0],_data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,isVertical=-1!==["left","right"].indexOf(placement),len=isVertical?"height":"width",sideCapitalized=isVertical?"Top":"Left",side=sideCapitalized.toLowerCase(),altSide=isVertical?"left":"top",opSide=isVertical?"bottom":"right",arrowElementSize=getOuterSizes(arrowElement)[len]
;if(reference[opSide]-arrowElementSize<popper[side]&&(data.offsets.popper[side]-=popper[side]-(reference[opSide]-arrowElementSize)),reference[side]+arrowElementSize>popper[opSide]){var clientWidth=Math.max(document.documentElement.clientWidth,document.documentElement.innerWidth||0);clientWidth<popper[opSide]+arrowElementSize&&!isVertical?(data.offsets.popper[opSide]=clientWidth-2,data.offsets.popper[side]=data.offsets.popper[opSide]-data.popper.width):data.offsets.popper[side]+=reference[side]+arrowElementSize-popper[opSide]}data.offsets.popper=getClientRect(data.offsets.popper)
;var center=reference[side]+reference[len]/2-arrowElementSize/2,css=getStyleComputedProperty(data.instance.popper),popperMarginSide=parseFloat(css["margin"+sideCapitalized],10),popperBorderSide=parseFloat(css["border"+sideCapitalized+"Width"],10),sideValue=center-data.offsets.popper[side]-popperMarginSide-popperBorderSide;return sideValue=Math.max(Math.min(popper[len]-arrowElementSize,sideValue),0),data.arrowElement=arrowElement,data.offsets.arrow=(_data$offsets$arrow={},defineProperty(_data$offsets$arrow,side,Math.round(sideValue)),defineProperty(_data$offsets$arrow,altSide,""),_data$offsets$arrow),data}function getOppositeVariation(variation){
return"end"===variation?"start":"start"===variation?"end":variation}function clockwise(placement){var counter=arguments.length>1&&void 0!==arguments[1]&&arguments[1],index=validPlacements.indexOf(placement),arr=validPlacements.slice(index+1).concat(validPlacements.slice(0,index));return counter?arr.reverse():arr}function flip(data,options){if(isModifierEnabled(data.instance.modifiers,"inner"))return data;if(data.flipped&&data.placement===data.originalPlacement)return data
;var boundaries=getBoundaries(data.instance.popper,data.instance.reference,options.padding,options.boundariesElement,data.positionFixed),placement=data.placement.split("-")[0],placementOpposite=getOppositePlacement(placement),variation=data.placement.split("-")[1]||"",flipOrder=[];switch(options.behavior){case BEHAVIORS.FLIP:flipOrder=[placement,placementOpposite];break;case BEHAVIORS.CLOCKWISE:flipOrder=clockwise(placement);break;case BEHAVIORS.COUNTERCLOCKWISE:flipOrder=clockwise(placement,!0);break;default:flipOrder=options.behavior}return flipOrder.forEach(function(step,index){if(placement!==step||flipOrder.length===index+1)return data
;placement=data.placement.split("-")[0],placementOpposite=getOppositePlacement(placement)
;var popperOffsets=data.offsets.popper,refOffsets=data.offsets.reference,floor=Math.floor,overlapsRef="left"===placement&&floor(popperOffsets.right)>floor(refOffsets.left)||"right"===placement&&floor(popperOffsets.left)<floor(refOffsets.right)||"top"===placement&&floor(popperOffsets.bottom)>floor(refOffsets.top)||"bottom"===placement&&floor(popperOffsets.top)<floor(refOffsets.bottom),overflowsLeft=floor(popperOffsets.left)<floor(boundaries.left),overflowsRight=floor(popperOffsets.right)>floor(boundaries.right),overflowsTop=floor(popperOffsets.top)<floor(boundaries.top),overflowsBottom=floor(popperOffsets.bottom)>floor(boundaries.bottom),overflowsBoundaries="left"===placement&&overflowsLeft||"right"===placement&&overflowsRight||"top"===placement&&overflowsTop||"bottom"===placement&&overflowsBottom,isVertical=-1!==["top","bottom"].indexOf(placement),flippedVariation=!!options.flipVariations&&(isVertical&&"start"===variation&&overflowsLeft||isVertical&&"end"===variation&&overflowsRight||!isVertical&&"start"===variation&&overflowsTop||!isVertical&&"end"===variation&&overflowsBottom)
;(overlapsRef||overflowsBoundaries||flippedVariation)&&(data.flipped=!0,(overlapsRef||overflowsBoundaries)&&(placement=flipOrder[index+1]),flippedVariation&&(variation=getOppositeVariation(variation)),data.placement=placement+(variation?"-"+variation:""),data.offsets.popper=_extends({},data.offsets.popper,getPopperOffsets(data.instance.popper,data.offsets.reference,data.placement)),data=runModifiers(data.instance.modifiers,data,"flip"))}),data}function keepTogether(data){
var _data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,placement=data.placement.split("-")[0],floor=Math.floor,isVertical=-1!==["top","bottom"].indexOf(placement),side=isVertical?"right":"bottom",opSide=isVertical?"left":"top",measurement=isVertical?"width":"height";return popper[side]<floor(reference[opSide])&&(data.offsets.popper[opSide]=floor(reference[opSide])-popper[measurement]),popper[opSide]>floor(reference[side])&&(data.offsets.popper[opSide]=floor(reference[side])),data}function toValue(str,measurement,popperOffsets,referenceOffsets){var split=str.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),value=+split[1],unit=split[2]
;if(!value)return str;if(0===unit.indexOf("%")){var element=void 0;switch(unit){case"%p":element=popperOffsets;break;case"%":case"%r":default:element=referenceOffsets}return getClientRect(element)[measurement]/100*value}if("vh"===unit||"vw"===unit){return("vh"===unit?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*value}return value}function parseOffset(offset,popperOffsets,referenceOffsets,basePlacement){var offsets=[0,0],useHeight=-1!==["right","left"].indexOf(basePlacement),fragments=offset.split(/(\+|\-)/).map(function(frag){return frag.trim()
}),divider=fragments.indexOf(find(fragments,function(frag){return-1!==frag.search(/,|\s/)}));fragments[divider]&&-1===fragments[divider].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var splitRegex=/\s*,\s*|\s+/,ops=-1!==divider?[fragments.slice(0,divider).concat([fragments[divider].split(splitRegex)[0]]),[fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider+1))]:[fragments];return ops=ops.map(function(op,index){var measurement=(1===index?!useHeight:useHeight)?"height":"width",mergeWithPrevious=!1;return op.reduce(function(a,b){
return""===a[a.length-1]&&-1!==["+","-"].indexOf(b)?(a[a.length-1]=b,mergeWithPrevious=!0,a):mergeWithPrevious?(a[a.length-1]+=b,mergeWithPrevious=!1,a):a.concat(b)},[]).map(function(str){return toValue(str,measurement,popperOffsets,referenceOffsets)})}),ops.forEach(function(op,index){op.forEach(function(frag,index2){isNumeric(frag)&&(offsets[index]+=frag*("-"===op[index2-1]?-1:1))})}),offsets}function offset(data,_ref){var offset=_ref.offset,placement=data.placement,_data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,basePlacement=placement.split("-")[0],offsets=void 0
;return offsets=isNumeric(+offset)?[+offset,0]:parseOffset(offset,popper,reference,basePlacement),"left"===basePlacement?(popper.top+=offsets[0],popper.left-=offsets[1]):"right"===basePlacement?(popper.top+=offsets[0],popper.left+=offsets[1]):"top"===basePlacement?(popper.left+=offsets[0],popper.top-=offsets[1]):"bottom"===basePlacement&&(popper.left+=offsets[0],popper.top+=offsets[1]),data.popper=popper,data}function preventOverflow(data,options){var boundariesElement=options.boundariesElement||getOffsetParent(data.instance.popper);data.instance.reference===boundariesElement&&(boundariesElement=getOffsetParent(boundariesElement))
;var transformProp=getSupportedPropertyName("transform"),popperStyles=data.instance.popper.style,top=popperStyles.top,left=popperStyles.left,transform=popperStyles[transformProp];popperStyles.top="",popperStyles.left="",popperStyles[transformProp]="";var boundaries=getBoundaries(data.instance.popper,data.instance.reference,options.padding,boundariesElement,data.positionFixed);popperStyles.top=top,popperStyles.left=left,popperStyles[transformProp]=transform,options.boundaries=boundaries;var order=options.priority,popper=data.offsets.popper,check={primary:function(placement){var value=popper[placement];if("left"===placement){
var overlap=boundaries.width-(popper.left+popper.width);if(!options.escapeWithReference&&overlap<0){var padding=options.padding||0;value=boundaries.width-popper.width-padding}}return popper[placement]<boundaries[placement]&&!options.escapeWithReference&&(value=Math.max(popper[placement],boundaries[placement])),defineProperty({},placement,value)},secondary:function(placement){var mainSide="right"===placement?"left":"top",value=popper[mainSide];return popper[placement]>boundaries[placement]&&!options.escapeWithReference&&(value=Math.min(popper[mainSide],boundaries[placement]-("right"===placement?popper.width:popper.height))),defineProperty({},mainSide,value)}}
;return order.forEach(function(placement){var side=-1!==["left","top"].indexOf(placement)?"primary":"secondary";popper=_extends({},popper,check[side](placement))}),data.offsets.popper=popper,data}function shift(data){var placement=data.placement,basePlacement=placement.split("-")[0],shiftvariation=placement.split("-")[1];if(shiftvariation){var _data$offsets=data.offsets,reference=_data$offsets.reference,popper=_data$offsets.popper,isVertical=-1!==["bottom","top"].indexOf(basePlacement),side=isVertical?"left":"top",measurement=isVertical?"width":"height",shiftOffsets={start:defineProperty({},side,reference[side]),
end:defineProperty({},side,reference[side]+reference[measurement]-popper[measurement])};data.offsets.popper=_extends({},popper,shiftOffsets[shiftvariation])}return data}function hide(data){if(!isModifierRequired(data.instance.modifiers,"hide","preventOverflow"))return data;var refRect=data.offsets.reference,bound=find(data.instance.modifiers,function(modifier){return"preventOverflow"===modifier.name}).boundaries;if(refRect.bottom<bound.top||refRect.left>bound.right||refRect.top>bound.bottom||refRect.right<bound.left){if(!0===data.hide)return data;data.hide=!0,data.attributes["x-out-of-boundaries"]=""}else{if(!1===data.hide)return data;data.hide=!1,
data.attributes["x-out-of-boundaries"]=!1}return data}function inner(data){var placement=data.placement,basePlacement=placement.split("-")[0],_data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,isHoriz=-1!==["left","right"].indexOf(basePlacement),subtractLength=-1===["top","left"].indexOf(basePlacement);return popper[isHoriz?"left":"top"]=reference[basePlacement]-(subtractLength?popper[isHoriz?"width":"height"]:0),data.placement=getOppositePlacement(placement),data.offsets.popper=getClientRect(popper),data}
for(var isBrowser="undefined"!=typeof window&&"undefined"!=typeof document,longerTimeoutBrowsers=["Edge","Trident","Firefox"],timeoutDuration=0,i=0;i<longerTimeoutBrowsers.length;i+=1)if(isBrowser&&navigator.userAgent.indexOf(longerTimeoutBrowsers[i])>=0){timeoutDuration=1;break}var supportsMicroTasks=isBrowser&&window.Promise,debounce=supportsMicroTasks?microtaskDebounce:taskDebounce,isIE11=isBrowser&&!(!window.MSInputMethodContext||!document.documentMode),isIE10=isBrowser&&/MSIE 10/.test(navigator.userAgent),classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")
},createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),defineProperty=function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj
},_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},placements=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],validPlacements=placements.slice(3),BEHAVIORS={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},modifiers={shift:{order:100,enabled:!0,fn:shift},offset:{order:200,enabled:!0,fn:offset,offset:0},preventOverflow:{order:300,enabled:!0,fn:preventOverflow,
priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:keepTogether},arrow:{order:500,enabled:!0,fn:arrow,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:flip,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:inner},hide:{order:800,enabled:!0,fn:hide},computeStyle:{order:850,enabled:!0,fn:computeStyle,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:applyStyle,onLoad:applyStyleOnLoad,gpuAcceleration:void 0}},Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},
onUpdate:function(){},modifiers:modifiers},Popper=function(){function Popper(reference,popper){var _this=this,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};classCallCheck(this,Popper),this.scheduleUpdate=function(){return requestAnimationFrame(_this.update)},this.update=debounce(this.update.bind(this)),this.options=_extends({},Popper.Defaults,options),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=reference&&reference.jquery?reference[0]:reference,this.popper=popper&&popper.jquery?popper[0]:popper,this.options.modifiers={},
Object.keys(_extends({},Popper.Defaults.modifiers,options.modifiers)).forEach(function(name){_this.options.modifiers[name]=_extends({},Popper.Defaults.modifiers[name]||{},options.modifiers?options.modifiers[name]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(name){return _extends({name:name},_this.options.modifiers[name])}).sort(function(a,b){return a.order-b.order}),this.modifiers.forEach(function(modifierOptions){modifierOptions.enabled&&isFunction(modifierOptions.onLoad)&&modifierOptions.onLoad(_this.reference,_this.popper,_this.options,modifierOptions,_this.state)}),this.update();var eventsEnabled=this.options.eventsEnabled
;eventsEnabled&&this.enableEventListeners(),this.state.eventsEnabled=eventsEnabled}return createClass(Popper,[{key:"update",value:function(){return update.call(this)}},{key:"destroy",value:function(){return destroy.call(this)}},{key:"enableEventListeners",value:function(){return enableEventListeners.call(this)}},{key:"disableEventListeners",value:function(){return disableEventListeners.call(this)}}]),Popper}();return Popper.Utils=("undefined"!=typeof window?window:global).PopperUtils,Popper.placements=placements,Popper.Defaults=Defaults,Popper}),function(global,factory){
"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("./popper")):"function"==typeof define&&define.amd?define("lib/popper/tooltip",["./popper"],factory):global.Tooltip=factory(global.Popper)}(this,function(Popper){"use strict";function isFunction(functionToCheck){var getType={};return functionToCheck&&"[object Function]"===getType.toString.call(functionToCheck)}Popper=Popper&&Popper.hasOwnProperty("default")?Popper.default:Popper;var classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},createClass=function(){
function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])
}return target},DEFAULT_OPTIONS={container:!1,delay:0,html:!1,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0,arrowSelector:".tooltip-arrow, .tooltip__arrow",innerSelector:".tooltip-inner, .tooltip__inner"},_initialiseProps=function(){var _this6=this;this.show=function(){return _this6._show(_this6.reference,_this6.options)},this.hide=function(){return _this6._hide()},this.dispose=function(){return _this6._dispose()},this.toggle=function(){return _this6._isOpen?_this6.hide():_this6.show()},this.updateTitleContent=function(title){
return _this6._updateTitleContent(title)},this._events=[],this._setTooltipNodeEvent=function(evt,reference,delay,options){var relatedreference=evt.relatedreference||evt.toElement||evt.relatedTarget,callback=function callback(evt2){var relatedreference2=evt2.relatedreference||evt2.toElement||evt2.relatedTarget;_this6._tooltipNode.removeEventListener(evt.type,callback),reference.contains(relatedreference2)||_this6._scheduleHide(reference,options.delay,options,evt2)};return!!_this6._tooltipNode.contains(relatedreference)&&(_this6._tooltipNode.addEventListener(evt.type,callback),!0)}};return function(){function Tooltip(reference,options){
classCallCheck(this,Tooltip),_initialiseProps.call(this),options=_extends({},DEFAULT_OPTIONS,options),reference.jquery&&(reference=reference[0]),this.reference=reference,this.options=options;var events="string"==typeof options.trigger?options.trigger.split(" ").filter(function(trigger){return-1!==["click","hover","focus"].indexOf(trigger)}):[];this._isOpen=!1,this._popperOptions={},this._setEventListeners(reference,events,options)}return createClass(Tooltip,[{key:"_create",value:function(reference,template,title,allowHtml){var tooltipGenerator=window.document.createElement("div");tooltipGenerator.innerHTML=template.trim()
;var tooltipNode=tooltipGenerator.childNodes[0];tooltipNode.id="tooltip_"+Math.random().toString(36).substr(2,10),tooltipNode.setAttribute("aria-hidden","false");var titleNode=tooltipGenerator.querySelector(this.options.innerSelector);return this._addTitleContent(reference,title,allowHtml,titleNode),tooltipNode}},{key:"_addTitleContent",value:function(reference,title,allowHtml,titleNode){if(1===title.nodeType||11===title.nodeType)allowHtml&&titleNode.appendChild(title);else if(isFunction(title)){var titleText=title.call(reference);allowHtml?titleNode.innerHTML=titleText:titleNode.textContent=titleText
}else allowHtml?titleNode.innerHTML=title:titleNode.textContent=title}},{key:"_show",value:function(reference,options){if(this._isOpen&&!this._isOpening)return this;if(this._isOpen=!0,this._tooltipNode)return this._tooltipNode.style.visibility="visible",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.update(),this;var title=reference.getAttribute("title")||options.title;if(!title)return this;var tooltipNode=this._create(reference,options.template,title,options.html);reference.setAttribute("aria-describedby",tooltipNode.id);var container=this._findContainer(options.container,reference);return this._append(tooltipNode,container),
this._popperOptions=_extends({},options.popperOptions,{placement:options.placement}),this._popperOptions.modifiers=_extends({},this._popperOptions.modifiers,{arrow:{element:this.options.arrowSelector},offset:{offset:options.offset}}),options.boundariesElement&&(this._popperOptions.modifiers.preventOverflow={boundariesElement:options.boundariesElement}),this.popperInstance=new Popper(reference,tooltipNode,this._popperOptions),this._tooltipNode=tooltipNode,this}},{key:"_hide",value:function(){return this._isOpen?(this._isOpen=!1,this._tooltipNode.style.visibility="hidden",this._tooltipNode.setAttribute("aria-hidden","true"),this):this}},{key:"_dispose",
value:function(){var _this=this;return this._events.forEach(function(_ref){var func=_ref.func,event=_ref.event;_this.reference.removeEventListener(event,func)}),this._events=[],this._tooltipNode&&(this._hide(),this.popperInstance.destroy(),this.popperInstance.options.removeOnDestroy||(this._tooltipNode.parentNode.removeChild(this._tooltipNode),this._tooltipNode=null)),this}},{key:"_findContainer",value:function(container,reference){return"string"==typeof container?container=window.document.querySelector(container):!1===container&&(container=reference.parentNode),container}},{key:"_append",value:function(tooltipNode,container){var _this2=this
;container.appendChild(tooltipNode),setTimeout(function(){_this2._isOpen&&_this2.hide(),_this2.show()})}},{key:"_setEventListeners",value:function(reference,events,options){var _this3=this,directEvents=[],oppositeEvents=[];events.forEach(function(event){switch(event){case"hover":directEvents.push("mouseenter"),oppositeEvents.push("mouseleave");break;case"focus":directEvents.push("focus"),oppositeEvents.push("blur");break;case"click":directEvents.push("click"),oppositeEvents.push("click")}}),directEvents.forEach(function(event){var func=function(evt){!0!==_this3._isOpening&&(evt.usedByTooltip=!0,_this3._scheduleShow(reference,options.delay,options,evt))}
;_this3._events.push({event:event,func:func}),reference.addEventListener(event,func)}),oppositeEvents.forEach(function(event){var func=function(evt){!0!==evt.usedByTooltip&&_this3._scheduleHide(reference,options.delay,options,evt)};_this3._events.push({event:event,func:func}),reference.addEventListener(event,func),"click"===event&&options.closeOnClickOutside&&document.addEventListener("mousedown",function(e){if(_this3._isOpening){var popper=_this3.popperInstance.popper;reference.contains(e.target)||popper.contains(e.target)||func(e)}},!0)})}},{key:"_scheduleShow",value:function(reference,delay,options){var _this4=this;this._isOpening=!0
;var computedDelay=delay&&delay.show||delay||0;this._showTimeout=window.setTimeout(function(){return _this4._show(reference,options)},computedDelay)}},{key:"_scheduleHide",value:function(reference,delay,options,evt){var _this5=this;this._isOpening=!1;var computedDelay=delay&&delay.hide||delay||0;window.setTimeout(function(){if(window.clearTimeout(_this5._showTimeout),!1!==_this5._isOpen&&document.body.contains(_this5._tooltipNode)){if("mouseleave"===evt.type){if(_this5._setTooltipNodeEvent(evt,reference,delay,options))return}_this5._hide(reference,options)}},computedDelay)}},{key:"_updateTitleContent",value:function(title){
if(void 0===this._tooltipNode)return void(void 0!==this.options.title&&(this.options.title=title));var titleNode=this._tooltipNode.querySelector(this.options.innerSelector);this._clearTitleContent(titleNode,this.options.html,this.reference.getAttribute("title")||this.options.title),this._addTitleContent(this.reference,title,this.options.html,titleNode),this.options.title=title,this.popperInstance.update()}},{key:"_clearTitleContent",value:function(titleNode,allowHtml,lastTitle){1===lastTitle.nodeType||11===lastTitle.nodeType?allowHtml&&titleNode.removeChild(lastTitle):allowHtml?titleNode.innerHTML="":titleNode.textContent=""}}]),Tooltip}()}),
define("tpl!ui/tooltip/default",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",escapeExpression=this.escapeExpression;return buffer+='<div class="tooltip ',(helper=helpers.class)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.class,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" role="tooltip">\n    <div class="tooltip-arrow"></div>\n    <div class="tooltip-inner tooltip-body"></div>\n</div>'})}),
define("ui/tooltip",["jquery","lodash","core/dataattrhandler","lib/popper/popper","lib/popper/tooltip","tpl!ui/tooltip/default"],function($,_,DataAttrHandler,Popper,Tooltip,defaultTpl){"use strict";var themes=["dark","default","info","warning","error","success","danger"],themesMap={default:defaultTpl({class:"tooltip-plain"}),dark:defaultTpl({class:"tooltip-dark"}),error:defaultTpl({class:"tooltip-red"}),success:defaultTpl({class:"tooltip-green"}),info:defaultTpl({class:"tooltip-blue"}),warning:defaultTpl({class:"tooltip-orange"}),danger:defaultTpl({class:"tooltip-danger"})},defaultOptions={template:themesMap.default,html:!0,trigger:"hover focus",
popperOptions:{positionFixed:!0,placement:"auto",modifiers:{preventOverflow:{escapeWithReference:!1,enabled:!0,padding:6,boundariesElement:"viewport"}}}},checkHTMLInstance=function(el){return el instanceof Element||el instanceof HTMLDocument||el.jquery};return{lookup:function($container){var themeName,setTooltip=function(el,inst){$(el).data("$tooltip")&&($(el).data("$tooltip").dispose(),$(el).removeData("$tooltip")),$(el).data("$tooltip",inst)};if(!$container||!checkHTMLInstance($container))throw new TypeError("Tooltip should be connected to DOM Element");$("[data-tooltip]",$container).each(function(){
var opt,$content=DataAttrHandler.getTarget("tooltip",$(this));themeName=_.contains(themes,$(this).data("tooltip-theme"))?$(this).data("tooltip-theme"):"default",opt={template:themesMap[themeName]},$content.length&&(opt=_.merge(defaultOptions,opt,{title:$content[0]})),setTooltip(this,new Tooltip(this,opt))})},create:function(el,message,options){var calculatedOptions,themeName,template;if(calculatedOptions=options?_.merge(defaultOptions,options):defaultOptions,themeName=_.contains(themes,calculatedOptions.theme)?calculatedOptions.theme:"default",template={template:themesMap[themeName]},
!el&&!checkHTMLInstance(el))throw new TypeError("Tooltip should be connected to DOM Element");if(!message&&!checkHTMLInstance(el)&&"string"!=typeof message)throw new TypeError("Tooltip should have messsage to show");return new Tooltip(el,_.merge(calculatedOptions,template,{title:message}))},error:function(element,message,options){var theme={theme:"error"};return this.create(element,message,options?_.merge(theme,options):theme)},success:function(element,message,options){var theme={theme:"success"};return this.create(element,message,options?_.merge(theme,options):theme)},info:function(element,message,options){var theme={theme:"info"}
;return this.create(element,message,options?_.merge(theme,options):theme)},warning:function(element,message,options){var theme={theme:"warning"};return this.create(element,message,options?_.merge(theme,options):theme)},danger:function(element,message,options){var theme={theme:"danger"};return this.create(element,message,options?_.merge(theme,options):theme)}}}),define("css!taoQtiTest/runner/plugins/controls/timer/component/css/countdown",[],function(){}),
define("taoQtiTest/runner/plugins/controls/timer/component/countdown",["jquery","lodash","core/encoder/time","core/polling","core/timer","ui/component","tpl!taoQtiTest/runner/plugins/controls/timer/component/tpl/countdown","ui/tooltip","css!taoQtiTest/runner/plugins/controls/timer/component/css/countdown.css"],function($,_,timeEncoder,pollingFactory,timerFactory,component,countdownTpl,tooltip){"use strict";var defaults={showBeforeStart:!0,displayWarning:!0,polling:!0,frequency:500},warningTimeout={info:2e3,success:2e3,warning:4e3,danger:4e3,error:8e3};return function($container,config){var $time,countdown=component({update:function(remainingTime){
var encodedTime,warningId,warningMessage,self=this;return this.is("completed")||(this.remainingTime=remainingTime<=0?0:parseInt(remainingTime,10),this.is("rendered")&&this.is("running")&&(encodedTime=timeEncoder.encode(this.remainingTime/1e3),encodedTime!==this.encodedTime&&(this.encodedTime=encodedTime,$time.text(this.encodedTime)),this.warnings&&(warningId=_.findLastKey(this.warnings,function(warning){return warning&&!warning.shown&&warning.threshold>0&&warning.threshold>=self.remainingTime}))&&(this.warnings[warningId].shown=!0,
warningMessage=_.isFunction(this.warnings[warningId].message)?this.warnings[warningId].message(this.remainingTime):this.warnings[warningId].message,this.trigger("warn",warningMessage,this.warnings[warningId].level)),this.trigger("change",this.remainingTime,encodedTime)),0===this.remainingTime&&this.complete()),this},start:function(){return!this.is("rendered")||this.is("running")||this.is("completed")||(this.enable(),this.setState("running",!0),this.polling&&(this.polling.start(),this.is("started")?this.timer.resume():(this.setState("started",!0),this.timer.start())),this.trigger("start")),this},stop:function(){
return this.is("rendered")&&this.is("running")&&(this.setState("running",!1),this.polling&&(this.timer.pause(),this.polling.stop()),this.trigger("stop")),this},complete:function(){return this.is("rendered")&&this.is("running")&&!this.is("completed")&&(this.stop(),this.setState("completed",!0),this.trigger("complete end")),this}},defaults).on("init",function(){var self=this;this.remainingTime=this.config.remainingTime,this.config.warnings&&(this.warnings=_.sortBy(this.config.warnings,"threshold")),!0===this.config.polling&&this.config.frequency>0&&(this.timer=timerFactory({autoStart:!1}),this.polling=pollingFactory({action:function(){
var elapsed=self.timer.tick();self.update(self.remainingTime-elapsed)},interval:this.config.frequency,autoStart:!1})),this.render($container)}).on("render",function(){$time=$(".time",this.getElement()),!0===this.config.showBeforeStart&&$time.text(timeEncoder.encode(this.remainingTime/1e3))}).on("warn",function(message,level){var countdownTooltip;level=level||"warning",this.is("rendered")&&this.is("running")&&_.isString(message)&&!_.isEmpty(message)&&($time.removeClass("txt-success txt-info txt-warning txt-danger txt-error").addClass("txt-"+level),!0===this.config.displayWarning&&(countdownTooltip=tooltip.create(this.getElement(),message,{trigger:"manual",
theme:level,placement:"bottom"}),countdownTooltip.show(),setTimeout(function(){countdownTooltip.hide(),countdownTooltip.dispose()},warningTimeout[level]||2e3)))});return countdown.setTemplate(countdownTpl),_.defer(function(){countdown.init(config)}),countdown}}),define("tpl!taoQtiTest/runner/plugins/controls/timer/component/tpl/timerbox",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var helper,options,buffer="";return buffer+='\n    <a href="#" class="timer-toggler hidden" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Hide timers",options):helperMissing.call(depth0,"__","Hide timers",options)))+'"><span class="icon-clock"></span></a>\n    '}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;return buffer+='<div class="timer-box">\n    ',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.zenMode,null==stack1||!1===stack1?stack1:stack1.enabled),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+='\n    <div class="timer-wrapper">\n\n    </div>\n</div>'})}),define("css!taoQtiTest/runner/plugins/controls/timer/component/css/timerbox",[],function(){}),define("taoQtiTest/runner/plugins/controls/timer/component/timerbox",["jquery","lodash","i18n","core/promise","ui/component","ui/hider","taoQtiTest/runner/plugins/controls/timer/component/countdown","tpl!taoQtiTest/runner/plugins/controls/timer/component/tpl/timerbox","css!taoQtiTest/runner/plugins/controls/timer/component/css/timerbox.css"],function($,_,__,Promise,component,hider,countdownFactory,timerboxTpl){"use strict";var defaults={zenMode:{enabled:!0,startHidden:!1}};return function(config){
var $zenModeToggler,$countdownContainer,timerbox=component({update:function(timers){var self=this,updating=[],timerIdsToRemove=_.difference(_.keys(this.timers),_.keys(timers));return timerIdsToRemove.length&&_.forEach(timerIdsToRemove,function(timerId){updating.push(self.removeTimer(timerId))}),_.forEach(timers,function(timer,id){void 0===self.timers[id]?updating.push(self.addTimer(id,timer)):updating.push(self.updateTimer(id,timer))}),Promise.all(updating).then(function(results){return _.size(self.timers)>0?hider.show($zenModeToggler):hider.hide($zenModeToggler),self.trigger("update",results),results})},getTimers:function(){return this.timers},
addTimer:function(id,timer){var self=this;return this.is("rendered")&&void 0===this.timers[id]?new Promise(function(resolve){countdownFactory($countdownContainer,_.defaults(timer,{displayWarning:self.config.displayWarning})).on("render",function(){self.timers[id]=_.clone(timer),self.timers[id].countdown=this,self.trigger("timerchange","add",self.timers[id]),self.trigger("timeradd",self.timers[id]),resolve(self.timers[id])}).on("start",function(){self.trigger("timerstart",self.timers[id])}).on("stop",function(){self.trigger("timerstop",self.timers[id])}).on("end",function(){self.trigger("timerend",self.timers[id])}).on("change",function(value){
self.timers[id]&&(self.timers[id].remainingTime=value)}).spread(self,["error","change","warn"])}):Promise.resolve(!1)},updateTimer:function(id,timer){return this.is("rendered")&&void 0!==this.timers[id]?(this.timers[id].remainingTime=timer.remainingTime,this.timers[id].extraTime=timer.extraTime,_.isNumber(timer.remainingWithoutExtraTime)&&(this.timers[id].remainingWithoutExtraTime=timer.remainingWithoutExtraTime),this.timers[id].countdown&&this.timers[id].countdown.update(timer.remainingTime),this.trigger("timerchange","update",this.timers[id]),this.trigger("timerupdate",this.timers[id]),Promise.resolve(this.timers[id])):Promise.resolve(!1)},
removeTimer:function(id){var self=this;return this.is("rendered")&&void 0!==this.timers[id]?new Promise(function(resolve){var deindex=function(){var removed=_.omit(self.timers[id],"countdown");self.timers=_.omit(self.timers,id),self.trigger("timerchange","remove",removed),self.trigger("timerremove",removed),resolve(removed)};self.timers[id].countdown?self.timers[id].countdown.on("destroy",deindex).destroy():deindex()}):Promise.resolve()},start:function(){return _.forEach(this.timers,function(timer){timer.countdown&&timer.countdown.start()}),this},stop:function(){return _.forEach(this.timers,function(timer){timer.countdown&&timer.countdown.stop()}),this},
toggleZenMode:function(){return this.is("rendered")&&this.config.zenMode.enabled&&(this.is("zen")?(this.setState("zen",!1),$zenModeToggler.attr("title",__("Hide timers"))):(this.setState("zen",!0),$zenModeToggler.attr("title",__("Show timers"))),this.trigger("zenchange",this.is("zen"))),this}},defaults).on("init",function(){this.timers={}}).on("render",function(){var self=this,$element=this.getElement();$countdownContainer=$(".timer-wrapper",$element),this.config.zenMode.enabled&&($zenModeToggler=$(".timer-toggler",$element),self.setState("zen",!!self.config.zenMode.startHidden),$zenModeToggler.on("click",function(e){e.preventDefault(),self.toggleZenMode()
})),this.config.timers&&this.update(this.config.timers)});return timerbox.setTemplate(timerboxTpl),_.defer(function(){timerbox.init(config)}),timerbox}}),define("taoQtiTest/runner/plugins/controls/timer/timers",["lodash","i18n","moment","core/format","core/logger"],function(_,__,moment,format,loggerFactory){"use strict";var logger=loggerFactory("taoQtiTest/runner/plugins/controls/timer/timers"),scopes=["item","section","testPart","test"],scopeMapping={assessmentTest:"test",assessmentSection:"section",assessmentItemRef:"item"},getScope=function(value){return scopeMapping[value]?scopeMapping[value]:_.contains(scopes,value)?value:null},warningMessages={
item:__("Warning – You have %s remaining to complete this item."),section:__("Warning – You have %s remaining to complete this section."),testPart:__("Warning – You have %s remaining to complete this test part."),test:__("Warning – You have %s remaining to complete this test.")};return function(timeConstraints,isLinear,config){var timers={},constraintsWarnings=_.reduce(config.warnings,function(acc,warnings,qtiScope){var scope=getScope(qtiScope);return acc[scope]=_.map(warnings,function(value,key){return{threshold:1e3*parseInt(key,10),message:function(remainingTime){var displayRemaining=moment.duration(remainingTime/1e3,"seconds").humanize()
;return format(warningMessages[scope],displayRemaining)},level:value,shown:!1}}),acc},{}),buildTimer=function(type,constraintData){var timer=_.pick(constraintData,["label","scope","source","extraTime","qtiClassName"]);return timer.type=type,timer.allowLateSubmission=constraintData.allowLateSubmission,"min"===type?(timer.id=type+"-"+constraintData.scope+"-"+constraintData.source,timer.originalTime=1e3*constraintData.minTime,timer.remainingTime=1e3*constraintData.minTimeRemaining):(timer.id=constraintData.source,timer.originalTime=1e3*constraintData.maxTime,timer.remainingTime=1e3*constraintData.maxTimeRemaining),
timer.remainingWithoutExtraTime=timer.remainingTime,timer.extraTime&&(timer.extraTime.consumed=1e3*timer.extraTime.consumed,timer.extraTime.remaining=1e3*timer.extraTime.remaining,timer.extraTime.total=1e3*timer.extraTime.total,timer.total=timer.originalTime+timer.extraTime.total,timer.remainingTime+=timer.extraTime.remaining),"max"===type&&_.isArray(constraintsWarnings[timer.scope])&&(timer.warnings=constraintsWarnings[timer.scope]),timer};return _.forEach(timeConstraints,function(timeConstraint){var newTimer,constraintData=_.clone(timeConstraint);constraintData.scope=getScope(timeConstraint.scope||timeConstraint.qtiClassName),
constraintData.scope?!1===constraintData.minTime&&!1===constraintData.maxTime?logger.warning("Time constraint defined with no time, skipping"):config.guidedNavigation&&isLinear&&constraintData.maxTime&&constraintData.minTime&&constraintData.minTime===constraintData.maxTime&&constraintData.maxTime>0?(newTimer=buildTimer("locked",constraintData),timers[newTimer.id]=newTimer):(isLinear&&constraintData.minTime&&constraintData.minTime>0&&(newTimer=buildTimer("min",constraintData),timers[newTimer.id]=newTimer),constraintData.maxTime&&constraintData.maxTime>0&&(newTimer=buildTimer("max",constraintData),
timers[newTimer.id]=newTimer)):logger.warning("Wrong data, a time constraint should apply to a valid scope, skipping")}),logger.debug("Timers built from timeConstraints",timers),timers}}),define("taoQtiTest/runner/plugins/controls/timer/plugin",["jquery","lodash","core/promise","taoTests/runner/plugin","taoQtiTest/runner/plugins/controls/timer/strategy/strategyHandler","taoQtiTest/runner/plugins/controls/timer/component/timerbox","taoQtiTest/runner/plugins/controls/timer/timers"],function($,_,Promise,pluginFactory,getStrategyHandler,timerboxFactory,timersFactory){"use strict";return pluginFactory({name:"timer",install:function(){
var testRunner=this.getTestRunner();this.loadTimers=function(timeStore,config){var testContext=testRunner.getTestContext(),timeConstraints=testContext.timeConstraints,isLinear=!!testContext.isLinear,timers=timersFactory(timeConstraints,isLinear,config);return Promise.all(_.map(timers,function(timer){return timeStore.getItem("consumed_"+timer.id).then(function(savedConsumedTime){_.isNumber(savedConsumedTime)&&savedConsumedTime>=0&&config.restoreTimerFromClient&&(timer.remainingTime=timer.originalTime+timer.extraTime.total-savedConsumedTime)})})).then(function(){return timers})},this.saveTimers=function(timeStore,timers){
return Promise.all(_.map(timers,function(timer){return timeStore.setItem("consumed_"+timer.id,timer.originalTime+timer.extraTime.total-timer.remainingTime)}))},testRunner.getTestStore().setVolatile(this.getName())},init:function(){var self=this,testRunner=this.getTestRunner(),testData=testRunner.getTestData(),config=_.merge({},this.getConfig(),{contextualWarnings:!1,warnings:testData&&testData.config&&testData.config.timerWarning||{},guidedNavigation:testData&&testData.config&&testData.config.guidedNavigation,restoreTimerFromClient:testData&&testData.config&&testData.config.timer.restoreTimerFromClient
}),strategyHandler=getStrategyHandler(testRunner),handleError=function(err){testRunner.trigger("error",err)};return new Promise(function(resolve){return testRunner.getPluginStore(self.getName()).then(function(timeStore){testRunner.before("renderitem resumeitem",function(){var testContext=testRunner.getTestContext();if(self.timerbox&&testContext.timeConstraints)return self.loadTimers(timeStore,config).then(function(timers){return self.timerbox.update(timers)}).catch(handleError)}).on("enableitem",function(){self.timerbox&&self.timerbox.start()}).after("renderitem",function(){self.timerbox&&self.timerbox.start()}).on("disableitem move skip",function(){
self.timerbox&&self.timerbox.stop()}),timeStore.getItem("zen-mode").then(function(startZen){self.timerbox=timerboxFactory({zenMode:{enabled:!0,startHidden:!!startZen},displayWarning:config.contextualWarnings}).on("change",_.throttle(function(){self.saveTimers(timeStore,this.getTimers())},1e3)).on("timeradd",function(timer){strategyHandler.setUp(timer).catch(handleError)}).on("timerremove",function(timer){strategyHandler.tearDown(timer).catch(handleError)}).on("timerstart",function(timer){strategyHandler.start(timer).catch(handleError)}).on("timerstop",function(timer){strategyHandler.stop(timer).catch(handleError)}).on("timerend",function(timer){
strategyHandler.complete(timer).catch(handleError)}).on("timerchange",function(action,timer){self.trigger(action+"timer",timer.qtiClassName,timer)}).on("zenchange",function(isZen){timeStore.setItem("zen-mode",!!isZen)}).on("init",resolve).on("error",handleError),config.contextualWarnings||self.timerbox.on("warn",function(message,level){level&&message&&testRunner.trigger(level,message)})}).catch(handleError)})})},render:function(){this.timerbox.render(this.getAreaBroker().getControlArea())},destroy:function(){this.timerbox&&this.timerbox.stop().destroy()},show:function(){this.timerbox&&this.timerbox.show()},hide:function(){this.timerbox&&this.timerbox.hide()}
})}),define("taoQtiTest/runner/plugins/controls/progressbar/progress",["lodash","i18n","core/format","taoQtiTest/runner/helpers/map"],function(_,__,format,mapHelper){"use strict";function getFixedMap(testMap,testContext){var item;return testContext.itemAnswered&&testContext.isLinear&&(testMap=_.cloneDeep(testMap),item=mapHelper.getItemAt(testMap,testContext.itemPosition),item.answered=!1),testMap}function getEmptyStats(){return{position:0,reached:0,viewed:0,completed:0,total:0}}function updateStats(stats,element,position){element.position<=position&&stats.position++,element.stats.viewed&&(stats.reached++,
element.stats.viewed===element.stats.total&&stats.viewed++),element.stats.answered&&element.stats.answered===element.stats.questions&&stats.completed++,stats.total++}function updateItemStats(stats,element,position){element.position<=position&&stats.position++,element.viewed&&(stats.reached++,stats.viewed++),element.answered&&stats.completed++,stats.total++}function getCategoriesToMatch(categories){return categories&&categories.length&&_.reduce(categories,function(map,category){return map[category]=!0,map},{})}function getProgressStats(testMap,testContext,config,scope){
var categoriesToMatch,matchSize,fixedMap=getFixedMap(testMap,testContext),scopedMap=mapHelper.getScopeMap(fixedMap,testContext.itemPosition,scope),stats=_.clone(scopedMap.stats);return"categories"===config.indicator&&(categoriesToMatch=getCategoriesToMatch(config.categories),matchSize=config.categories&&config.categories.length,stats.matchedCategories=getEmptyStats()),stats.parts=getEmptyStats(),stats.sections=getEmptyStats(),stats.answerableParts=getEmptyStats(),stats.answerableSections=getEmptyStats(),_.forEach(scopedMap.parts,function(part){updateStats(stats.parts,part,testContext.itemPosition),
part.stats.questions>0&&updateStats(stats.answerableParts,part,testContext.itemPosition),_.forEach(part.sections,function(section){updateStats(stats.sections,section,testContext.itemPosition),section.stats.questions>0&&updateStats(stats.answerableSections,section,testContext.itemPosition),"categories"===config.indicator&&_.forEach(section.items,function(item){matchCategories(item.categories,categoriesToMatch,matchSize)&&updateItemStats(stats.matchedCategories,item,testContext.itemPosition)})})}),stats}function matchCategories(categories,expectedCategories,minWanted){var matched=0;return expectedCategories&&_.forEach(categories,function(category){
if(expectedCategories[category]&&++matched>=minWanted)return!1}),matched===minWanted}function getRatio(position,total){return position&&total>0?Math.floor(position/total*100):0}function getProgressionLabel(position,total,type,config){var patterns=labels[type]||labels.item,pattern=config.showTotal?patterns.long:patterns.short;return format(pattern,position||"0",total||"0")}function getPositionProgression(position,total,type,config){return{position:position||0,total:total||0,ratio:getRatio(position,total),label:getProgressionLabel(position,total,type,config)}}function getRatioProgression(position,total){var ratio=getRatio(position,total);return{
position:position||0,total:total||0,ratio:ratio,label:ratio+"%"}}var defaultConfig={scope:"test",indicator:"percentage",showTotal:!0,categories:[]},labels={item:{long:__("Item %d of %d"),short:__("Item %d")},section:{long:__("Section %d of %d"),short:__("Section %d")}},scopes={test:function(testMap,testContext,config){var stats=getProgressStats(testMap,testContext,config,"test"),item=mapHelper.getItemAt(testMap,testContext.itemPosition);return stats.position=item.position+1,stats},testPart:function(testMap,testContext,config){var stats=getProgressStats(testMap,testContext,config,"testPart"),item=mapHelper.getItemAt(testMap,testContext.itemPosition)
;return stats.position=item.positionInPart+1,stats},testSection:function(testMap,testContext,config){var stats=getProgressStats(testMap,testContext,config,"testSection"),item=mapHelper.getItemAt(testMap,testContext.itemPosition);return stats.position=item.positionInSection+1,stats}},indicators={percentage:function(stats){return getRatioProgression(stats.answered,stats.questions)},position:function(stats,config){return getPositionProgression(stats.position,stats.total,"item",config)},questions:function(stats,config){return getPositionProgression(stats.questionsViewed,stats.questions,"item",config)},sections:function(stats,config){
return getPositionProgression(stats.answerableSections.reached,stats.answerableSections.total,"section",config)},categories:function(stats,config){return getPositionProgression(stats.matchedCategories.position,stats.matchedCategories.total,"item",config)}};return{isMatchedCategories:function(categories,expectedCategories){return matchCategories(categories,getCategoriesToMatch(expectedCategories),expectedCategories&&expectedCategories.length)},computeStats:function(testMap,testContext,config){var statsComputer=config.scope&&scopes[config.scope]||scopes.test,stats=statsComputer(testMap,testContext,config||defaultConfig)
;return stats.overallCompleted=testContext.numberCompleted,stats.overall=testContext.numberItems,stats},computeIndicator:function(stats,type,config){return(type&&indicators[type]||indicators.percentage)(stats||{},config||defaultConfig)},computeProgress:function(testMap,testContext,config){var progressData;return config=_.defaults(config||{},defaultConfig),progressData=this.computeStats(testMap,testContext,config),this.computeIndicator(progressData,config.indicator,config)}}}),define("tpl!taoQtiTest/runner/plugins/controls/progressbar/renderer/percentage",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){
return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{},'<div class="progress-box">\n    <div data-control="progress-bar" class="qti-controls progressbar info"></div>\n    <div data-control="progress-label" class="qti-controls"></div>\n</div>'})}),define("ui/progressbar",["jquery","lodash","core/pluginifier"],function($,_,Pluginifier){"use strict";var ns="progressbar",dataNs="ui."+ns,defaults={disableClass:"disabled",style:"info",value:0,showProgress:!1},progressBar={init:function(options){return options=_.defaults(options||{},defaults),this.each(function(){var $pgElt,percent,$elt=$(this)
;$elt.data(dataNs)||(options.value=parseInt(options.value,10),$elt.data(dataNs,options),percent=options.value+"%",$pgElt=$("<span></span>").width(percent).attr("title",percent),options.showProgress&&$pgElt.text(percent),$elt.addClass("progressbar").addClass(options.style).empty().append($pgElt),$elt.trigger("create."+ns))})},_update:function($elt,value){var $pgElt,percent,options=$elt.data(dataNs);(value=parseInt(value,10))>=0&&value<=100&&(percent=value+"%",$pgElt=$elt.children("span"),$pgElt.width(value+"%").attr("title",percent),options.showProgress&&$pgElt.text(percent),options.value=value,$elt.data(dataNs,options),$elt.trigger("update."+ns,value))},
_value:function($elt,value){var options=$elt.data(dataNs);return void 0!==value?progressBar._update($elt,value):options.value},destroy:function(){return this.each(function(){var $elt=$(this);$elt.data(dataNs)&&($elt.removeClass("progressbar").empty().removeData(dataNs),$elt.trigger("destroy."+ns))})}};Pluginifier.register(ns,progressBar,{expose:["update","value"]})}),define("taoQtiTest/runner/plugins/controls/progressbar/renderer/percentage",["ui/component","tpl!taoQtiTest/runner/plugins/controls/progressbar/renderer/percentage","ui/progressbar"],function(component,percentageTpl){"use strict";var defaults={showLabel:!0};return function(config,progressData){
return component({update:function(data){progressData=data,this.is("rendered")&&this.controls&&(this.controls.$label.text(progressData.label),this.controls.$bar.progressbar("value",progressData.ratio)),this.trigger("update",data)}},defaults).setTemplate(percentageTpl).on("render",function(){this.controls={$label:this.getElement().find('[data-control="progress-label"]'),$bar:this.getElement().find('[data-control="progress-bar"]')},this.config.showLabel||this.controls.$label.hide(),this.controls.$bar.progressbar(),progressData&&this.update(progressData),this.is("hidden")&&this.hide()}).on("destroy",function(){this.controls=null}).init(config)}}),
define("tpl!taoQtiTest/runner/plugins/controls/progressbar/renderer/position",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{},'<div class="progress-box">\n    <div data-control="progress-bar" class="qti-controls progressbar">\n        <div class="progressbar-points"></div>\n    </div>\n    <div data-control="progress-label" class="qti-controls"></div>\n</div>'})}),define("tpl!taoQtiTest/runner/plugins/controls/progressbar/renderer/position-point",["handlebars"],function(hb){
return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var buffer="";return buffer+='\n<span class="progressbar-point" data-index="'+escapeExpression(typeof depth0===functionType?depth0.apply(depth0):depth0)+'"></span>\n'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,functionType="function",escapeExpression=this.escapeExpression,self=this;return stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),stack1||0===stack1?stack1:""})}),
define("taoQtiTest/runner/plugins/controls/progressbar/renderer/position",["lodash","ui/component","tpl!taoQtiTest/runner/plugins/controls/progressbar/renderer/position","tpl!taoQtiTest/runner/plugins/controls/progressbar/renderer/position-point"],function(_,component,positionTpl,pointTpl){"use strict";var defaults={showLabel:!0};return function(config,progressData){var count=0;return component({update:function(data){progressData=data,this.is("rendered")&&this.controls&&(count!==progressData.total&&(count=progressData.total,this.controls.$bar.empty().append(pointTpl(_.range(count)))),this.controls.$label.text(progressData.label),
this.controls.$bar.children().removeClass("reached current").slice(0,progressData.position).addClass("reached").slice(-1).addClass("current")),this.trigger("update",data)}},defaults).setTemplate(positionTpl).on("render",function(){this.controls={$label:this.getElement().find('[data-control="progress-label"]'),$bar:this.getElement().find('[data-control="progress-bar"] .progressbar-points')},this.config.showLabel||this.controls.$label.hide(),progressData&&this.update(progressData),this.is("hidden")&&this.hide()}).on("destroy",function(){this.controls=null}).init(config)}}),
define("taoQtiTest/runner/plugins/controls/progressbar/progressbar",["lodash","taoTests/runner/plugin","taoQtiTest/runner/helpers/map","taoQtiTest/runner/plugins/controls/progressbar/progress","taoQtiTest/runner/plugins/controls/progressbar/renderer/percentage","taoQtiTest/runner/plugins/controls/progressbar/renderer/position"],function(_,pluginFactory,mapHelper,progressHelper,percentageRendererFactory,positionRendererFactory){"use strict";var renderers={percentage:percentageRendererFactory,position:positionRendererFactory};return pluginFactory({name:"progressBar",init:function(){
var testRunner=this.getTestRunner(),testData=testRunner.getTestData(),config=_.defaults(this.getConfig(),testData.config.progressIndicator||{}),self=this,rendererFactory=renderers[config.renderer]||renderers.percentage,progressConfig={indicator:config.type||"percentage",scope:config.scope||"test",showLabel:config.showLabel,showTotal:config.showTotal,categories:config.categories},hiddenByQuestions=function(item){return item&&item.informational&&"questions"===progressConfig.indicator},hiddenByCategories=function(item){return item&&"categories"===progressConfig.indicator&&!progressHelper.isMatchedCategories(item.categories,progressConfig.categories)
},isProgressbarHidden=function(item){return hiddenByQuestions(item)||hiddenByCategories(item)},update=function(){var testContext=testRunner.getTestContext(),testMap=testRunner.getTestMap(),item=mapHelper.getItemAt(testMap,testContext.itemPosition);isProgressbarHidden(item)?self.renderer.hide():(self.renderer.show(),self.renderer.update(progressHelper.computeProgress(testMap,testContext,progressConfig)))};this.renderer=rendererFactory(progressConfig),update(),testRunner.on("ready loaditem",update)},render:function(){var $container=this.getAreaBroker().getControlArea();this.renderer.render($container)},destroy:function(){this.renderer&&this.renderer.destroy(),
this.renderer=null},show:function(){this.renderer&&this.renderer.show()},hide:function(){this.renderer&&this.renderer.hide()}})}),define("taoQtiTest/runner/plugins/controls/duration/duration",["lodash","core/polling","core/timer","core/promise","taoTests/runner/plugin"],function(_,pollingFactory,timerFactory,Promise,pluginFactory){"use strict";return pluginFactory({name:"duration",install:function(){this.getTestRunner().getTestStore().setVolatile(this.getName())},init:function(){var self=this,testRunner=this.getTestRunner();return testRunner.getPluginStore(this.getName()).then(function(durationStore){function getItemDuration(attemptId){
return/^(.*)+#+\d+$/.test(attemptId)?durationStore.getItem(attemptId):Promise.reject(new Error('Is it really an attempt id, like "itemid#attempt"'))}self.stopwatch=timerFactory({autoStart:!1}),self.polling=pollingFactory({action:function(){var context=testRunner.getTestContext(),itemAttemptId=context.itemIdentifier+"#"+context.attempt;durationStore.getItem(itemAttemptId).then(function(duration){var elapsed=self.stopwatch.tick();duration=_.isNumber(duration)?duration:0,elapsed=_.isNumber(elapsed)&&elapsed>0?elapsed/1e3:0,durationStore.setItem(itemAttemptId,duration+elapsed)})},interval:1e3,autoStart:!1}),testRunner.after("renderitem",function(){self.enable()
}).on("enableitem",function(){self.enable()}).before("move skip exit timeout",function(){var context=testRunner.getTestContext();return getItemDuration(context.itemIdentifier+"#"+context.attempt).then(function(duration){var params={itemDuration:0};_.isNumber(duration)&&duration>0&&(params.itemDuration=duration),testRunner.getProxy().addCallActionParams(params)})}).on("move skip exit timeout error disableitem",function(){self.disable()}).on("plugin-get.duration",function(e,attemptId,getDuration){_.isFunction(getDuration)&&getDuration(getItemDuration(attemptId))})})},destroy:function(){this.polling.stop(),this.stopwatch.stop()},enable:function(){
this.getState("enabled")||(this.polling.start(),this.stopwatch.resume())},disable:function(){this.getState("enabled")&&(this.polling.stop(),this.stopwatch.pause())}})}),define("css!ui/waitingDialog/css/waitingDialog",[],function(){}),define("ui/waitingDialog/waitingDialog",["jquery","lodash","i18n","ui/component","ui/dialog","css!ui/waitingDialog/css/waitingDialog"],function($,_,__,component,dialog){"use strict";var defaultConfig={message:__("Waiting"),waitContent:__("Please wait while ..."),waitButtonText:__("Please wait"),waitButtonIcon:"clock",proceedContent:__("Wait is over"),proceedButtonText:__("Proceed"),showSecondary:!1};return function(config){
var $button,$secondaryButton,$betweenButtonsText,$content,waitingDialog=component({beginWait:function(){return this.is("waiting")||(this.setState("waiting",!0),$content.text(this.config.waitContent),$button.prop("disabled",!0).find(".label").text(this.config.waitButtonText).end().find("[class^='icon-']").removeClass("hidden"),config.showSecondary&&($secondaryButton.removeProp("disabled"),$secondaryButton.removeClass("hidden"),this.config.buttonSeparatorText&&$betweenButtonsText.removeClass("hidden")),this.trigger("wait")),this},endWait:function(){return this.is("waiting")&&(this.setState("waiting",!1),$content.text(this.config.proceedContent),
$button.removeProp("disabled").find(".label").text(this.config.proceedButtonText).end().find("[class^='icon-']").addClass("hidden"),config.showSecondary&&($secondaryButton.prop("disabled",!0),$secondaryButton.addClass("hidden"),this.config.buttonSeparatorText&&$betweenButtonsText.addClass("hidden")),this.trigger("unwait")),this},destroy:function(){return this.dialog&&this.dialog.destroy(),this.trigger("destroy")}},defaultConfig).on("init",function(){var self=this,buttons=[{id:"waiting",type:"info",icon:this.config.waitButtonIcon,label:this.config.waitButtonText,close:!0}];this.config.showSecondary&&this.config.secondaryButtonText&&buttons.push({
id:"secondary",type:"info",icon:this.config.secondaryButtonIcon,label:this.config.secondaryButtonText,close:!1}),this.dialog=dialog({message:this.config.message,content:this.config.waitContent||"",width:this.config.width,autoRender:!1,disableClosing:!0,disableEscape:!0,buttons:buttons}),$content=$(".content",this.dialog.getDom()),$button=$('[data-control="waiting"]',this.dialog.getDom()),this.config.showSecondary&&(this.dialog.getDom().addClass("has-secondary"),$secondaryButton=$('[data-control="secondary"]',this.dialog.getDom()),$secondaryButton.on("click",function(){self.trigger("secondaryaction")}),
this.config.buttonSeparatorText&&($betweenButtonsText=$("<span>").text(__("or")).addClass("between-buttons-text").insertBefore($secondaryButton))),this.beginWait(),this.render()}).on("render",function(){var self=this;this.dialog.on("closed.modal",function(){self.is("waiting")||self.trigger("proceed")}).render(this.config.container||"body")});return _.defer(function(){waitingDialog.init(config||{})}),waitingDialog}}),define("tpl!taoQtiTest/runner/plugins/controls/connectivity/connectivity",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],
helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing;return buffer+='<div class="connectivity-box ',(helper=helpers.state)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.state,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\n    <span data-control="connectivity-connected" class="qti-controls icon-connect" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Connected to server",options):helperMissing.call(depth0,"__","Connected to server",options)))+'"></span>\n    <span data-control="connectivity-disconnected" class="qti-controls icon-disconnect" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Disconnected from server",options):helperMissing.call(depth0,"__","Disconnected from server",options)))+'"></span>\n</div>'})}),
define("taoQtiTest/runner/plugins/controls/connectivity/connectivity",["jquery","lodash","i18n","core/promise","core/polling","ui/waitingDialog/waitingDialog","taoTests/runner/plugin","tpl!taoQtiTest/runner/plugins/controls/connectivity/connectivity"],function($,_,__,Promise,pollingFactory,waitingDialog,pluginFactory,connectivityTpl){"use strict";var defaultConfig={checkInterval:3e4,indicator:!0};return pluginFactory({name:"connectivity",init:function(){var self=this,testRunner=this.getTestRunner(),proxy=testRunner.getProxy(),config=_.defaults(this.getConfig()||{},defaultConfig);config&&config.indicator&&(this.$element=$(connectivityTpl({
state:proxy.isOnline()?"connected":"disconnected"})),testRunner.on("disconnect",function(){self.$element.removeClass("connected").addClass("disconnected")}).on("reconnect",function(){self.$element.removeClass("disconnected").addClass("connected")})),this.polling&&_.isNumber(config.checkInterval)&&this.polling.setInterval(config.checkInterval)},install:function(){var self=this,waiting=!1,testRunner=this.getTestRunner(),proxy=testRunner.getProxy();this.displayWaitingDialog=function(message){var dialog;return new Promise(function(resolve){waiting||(waiting=!0,testRunner.before("pause.waiting",function(){return new Promise(function(pauseResolve){
proxy.off("reconnect.pausing").after("reconnect.pausing",pauseResolve)})}),dialog=waitingDialog({message:__("You are encountering a prolonged connectivity loss. ")+message,waitContent:__("Please wait while we try to restore the connection."),proceedContent:__("The connection seems to be back, please proceed")}).on("proceed",function(){resolve()}).on("render",function(){proxy.off("reconnect.waiting").after("reconnect.waiting",function(){testRunner.off("pause.waiting"),waiting=!1,dialog.endWait()})}))})},this.polling=pollingFactory({action:function(){testRunner.getProxy().telemetry(testRunner.getTestContext().itemIdentifier,"up").catch(_.noop)},
interval:defaultConfig.checkInterval,autoStart:!1}),proxy.on("disconnect",function(source){testRunner.getState("disconnected")||(testRunner.setState("disconnected",!0),testRunner.trigger("disconnect",source),self.polling.start())}).on("reconnect",function(){testRunner.getState("disconnected")&&(testRunner.setState("disconnected",!1),testRunner.trigger("reconnect"),self.polling.stop())}),testRunner.before("leave",function(e,data){if(proxy.isOffline())return self.displayWaitingDialog(data.message).then(function(){testRunner.trigger("leave",data)}).catch(function(generalErr){testRunner.trigger("error",generalErr)}),!1}),
testRunner.before("error.connectivity",function(e,err){return!proxy.isConnectivityError(err)&&(proxy.isOffline()?(self.displayWaitingDialog(err.message).then(function(){"nav"===err.type&&testRunner.loadItem(testRunner.getTestContext().itemIdentifier),"finish"===err.type&&testRunner.finish(),"pause"===err.type&&testRunner.trigger("pause",{reasons:err.data&&err.data.reasons,message:err.data&&err.data.comment})}).catch(function(generalErr){testRunner.trigger("error",generalErr)}),!1):void 0)})},render:function(){var $container=this.getAreaBroker().getControlArea();this.$element&&$container.append(this.$element)}})}),
define("taoQtiTest/runner/plugins/controls/testState/testState",["lodash","taoTests/runner/plugin"],function(_,pluginFactory){"use strict";return pluginFactory({name:"testState",install:function(){var testRunner=this.getTestRunner();testRunner.getProxy().use(function(req,res,next){var data=res&&res.data;if(data&&data.type&&"TestState"===data.type&&!testRunner.getState("closedOrSuspended"))return testRunner.setState("closedOrSuspended",!0),void(testRunner.getState("ready")?!_.isEmpty(data.messages)&&_.find(data.messages,{channel:"teststate"})||testRunner.trigger("leave",data):testRunner.trigger("destroy"));next()})},init:function(){
var testRunner=this.getTestRunner(),isLeaving=!1;testRunner.getProxy().channel("teststate",function(data){isLeaving||!data||"close"!==data.type&&"pause"!==data.type||testRunner.getState("closedOrSuspended")||(isLeaving=!0,testRunner.setState("closedOrSuspended",!0),testRunner.trigger("leave",data))})}})}),define("tpl!taoQtiTest/runner/plugins/navigation/review/navigator",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){return" hidden"}function program3(depth0,data){var helper,options,buffer=""
;return buffer+='\n    <div class="qti-navigator-info collapsible">\n                <span class="qti-navigator-label">\n                    <span class="qti-navigator-text">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Test status",options):helperMissing.call(depth0,"__","Test status",options)))+'</span>\n                    <span class="icon-up"></span>\n                    <span class="icon-down"></span>\n                </span>\n        <ul class="collapsible-panel plain">\n            <li class="qti-navigator-viewed" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,
options={hash:{},data:data},helper?helper.call(depth0,"Viewed items",options):helperMissing.call(depth0,"__","Viewed items",options)))+'">\n                        <span class="qti-navigator-label">\n                            <span class="qti-navigator-icon icon-viewed"></span>\n                            <span class="qti-navigator-text">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Viewed",options):helperMissing.call(depth0,"__","Viewed",options)))+'</span>\n                            <span class="qti-navigator-counter">-/-</span>\n                        </span>\n            </li>\n            <li class="qti-navigator-answered" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Completed items",options):helperMissing.call(depth0,"__","Completed items",options)))+'">\n                        <span class="qti-navigator-label">\n                            <span class="qti-navigator-icon icon-answered"></span>\n                            <span class="qti-navigator-text">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Answered",options):helperMissing.call(depth0,"__","Answered",options)))+'</span>\n                            <span class="qti-navigator-counter">-/-</span>\n                        </span>\n            </li>\n            <li class="qti-navigator-unanswered" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Unanswered items",options):helperMissing.call(depth0,"__","Unanswered items",options)))+'">\n                        <span class="qti-navigator-label">\n                            <span class="qti-navigator-icon icon-unanswered"></span>\n                            <span class="qti-navigator-text">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Unanswered",options):helperMissing.call(depth0,"__","Unanswered",options)))+'</span>\n                            <span class="qti-navigator-counter">-/-</span>\n                        </span>\n            </li>\n            <li class="qti-navigator-flagged" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Items marked for later review",options):helperMissing.call(depth0,"__","Items marked for later review",options)))+'">\n                        <span class="qti-navigator-label">\n                            <span class="qti-navigator-icon icon-flagged"></span>\n                            <span class="qti-navigator-text">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Flagged",options):helperMissing.call(depth0,"__","Flagged",options)))+'</span>\n                            <span class="qti-navigator-counter">-/-</span>\n                        </span>\n            </li>\n        </ul>\n    </div>\n    '}function program5(depth0,data){return'(<span class="qti-navigator-counter">0</span>)'}function program7(depth0,data){return"icon-unanswered "}function program9(depth0,data){var helper,options,buffer="";return buffer+=escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Unanswered",options):helperMissing.call(depth0,"__","Unanswered",options)))+' (<span class="qti-navigator-counter">0</span>)'}function program11(depth0,data){return"icon-flagged "}function program13(depth0,data){var helper,options,buffer="";return buffer+=escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Flagged",options):helperMissing.call(depth0,"__","Flagged",options)))+' (<span class="qti-navigator-counter">0</span>)'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{}
;var stack1,helper,options,buffer="",helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;return buffer+='<div class="qti-panel qti-navigator',stack1=helpers.if.call(depth0,depth0&&depth0.hidden,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='">\n    <div class="qti-navigator-collapsible">\n        <span class="qti-navigator-collapse icon icon-left" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Collapse the review panel",options):helperMissing.call(depth0,"__","Collapse the review panel",options)))+'"></span>\n        <span class="qti-navigator-expand icon icon-right" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Expand the review panel",options):helperMissing.call(depth0,"__","Expand the review panel",options)))+'"></span>\n    </div>\n    ',stack1=helpers.if.call(depth0,depth0&&depth0.showLegend,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+='\n\n\n    <div class="qti-navigator-filters">\n        <ul class="plain clearfix">\n            <li class="qti-navigator-filter active" data-mode="all">\n                <span title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Reset filters",options):helperMissing.call(depth0,"__","Reset filters",options)))+'" class="qti-navigator-tab">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"All",options):helperMissing.call(depth0,"__","All",options)))+"\n                    ",
stack1=helpers.unless.call(depth0,depth0&&depth0.showLegend,{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n                </span>\n            </li>\n\n            <li class="qti-navigator-filter" data-mode="unanswered">\n                <span class="',stack1=helpers.if.call(depth0,depth0&&depth0.showLegend,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='qti-navigator-tab" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Only display the unanswered items",options):helperMissing.call(depth0,"__","Only display the unanswered items",options)))+'">\n                    ',stack1=helpers.unless.call(depth0,depth0&&depth0.showLegend,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n                </span>\n            </li>\n\n            <li class="qti-navigator-filter" data-mode="flagged">\n                <span class="',stack1=helpers.if.call(depth0,depth0&&depth0.showLegend,{hash:{},inverse:self.noop,fn:self.program(11,program11,data),data:data}),
(stack1||0===stack1)&&(buffer+=stack1),buffer+='qti-navigator-tab" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Only display the items marked for review",options):helperMissing.call(depth0,"__","Only display the items marked for review",options)))+'">\n                    ',stack1=helpers.unless.call(depth0,depth0&&depth0.showLegend,{hash:{},inverse:self.noop,fn:self.program(13,program13,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+='\n                </span>\n            </li>\n        </ul>\n    </div>\n\n    <nav class="qti-navigator-tree"></nav>\n\n    <div id="qti-navigator-linear" class="qti-navigator-linear">\n        <span class="icon icon-info" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"In this part of the test navigation is not allowed.",options):helperMissing.call(depth0,"__","In this part of the test navigation is not allowed.",options)))+'"></span>\n        <p class="qti-navigator-message">\n            '+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"In this part of the test navigation is not allowed.",options):helperMissing.call(depth0,"__","In this part of the test navigation is not allowed.",options)))+"\n        </p>\n    </div>\n</div>"})}),define("tpl!taoQtiTest/runner/plugins/navigation/review/navigatorTree",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+='\n    <li class="qti-navigator-part collapsible ',stack1=helpers.if.call(depth0,depth0&&depth0.active,{hash:{},inverse:self.program(4,program4,data),fn:self.program(2,program2,data),data:data}),
(stack1||0===stack1)&&(buffer+=stack1),buffer+='" data-id="',(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\n        <span class="qti-navigator-label" title="',(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\n            <span class="qti-navigator-text">',(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data
}):(helper=depth0&&depth0.label,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>\n            <span class="icon-up"></span>\n            <span class="icon-down"></span>\n        </span>\n        ',stack1=helpers.if.call(depth0,depth0&&depth0.isLinear,{hash:{},inverse:self.program(8,program8,data),fn:self.program(6,program6,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    </li>\n    "}function program2(depth0,data){return"active"}function program4(depth0,data){return"collapsed"}function program6(depth0,data){var stack1,helper,options,buffer=""
;return buffer+='\n        <div class="qti-navigator-linear-part collapsible-panel">\n            <span class="icon icon-info" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"In this part of the test navigation is not allowed.",options):helperMissing.call(depth0,"__","In this part of the test navigation is not allowed.",options)))+'"></span>\n            <p class="qti-navigator-message">\n                '+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"In this part of the test navigation is not allowed.",options):helperMissing.call(depth0,"__","In this part of the test navigation is not allowed.",options)))+'\n            </p>\n            <p class="qti-navigator-actions">\n                <button class="btn-info small" data-position="',(helper=helpers.position)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.position,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Start Test-part",options):helperMissing.call(depth0,"__","Start Test-part",options)))+'">\n                    <span class="qti-navigator-text">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Start Test-part",options):helperMissing.call(depth0,"__","Start Test-part",options)))+'</span>\n                    <span class="icon-play r"></span>\n                </button>\n            </p>\n        </div>\n        '}function program8(depth0,data){var stack1,buffer="";return buffer+='\n        <ul class="qti-navigator-sections collapsible-panel plain">\n            ',
stack1=helpers.each.call(depth0,depth0&&depth0.sections,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        </ul>\n        "}function program9(depth0,data){var stack1,helper,buffer="";return buffer+='\n            <li class="qti-navigator-section collapsible ',stack1=helpers.if.call(depth0,depth0&&depth0.active,{hash:{},inverse:self.program(4,program4,data),fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" data-id="',(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\n                <span class="qti-navigator-label" title="',(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\n                    <span class="qti-navigator-text">',(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+'</span>\n                    <span class="qti-navigator-counter">'+escapeExpression((stack1=depth0&&depth0.stats,stack1=null==stack1||!1===stack1?stack1:stack1.answered,typeof stack1===functionType?stack1.apply(depth0):stack1))+"/"+escapeExpression((stack1=depth0&&depth0.stats,stack1=null==stack1||!1===stack1?stack1:stack1.total,typeof stack1===functionType?stack1.apply(depth0):stack1))+'</span>\n                </span>\n                <ul class="qti-navigator-items collapsible-panel plain">\n                    ',stack1=helpers.each.call(depth0,depth0&&depth0.items,{hash:{},inverse:self.noop,
fn:self.program(10,program10,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n                </ul>\n            </li>\n            "}function program10(depth0,data){var stack1,helper,buffer="";return buffer+='\n                    <li class="qti-navigator-item ',(helper=helpers.cls)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.cls,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-id="',(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},
data:data}):helper),buffer+=escapeExpression(stack1)+'" data-position="',(helper=helpers.position)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.position,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\n                        <span class="qti-navigator-label truncate" title="',(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\n                            <span class="qti-navigator-icon icon-',
(helper=helpers.icon)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.icon,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"></span>\n                            <span class="qti-navigator-number">',(helper=helpers.index)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.index,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n                            ",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\n                        </span>\n                    </li>\n                    "}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function",self=this;return buffer+='<ul class="qti-navigator-parts plain">\n    ',stack1=helpers.each.call(depth0,depth0&&depth0.parts,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+="\n</ul>"})}),define("taoQtiTest/runner/plugins/navigation/review/navigator",["jquery","lodash","i18n","ui/component","ui/autoscroll","taoQtiTest/runner/helpers/map","tpl!taoQtiTest/runner/plugins/navigation/review/navigator","tpl!taoQtiTest/runner/plugins/navigation/review/navigatorTree"],function($,_,__,component,autoscroll,mapHelper,navigatorTpl,navigatorTreeTpl){"use strict";function navigatorFactory(config,map,context){function flagItem($item){var position=$item.data("position"),flagged=!$item.hasClass(_cssCls.flagged);navigator.setItemFlag(position,flagged),navigator.trigger("flag",position,flagged)}function jump($item){
var position=$item.data("position");navigator.trigger("jump",position)}var navigator;return navigator=component(navigatorApi,_defaults).setTemplate(navigatorTpl).on("destroy",function(){this.controls=null}).on("show",function(){this.autoScroll()}).on("render",function(){var self=this,$component=this.getElement(),$filterBar=$component.find(_selectors.filterBar),$filters=$filterBar.find("li"),$tree=$component.find(_selectors.tree);this.controls={$infoAnswered:$component.find(_selectors.infoAnswered),$infoViewed:$component.find(_selectors.infoViewed),$infoAll:$component.find(_selectors.tabInfoAll),
$infoUnanswered:this.config.showLegend?$component.find(_selectors.infoUnanswered):$component.find(_selectors.tabInfoUnanswered),$infoFlagged:this.config.showLegend?$component.find(_selectors.infoFlagged):$component.find(_selectors.tabInfoFlagged),$filterBar:$filterBar,$filters:$filters,$tree:$tree,$linearState:$component.find(_selectors.linearState)},this.updateConfig(),$component.on("click"+_selectors.component,_selectors.collapseHandle,function(){self.is("disabled")||($component.toggleClass(_cssCls.collapsed),$component.hasClass(_cssCls.collapsed)&&self.openSelected())}),$component.on("click"+_selectors.component,_selectors.infoPanelLabels,function(){
self.is("disabled")||self.togglePanel($(this).closest(_selectors.infoPanel),_selectors.infoPanel)}),$tree.on("click"+_selectors.component,_selectors.partLabels,function(){var $panel;self.is("disabled")||($panel=$(this).closest(_selectors.parts),self.togglePanel($panel,_selectors.parts)&&($panel.hasClass(_cssCls.active)?self.openSelected():self.openOnly($panel.find(_selectors.sections).first(),$panel)))}),$tree.on("click"+_selectors.component,_selectors.sectionLabels,function(){self.is("disabled")||self.togglePanel($(this).closest(_selectors.sections),_selectors.sections)}),$tree.on("click"+_selectors.component,_selectors.itemLabels,function(event){
var $item,$target;self.is("disabled")||($item=$(this).closest(_selectors.items),$item.hasClass(_cssCls.disabled)||($target=$(event.target),self.config.canFlag&&$target.is(_selectors.icons)&&!$component.hasClass(_cssCls.collapsed)?$item.hasClass(_cssCls.unseen)||$item.hasClass(_cssCls.info)||flagItem($item):$item.hasClass(_cssCls.active)||(self.select($item),jump($item))))}),$tree.on("click"+_selectors.component,_selectors.linearStart,function(){var $btn;self.is("disabled")||($btn=$(this),$btn.hasClass(_cssCls.disabled)||($btn.addClass(_cssCls.disabled),jump($btn)))}),$filterBar.on("click"+_selectors.component,_selectors.filter,function(){var $btn,mode
;self.is("disabled")||($btn=$(this),mode=$btn.data("mode"),$filters.removeClass(_cssCls.active),$component.removeClass(_cssCls.collapsed),$btn.addClass(_cssCls.active),self.filter(mode),self.autoScroll())}),this.update(map,context)}),navigator.currentFilter="all",navigator.init(config)}var _defaults={scope:"test",canCollapse:!1,preventsUnseen:!0,hidden:!1},_cssCls={active:"active",collapsed:"collapsed",collapsible:"collapsible",hidden:"hidden",disabled:"disabled",flagged:"flagged",answered:"answered",viewed:"viewed",unseen:"unseen",info:"info",icon:"qti-navigator-icon",scope:{test:"scope-test",testPart:"scope-test-part",testSection:"scope-test-section"}
},_iconCls=[_cssCls.info,_cssCls.flagged,_cssCls.answered,_cssCls.viewed],_selectors={component:".qti-navigator",filterBar:".qti-navigator-filters",filter:".qti-navigator-filter",tree:".qti-navigator-tree",collapseHandle:".qti-navigator-collapsible",linearState:".qti-navigator-linear",infoAnswered:".qti-navigator-answered .qti-navigator-counter",infoViewed:".qti-navigator-viewed .qti-navigator-counter",infoUnanswered:".qti-navigator-unanswered .qti-navigator-counter",infoFlagged:".qti-navigator-flagged .qti-navigator-counter",infoPanel:".qti-navigator-info",infoPanelLabels:".qti-navigator-info > .qti-navigator-label",
tabInfoAll:'[data-mode="all"] .qti-navigator-counter',tabInfoUnanswered:'[data-mode="unanswered"] .qti-navigator-counter',tabInfoFlagged:'[data-mode="flagged"] .qti-navigator-counter',parts:".qti-navigator-part",partLabels:".qti-navigator-part > .qti-navigator-label",sections:".qti-navigator-section",sectionLabels:".qti-navigator-section > .qti-navigator-label",items:".qti-navigator-item",itemLabels:".qti-navigator-item > .qti-navigator-label",itemIcons:".qti-navigator-item > .qti-navigator-icon",activeItem:".qti-navigator-item.active",icons:".qti-navigator-icon",linearStart:".qti-navigator-linear-part button",counters:".qti-navigator-counter",
actives:".active",collapsible:".collapsible",collapsiblePanels:".collapsible-panel",unseen:".unseen",answered:".answered",flagged:".flagged",notFlagged:":not(.flagged)",notAnswered:":not(.answered)",notInformational:":not(.info)",informational:".info",hidden:".hidden",disabled:".disabled"},_filterMap={all:"",unanswered:[_selectors.answered,_selectors.informational].join(","),flagged:_selectors.notFlagged,answered:_selectors.notAnswered,filtered:_selectors.hidden},navigatorApi={updateStats:function(position,flag){var item,map=this.map;map&&(item=mapHelper.getItemAt(map,position))&&(item.flagged=flag,mapHelper.updateItemStats(map,position))},
getProgressionTotal:function(progression,target){return"questions"===target?progression.questions:progression.total},setItemFlag:function(position,flag){var icon,$item=position&&position.jquery?position:this.controls.$tree.find("[data-position="+position+"]"),progression=this.progression;this.updateStats(position,flag),$item.toggleClass(_cssCls.flagged,flag),icon=_.find(_iconCls,_.bind($item.hasClass,$item))||_cssCls.unseen,$item.find(_selectors.icons).attr("class",_cssCls.icon+" icon-"+icon),progression.flagged=this.controls.$tree.find(_selectors.flagged).length,
this.writeCount(this.controls.$infoFlagged,progression.flagged,this.getProgressionTotal(progression,"questions")),this.filter(this.currentFilter)},filter:function(criteria){var self=this,$items=this.controls.$tree.find(_selectors.items).removeClass(_cssCls.hidden),filterCb=_filterMap[criteria];filterCb&&$items.filter(filterCb).addClass(_cssCls.hidden),this.controls.$tree.find(_selectors.sections).each(function(){var $section=$(this),$itemsFound=$section.find(_selectors.items).not(_selectors.hidden),$filtered=$itemsFound.not(_selectors.disabled);self.writeCount($section.find(_selectors.counters),$filtered.length,$itemsFound.length)}),
this.currentFilter=criteria},updateConfig:function(config){var $component=this.getElement(),scopeClass=_cssCls.scope[this.config.scope||_defaults.scope];return config=_.merge(this.config,config||{}),$component.toggleClass(_cssCls.collapsible,config.canCollapse),$component.removeClass(scopeClass),scopeClass=_cssCls.scope[this.config.scope||_defaults.scope],$component.addClass(scopeClass),this},autoScroll:function(){autoscroll(this.controls.$tree.find(_selectors.activeItem),this.controls.$tree)},update:function(map,context){var activeItem,isSkipaheadEnabled,scopedMap=this.getScopedMap(map,context),progression=scopedMap.stats||{questions:0,answered:0,flagged:0,
viewed:0,total:0},totalQuestions=this.getProgressionTotal(progression,"questions");return this.map=map,this.progression=progression,this.writeCount(this.controls.$infoAnswered,progression.answered,totalQuestions),this.writeCount(this.controls.$infoUnanswered,totalQuestions-progression.answered,totalQuestions),this.writeCount(this.controls.$infoViewed,progression.viewed,this.getProgressionTotal(progression,"total")),this.writeCount(this.controls.$infoFlagged,progression.flagged,totalQuestions),this.writeCount(this.controls.$infoAll,totalQuestions,null),context.isLinear?(this.controls.$filterBar.hide(),this.controls.$linearState.show(),
this.controls.$tree.empty()):(this.controls.$filterBar.show(),this.controls.$linearState.hide(),this.controls.$tree.html(navigatorTreeTpl(scopedMap)),this.autoScroll(),activeItem=mapHelper.getActiveItem(scopedMap),this.setState("prevents-unseen",this.config.preventsUnseen),isSkipaheadEnabled=activeItem&&activeItem.categories&&_.indexOf(activeItem.categories,"x-tao-option-review-skipahead")>=0,this.setState("skipahead-enabled",isSkipaheadEnabled),this.config.preventsUnseen&&!isSkipaheadEnabled&&this.controls.$tree.find(_selectors.unseen).addClass(_cssCls.disabled)),this.filter(this.controls.$filters.filter(_selectors.actives).data("mode")),
this.trigger("update"),this},getScopedMap:function(map,context){var scopedMap=mapHelper.getScopeMapFromContext(map,context,this.config.scope),testPart=mapHelper.getPart(scopedMap,context.testPartId)||{},section=mapHelper.getSection(scopedMap,context.sectionId)||{},item=mapHelper.getItem(scopedMap,context.itemIdentifier)||{};return testPart.active=!0,section.active=!0,item.active=!0,mapHelper.each(scopedMap,function(itm){var cls=[],icon="";itm.active&&cls.push("active"),itm.informational&&(cls.push("info"),icon=icon||"info"),itm.flagged&&(cls.push("flagged"),icon=icon||"flagged"),itm.answered&&(cls.push("answered"),icon=icon||"answered"),
itm.viewed?(cls.push("viewed"),icon=icon||"viewed"):(cls.push("unseen"),icon=icon||"unseen"),itm.cls=cls.join(" "),itm.icon=icon})},writeCount:function($place,count,total){var display=0;$place.parent().hasClass("qti-navigator-tab")?display=Math.max(count,0):total>0&&(display=Math.min(count,total)+"/"+total),$place.text(display)},select:function(position,open){var $tree=this.controls.$tree,selected=position&&position.jquery?position:$tree.find("[data-position="+position+"]"),hierarchy=selected.parentsUntil($tree),previousPosition=0,$previous=$tree.find(_selectors.activeItem);return $previous.length&&(previousPosition=$previous.data("position")),
open&&this.openOnly(hierarchy),$tree.find(_selectors.actives).removeClass(_cssCls.active),hierarchy.add(selected).addClass(_cssCls.active),position=selected.data("position"),this.trigger("selected",position,previousPosition),selected},openSelected:function(){var $tree=this.controls.$tree,selected=$tree.find(_selectors.items+_selectors.actives),hierarchy=selected.parentsUntil($tree);return this.openOnly(hierarchy),selected},openOnly:function(opened,root){(root||this.controls.$tree).find(_selectors.collapsible).addClass(_cssCls.collapsed),opened.removeClass(_cssCls.collapsed)},togglePanel:function(panel,collapseSelector){
var collapsed=panel.hasClass(_cssCls.collapsed);return collapseSelector&&this.controls.$tree.find(collapseSelector).addClass(_cssCls.collapsed),collapsed?panel.removeClass(_cssCls.collapsed):panel.addClass(_cssCls.collapsed),collapsed},toggle:function(show){return void 0===show&&(show=this.is("hidden")),show?this.show():this.hide(),this}};return navigatorFactory}),
define("taoQtiTest/runner/plugins/navigation/review/review",["jquery","lodash","i18n","ui/hider","util/shortcut","util/namespace","taoTests/runner/plugin","taoQtiTest/runner/helpers/map","taoQtiTest/runner/plugins/navigation/review/navigator"],function($,_,__,hider,shortcut,namespaceHelper,pluginFactory,mapHelper,navigatorFactory){"use strict";function getFlagItemButtonData(context){var dataType=context.itemFlagged?"unsetFlag":"setFlag";return buttonData[dataType]}function getToggleButtonData(navigator){var dataType=navigator.is("hidden")?"showReview":"hideReview";return buttonData[dataType]}function updateButton(button,data){var $button=button.getElement()
;button.is("rendered")&&$button.data("control")!==data.control&&($button.data("control",data.control).attr("title",data.title),$button.find(".icon").attr("class","icon icon-"+data.icon),$button.find(".text").text(data.text),_.contains(data.control,"flag")&&(button.is("active")?button.turnOff():button.turnOn()))}function canFlag(testRunner){var context=testRunner.getTestContext(),map=testRunner.getTestMap(),item=mapHelper.getItemAt(map,context.itemPosition);return!(context.isLinear||!context.options.markReview||item&&item.informational)}var buttonData={setFlag:{control:"set-item-flag",title:__("Flag the current item for later review"),icon:"anchor",
text:__("Flag for Review")},unsetFlag:{control:"unset-item-flag",title:__("Do not flag the current item for later review"),icon:"anchor",text:__("Unflag for Review")},showReview:{control:"show-review",title:__("Show the review screen"),icon:"right",text:__("Show Review")},hideReview:{control:"hide-review",title:__("Hide the review screen"),icon:"left",text:__("Hide Review")}};return pluginFactory({name:"review",init:function(){function isPluginAllowed(){var context=testRunner.getTestContext();return navigatorConfig.enabled&&context&&context.options&&context.options.reviewScreen}function flagItem(position,flag){return self.disable(),
testRunner.getProxy().callTestAction("flagItem",{position:position,flag:flag}).then(function(){var context=testRunner.getTestContext();context.itemPosition===position&&(context.itemFlagged=flag),updateButton(self.flagItemButton,getFlagItemButtonData(context)),self.navigator.setItemFlag(position,flag),self.enable()}).catch(function(){self.navigator.setItemFlag(position,!flag),self.enable()})}function flagCurrentItem(){var context=testRunner.getTestContext();!1!==self.getState("enabled")&&flagItem(context.itemPosition,!context.itemFlagged)}function togglePanel(forcedState){
(_.isUndefined(forcedState)?self.navigator.is("hidden"):forcedState)?(self.explicitlyHidden=!1,self.navigator.show()):(self.explicitlyHidden=!0,self.navigator.hide()),updateButton(self.toggleButton,getToggleButtonData(self.navigator))}var previousItemPosition,self=this,testRunner=this.getTestRunner(),testData=testRunner.getTestData(),testContext=testRunner.getTestContext(),testMap=testRunner.getTestMap(),testConfig=testData.config||{},pluginShortcuts=(testConfig.shortcuts||{})[this.getName()]||{},navigatorConfig=testConfig.review||{};this.navigator=navigatorFactory(navigatorConfig,testMap,testContext).on("selected",function(position,previousPosition){
previousItemPosition=previousPosition}).on("jump",function(position){!1!==self.getState("enabled")&&(self.disable(),testRunner.jump(position,"item"))}).on("flag",function(position,flag){!1!==self.getState("enabled")&&flagItem(position,flag)}).render(),testRunner.on("alert.notallowed",function(){self.navigator.select(previousItemPosition)}),this.explicitlyHidden=!1,this.toggleButton=this.getAreaBroker().getToolbox().createEntry(getToggleButtonData(this.navigator)),this.toggleButton.on("click",function(e){e.preventDefault(),testRunner.trigger("tool-reviewpanel")}),
this.flagItemButton=this.getAreaBroker().getToolbox().createEntry(getFlagItemButtonData(testContext)),this.flagItemButton.on("click",function(e){e.preventDefault(),testRunner.trigger("tool-flagitem")}),testConfig.allowShortcuts&&(pluginShortcuts.flag&&shortcut.add(namespaceHelper.namespaceAll(pluginShortcuts.flag,this.getName(),!0),function(){testRunner.trigger("tool-flagitem")},{avoidInput:!0}),pluginShortcuts.toggle&&shortcut.add(namespaceHelper.namespaceAll(pluginShortcuts.toggle,this.getName(),!0),function(){testRunner.trigger("tool-reviewpanel")},{avoidInput:!0})),isPluginAllowed()||this.hide(),this.disable(),togglePanel(testConfig.review.defaultOpen),
testRunner.on("render",function(){isPluginAllowed()?(self.show(),updateButton(self.toggleButton,getToggleButtonData(self.navigator))):self.hide()}).on("loaditem",function(){var context=testRunner.getTestContext(),map=testRunner.getTestMap();isPluginAllowed()?(updateButton(self.flagItemButton,getFlagItemButtonData(context)),self.navigator.update(map,context).updateConfig({canFlag:!context.isLinear&&context.options.markReview}),self.show(),updateButton(self.toggleButton,getToggleButtonData(self.navigator))):self.hide()}).on("enabletools enablenav",function(){isPluginAllowed()&&self.enable()}).on("disabletools disablenav",function(){
isPluginAllowed()&&self.disable()}).on("hidenav",function(){self.hide()}).on("shownav",function(){isPluginAllowed()&&self.show()}).on("tool-flagitem",function(){isPluginAllowed()&&canFlag(testRunner)&&flagCurrentItem()}).on("tool-reviewpanel",function(){isPluginAllowed()&&self.getState("enabled")&&togglePanel()})},render:function(){this.getAreaBroker().getPanelArea().append(this.navigator.getElement())},destroy:function(){shortcut.remove("."+this.getName()),this.navigator.destroy()},enable:function(){var testRunner=this.getTestRunner(),testContext=testRunner.getTestContext();this.flagItemButton.enable(),this.toggleButton.enable(),this.navigator.enable(),
testContext.itemFlagged?this.flagItemButton.turnOn():this.flagItemButton.turnOff()},disable:function(){this.flagItemButton.disable(),this.flagItemButton.turnOff(),this.toggleButton.disable(),this.navigator.disable()},show:function(){canFlag(this.getTestRunner())?this.flagItemButton.show():this.flagItemButton.hide(),this.toggleButton.show(),this.explicitlyHidden?this.navigator.hide():this.navigator.show()},hide:function(){this.flagItemButton.hide(),this.toggleButton.hide(),this.navigator.hide()}})}),
define("taoQtiTest/runner/plugins/navigation/previous",["jquery","lodash","i18n","ui/hider","taoTests/runner/plugin","util/shortcut","util/namespace","taoQtiTest/runner/helpers/navigation","taoQtiTest/runner/helpers/map","tpl!taoQtiTest/runner/plugins/templates/button"],function($,_,__,hider,pluginFactory,shortcut,namespaceHelper,navigationHelper,mapHelper,buttonTpl){"use strict";return pluginFactory({name:"previous",init:function(){function doPrevious(previousItemWarning){var context=testRunner.getTestContext();testRunner.trigger("disablenav"),
!1!==self.getState("enabled")&&(previousItemWarning&&-1!==context.remainingAttempts?testRunner.trigger("confirm.previous",__("You are about to go to the previous item. Click OK to continue and go to the previous item."),testRunner.previous,function(){testRunner.trigger("disablenav")}()):testRunner.previous())}var self=this,testRunner=this.getTestRunner(),testData=testRunner.getTestData(),testConfig=testData.config||{},pluginShortcuts=(testConfig.shortcuts||{})[this.getName()]||{},canDoPrevious=function(){var previousSection,previousPart,testMap=testRunner.getTestMap(),context=testRunner.getTestContext()
;if(_.isPlainObject(testMap)&&0===_.size(testMap))return!1;if(navigationHelper.isFirst(testMap,context.itemIdentifier))return!1;if(navigationHelper.isFirstOf(testMap,context.itemIdentifier,"section")){if(context.isCatAdaptive)return!1;if(previousSection=mapHelper.getItemSection(testMap,context.itemPosition-1),previousSection.isCatAdaptive||previousSection.timeConstraint&&!context.options.noExitTimedSectionWarning)return!1}return(!navigationHelper.isFirstOf(testMap,context.itemIdentifier,"part")||(previousPart=mapHelper.getItemPart(testMap,context.itemPosition-1),!previousPart.isLinear))&&(!1===context.isLinear&&!0===context.canMoveBackward)
},toggle=function(){canDoPrevious()?self.show():self.hide()};this.$element=$(buttonTpl({control:"move-backward",title:__("Submit and go to the previous item"),icon:"backward",text:__("Previous")})),this.$element.on("click",function(e){e.preventDefault(),testRunner.trigger("nav-previous")}),testConfig.allowShortcuts&&pluginShortcuts.trigger&&shortcut.add(namespaceHelper.namespaceAll(pluginShortcuts.trigger,this.getName(),!0),function(){canDoPrevious()&&!0===self.getState("enabled")&&testRunner.trigger("nav-previous",[!0])},{avoidInput:!0,prevent:!0}),toggle(),self.disable(),testRunner.on("loaditem",toggle).on("enablenav",function(){self.enable()
}).on("disablenav",function(){self.disable()}).on("hidenav",function(){self.hide()}).on("shownav",function(){self.show()}).on("nav-previous",function(previousItemWarning){doPrevious(previousItemWarning)})},render:function(){this.getAreaBroker().getNavigationArea().append(this.$element)},destroy:function(){shortcut.remove("."+this.getName()),this.$element.remove()},enable:function(){this.$element.removeProp("disabled").removeClass("disabled")},disable:function(){this.$element.prop("disabled",!0).addClass("disabled")},show:function(){hider.show(this.$element)},hide:function(){hider.hide(this.$element)}})}),
define("taoQtiTest/runner/plugins/navigation/next/nextWarningHelper",[],function(){"use strict";var toBoolean=function(value,defaultValue){return void 0===value?defaultValue:!0===value||"true"===value};return function(options){function itemCanBeTriedAtWill(){return!1===isLast&&!1===isLinear&&-1===remainingAttempts&&!isNextItemInLinearPart()}function isNextItemInLinearPart(){return nextPart&&void 0!==nextPart.isLinear&&isLastOfPart()&&!0===nextPart.isLinear}function shouldWarnOnTestEnd(){return isLast&&(endTestWarning||warnBeforeNext)&&shouldWarnForUnansweredItems()}function shouldWarnForUnansweredItems(){
var hasUnanswered=stats&&stats.questions-stats.answered!=0,hasFlagged=stats&&0!==stats.flagged;return!unansweredOnly||(hasUnanswered||hasFlagged)}function shouldWarnOnPartChange(){return nextPartWarning&&isLastOfPart()&&shouldWarnForUnansweredItems()}function isLastOfPart(){return nextPart&&nextPart.id&&testPartId!==nextPart.id}
var endTestWarning=toBoolean(options.endTestWarning,!1),isLast=toBoolean(options.isLast,!1),isLinear=toBoolean(options.isLinear,!1),nextItemWarning=toBoolean(options.nextItemWarning,!1),nextPartWarning=toBoolean(options.nextPartWarning,!1),stats=options.stats,nextPart=options.nextPart||{},remainingAttempts=void 0===options.remainingAttempts?-1:options.remainingAttempts,testPartId=options.testPartId||"",unansweredOnly=toBoolean(options.unansweredOnly,!1),warnBeforeNext=function(){return nextItemWarning&&!itemCanBeTriedAtWill()}(),warnBeforeEnd=function(){return shouldWarnOnTestEnd()||shouldWarnOnPartChange()}();return{shouldWarnBeforeEnd:function(){
return warnBeforeEnd},shouldWarnBeforeNext:function(){return warnBeforeNext}}}}),define("taoQtiTest/runner/plugins/navigation/next",["jquery","lodash","i18n","ui/hider","taoTests/runner/plugin","taoQtiTest/runner/plugins/navigation/next/nextWarningHelper","taoQtiTest/runner/helpers/messages","taoQtiTest/runner/helpers/map","taoQtiTest/runner/helpers/stats","util/shortcut","util/namespace","tpl!taoQtiTest/runner/plugins/templates/button"],function($,_,__,hider,pluginFactory,nextWarningHelper,messages,mapHelper,statsHelper,shortcut,namespaceHelper,buttonTpl){"use strict";var buttonData={next:{control:"move-forward",title:__("Submit and go to the next item"),
icon:"forward",text:__("Next")},end:{control:"move-end",title:__("Submit and go to the end of the test"),icon:"fast-forward",text:__("End test")}},createElement=function(context){var dataType=context.isLast?"end":"next";return $(buttonTpl(buttonData[dataType]))},updateElement=function($element,context){var dataType=context.isLast?"end":"next";$element.attr("data-control")!==buttonData[dataType].control&&($element.attr("data-control",buttonData[dataType].control).attr("title",buttonData[dataType].title).find(".text").text(buttonData[dataType].text),
"next"===dataType?$element.find(".icon-"+buttonData.end.icon).removeClass("icon-"+buttonData.end.icon).addClass("icon-"+buttonData.next.icon):$element.find(".icon-"+buttonData.next.icon).removeClass("icon-"+buttonData.next.icon).addClass("icon-"+buttonData.end.icon))};return pluginFactory({name:"next",init:function(){function doNext(nextItemWarning){function enableNav(){testRunner.trigger("enablenav")}
var context=testRunner.getTestContext(),testOptions=context.options||{},map=testRunner.getTestMap(),nextItemPosition=context.itemPosition+1,nextPartWarning=testOptions.nextPartWarning||testOptions.unansweredWarning,unansweredOnly=!testOptions.endTestWarning&&testOptions.unansweredWarning,warningScope=nextPartWarning?"part":"test";if(testRunner.trigger("disablenav"),!1!==self.getState("enabled")){var warningHelper=nextWarningHelper({endTestWarning:testOptions.endTestWarning,isLast:context.isLast,isLinear:context.isLinear,nextItemWarning:nextItemWarning,nextPartWarning:nextPartWarning,nextPart:mapHelper.getItemPart(map,nextItemPosition),
remainingAttempts:context.remainingAttempts,testPartId:context.testPartId,unansweredWarning:testOptions.unansweredWarning,stats:statsHelper.getInstantStats(warningScope,testRunner),unansweredOnly:unansweredOnly})
;warningHelper.shouldWarnBeforeEnd()?testRunner.trigger("confirm.endTest",messages.getExitMessage(__("You are about to submit the test. You will not be able to access this test once submitted. Click OK to continue and submit the test."),warningScope,testRunner),_.partial(triggerNextAction,context),enableNav):warningHelper.shouldWarnBeforeNext()?testRunner.trigger("confirm.next",__("You are about to go to the next item. Click OK to continue and go to the next item."),_.partial(triggerNextAction,context),enableNav):triggerNextAction(context)}}function triggerNextAction(context){context.isLast&&self.trigger("end"),testRunner.next()}
var self=this,testRunner=this.getTestRunner(),testData=testRunner.getTestData(),testConfig=testData.config||{},pluginShortcuts=(testConfig.shortcuts||{})[this.getName()]||{};this.$element=createElement(testRunner.getTestContext()),this.$element.on("click",function(e){e.preventDefault(),testRunner.trigger("nav-next")}),testConfig.allowShortcuts&&pluginShortcuts.trigger&&shortcut.add(namespaceHelper.namespaceAll(pluginShortcuts.trigger,this.getName(),!0),function(e){!0===self.getState("enabled")&&testRunner.trigger("nav-next",!0)},{avoidInput:!0,prevent:!0}),this.disable(),testRunner.on("loaditem",function(){
updateElement(self.$element,testRunner.getTestContext())}).on("enablenav",function(){self.enable()}).on("disablenav",function(){self.disable()}).on("hidenav",function(){self.hide()}).on("shownav",function(){self.show()}).on("nav-next",function(nextItemWarning){doNext(nextItemWarning)})},render:function(){this.getAreaBroker().getNavigationArea().append(this.$element)},destroy:function(){shortcut.remove("."+this.getName()),this.$element.remove()},enable:function(){this.$element.removeProp("disabled").removeClass("disabled")},disable:function(){this.$element.prop("disabled",!0).addClass("disabled")},show:function(){hider.show(this.$element)},hide:function(){
hider.hide(this.$element)}})}),define("taoQtiTest/runner/plugins/navigation/nextSection",["jquery","lodash","i18n","ui/hider","taoTests/runner/plugin","taoQtiTest/runner/helpers/messages","tpl!taoQtiTest/runner/plugins/templates/button"],function($,_,__,hider,pluginFactory,messages,buttonTpl){"use strict";return pluginFactory({name:"nextsection",init:function(){function toggle(){var options=testRunner.getTestContext().options;testConfig.nextSection&&(options.nextSection||options.nextSectionWarning)?self.show():self.hide()}function nextSection(){testRunner.next("section")}var self=this,testRunner=this.getTestRunner(),testConfig=testRunner.getTestData().config
;this.$element=$(buttonTpl({control:"next-section",title:__("Skip to the next section"),icon:"fast-forward",text:__("Next Section")})),this.$element.on("click",function(e){var context=testRunner.getTestContext(),enable=_.bind(self.enable,self);e.preventDefault(),!1!==self.getState("enabled")&&(self.disable(),context.options.nextSectionWarning?testRunner.trigger("confirm.nextsection",messages.getExitMessage(__("Once you close this section, you cannot return to it or change your answers."),"section",testRunner),nextSection,enable,{buttons:{labels:{ok:__("Close this Section"),cancel:__("Review my Answers")}}}):nextSection())}),this.disable(),toggle(),
testRunner.on("loaditem",toggle).on("enablenav",function(){self.enable()}).on("disablenav",function(){self.disable()}).on("hidenav",function(){self.hide()}).on("shownav",function(){self.show()})},render:function(){this.getAreaBroker().getNavigationArea().append(this.$element)},destroy:function(){this.$element.remove()},enable:function(){this.$element.removeProp("disabled").removeClass("disabled")},disable:function(){this.$element.prop("disabled",!0).addClass("disabled")},show:function(){hider.show(this.$element)},hide:function(){hider.hide(this.$element)}})}),
define("taoQtiTest/runner/plugins/navigation/skip",["jquery","lodash","i18n","ui/hider","taoTests/runner/plugin","taoQtiTest/runner/helpers/messages","tpl!taoQtiTest/runner/plugins/templates/button"],function($,_,__,hider,pluginFactory,messages,buttonTpl){"use strict";var buttonData={skip:{control:"skip",title:__("Skip and go to the next item"),icon:"external",text:__("Skip")},end:{control:"skip-end",title:__("Skip and go to the end of the test"),icon:"external",text:__("Skip and end test")}},createElement=function(context){var dataType=context.isLast?"end":"skip";return $(buttonTpl(buttonData[dataType]))},updateElement=function($element,context){
var dataType=context.isLast?"end":"skip";$element.attr("data-control")!==buttonData[dataType].control&&$element.attr("data-control",buttonData[dataType].control).attr("title",buttonData[dataType].title).find(".text").text(buttonData[dataType].text)};return pluginFactory({name:"skip",init:function(){function doSkip(){testRunner.skip()}var self=this,testRunner=this.getTestRunner(),toggle=function(){return!0===testRunner.getTestContext().options.allowSkipping?(self.show(),!0):(self.hide(),!1)};this.$element=createElement(testRunner.getTestContext()),this.$element.on("click",function(e){var enable=_.bind(self.enable,self),context=testRunner.getTestContext()
;e.preventDefault(),!1!==self.getState("enabled")&&(self.disable(),context.options.endTestWarning&&context.isLast?testRunner.trigger("confirm.endTest",messages.getExitMessage(__("You are about to submit the test. You will not be able to access this test once submitted. Click OK to continue and submit the test."),"test",testRunner),doSkip,enable):doSkip())}),toggle(),self.disable(),testRunner.on("loaditem",function(){toggle()&&updateElement(self.$element,testRunner.getTestContext())}).on("enablenav",function(){self.enable()}).on("disablenav",function(){self.disable()}).on("hidenav",function(){self.hide()}).on("shownav",function(){self.show()})},
render:function(){this.getAreaBroker().getNavigationArea().append(this.$element)},destroy:function(){this.$element.remove()},enable:function(){this.$element.removeProp("disabled").removeClass("disabled")},disable:function(){this.$element.prop("disabled",!0).addClass("disabled")},show:function(){hider.show(this.$element)},hide:function(){hider.hide(this.$element)}})}),define("taoQtiTest/runner/plugins/navigation/allowSkipping",["lodash","i18n","taoTests/runner/plugin","taoQtiTest/runner/helpers/currentItem"],function(_,__,pluginFactory,currentItemHelper){"use strict";var defaults={allowPartial:!0};return pluginFactory({name:"allowSkipping",init:function(){
this.getTestRunner().before("nav-next move",function(){var self=this,testContext=this.getTestContext(),isInteracting=!this.getItemState(testContext.itemIdentifier,"disabled"),testData=this.getTestData()||{},testConfig=testData.config||{},pluginsConfig=testConfig.plugins||{},config=_.defaults(pluginsConfig.allowSkipping||{},defaults),warning=__(config.allowPartial?"A response to every question in this item is required.":"A response to this item is required.");if(isInteracting&&testContext.enableAllowSkipping&&!testContext.allowSkipping)return new Promise(function(resolve,reject){
return 0===_.size(currentItemHelper.getDeclarations(self))?resolve():currentItemHelper.isAnswered(self,config.allowPartial)?resolve():void(self.getState("alerted.notallowed")||(self.setState("alerted.notallowed",!0),self.trigger("alert.notallowed",warning,function(){self.trigger("resumeitem"),reject(),self.setState("alerted.notallowed",!1)})))})})}})}),define("taoQtiTest/runner/plugins/navigation/validateResponses",["lodash","i18n","taoTests/runner/plugin","taoQtiTest/runner/helpers/currentItem"],function(_,__,pluginFactory,currentItemHelper){"use strict";return pluginFactory({name:"validateResponses",init:function(){
return this.getTestRunner().before("move",function(){var self=this,testContext=this.getTestContext();if(!this.getItemState(testContext.itemIdentifier,"disabled")&&testContext.enableValidateResponses&&testContext.validateResponses)return new Promise(function(resolve,reject){return 0===_.size(currentItemHelper.getDeclarations(self))?resolve():currentItemHelper.isAnswered(self,!1)?resolve():void(self.getState("alerted.notallowed")||(self.setState("alerted.notallowed",!0),self.trigger("alert.notallowed",__("A valid response to this item is required."),function(){self.trigger("resumeitem"),reject(),self.setState("alerted.notallowed",!1)})))})}),this}})}),
define("tpl!taoQtiTest/runner/plugins/tools/comment/comment",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var helper,options,buffer="",helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;return buffer+='<div data-control="qti-comment" class="hidden">\n    <textarea data-control="qti-comment-text" placeholder="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Your comment…",options):helperMissing.call(depth0,"__","Your comment…",options)))+'"></textarea>\n    <button data-control="qti-comment-cancel" class="btn-info small"></span>'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Cancel",options):helperMissing.call(depth0,"__","Cancel",options)))+'</button>\n    <button data-control="qti-comment-send" class="btn-info small">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Send",options):helperMissing.call(depth0,"__","Send",options)))+"</button>\n</div>"})}),
define("taoQtiTest/runner/plugins/tools/comment/comment",["jquery","i18n","taoTests/runner/plugin","ui/hider","ui/stacker","util/shortcut","util/namespace","tpl!taoQtiTest/runner/plugins/tools/comment/comment"],function($,__,pluginFactory,hider,stackerFactory,shortcut,namespaceHelper,commentTpl){"use strict";return pluginFactory({name:"comment",init:function(){function isEnabled(){return!!testRunner.getTestContext().options.allowComment}function togglePlugin(){isEnabled()?self.show():self.hide()}function toggleComment(){!1!==self.getState("enabled")&&(hider.toggle(self.$form),hider.isHidden(self.$form)?self.button.turnOff():(self.$input.val("").focus(),
self.button.turnOn(),stacker.bringToFront(self.$form)))}var self=this,testRunner=this.getTestRunner(),testData=testRunner.getTestData()||{},testConfig=testData.config||{},pluginShortcuts=(testConfig.shortcuts||{})[this.getName()]||{},stacker=stackerFactory("test-runner");this.button=this.getAreaBroker().getToolbox().createEntry({control:"comment",title:__("Leave a comment"),icon:"tag",text:__("Comment")}),this.button.on("render",function(){self.$button=self.button.getElement(),self.$form=$(commentTpl()).appendTo(self.$button),self.$input=self.$button.find('[data-control="qti-comment-text"]'),
self.$cancel=self.$button.find('[data-control="qti-comment-cancel"]'),self.$submit=self.$button.find('[data-control="qti-comment-send"]'),stacker.autoBringToFront(self.$form),self.$cancel.on("click",function(){hider.hide(self.$form),self.button.turnOff()}),self.$submit.on("click",function(){var comment=self.$input.val();comment&&(self.disable(),self.button.turnOff(),testRunner.getProxy().callTestAction("comment",{comment:comment}).then(function(){hider.hide(self.$form),self.enable()}).catch(function(){hider.hide(self.$form),self.enable()}))})}),this.button.on("click",function(e){$(e.target).closest('[data-control="qti-comment"]').length||(e.preventDefault(),
testRunner.trigger("tool-comment"))}),testConfig.allowShortcuts&&pluginShortcuts.toggle&&shortcut.add(namespaceHelper.namespaceAll(pluginShortcuts.toggle,this.getName(),!0),function(){testRunner.trigger("tool-comment")},{avoidInput:!0}),togglePlugin(),this.disable(),testRunner.on("loaditem",togglePlugin).on("renderitem enabletools",function(){self.enable()}).on("unloaditem disabletools",function(){self.disable()}).on("tool-comment",function(){isEnabled()&&toggleComment()})},destroy:function(){shortcut.remove("."+this.getName())},enable:function(){this.button.enable()},disable:function(){this.$form&&hider.hide(this.$form),this.button.disable(),
this.button.turnOff()},show:function(){this.button.show()},hide:function(){this.$form&&hider.hide(this.$form),this.button.hide()}})}),function(realWindow){"use strict";function blank(){}function isElement(o){if(!o||"object"!=typeof o)return!1;var _window=getWindow(o)||window;return/object|function/.test(typeof _window.Element)?o instanceof _window.Element:1===o.nodeType&&"string"==typeof o.nodeName}function isWindow(thing){return thing===window||!(!thing||!thing.Window)&&thing instanceof thing.Window}function isDocFrag(thing){return!!thing&&thing instanceof DocumentFragment}function isArray(thing){
return isObject(thing)&&void 0!==typeof thing.length&&isFunction(thing.splice)}function isObject(thing){return!!thing&&"object"==typeof thing}function isFunction(thing){return"function"==typeof thing}function isNumber(thing){return"number"==typeof thing}function isBool(thing){return"boolean"==typeof thing}function isString(thing){return"string"==typeof thing}function trySelector(value){return!!isString(value)&&(document.querySelector(value),!0)}function extend(dest,source){for(var prop in source)dest[prop]=source[prop];return dest}function pointerExtend(dest,source){for(var prop in source){var deprecated=!1
;for(var vendor in prefixedPropREs)if(0===prop.indexOf(vendor)&&prefixedPropREs[vendor].test(prop)){deprecated=!0;break}deprecated||(dest[prop]=source[prop])}return dest}function copyCoords(dest,src){dest.page=dest.page||{},dest.page.x=src.page.x,dest.page.y=src.page.y,dest.client=dest.client||{},dest.client.x=src.client.x,dest.client.y=src.client.y,dest.timeStamp=src.timeStamp}function setEventXY(targetObj,pointers,interaction){var pointer=pointers.length>1?pointerAverage(pointers):pointers[0];getPageXY(pointer,tmpXY),targetObj.page.x=tmpXY.x,targetObj.page.y=tmpXY.y,getClientXY(pointer,tmpXY),targetObj.client.x=tmpXY.x,targetObj.client.y=tmpXY.y,
targetObj.timeStamp=(new Date).getTime()}function setEventDeltas(targetObj,prev,cur){targetObj.page.x=cur.page.x-prev.page.x,targetObj.page.y=cur.page.y-prev.page.y,targetObj.client.x=cur.client.x-prev.client.x,targetObj.client.y=cur.client.y-prev.client.y,targetObj.timeStamp=(new Date).getTime()-prev.timeStamp;var dt=Math.max(targetObj.timeStamp/1e3,.001);targetObj.page.speed=hypot(targetObj.page.x,targetObj.page.y)/dt,targetObj.page.vx=targetObj.page.x/dt,targetObj.page.vy=targetObj.page.y/dt,targetObj.client.speed=hypot(targetObj.client.x,targetObj.page.y)/dt,targetObj.client.vx=targetObj.client.x/dt,targetObj.client.vy=targetObj.client.y/dt}
function isNativePointer(pointer){return pointer instanceof window.Event||supportsTouch&&window.Touch&&pointer instanceof window.Touch}function getXY(type,pointer,xy){return xy=xy||{},type=type||"page",xy.x=pointer[type+"X"],xy.y=pointer[type+"Y"],xy}function getPageXY(pointer,page){return page=page||{},isOperaMobile&&isNativePointer(pointer)?(getXY("screen",pointer,page),page.x+=window.scrollX,page.y+=window.scrollY):getXY("page",pointer,page),page}function getClientXY(pointer,client){return client=client||{},isOperaMobile&&isNativePointer(pointer)?getXY("screen",pointer,client):getXY("client",pointer,client),client}function getScrollXY(win){
return win=win||window,{x:win.scrollX||win.document.documentElement.scrollLeft,y:win.scrollY||win.document.documentElement.scrollTop}}function getPointerId(pointer){return isNumber(pointer.pointerId)?pointer.pointerId:pointer.identifier}function getActualElement(element){return element instanceof SVGElementInstance?element.correspondingUseElement:element}function getWindow(node){if(isWindow(node))return node;var rootNode=node.ownerDocument||node;return rootNode.defaultView||rootNode.parentWindow||window}function getElementClientRect(element){var clientRect=element instanceof SVGElement?element.getBoundingClientRect():element.getClientRects()[0]
;return clientRect&&{left:clientRect.left,right:clientRect.right,top:clientRect.top,bottom:clientRect.bottom,width:clientRect.width||clientRect.right-clientRect.left,height:clientRect.height||clientRect.bottom-clientRect.top}}function getElementRect(element){var clientRect=getElementClientRect(element);if(!isIOS7&&clientRect){var scroll=getScrollXY(getWindow(element));clientRect.left+=scroll.x,clientRect.right+=scroll.x,clientRect.top+=scroll.y,clientRect.bottom+=scroll.y}return clientRect}function getTouchPair(event){var touches=[];return isArray(event)?(touches[0]=event[0],
touches[1]=event[1]):"touchend"===event.type?1===event.touches.length?(touches[0]=event.touches[0],touches[1]=event.changedTouches[0]):0===event.touches.length&&(touches[0]=event.changedTouches[0],touches[1]=event.changedTouches[1]):(touches[0]=event.touches[0],touches[1]=event.touches[1]),touches}function pointerAverage(pointers){for(var prop,average={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},i=0;i<pointers.length;i++)for(prop in average)average[prop]+=pointers[i][prop];for(prop in average)average[prop]/=pointers.length;return average}function touchBBox(event){if(event.length||event.touches&&event.touches.length>1){
var touches=getTouchPair(event),minX=Math.min(touches[0].pageX,touches[1].pageX),minY=Math.min(touches[0].pageY,touches[1].pageY);return{x:minX,y:minY,left:minX,top:minY,width:Math.max(touches[0].pageX,touches[1].pageX)-minX,height:Math.max(touches[0].pageY,touches[1].pageY)-minY}}}function touchDistance(event,deltaSource){deltaSource=deltaSource||defaultOptions.deltaSource;var sourceX=deltaSource+"X",sourceY=deltaSource+"Y",touches=getTouchPair(event),dx=touches[0][sourceX]-touches[1][sourceX],dy=touches[0][sourceY]-touches[1][sourceY];return hypot(dx,dy)}function touchAngle(event,prevAngle,deltaSource){deltaSource=deltaSource||defaultOptions.deltaSource
;var sourceX=deltaSource+"X",sourceY=deltaSource+"Y",touches=getTouchPair(event),dx=touches[0][sourceX]-touches[1][sourceX],dy=touches[0][sourceY]-touches[1][sourceY],angle=180*Math.atan(dy/dx)/Math.PI;if(isNumber(prevAngle)){var dr=angle-prevAngle,drClamped=dr%360;drClamped>315?angle-=360+angle/360|0:drClamped>135?angle-=180+angle/360|0:drClamped<-315?angle+=360+angle/360|0:drClamped<-135&&(angle+=180+angle/360|0)}return angle}function getOriginXY(interactable,element){var origin=interactable?interactable.options.origin:defaultOptions.origin
;return"parent"===origin?origin=parentElement(element):"self"===origin?origin=interactable.getRect(element):trySelector(origin)&&(origin=closest(element,origin)||{x:0,y:0}),isFunction(origin)&&(origin=origin(interactable&&element)),isElement(origin)&&(origin=getElementRect(origin)),origin.x="x"in origin?origin.x:origin.left,origin.y="y"in origin?origin.y:origin.top,origin}function _getQBezierValue(t,p1,p2,p3){var iT=1-t;return iT*iT*p1+2*iT*t*p2+t*t*p3}function getQuadraticCurvePoint(startX,startY,cpX,cpY,endX,endY,position){return{x:_getQBezierValue(position,startX,cpX,endX),y:_getQBezierValue(position,startY,cpY,endY)}}function easeOutQuad(t,b,c,d){
return t/=d,-c*t*(t-2)+b}function nodeContains(parent,child){for(;child;){if(child===parent)return!0;child=child.parentNode}return!1}function closest(child,selector){for(var parent=parentElement(child);isElement(parent);){if(matchesSelector(parent,selector))return parent;parent=parentElement(parent)}return null}function parentElement(node){var parent=node.parentNode;if(isDocFrag(parent)){for(;(parent=parent.host)&&isDocFrag(parent););return parent}return parent}function inContext(interactable,element){return interactable._context===element.ownerDocument||nodeContains(interactable._context,element)}
function testIgnore(interactable,interactableElement,element){var ignoreFrom=interactable.options.ignoreFrom;return!(!ignoreFrom||!isElement(element))&&(isString(ignoreFrom)?matchesUpTo(element,ignoreFrom,interactableElement):!!isElement(ignoreFrom)&&nodeContains(ignoreFrom,element))}function testAllow(interactable,interactableElement,element){var allowFrom=interactable.options.allowFrom;return!allowFrom||!!isElement(element)&&(isString(allowFrom)?matchesUpTo(element,allowFrom,interactableElement):!!isElement(allowFrom)&&nodeContains(allowFrom,element))}function checkAxis(axis,interactable){if(!interactable)return!1
;var thisAxis=interactable.options.drag.axis;return"xy"===axis||"xy"===thisAxis||thisAxis===axis}function checkSnap(interactable,action){var options=interactable.options;return/^resize/.test(action)&&(action="resize"),options[action].snap&&options[action].snap.enabled}function checkRestrict(interactable,action){var options=interactable.options;return/^resize/.test(action)&&(action="resize"),options[action].restrict&&options[action].restrict.enabled}function checkAutoScroll(interactable,action){var options=interactable.options;return/^resize/.test(action)&&(action="resize"),options[action].autoScroll&&options[action].autoScroll.enabled}
function withinInteractionLimit(interactable,element,action){for(var options=interactable.options,maxActions=options[action.name].max,maxPerElement=options[action.name].maxPerElement,activeInteractions=0,targetCount=0,targetElementCount=0,i=0,len=interactions.length;i<len;i++){var interaction=interactions[i],otherAction=interaction.prepared.name;if(interaction.interacting()){if(++activeInteractions>=maxInteractions)return!1;if(interaction.target===interactable){if((targetCount+=otherAction===action.name|0)>=maxActions)return!1;if(interaction.element===element&&(targetElementCount++,otherAction!==action.name||targetElementCount>=maxPerElement))return!1}}}
return maxInteractions>0}function indexOfDeepestElement(elements){var dropzone,parent,child,i,n,deepestZone=elements[0],index=deepestZone?0:-1,deepestZoneParents=[],dropzoneParents=[];for(i=1;i<elements.length;i++)if((dropzone=elements[i])&&dropzone!==deepestZone)if(deepestZone){if(dropzone.parentNode!==dropzone.ownerDocument)if(deepestZone.parentNode!==dropzone.ownerDocument){if(!deepestZoneParents.length)for(parent=deepestZone;parent.parentNode&&parent.parentNode!==parent.ownerDocument;)deepestZoneParents.unshift(parent),parent=parent.parentNode;if(deepestZone instanceof HTMLElement&&dropzone instanceof SVGElement&&!(dropzone instanceof SVGSVGElement)){
if(dropzone===deepestZone.parentNode)continue;parent=dropzone.ownerSVGElement}else parent=dropzone;for(dropzoneParents=[];parent.parentNode!==parent.ownerDocument;)dropzoneParents.unshift(parent),parent=parent.parentNode;for(n=0;dropzoneParents[n]&&dropzoneParents[n]===deepestZoneParents[n];)n++;var parents=[dropzoneParents[n-1],dropzoneParents[n],deepestZoneParents[n]];for(child=parents[0].lastChild;child;){if(child===parents[1]){deepestZone=dropzone,index=i,deepestZoneParents=[];break}if(child===parents[2])break;child=child.previousSibling}}else deepestZone=dropzone,index=i}else deepestZone=dropzone,index=i;return index}function Interaction(){
if(this.target=null,this.element=null,this.dropTarget=null,this.dropElement=null,this.prevDropTarget=null,this.prevDropElement=null,this.prepared={name:null,axis:null,edges:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,ending:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},isFunction(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var that=this;this.boundInertiaFrame=function(){return that.inertiaFrame()},this.boundSmoothEndFrame=function(){
return that.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.holdTimers=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},
this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffsets=[],this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.pointerIsDown=!1,this.pointerWasMoved=!1,this.gesturing=!1,this.dragging=!1,this.resizing=!1,this.resizeAxes="xy",this.mouse=!1,interactions.push(this)}function getInteractionFromPointer(pointer,eventType,eventTarget){
var interaction,i=0,len=interactions.length,mouseEvent=/mouse/i.test(pointer.pointerType||eventType)||4===pointer.pointerType,id=getPointerId(pointer);if(/down|start/i.test(eventType))for(i=0;i<len;i++){interaction=interactions[i];var element=eventTarget;if(interaction.inertiaStatus.active&&interaction.target.options[interaction.prepared.name].inertia.allowResume&&interaction.mouse===mouseEvent)for(;element;){if(element===interaction.element)return interaction;element=parentElement(element)}}if(mouseEvent||!supportsTouch&&!supportsPointerEvent){for(i=0;i<len;i++)if(interactions[i].mouse&&!interactions[i].inertiaStatus.active)return interactions[i]
;for(i=0;i<len;i++)if(interactions[i].mouse&&(!/down/.test(eventType)||!interactions[i].inertiaStatus.active))return interaction;return interaction=new Interaction,interaction.mouse=!0,interaction}for(i=0;i<len;i++)if(contains(interactions[i].pointerIds,id))return interactions[i];if(/up|end|out/i.test(eventType))return null;for(i=0;i<len;i++)if(interaction=interactions[i],(!interaction.prepared.name||interaction.target.options.gesture.enabled)&&!interaction.interacting()&&(mouseEvent||!interaction.mouse))return interaction;return new Interaction}function doOnInteractions(method){return function(event){
var interaction,i,eventTarget=getActualElement(event.path?event.path[0]:event.target),curEventTarget=getActualElement(event.currentTarget);if(supportsTouch&&/touch/.test(event.type))for(prevTouchTime=(new Date).getTime(),i=0;i<event.changedTouches.length;i++){var pointer=event.changedTouches[i];interaction=getInteractionFromPointer(pointer,event.type,eventTarget),interaction&&(interaction._updateEventTargets(eventTarget,curEventTarget),interaction[method](pointer,event,eventTarget,curEventTarget))}else{if(!supportsPointerEvent&&/mouse/.test(event.type)){for(i=0;i<interactions.length;i++)if(!interactions[i].mouse&&interactions[i].pointerIsDown)return
;if((new Date).getTime()-prevTouchTime<500)return}if(!(interaction=getInteractionFromPointer(event,event.type,eventTarget)))return;interaction._updateEventTargets(eventTarget,curEventTarget),interaction[method](event,event,eventTarget,curEventTarget)}}}function InteractEvent(interaction,event,action,phase,element,related){
var client,page,target=interaction.target,snapStatus=interaction.snapStatus,restrictStatus=interaction.restrictStatus,pointers=interaction.pointers,deltaSource=(target&&target.options||defaultOptions).deltaSource,sourceX=deltaSource+"X",sourceY=deltaSource+"Y",options=target?target.options:defaultOptions,origin=getOriginXY(target,element),starting="start"===phase,ending="end"===phase,coords=starting?interaction.startCoords:interaction.curCoords;element=element||interaction.element,page=extend({},coords.page),client=extend({},coords.client),page.x-=origin.x,page.y-=origin.y,client.x-=origin.x,client.y-=origin.y
;var relativePoints=options[action].snap&&options[action].snap.relativePoints;!checkSnap(target,action)||starting&&relativePoints&&relativePoints.length||(this.snap={range:snapStatus.range,locked:snapStatus.locked,x:snapStatus.snappedX,y:snapStatus.snappedY,realX:snapStatus.realX,realY:snapStatus.realY,dx:snapStatus.dx,dy:snapStatus.dy},snapStatus.locked&&(page.x+=snapStatus.dx,page.y+=snapStatus.dy,client.x+=snapStatus.dx,client.y+=snapStatus.dy)),!checkRestrict(target,action)||starting&&options[action].restrict.elementRect||!restrictStatus.restricted||(page.x+=restrictStatus.dx,page.y+=restrictStatus.dy,client.x+=restrictStatus.dx,
client.y+=restrictStatus.dy,this.restrict={dx:restrictStatus.dx,dy:restrictStatus.dy}),this.pageX=page.x,this.pageY=page.y,this.clientX=client.x,this.clientY=client.y,this.x0=interaction.startCoords.page.x-origin.x,this.y0=interaction.startCoords.page.y-origin.y,this.clientX0=interaction.startCoords.client.x-origin.x,this.clientY0=interaction.startCoords.client.y-origin.y,this.ctrlKey=event.ctrlKey,this.altKey=event.altKey,this.shiftKey=event.shiftKey,this.metaKey=event.metaKey,this.button=event.button,this.buttons=event.buttons,this.target=element,this.t0=interaction.downTimes[0],this.type=action+(phase||""),this.interaction=interaction,
this.interactable=target;var inertiaStatus=interaction.inertiaStatus;if(inertiaStatus.active&&(this.detail="inertia"),related&&(this.relatedTarget=related),ending?"client"===deltaSource?(this.dx=client.x-interaction.startCoords.client.x,this.dy=client.y-interaction.startCoords.client.y):(this.dx=page.x-interaction.startCoords.page.x,this.dy=page.y-interaction.startCoords.page.y):starting?(this.dx=0,this.dy=0):"inertiastart"===phase?(this.dx=interaction.prevEvent.dx,this.dy=interaction.prevEvent.dy):"client"===deltaSource?(this.dx=client.x-interaction.prevEvent.clientX,
this.dy=client.y-interaction.prevEvent.clientY):(this.dx=page.x-interaction.prevEvent.pageX,this.dy=page.y-interaction.prevEvent.pageY),interaction.prevEvent&&"inertia"===interaction.prevEvent.detail&&!inertiaStatus.active&&options[action].inertia&&options[action].inertia.zeroResumeDelta&&(inertiaStatus.resumeDx+=this.dx,inertiaStatus.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===action&&interaction.resizeAxes?options.resize.square?("y"===interaction.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=interaction.resizeAxes,
"x"===interaction.resizeAxes?this.dy=0:"y"===interaction.resizeAxes&&(this.dx=0)):"gesture"===action&&(this.touches=[pointers[0],pointers[1]],starting?(this.distance=touchDistance(pointers,deltaSource),this.box=touchBBox(pointers),this.scale=1,this.ds=0,this.angle=touchAngle(pointers,void 0,deltaSource),this.da=0):ending||event instanceof InteractEvent?(this.distance=interaction.prevEvent.distance,this.box=interaction.prevEvent.box,this.scale=interaction.prevEvent.scale,this.ds=this.scale-1,this.angle=interaction.prevEvent.angle,this.da=this.angle-interaction.gesture.startAngle):(this.distance=touchDistance(pointers,deltaSource),this.box=touchBBox(pointers),
this.scale=this.distance/interaction.gesture.startDistance,this.angle=touchAngle(pointers,interaction.gesture.prevAngle,deltaSource),this.ds=this.scale-interaction.gesture.prevScale,this.da=this.angle-interaction.gesture.prevAngle)),starting)this.timeStamp=interaction.downTimes[0],this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if("inertiastart"===phase)this.timeStamp=interaction.prevEvent.timeStamp,this.dt=interaction.prevEvent.dt,this.duration=interaction.prevEvent.duration,this.speed=interaction.prevEvent.speed,this.velocityX=interaction.prevEvent.velocityX,
this.velocityY=interaction.prevEvent.velocityY;else if(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-interaction.prevEvent.timeStamp,this.duration=this.timeStamp-interaction.downTimes[0],event instanceof InteractEvent){var dx=this[sourceX]-interaction.prevEvent[sourceX],dy=this[sourceY]-interaction.prevEvent[sourceY],dt=this.dt/1e3;this.speed=hypot(dx,dy)/dt,this.velocityX=dx/dt,this.velocityY=dy/dt}else this.speed=interaction.pointerDelta[deltaSource].speed,this.velocityX=interaction.pointerDelta[deltaSource].vx,this.velocityY=interaction.pointerDelta[deltaSource].vy
;if((ending||"inertiastart"===phase)&&interaction.prevEvent.speed>600&&this.timeStamp-interaction.prevEvent.timeStamp<150){var angle=180*Math.atan2(interaction.prevEvent.velocityY,interaction.prevEvent.velocityX)/Math.PI;angle<0&&(angle+=360);var left=112.5<=angle&&angle<247.5,up=202.5<=angle&&angle<337.5,right=!left&&(292.5<=angle||angle<67.5),down=!up&&22.5<=angle&&angle<157.5;this.swipe={up:up,down:down,left:left,right:right,angle:angle,speed:interaction.prevEvent.speed,velocity:{x:interaction.prevEvent.velocityX,y:interaction.prevEvent.velocityY}}}}function preventOriginalDefault(){this.originalEvent.preventDefault()}function getActionCursor(action){
var cursor="";if("drag"===action.name&&(cursor=actionCursors.drag),"resize"===action.name)if(action.axis)cursor=actionCursors[action.name+action.axis];else if(action.edges){for(var cursorKey="resize",edgeNames=["top","bottom","left","right"],i=0;i<4;i++)action.edges[edgeNames[i]]&&(cursorKey+=edgeNames[i]);cursor=actionCursors[cursorKey]}return cursor}function checkResizeEdge(name,value,page,element,interactableElement,rect,margin){if(!value)return!1;if(!0===value){var width=isNumber(rect.width)?rect.width:rect.right-rect.left,height=isNumber(rect.height)?rect.height:rect.bottom-rect.top;if(width<0&&("left"===name?name="right":"right"===name&&(name="left")),
height<0&&("top"===name?name="bottom":"bottom"===name&&(name="top")),"left"===name)return page.x<(width>=0?rect.left:rect.right)+margin;if("top"===name)return page.y<(height>=0?rect.top:rect.bottom)+margin;if("right"===name)return page.x>(width>=0?rect.right:rect.left)-margin;if("bottom"===name)return page.y>(height>=0?rect.bottom:rect.top)-margin}return!!isElement(element)&&(isElement(value)?value===element:matchesUpTo(element,value,interactableElement))}function defaultActionChecker(pointer,interaction,element){
var resizeEdges,rect=this.getRect(element),shouldResize=!1,action=null,resizeAxes=null,page=extend({},interaction.curCoords.page),options=this.options;if(!rect)return null;if(actionIsEnabled.resize&&options.resize.enabled){var resizeOptions=options.resize;if(resizeEdges={left:!1,right:!1,top:!1,bottom:!1},isObject(resizeOptions.edges)){for(var edge in resizeEdges)resizeEdges[edge]=checkResizeEdge(edge,resizeOptions.edges[edge],page,interaction._eventTarget,element,rect,resizeOptions.margin||margin);resizeEdges.left=resizeEdges.left&&!resizeEdges.right,resizeEdges.top=resizeEdges.top&&!resizeEdges.bottom,
shouldResize=resizeEdges.left||resizeEdges.right||resizeEdges.top||resizeEdges.bottom}else{var right="y"!==options.resize.axis&&page.x>rect.right-margin,bottom="x"!==options.resize.axis&&page.y>rect.bottom-margin;shouldResize=right||bottom,resizeAxes=(right?"x":"")+(bottom?"y":"")}}return action=shouldResize?"resize":actionIsEnabled.drag&&options.drag.enabled?"drag":null,actionIsEnabled.gesture&&interaction.pointerIds.length>=2&&!interaction.dragging&&!interaction.resizing&&(action="gesture"),action?{name:action,axis:resizeAxes,edges:resizeEdges}:null}function validateAction(action,interactable){if(!isObject(action))return null
;var actionName=action.name,options=interactable.options;return("resize"===actionName&&options.resize.enabled||"drag"===actionName&&options.drag.enabled||"gesture"===actionName&&options.gesture.enabled)&&actionIsEnabled[actionName]?("resize"!==actionName&&"resizeyx"!==actionName||(actionName="resizexy"),action):null}function delegateListener(event,useCapture){var fakeEvent={},delegated=delegatedEvents[event.type],eventTarget=getActualElement(event.path?event.path[0]:event.target),element=eventTarget;useCapture=!!useCapture;for(var prop in event)fakeEvent[prop]=event[prop];for(fakeEvent.originalEvent=event,
fakeEvent.preventDefault=preventOriginalDefault;isElement(element);){for(var i=0;i<delegated.selectors.length;i++){var selector=delegated.selectors[i],context=delegated.contexts[i];if(matchesSelector(element,selector)&&nodeContains(context,eventTarget)&&nodeContains(context,element)){var listeners=delegated.listeners[i];fakeEvent.currentTarget=element;for(var j=0;j<listeners.length;j++)listeners[j][1]===useCapture&&listeners[j][0](fakeEvent)}}element=parentElement(element)}}function delegateUseCapture(event){return delegateListener.call(this,event,!0)}function interact(element,options){
return interactables.get(element,options)||new Interactable(element,options)}function Interactable(element,options){this._element=element,this._iEvents=this._iEvents||{};var _window;if(trySelector(element)){this.selector=element;var context=options&&options.context;_window=context?getWindow(context):window,context&&(_window.Node?context instanceof _window.Node:isElement(context)||context===_window.document)&&(this._context=context)}else _window=getWindow(element),isElement(element,_window)&&(supportsPointerEvent?(events.add(this._element,pEventTypes.down,listeners.pointerDown),
events.add(this._element,pEventTypes.move,listeners.pointerHover)):(events.add(this._element,"mousedown",listeners.pointerDown),events.add(this._element,"mousemove",listeners.pointerHover),events.add(this._element,"touchstart",listeners.pointerDown),events.add(this._element,"touchmove",listeners.pointerHover)));this._doc=_window.document,contains(documents,this._doc)||listenToDocument(this._doc),interactables.push(this),this.set(options)}function warnOnce(method,message){var warned=!1;return function(){return warned||(window.console.warn(message),warned=!0),method.apply(this,arguments)}}function endAllInteractions(event){
for(var i=0;i<interactions.length;i++)interactions[i].pointerEnd(event,event)}function listenToDocument(doc){if(!contains(documents,doc)){var win=doc.defaultView||doc.parentWindow;for(var eventType in delegatedEvents)events.add(doc,eventType,delegateListener),events.add(doc,eventType,delegateUseCapture,!0);supportsPointerEvent?(pEventTypes=PointerEvent===win.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},events.add(doc,pEventTypes.down,listeners.selectorDown),
events.add(doc,pEventTypes.move,listeners.pointerMove),events.add(doc,pEventTypes.over,listeners.pointerOver),events.add(doc,pEventTypes.out,listeners.pointerOut),events.add(doc,pEventTypes.up,listeners.pointerUp),events.add(doc,pEventTypes.cancel,listeners.pointerCancel),events.add(doc,pEventTypes.move,listeners.autoScrollMove)):(events.add(doc,"mousedown",listeners.selectorDown),events.add(doc,"mousemove",listeners.pointerMove),events.add(doc,"mouseup",listeners.pointerUp),events.add(doc,"mouseover",listeners.pointerOver),events.add(doc,"mouseout",listeners.pointerOut),events.add(doc,"touchstart",listeners.selectorDown),
events.add(doc,"touchmove",listeners.pointerMove),events.add(doc,"touchend",listeners.pointerUp),events.add(doc,"touchcancel",listeners.pointerCancel),events.add(doc,"mousemove",listeners.autoScrollMove),events.add(doc,"touchmove",listeners.autoScrollMove)),events.add(win,"blur",endAllInteractions);try{if(win.frameElement){var parentDoc=win.frameElement.ownerDocument,parentWindow=parentDoc.defaultView;events.add(parentDoc,"mouseup",listeners.pointerEnd),events.add(parentDoc,"touchend",listeners.pointerEnd),events.add(parentDoc,"touchcancel",listeners.pointerEnd),events.add(parentDoc,"pointerup",listeners.pointerEnd),
events.add(parentDoc,"MSPointerUp",listeners.pointerEnd),events.add(parentWindow,"blur",endAllInteractions)}}catch(error){interact.windowParentError=error}events.add(doc,"dragstart",function(event){for(var i=0;i<interactions.length;i++){var interaction=interactions[i];if(interaction.element&&(interaction.element===event.target||nodeContains(interaction.element,event.target)))return void interaction.checkAndPreventDefault(event,interaction.target,interaction.element)}}),events.useAttachEvent&&(events.add(doc,"selectstart",function(event){var interaction=interactions[0];interaction.currentAction()&&interaction.checkAndPreventDefault(event)}),
events.add(doc,"dblclick",doOnInteractions("ie8Dblclick"))),documents.push(doc)}}function indexOf(array,target){for(var i=0,len=array.length;i<len;i++)if(array[i]===target)return i;return-1}function contains(array,target){return-1!==indexOf(array,target)}function matchesSelector(element,selector,nodeList){return ie8MatchesSelector?ie8MatchesSelector(element,selector,nodeList):(window!==realWindow&&(selector=selector.replace(/\/deep\//g," ")),element[prefixedMatchesSelector](selector))}function matchesUpTo(element,selector,limit){for(;isElement(element);){if(matchesSelector(element,selector))return!0
;if((element=parentElement(element))===limit)return matchesSelector(element,selector)}return!1}if(realWindow){var pEventTypes,ie8MatchesSelector,window=function(){var el=realWindow.document.createTextNode("");return el.ownerDocument!==realWindow.document&&"function"==typeof realWindow.wrap&&realWindow.wrap(el)===el?realWindow.wrap(realWindow):realWindow
}(),document=window.document,DocumentFragment=window.DocumentFragment||blank,SVGElement=window.SVGElement||blank,SVGSVGElement=window.SVGSVGElement||blank,SVGElementInstance=window.SVGElementInstance||blank,HTMLElement=window.HTMLElement||window.Element,PointerEvent=window.PointerEvent||window.MSPointerEvent,hypot=Math.hypot||function(x,y){return Math.sqrt(x*x+y*y)},tmpXY={},documents=[],interactables=[],interactions=[],dynamicDrop=!1,delegatedEvents={},defaultOptions={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:document,dropChecker:null},drag:{
enabled:!1,manualStart:!0,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:1/0,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:1/0,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{
enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},autoScroll={interaction:null,i:null,x:0,y:0,scroll:function(){var vx,vy,sx,sy,options=autoScroll.interaction.target.options[autoScroll.interaction.prepared.name].autoScroll,container=options.container||getWindow(autoScroll.interaction.element),now=(new Date).getTime(),dtx=(now-autoScroll.prevTimeX)/1e3,dty=(now-autoScroll.prevTimeY)/1e3;options.velocity?(vx=options.velocity.x,vy=options.velocity.y):vx=vy=options.speed,sx=vx*dtx,sy=vy*dty,
(sx>=1||sy>=1)&&(isWindow(container)?container.scrollBy(autoScroll.x*sx,autoScroll.y*sy):container&&(container.scrollLeft+=autoScroll.x*sx,container.scrollTop+=autoScroll.y*sy),sx>=1&&(autoScroll.prevTimeX=now),sy>=1&&(autoScroll.prevTimeY=now)),autoScroll.isScrolling&&(cancelFrame(autoScroll.i),autoScroll.i=reqFrame(autoScroll.scroll))},isScrolling:!1,prevTimeX:0,prevTimeY:0,start:function(interaction){autoScroll.isScrolling=!0,cancelFrame(autoScroll.i),autoScroll.interaction=interaction,autoScroll.prevTimeX=(new Date).getTime(),autoScroll.prevTimeY=(new Date).getTime(),autoScroll.i=reqFrame(autoScroll.scroll)},stop:function(){autoScroll.isScrolling=!1,
cancelFrame(autoScroll.i)}},supportsTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsPointerEvent=PointerEvent&&!/Chrome/.test(navigator.userAgent),margin=supportsTouch||supportsPointerEvent?20:10,pointerMoveTolerance=1,prevTouchTime=0,maxInteractions=1/0,actionCursors=document.all&&!window.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",
resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},actionIsEnabled={drag:!0,resize:!0,gesture:!0
},wheelEvent="onmousewheel"in document?"mousewheel":"wheel",eventTypes=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","down","move","up","cancel","tap","doubletap","hold"],globalEvents={},isOperaMobile="Opera"==navigator.appName&&supportsTouch&&navigator.userAgent.match("Presto"),isIOS7=/iP(hone|od|ad)/.test(navigator.platform)&&/OS 7[^\d]/.test(navigator.appVersion),prefixedMatchesSelector="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",reqFrame=realWindow.requestAnimationFrame,cancelFrame=realWindow.cancelAnimationFrame,events=function(){
function add(element,type,listener,useCapture){var elementIndex=indexOf(elements,element),target=targets[elementIndex];if(target||(target={events:{},typeCount:0},elementIndex=elements.push(element)-1,targets.push(target),attachedListeners.push(useAttachEvent?{supplied:[],wrapped:[],useCount:[]}:null)),target.events[type]||(target.events[type]=[],target.typeCount++),!contains(target.events[type],listener)){var ret;if(useAttachEvent){var listeners=attachedListeners[elementIndex],listenerIndex=indexOf(listeners.supplied,listener),wrapped=listeners.wrapped[listenerIndex]||function(event){event.immediatePropagationStopped||(event.target=event.srcElement,
event.currentTarget=element,event.preventDefault=event.preventDefault||preventDef,event.stopPropagation=event.stopPropagation||stopProp,event.stopImmediatePropagation=event.stopImmediatePropagation||stopImmProp,/mouse|click/.test(event.type)&&(event.pageX=event.clientX+getWindow(element).document.documentElement.scrollLeft,event.pageY=event.clientY+getWindow(element).document.documentElement.scrollTop),listener(event))};ret=element[addEvent](on+type,wrapped,Boolean(useCapture)),-1===listenerIndex?(listeners.supplied.push(listener),listeners.wrapped.push(wrapped),listeners.useCount.push(1)):listeners.useCount[listenerIndex]++
}else ret=element[addEvent](type,listener,useCapture||!1);return target.events[type].push(listener),ret}}function remove(element,type,listener,useCapture){var i,listeners,listenerIndex,elementIndex=indexOf(elements,element),target=targets[elementIndex],wrapped=listener;if(target&&target.events)if(useAttachEvent&&(listeners=attachedListeners[elementIndex],listenerIndex=indexOf(listeners.supplied,listener),wrapped=listeners.wrapped[listenerIndex]),"all"!==type){if(target.events[type]){var len=target.events[type].length;if("all"===listener){for(i=0;i<len;i++)remove(element,type,target.events[type][i],Boolean(useCapture));return}
for(i=0;i<len;i++)if(target.events[type][i]===listener){element[removeEvent](on+type,wrapped,useCapture||!1),target.events[type].splice(i,1),useAttachEvent&&listeners&&0===--listeners.useCount[listenerIndex]&&(listeners.supplied.splice(listenerIndex,1),listeners.wrapped.splice(listenerIndex,1),listeners.useCount.splice(listenerIndex,1));break}target.events[type]&&0===target.events[type].length&&(target.events[type]=null,target.typeCount--)}target.typeCount||(targets.splice(elementIndex,1),elements.splice(elementIndex,1),attachedListeners.splice(elementIndex,1))}else for(type in target.events)target.events.hasOwnProperty(type)&&remove(element,type,"all")}
function preventDef(){this.returnValue=!1}function stopProp(){this.cancelBubble=!0}function stopImmProp(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}var useAttachEvent="attachEvent"in window&&!("addEventListener"in window),addEvent=useAttachEvent?"attachEvent":"addEventListener",removeEvent=useAttachEvent?"detachEvent":"removeEventListener",on=useAttachEvent?"on":"",elements=[],targets=[],attachedListeners=[];return{add:add,remove:remove,useAttachEvent:useAttachEvent,_elements:elements,_targets:targets,_attachedListeners:attachedListeners}}(),prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/};Interaction.prototype={
getPageXY:function(pointer,xy){return getPageXY(pointer,xy)},getClientXY:function(pointer,xy){return getClientXY(pointer,xy)},setEventXY:function(target,ptr){return setEventXY(target,ptr,this)},pointerOver:function(pointer,event,eventTarget){function pushCurMatches(interactable,selector){interactable&&inContext(interactable,eventTarget)&&!testIgnore(interactable,eventTarget,eventTarget)&&testAllow(interactable,eventTarget,eventTarget)&&matchesSelector(eventTarget,selector)&&(curMatches.push(interactable),curMatchElements.push(eventTarget))}if(!this.prepared.name&&this.mouse){var curMatches=[],curMatchElements=[],prevTargetElement=this.element
;this.addPointer(pointer),!this.target||!testIgnore(this.target,this.element,eventTarget)&&testAllow(this.target,this.element,eventTarget)||(this.target=null,this.element=null,this.matches=[],this.matchElements=[]);var elementInteractable=interactables.get(eventTarget),elementAction=elementInteractable&&!testIgnore(elementInteractable,eventTarget,eventTarget)&&testAllow(elementInteractable,eventTarget,eventTarget)&&validateAction(elementInteractable.getAction(pointer,event,this,eventTarget),elementInteractable);elementAction&&!withinInteractionLimit(elementInteractable,eventTarget,elementAction)&&(elementAction=null),
elementAction?(this.target=elementInteractable,this.element=eventTarget,this.matches=[],this.matchElements=[]):(interactables.forEachSelector(pushCurMatches),this.validateSelector(pointer,event,curMatches,curMatchElements)?(this.matches=curMatches,this.matchElements=curMatchElements,this.pointerHover(pointer,event,this.matches,this.matchElements),events.add(eventTarget,supportsPointerEvent?pEventTypes.move:"mousemove",listeners.pointerHover)):this.target&&(nodeContains(prevTargetElement,eventTarget)?(this.pointerHover(pointer,event,this.matches,this.matchElements),
events.add(this.element,supportsPointerEvent?pEventTypes.move:"mousemove",listeners.pointerHover)):(this.target=null,this.element=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(pointer,event,eventTarget,curEventTarget,matches,matchElements){var target=this.target;if(!this.prepared.name&&this.mouse){var action;this.setEventXY(this.curCoords,[pointer]),matches?action=this.validateSelector(pointer,event,matches,matchElements):target&&(action=validateAction(target.getAction(this.pointers[0],event,this,this.element),this.target)),target&&target.options.styleCursor&&(target._doc.documentElement.style.cursor=action?getActionCursor(action):"")
}else this.prepared.name&&this.checkAndPreventDefault(event,target,this.element)},pointerOut:function(pointer,event,eventTarget){this.prepared.name||(interactables.get(eventTarget)||events.remove(eventTarget,supportsPointerEvent?pEventTypes.move:"mousemove",listeners.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(pointer,event,eventTarget,curEventTarget){function pushMatches(interactable,selector,context){var elements=ie8MatchesSelector?context.querySelectorAll(selector):void 0
;inContext(interactable,element)&&!testIgnore(interactable,element,eventTarget)&&testAllow(interactable,element,eventTarget)&&matchesSelector(element,selector,elements)&&(that.matches.push(interactable),that.matchElements.push(element))}var action,that=this,eventCopy=events.useAttachEvent?extend({},event):event,element=eventTarget,pointerIndex=this.addPointer(pointer);if(this.holdTimers[pointerIndex]=setTimeout(function(){that.pointerHold(events.useAttachEvent?eventCopy:pointer,eventCopy,eventTarget,curEventTarget)},defaultOptions._holdDuration),this.pointerIsDown=!0,this.inertiaStatus.active&&this.target.selector)for(;isElement(element);){
if(element===this.element&&validateAction(this.target.getAction(pointer,event,this,this.element),this.target).name===this.prepared.name)return cancelFrame(this.inertiaStatus.i),this.inertiaStatus.active=!1,void this.collectEventTargets(pointer,event,eventTarget,"down");element=parentElement(element)}if(this.interacting())return void this.collectEventTargets(pointer,event,eventTarget,"down");for(this.setEventXY(this.curCoords,[pointer]),this.downEvent=event;isElement(element)&&!action;)this.matches=[],this.matchElements=[],interactables.forEachSelector(pushMatches),action=this.validateSelector(pointer,event,this.matches,this.matchElements),
element=parentElement(element);if(action)return this.prepared.name=action.name,this.prepared.axis=action.axis,this.prepared.edges=action.edges,this.collectEventTargets(pointer,event,eventTarget,"down"),this.pointerDown(pointer,event,eventTarget,curEventTarget,action);this.downTimes[pointerIndex]=(new Date).getTime(),this.downTargets[pointerIndex]=eventTarget,pointerExtend(this.downPointer,pointer),copyCoords(this.prevCoords,this.curCoords),this.pointerWasMoved=!1,this.collectEventTargets(pointer,event,eventTarget,"down")},pointerDown:function(pointer,event,eventTarget,curEventTarget,forceAction){
if(!forceAction&&!this.inertiaStatus.active&&this.pointerWasMoved&&this.prepared.name)return void this.checkAndPreventDefault(event,this.target,this.element);this.pointerIsDown=!0,this.downEvent=event;var action,pointerIndex=this.addPointer(pointer);if(this.pointerIds.length>1&&this.target._element===this.element){var newAction=validateAction(forceAction||this.target.getAction(pointer,event,this,this.element),this.target);withinInteractionLimit(this.target,this.element,newAction)&&(action=newAction),this.prepared.name=null}else if(!this.prepared.name){var interactable=interactables.get(curEventTarget)
;interactable&&!testIgnore(interactable,curEventTarget,eventTarget)&&testAllow(interactable,curEventTarget,eventTarget)&&(action=validateAction(forceAction||interactable.getAction(pointer,event,this,curEventTarget),interactable))&&withinInteractionLimit(interactable,curEventTarget,action)&&(this.target=interactable,this.element=curEventTarget)}var target=this.target,options=target&&target.options;if(!target||!forceAction&&this.prepared.name)this.inertiaStatus.active&&curEventTarget===this.element&&validateAction(target.getAction(pointer,event,this,this.element),target).name===this.prepared.name&&(cancelFrame(this.inertiaStatus.i),
this.inertiaStatus.active=!1,this.checkAndPreventDefault(event,target,this.element));else{if(action=action||validateAction(forceAction||target.getAction(pointer,event,this,curEventTarget),target,this.element),this.setEventXY(this.startCoords,this.pointers),!action)return;options.styleCursor&&(target._doc.documentElement.style.cursor=getActionCursor(action)),this.resizeAxes="resize"===action.name?action.axis:null,"gesture"===action&&this.pointerIds.length<2&&(action=null),this.prepared.name=action.name,this.prepared.axis=action.axis,this.prepared.edges=action.edges,
this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=NaN,this.downTimes[pointerIndex]=(new Date).getTime(),this.downTargets[pointerIndex]=eventTarget,pointerExtend(this.downPointer,pointer),copyCoords(this.prevCoords,this.startCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(event,target,this.element)}},setModifications:function(coords,preEnd){
var target=this.target,shouldMove=!0,shouldSnap=checkSnap(target,this.prepared.name)&&(!target.options[this.prepared.name].snap.endOnly||preEnd),shouldRestrict=checkRestrict(target,this.prepared.name)&&(!target.options[this.prepared.name].restrict.endOnly||preEnd);return shouldSnap?this.setSnapping(coords):this.snapStatus.locked=!1,shouldRestrict?this.setRestriction(coords):this.restrictStatus.restricted=!1,shouldSnap&&this.snapStatus.locked&&!this.snapStatus.changed?shouldMove=shouldRestrict&&this.restrictStatus.restricted&&this.restrictStatus.changed:shouldRestrict&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(shouldMove=!1),shouldMove},
setStartOffsets:function(action,interactable,element){var width,height,rect=interactable.getRect(element),origin=getOriginXY(interactable,element),snap=interactable.options[this.prepared.name].snap,restrict=interactable.options[this.prepared.name].restrict;rect?(this.startOffset.left=this.startCoords.page.x-rect.left,this.startOffset.top=this.startCoords.page.y-rect.top,this.startOffset.right=rect.right-this.startCoords.page.x,this.startOffset.bottom=rect.bottom-this.startCoords.page.y,width="width"in rect?rect.width:rect.right-rect.left,
height="height"in rect?rect.height:rect.bottom-rect.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,this.snapOffsets.splice(0);var snapOffset=snap&&"startCoords"===snap.offset?{x:this.startCoords.page.x-origin.x,y:this.startCoords.page.y-origin.y}:snap&&snap.offset||{x:0,y:0};if(rect&&snap&&snap.relativePoints&&snap.relativePoints.length)for(var i=0;i<snap.relativePoints.length;i++)this.snapOffsets.push({x:this.startOffset.left-width*snap.relativePoints[i].x+snapOffset.x,y:this.startOffset.top-height*snap.relativePoints[i].y+snapOffset.y});else this.snapOffsets.push(snapOffset)
;rect&&restrict.elementRect?(this.restrictOffset.left=this.startOffset.left-width*restrict.elementRect.left,this.restrictOffset.top=this.startOffset.top-height*restrict.elementRect.top,this.restrictOffset.right=this.startOffset.right-width*(1-restrict.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-height*(1-restrict.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(action,interactable,element){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===action.name?2:1)||(-1===indexOf(interactions,this)&&interactions.push(this),
this.prepared.name||this.setEventXY(this.startCoords,this.pointers),this.prepared.name=action.name,this.prepared.axis=action.axis,this.prepared.edges=action.edges,this.target=interactable,this.element=element,this.setStartOffsets(action.name,interactable,element),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(pointer,event,eventTarget,curEventTarget,preEnd){if(this.inertiaStatus.active){var pageUp=this.inertiaStatus.upCoords.page,clientUp=this.inertiaStatus.upCoords.client,inertiaPosition={pageX:pageUp.x+this.inertiaStatus.sx,pageY:pageUp.y+this.inertiaStatus.sy,
clientX:clientUp.x+this.inertiaStatus.sx,clientY:clientUp.y+this.inertiaStatus.sy};this.setEventXY(this.curCoords,[inertiaPosition])}else this.recordPointer(pointer),this.setEventXY(this.curCoords,this.pointers);var dx,dy,duplicateMove=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,pointerIndex=this.mouse?0:indexOf(this.pointerIds,getPointerId(pointer));if(this.pointerIsDown&&!this.pointerWasMoved&&(dx=this.curCoords.client.x-this.startCoords.client.x,dy=this.curCoords.client.y-this.startCoords.client.y,
this.pointerWasMoved=hypot(dx,dy)>pointerMoveTolerance),duplicateMove||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[pointerIndex]),this.collectEventTargets(pointer,event,eventTarget,"move")),this.pointerIsDown){if(duplicateMove&&this.pointerWasMoved&&!preEnd)return void this.checkAndPreventDefault(event,this.target,this.element);if(setEventDeltas(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||pointer instanceof InteractEvent&&/inertiastart/.test(pointer.type))){
if(!this.interacting()&&(setEventDeltas(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){var absX=Math.abs(dx),absY=Math.abs(dy),targetAxis=this.target.options.drag.axis,axis=absX>absY?"x":absX<absY?"y":"xy";if("xy"!==axis&&"xy"!==targetAxis&&targetAxis!==axis){this.prepared.name=null;for(var element=eventTarget;isElement(element);){var elementInteractable=interactables.get(element);if(elementInteractable&&elementInteractable!==this.target&&!elementInteractable.options.drag.manualStart&&"drag"===elementInteractable.getAction(this.downPointer,this.downEvent,this,element).name&&checkAxis(axis,elementInteractable)){
this.prepared.name="drag",this.target=elementInteractable,this.element=element;break}element=parentElement(element)}if(!this.prepared.name){var thisInteraction=this,getDraggable=function(interactable,selector,context){var elements=ie8MatchesSelector?context.querySelectorAll(selector):void 0
;if(interactable!==thisInteraction.target)return inContext(interactable,eventTarget)&&!interactable.options.drag.manualStart&&!testIgnore(interactable,element,eventTarget)&&testAllow(interactable,element,eventTarget)&&matchesSelector(element,selector,elements)&&"drag"===interactable.getAction(thisInteraction.downPointer,thisInteraction.downEvent,thisInteraction,element).name&&checkAxis(axis,interactable)&&withinInteractionLimit(interactable,element,"drag")?interactable:void 0};for(element=eventTarget;isElement(element);){var selectorInteractable=interactables.forEachSelector(getDraggable);if(selectorInteractable){this.prepared.name="drag",
this.target=selectorInteractable,this.element=element;break}element=parentElement(element)}}}}var starting=!!this.prepared.name&&!this.interacting();if(starting&&(this.target.options[this.prepared.name].manualStart||!withinInteractionLimit(this.target,this.element,this.prepared)))return void this.stop(event);if(this.prepared.name&&this.target){starting&&this.start(this.prepared,this.target,this.element);(this.setModifications(this.curCoords.page,preEnd)||starting)&&(this.prevEvent=this[this.prepared.name+"Move"](event)),this.checkAndPreventDefault(event,this.target,this.element)}}copyCoords(this.prevCoords,this.curCoords),
(this.dragging||this.resizing)&&this.autoScrollMove(pointer)}}},dragStart:function(event){var dragEvent=new InteractEvent(this,event,"drag","start",this.element);this.dragging=!0,this.target.fire(dragEvent),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element);var dropEvents=this.getDropEvents(event,dragEvent);return dropEvents.activate&&this.fireActiveDrops(dropEvents.activate),dragEvent},dragMove:function(event){
var target=this.target,dragEvent=new InteractEvent(this,event,"drag","move",this.element),draggableElement=this.element,drop=this.getDrop(dragEvent,event,draggableElement);this.dropTarget=drop.dropzone,this.dropElement=drop.element;var dropEvents=this.getDropEvents(event,dragEvent);return target.fire(dragEvent),dropEvents.leave&&this.prevDropTarget.fire(dropEvents.leave),dropEvents.enter&&this.dropTarget.fire(dropEvents.enter),dropEvents.move&&this.dropTarget.fire(dropEvents.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,dragEvent},resizeStart:function(event){
var resizeEvent=new InteractEvent(this,event,"resize","start",this.element);if(this.prepared.edges){var startRect=this.target.getRect(this.element);if(this.target.options.resize.square||this.target.options.resize.preserveAspectRatio){var linkedEdges=extend({},this.prepared.edges);linkedEdges.top=linkedEdges.top||linkedEdges.left&&!linkedEdges.bottom,linkedEdges.left=linkedEdges.left||linkedEdges.top&&!linkedEdges.right,linkedEdges.bottom=linkedEdges.bottom||linkedEdges.right&&!linkedEdges.top,linkedEdges.right=linkedEdges.right||linkedEdges.bottom&&!linkedEdges.left,this.prepared._linkedEdges=linkedEdges}else this.prepared._linkedEdges=null
;this.target.options.resize.preserveAspectRatio&&(this.resizeStartAspectRatio=startRect.width/startRect.height),this.resizeRects={start:startRect,current:extend({},startRect),restricted:extend({},startRect),previous:extend({},startRect),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},resizeEvent.rect=this.resizeRects.restricted,resizeEvent.deltaRect=this.resizeRects.delta}return this.target.fire(resizeEvent),this.resizing=!0,resizeEvent},resizeMove:function(event){
var resizeEvent=new InteractEvent(this,event,"resize","move",this.element),edges=this.prepared.edges,invert=this.target.options.resize.invert,invertible="reposition"===invert||"negate"===invert;if(edges){var dx=resizeEvent.dx,dy=resizeEvent.dy,start=this.resizeRects.start,current=this.resizeRects.current,restricted=this.resizeRects.restricted,delta=this.resizeRects.delta,previous=extend(this.resizeRects.previous,restricted),originalEdges=edges;if(this.target.options.resize.preserveAspectRatio){var resizeStartAspectRatio=this.resizeStartAspectRatio;edges=this.prepared._linkedEdges,
originalEdges.left&&originalEdges.bottom||originalEdges.right&&originalEdges.top?dy=-dx/resizeStartAspectRatio:originalEdges.left||originalEdges.right?dy=dx/resizeStartAspectRatio:(originalEdges.top||originalEdges.bottom)&&(dx=dy*resizeStartAspectRatio)}else this.target.options.resize.square&&(edges=this.prepared._linkedEdges,originalEdges.left&&originalEdges.bottom||originalEdges.right&&originalEdges.top?dy=-dx:originalEdges.left||originalEdges.right?dy=dx:(originalEdges.top||originalEdges.bottom)&&(dx=dy));if(edges.top&&(current.top+=dy),edges.bottom&&(current.bottom+=dy),edges.left&&(current.left+=dx),edges.right&&(current.right+=dx),invertible){
if(extend(restricted,current),"reposition"===invert){var swap;restricted.top>restricted.bottom&&(swap=restricted.top,restricted.top=restricted.bottom,restricted.bottom=swap),restricted.left>restricted.right&&(swap=restricted.left,restricted.left=restricted.right,restricted.right=swap)}}else restricted.top=Math.min(current.top,start.bottom),restricted.bottom=Math.max(current.bottom,start.top),restricted.left=Math.min(current.left,start.right),restricted.right=Math.max(current.right,start.left);restricted.width=restricted.right-restricted.left,restricted.height=restricted.bottom-restricted.top
;for(var edge in restricted)delta[edge]=restricted[edge]-previous[edge];resizeEvent.edges=this.prepared.edges,resizeEvent.rect=restricted,resizeEvent.deltaRect=delta}return this.target.fire(resizeEvent),resizeEvent},gestureStart:function(event){var gestureEvent=new InteractEvent(this,event,"gesture","start",this.element);return gestureEvent.ds=0,this.gesture.startDistance=this.gesture.prevDistance=gestureEvent.distance,this.gesture.startAngle=this.gesture.prevAngle=gestureEvent.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(gestureEvent),gestureEvent},gestureMove:function(event){if(!this.pointerIds.length)return this.prevEvent;var gestureEvent
;return gestureEvent=new InteractEvent(this,event,"gesture","move",this.element),gestureEvent.ds=gestureEvent.scale-this.gesture.scale,this.target.fire(gestureEvent),this.gesture.prevAngle=gestureEvent.angle,this.gesture.prevDistance=gestureEvent.distance,gestureEvent.scale===1/0||null===gestureEvent.scale||void 0===gestureEvent.scale||isNaN(gestureEvent.scale)||(this.gesture.scale=gestureEvent.scale),gestureEvent},pointerHold:function(pointer,event,eventTarget){this.collectEventTargets(pointer,event,eventTarget,"hold")},pointerUp:function(pointer,event,eventTarget,curEventTarget){var pointerIndex=this.mouse?0:indexOf(this.pointerIds,getPointerId(pointer))
;clearTimeout(this.holdTimers[pointerIndex]),this.collectEventTargets(pointer,event,eventTarget,"up"),this.collectEventTargets(pointer,event,eventTarget,"tap"),this.pointerEnd(pointer,event,eventTarget,curEventTarget),this.removePointer(pointer)},pointerCancel:function(pointer,event,eventTarget,curEventTarget){var pointerIndex=this.mouse?0:indexOf(this.pointerIds,getPointerId(pointer));clearTimeout(this.holdTimers[pointerIndex]),this.collectEventTargets(pointer,event,eventTarget,"cancel"),this.pointerEnd(pointer,event,eventTarget,curEventTarget),this.removePointer(pointer)},ie8Dblclick:function(pointer,event,eventTarget){
this.prevTap&&event.clientX===this.prevTap.clientX&&event.clientY===this.prevTap.clientY&&eventTarget===this.prevTap.target&&(this.downTargets[0]=eventTarget,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(pointer,event,eventTarget,"tap"))},pointerEnd:function(pointer,event,eventTarget,curEventTarget){var endEvent,target=this.target,options=target&&target.options,inertiaOptions=options&&this.prepared.name&&options[this.prepared.name].inertia,inertiaStatus=this.inertiaStatus;if(this.interacting()){if(inertiaStatus.active&&!inertiaStatus.ending)return
;var pointerSpeed,now=(new Date).getTime(),inertiaPossible=!1,inertia=!1,smoothEnd=!1,endSnap=checkSnap(target,this.prepared.name)&&options[this.prepared.name].snap.endOnly,endRestrict=checkRestrict(target,this.prepared.name)&&options[this.prepared.name].restrict.endOnly,dx=0,dy=0;if(pointerSpeed=this.dragging?"x"===options.drag.axis?Math.abs(this.pointerDelta.client.vx):"y"===options.drag.axis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,inertiaPossible=inertiaOptions&&inertiaOptions.enabled&&"gesture"!==this.prepared.name&&event!==inertiaStatus.startEvent,
inertia=inertiaPossible&&now-this.curCoords.timeStamp<50&&pointerSpeed>inertiaOptions.minSpeed&&pointerSpeed>inertiaOptions.endSpeed,inertiaPossible&&!inertia&&(endSnap||endRestrict)){var snapRestrict={};snapRestrict.snap=snapRestrict.restrict=snapRestrict,endSnap&&(this.setSnapping(this.curCoords.page,snapRestrict),snapRestrict.locked&&(dx+=snapRestrict.dx,dy+=snapRestrict.dy)),endRestrict&&(this.setRestriction(this.curCoords.page,snapRestrict),snapRestrict.restricted&&(dx+=snapRestrict.dx,dy+=snapRestrict.dy)),(dx||dy)&&(smoothEnd=!0)}if(inertia||smoothEnd){if(copyCoords(inertiaStatus.upCoords,this.curCoords),
this.pointers[0]=inertiaStatus.startEvent=new InteractEvent(this,event,this.prepared.name,"inertiastart",this.element),inertiaStatus.t0=now,target.fire(inertiaStatus.startEvent),inertia){inertiaStatus.vx0=this.pointerDelta.client.vx,inertiaStatus.vy0=this.pointerDelta.client.vy,inertiaStatus.v0=pointerSpeed,this.calcInertia(inertiaStatus);var statusObject,page=extend({},this.curCoords.page),origin=getOriginXY(target,this.element);if(page.x=page.x+inertiaStatus.xe-origin.x,page.y=page.y+inertiaStatus.ye-origin.y,statusObject={useStatusXY:!0,x:page.x,y:page.y,dx:0,dy:0,snap:null},statusObject.snap=statusObject,dx=dy=0,endSnap){
var snap=this.setSnapping(this.curCoords.page,statusObject);snap.locked&&(dx+=snap.dx,dy+=snap.dy)}if(endRestrict){var restrict=this.setRestriction(this.curCoords.page,statusObject);restrict.restricted&&(dx+=restrict.dx,dy+=restrict.dy)}inertiaStatus.modifiedXe+=dx,inertiaStatus.modifiedYe+=dy,inertiaStatus.i=reqFrame(this.boundInertiaFrame)}else inertiaStatus.smoothEnd=!0,inertiaStatus.xe=dx,inertiaStatus.ye=dy,inertiaStatus.sx=inertiaStatus.sy=0,inertiaStatus.i=reqFrame(this.boundSmoothEndFrame);return void(inertiaStatus.active=!0)}(endSnap||endRestrict)&&this.pointerMove(pointer,event,eventTarget,curEventTarget,!0)}if(this.dragging){
endEvent=new InteractEvent(this,event,"drag","end",this.element);var draggableElement=this.element,drop=this.getDrop(endEvent,event,draggableElement);this.dropTarget=drop.dropzone,this.dropElement=drop.element;var dropEvents=this.getDropEvents(event,endEvent);dropEvents.leave&&this.prevDropTarget.fire(dropEvents.leave),dropEvents.enter&&this.dropTarget.fire(dropEvents.enter),dropEvents.drop&&this.dropTarget.fire(dropEvents.drop),dropEvents.deactivate&&this.fireActiveDrops(dropEvents.deactivate),target.fire(endEvent)}else this.resizing?(endEvent=new InteractEvent(this,event,"resize","end",this.element),
target.fire(endEvent)):this.gesturing&&(endEvent=new InteractEvent(this,event,"gesture","end",this.element),target.fire(endEvent));this.stop(event)},collectDrops:function(element){var i,drops=[],elements=[];for(element=element||this.element,i=0;i<interactables.length;i++)if(interactables[i].options.drop.enabled){var current=interactables[i],accept=current.options.drop.accept;if(!(isElement(accept)&&accept!==element||isString(accept)&&!matchesSelector(element,accept)))for(var dropElements=current.selector?current._context.querySelectorAll(current.selector):[current._element],j=0,len=dropElements.length;j<len;j++){var currentElement=dropElements[j]
;currentElement!==element&&(drops.push(current),elements.push(currentElement))}}return{dropzones:drops,elements:elements}},fireActiveDrops:function(event){var i,current,currentElement,prevElement;for(i=0;i<this.activeDrops.dropzones.length;i++)current=this.activeDrops.dropzones[i],currentElement=this.activeDrops.elements[i],currentElement!==prevElement&&(event.target=currentElement,current.fire(event)),prevElement=currentElement},setActiveDrops:function(dragElement){var possibleDrops=this.collectDrops(dragElement,!0);this.activeDrops.dropzones=possibleDrops.dropzones,this.activeDrops.elements=possibleDrops.elements,this.activeDrops.rects=[]
;for(var i=0;i<this.activeDrops.dropzones.length;i++)this.activeDrops.rects[i]=this.activeDrops.dropzones[i].getRect(this.activeDrops.elements[i])},getDrop:function(dragEvent,event,dragElement){var validDrops=[];dynamicDrop&&this.setActiveDrops(dragElement);for(var j=0;j<this.activeDrops.dropzones.length;j++){var current=this.activeDrops.dropzones[j],currentElement=this.activeDrops.elements[j],rect=this.activeDrops.rects[j];validDrops.push(current.dropCheck(dragEvent,event,this.target,dragElement,currentElement,rect)?currentElement:null)}var dropIndex=indexOfDeepestElement(validDrops);return{dropzone:this.activeDrops.dropzones[dropIndex]||null,
element:this.activeDrops.elements[dropIndex]||null}},getDropEvents:function(pointerEvent,dragEvent){var dropEvents={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(dropEvents.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:dragEvent.target,draggable:dragEvent.interactable,dragEvent:dragEvent,interaction:this,timeStamp:dragEvent.timeStamp,type:"dragleave"},dragEvent.dragLeave=this.prevDropElement,dragEvent.prevDropzone=this.prevDropTarget),this.dropTarget&&(dropEvents.enter={target:this.dropElement,dropzone:this.dropTarget,
relatedTarget:dragEvent.target,draggable:dragEvent.interactable,dragEvent:dragEvent,interaction:this,timeStamp:dragEvent.timeStamp,type:"dragenter"},dragEvent.dragEnter=this.dropElement,dragEvent.dropzone=this.dropTarget)),"dragend"===dragEvent.type&&this.dropTarget&&(dropEvents.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:dragEvent.target,draggable:dragEvent.interactable,dragEvent:dragEvent,interaction:this,timeStamp:dragEvent.timeStamp,type:"drop"},dragEvent.dropzone=this.dropTarget),"dragstart"===dragEvent.type&&(dropEvents.activate={target:null,dropzone:null,relatedTarget:dragEvent.target,draggable:dragEvent.interactable,
dragEvent:dragEvent,interaction:this,timeStamp:dragEvent.timeStamp,type:"dropactivate"}),"dragend"===dragEvent.type&&(dropEvents.deactivate={target:null,dropzone:null,relatedTarget:dragEvent.target,draggable:dragEvent.interactable,dragEvent:dragEvent,interaction:this,timeStamp:dragEvent.timeStamp,type:"dropdeactivate"}),"dragmove"===dragEvent.type&&this.dropTarget&&(dropEvents.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:dragEvent.target,draggable:dragEvent.interactable,dragEvent:dragEvent,interaction:this,dragmove:dragEvent,timeStamp:dragEvent.timeStamp,type:"dropmove"},dragEvent.dropzone=this.dropTarget),dropEvents},
currentAction:function(){return this.dragging&&"drag"||this.resizing&&"resize"||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.target=this.element=null,this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=null},stop:function(event){if(this.interacting()){autoScroll.stop(),this.matches=[],this.matchElements=[];var target=this.target;target.options.styleCursor&&(target._doc.documentElement.style.cursor=""),event&&isFunction(event.preventDefault)&&this.checkAndPreventDefault(event,target,this.element),
this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null)}this.clearTargets(),this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;for(var i=0;i<this.pointers.length;i++)-1===indexOf(this.pointerIds,getPointerId(this.pointers[i]))&&this.pointers.splice(i,1)},inertiaFrame:function(){var inertiaStatus=this.inertiaStatus,options=this.target.options[this.prepared.name].inertia,lambda=options.resistance,t=(new Date).getTime()/1e3-inertiaStatus.t0;if(t<inertiaStatus.te){
var progress=1-(Math.exp(-lambda*t)-inertiaStatus.lambda_v0)/inertiaStatus.one_ve_v0;if(inertiaStatus.modifiedXe===inertiaStatus.xe&&inertiaStatus.modifiedYe===inertiaStatus.ye)inertiaStatus.sx=inertiaStatus.xe*progress,inertiaStatus.sy=inertiaStatus.ye*progress;else{var quadPoint=getQuadraticCurvePoint(0,0,inertiaStatus.xe,inertiaStatus.ye,inertiaStatus.modifiedXe,inertiaStatus.modifiedYe,progress);inertiaStatus.sx=quadPoint.x,inertiaStatus.sy=quadPoint.y}this.pointerMove(inertiaStatus.startEvent,inertiaStatus.startEvent),inertiaStatus.i=reqFrame(this.boundInertiaFrame)}else inertiaStatus.ending=!0,inertiaStatus.sx=inertiaStatus.modifiedXe,
inertiaStatus.sy=inertiaStatus.modifiedYe,this.pointerMove(inertiaStatus.startEvent,inertiaStatus.startEvent),this.pointerEnd(inertiaStatus.startEvent,inertiaStatus.startEvent),inertiaStatus.active=inertiaStatus.ending=!1},smoothEndFrame:function(){var inertiaStatus=this.inertiaStatus,t=(new Date).getTime()-inertiaStatus.t0,duration=this.target.options[this.prepared.name].inertia.smoothEndDuration;t<duration?(inertiaStatus.sx=easeOutQuad(t,0,inertiaStatus.xe,duration),inertiaStatus.sy=easeOutQuad(t,0,inertiaStatus.ye,duration),this.pointerMove(inertiaStatus.startEvent,inertiaStatus.startEvent),
inertiaStatus.i=reqFrame(this.boundSmoothEndFrame)):(inertiaStatus.ending=!0,inertiaStatus.sx=inertiaStatus.xe,inertiaStatus.sy=inertiaStatus.ye,this.pointerMove(inertiaStatus.startEvent,inertiaStatus.startEvent),this.pointerEnd(inertiaStatus.startEvent,inertiaStatus.startEvent),inertiaStatus.smoothEnd=inertiaStatus.active=inertiaStatus.ending=!1)},addPointer:function(pointer){var id=getPointerId(pointer),index=this.mouse?0:indexOf(this.pointerIds,id);return-1===index&&(index=this.pointerIds.length),this.pointerIds[index]=id,this.pointers[index]=pointer,index},removePointer:function(pointer){
var id=getPointerId(pointer),index=this.mouse?0:indexOf(this.pointerIds,id);-1!==index&&(this.pointers.splice(index,1),this.pointerIds.splice(index,1),this.downTargets.splice(index,1),this.downTimes.splice(index,1),this.holdTimers.splice(index,1))},recordPointer:function(pointer){var index=this.mouse?0:indexOf(this.pointerIds,getPointerId(pointer));-1!==index&&(this.pointers[index]=pointer)},collectEventTargets:function(pointer,event,eventTarget,eventType){function collectSelectors(interactable,selector,context){var els=ie8MatchesSelector?context.querySelectorAll(selector):void 0
;interactable._iEvents[eventType]&&isElement(element)&&inContext(interactable,element)&&!testIgnore(interactable,element,eventTarget)&&testAllow(interactable,element,eventTarget)&&matchesSelector(element,selector,els)&&(targets.push(interactable),elements.push(element))}var pointerIndex=this.mouse?0:indexOf(this.pointerIds,getPointerId(pointer));if("tap"!==eventType||!this.pointerWasMoved&&this.downTargets[pointerIndex]&&this.downTargets[pointerIndex]===eventTarget){for(var targets=[],elements=[],element=eventTarget;element;)interact.isSet(element)&&interact(element)._iEvents[eventType]&&(targets.push(interact(element)),elements.push(element)),
interactables.forEachSelector(collectSelectors),element=parentElement(element);(targets.length||"tap"===eventType)&&this.firePointers(pointer,event,eventTarget,targets,elements,eventType)}},firePointers:function(pointer,event,eventTarget,targets,elements,eventType){var i,interval,createNewDoubleTap,pointerIndex=this.mouse?0:indexOf(this.pointerIds,getPointerId(pointer)),pointerEvent={};for("doubletap"===eventType?pointerEvent=pointer:(pointerExtend(pointerEvent,event),event!==pointer&&pointerExtend(pointerEvent,pointer),pointerEvent.preventDefault=preventOriginalDefault,pointerEvent.stopPropagation=InteractEvent.prototype.stopPropagation,
pointerEvent.stopImmediatePropagation=InteractEvent.prototype.stopImmediatePropagation,pointerEvent.interaction=this,pointerEvent.timeStamp=(new Date).getTime(),pointerEvent.originalEvent=event,pointerEvent.originalPointer=pointer,pointerEvent.type=eventType,pointerEvent.pointerId=getPointerId(pointer),pointerEvent.pointerType=this.mouse?"mouse":supportsPointerEvent?isString(pointer.pointerType)?pointer.pointerType:[,,"touch","pen","mouse"][pointer.pointerType]:"touch"),"tap"===eventType&&(pointerEvent.dt=pointerEvent.timeStamp-this.downTimes[pointerIndex],interval=pointerEvent.timeStamp-this.tapTime,
createNewDoubleTap=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===pointerEvent.target&&interval<500),pointerEvent.double=createNewDoubleTap,this.tapTime=pointerEvent.timeStamp),i=0;i<targets.length&&(pointerEvent.currentTarget=elements[i],pointerEvent.interactable=targets[i],targets[i].fire(pointerEvent),!(pointerEvent.immediatePropagationStopped||pointerEvent.propagationStopped&&elements[i+1]!==pointerEvent.currentTarget));i++);if(createNewDoubleTap){var doubleTap={};extend(doubleTap,pointerEvent),doubleTap.dt=interval,doubleTap.type="doubletap",this.collectEventTargets(doubleTap,event,eventTarget,"doubletap"),this.prevTap=doubleTap
}else"tap"===eventType&&(this.prevTap=pointerEvent)},validateSelector:function(pointer,event,matches,matchElements){for(var i=0,len=matches.length;i<len;i++){var match=matches[i],matchElement=matchElements[i],action=validateAction(match.getAction(pointer,event,this,matchElement),match);if(action&&withinInteractionLimit(match,matchElement,action))return this.target=match,this.element=matchElement,action}},setSnapping:function(pageCoords,status){var target,page,i,snap=this.target.options[this.prepared.name].snap,targets=[];if(status=status||this.snapStatus,status.useStatusXY)page={x:status.x,y:status.y};else{var origin=getOriginXY(this.target,this.element)
;page=extend({},pageCoords),page.x-=origin.x,page.y-=origin.y}status.realX=page.x,status.realY=page.y,page.x=page.x-this.inertiaStatus.resumeDx,page.y=page.y-this.inertiaStatus.resumeDy;for(var len=snap.targets?snap.targets.length:0,relIndex=0;relIndex<this.snapOffsets.length;relIndex++){var relative={x:page.x-this.snapOffsets[relIndex].x,y:page.y-this.snapOffsets[relIndex].y};for(i=0;i<len;i++)(target=isFunction(snap.targets[i])?snap.targets[i](relative.x,relative.y,this):snap.targets[i])&&targets.push({x:isNumber(target.x)?target.x+this.snapOffsets[relIndex].x:relative.x,y:isNumber(target.y)?target.y+this.snapOffsets[relIndex].y:relative.y,
range:isNumber(target.range)?target.range:snap.range})}var closest={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(i=0,len=targets.length;i<len;i++){target=targets[i];var range=target.range,dx=target.x-page.x,dy=target.y-page.y,distance=hypot(dx,dy),inRange=distance<=range;range===1/0&&closest.inRange&&closest.range!==1/0&&(inRange=!1),closest.target&&!(inRange?closest.inRange&&range!==1/0?distance/range<closest.distance/closest.range:range===1/0&&closest.range!==1/0||distance<closest.distance:!closest.inRange&&distance<closest.distance)||(range===1/0&&(inRange=!0),closest.target=target,closest.distance=distance,closest.range=range,
closest.inRange=inRange,closest.dx=dx,closest.dy=dy,status.range=range)}var snapChanged;return closest.target?(snapChanged=status.snappedX!==closest.target.x||status.snappedY!==closest.target.y,status.snappedX=closest.target.x,status.snappedY=closest.target.y):(snapChanged=!0,status.snappedX=NaN,status.snappedY=NaN),status.dx=closest.dx,status.dy=closest.dy,status.changed=snapChanged||closest.inRange&&!status.locked,status.locked=closest.inRange,status},setRestriction:function(pageCoords,status){var page,target=this.target,restrict=target&&target.options[this.prepared.name].restrict,restriction=restrict&&restrict.restriction;if(!restriction)return status
;status=status||this.restrictStatus,page=page=status.useStatusXY?{x:status.x,y:status.y}:extend({},pageCoords),status.snap&&status.snap.locked&&(page.x+=status.snap.dx||0,page.y+=status.snap.dy||0),page.x-=this.inertiaStatus.resumeDx,page.y-=this.inertiaStatus.resumeDy,status.dx=0,status.dy=0,status.restricted=!1;var rect,restrictedX,restrictedY;return isString(restriction)&&!(restriction="parent"===restriction?parentElement(this.element):"self"===restriction?target.getRect(this.element):closest(this.element,restriction))?status:(isFunction(restriction)&&(restriction=restriction(page.x,page.y,this.element)),
isElement(restriction)&&(restriction=getElementRect(restriction)),rect=restriction,restriction?"x"in restriction&&"y"in restriction?(restrictedX=Math.max(Math.min(rect.x+rect.width-this.restrictOffset.right,page.x),rect.x+this.restrictOffset.left),restrictedY=Math.max(Math.min(rect.y+rect.height-this.restrictOffset.bottom,page.y),rect.y+this.restrictOffset.top)):(restrictedX=Math.max(Math.min(rect.right-this.restrictOffset.right,page.x),rect.left+this.restrictOffset.left),restrictedY=Math.max(Math.min(rect.bottom-this.restrictOffset.bottom,page.y),rect.top+this.restrictOffset.top)):(restrictedX=page.x,restrictedY=page.y),status.dx=restrictedX-page.x,
status.dy=restrictedY-page.y,status.changed=status.restrictedX!==restrictedX||status.restrictedY!==restrictedY,status.restricted=!(!status.dx&&!status.dy),status.restrictedX=restrictedX,status.restrictedY=restrictedY,status)},checkAndPreventDefault:function(event,interactable,element){if(interactable=interactable||this.target){var options=interactable.options,prevent=options.preventDefault;if("auto"===prevent&&element&&!/^(input|select|textarea)$/i.test(event.target.nodeName)){if(/down|start/i.test(event.type)&&"drag"===this.prepared.name&&"xy"!==options.drag.axis)return
;if(options[this.prepared.name]&&options[this.prepared.name].manualStart&&!this.interacting())return;return void event.preventDefault()}return"always"===prevent?void event.preventDefault():void 0}},calcInertia:function(status){var inertiaOptions=this.target.options[this.prepared.name].inertia,lambda=inertiaOptions.resistance,inertiaDur=-Math.log(inertiaOptions.endSpeed/status.v0)/lambda;status.x0=this.prevEvent.pageX,status.y0=this.prevEvent.pageY,status.t0=status.startEvent.timeStamp/1e3,status.sx=status.sy=0,status.modifiedXe=status.xe=(status.vx0-inertiaDur)/lambda,status.modifiedYe=status.ye=(status.vy0-inertiaDur)/lambda,status.te=inertiaDur,
status.lambda_v0=lambda/status.v0,status.one_ve_v0=1-inertiaOptions.endSpeed/status.v0},autoScrollMove:function(pointer){if(this.interacting()&&checkAutoScroll(this.target,this.prepared.name)){if(this.inertiaStatus.active)return void(autoScroll.x=autoScroll.y=0);var top,right,bottom,left,options=this.target.options[this.prepared.name].autoScroll,container=options.container||getWindow(this.element);if(isWindow(container))left=pointer.clientX<autoScroll.margin,top=pointer.clientY<autoScroll.margin,right=pointer.clientX>container.innerWidth-autoScroll.margin,bottom=pointer.clientY>container.innerHeight-autoScroll.margin;else{
var rect=getElementClientRect(container);left=pointer.clientX<rect.left+autoScroll.margin,top=pointer.clientY<rect.top+autoScroll.margin,right=pointer.clientX>rect.right-autoScroll.margin,bottom=pointer.clientY>rect.bottom-autoScroll.margin}autoScroll.x=right?1:left?-1:0,autoScroll.y=bottom?1:top?-1:0,autoScroll.isScrolling||(autoScroll.margin=options.margin,autoScroll.speed=options.speed,autoScroll.start(this))}},_updateEventTargets:function(target,currentTarget){this._eventTarget=target,this._curEventTarget=currentTarget}},InteractEvent.prototype={preventDefault:blank,stopImmediatePropagation:function(){
this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var listeners={},interactionListeners=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","pointerCancel","pointerEnd","addPointer","removePointer","recordPointer","autoScrollMove"],i=0,len=interactionListeners.length;i<len;i++){var name=interactionListeners[i];listeners[name]=doOnInteractions(name)}interactables.indexOfElement=function(element,context){context=context||document;for(var i=0;i<this.length;i++){
var interactable=this[i];if(interactable.selector===element&&interactable._context===context||!interactable.selector&&interactable._element===element)return i}return-1},interactables.get=function(element,options){return this[this.indexOfElement(element,options&&options.context)]},interactables.forEachSelector=function(callback){for(var i=0;i<this.length;i++){var interactable=this[i];if(interactable.selector){var ret=callback(interactable,interactable.selector,interactable._context,i,this);if(void 0!==ret)return ret}}},Interactable.prototype={setOnEvents:function(action,phases){return"drop"===action?(isFunction(phases.ondrop)&&(this.ondrop=phases.ondrop),
isFunction(phases.ondropactivate)&&(this.ondropactivate=phases.ondropactivate),isFunction(phases.ondropdeactivate)&&(this.ondropdeactivate=phases.ondropdeactivate),isFunction(phases.ondragenter)&&(this.ondragenter=phases.ondragenter),isFunction(phases.ondragleave)&&(this.ondragleave=phases.ondragleave),isFunction(phases.ondropmove)&&(this.ondropmove=phases.ondropmove)):(action="on"+action,isFunction(phases.onstart)&&(this[action+"start"]=phases.onstart),isFunction(phases.onmove)&&(this[action+"move"]=phases.onmove),isFunction(phases.onend)&&(this[action+"end"]=phases.onend),
isFunction(phases.oninertiastart)&&(this[action+"inertiastart"]=phases.oninertiastart)),this},draggable:function(options){return isObject(options)?(this.options.drag.enabled=!1!==options.enabled,this.setPerAction("drag",options),this.setOnEvents("drag",options),/^x$|^y$|^xy$/.test(options.axis)?this.options.drag.axis=options.axis:null===options.axis&&delete this.options.drag.axis,this):isBool(options)?(this.options.drag.enabled=options,this):this.options.drag},setPerAction:function(action,options){
for(var option in options)option in defaultOptions[action]&&(isObject(options[option])?(this.options[action][option]=extend(this.options[action][option]||{},options[option]),isObject(defaultOptions.perAction[option])&&"enabled"in defaultOptions.perAction[option]&&(this.options[action][option].enabled=!1!==options[option].enabled)):isBool(options[option])&&isObject(defaultOptions.perAction[option])?this.options[action][option].enabled=options[option]:void 0!==options[option]&&(this.options[action][option]=options[option]))},dropzone:function(options){return isObject(options)?(this.options.drop.enabled=!1!==options.enabled,this.setOnEvents("drop",options),
/^(pointer|center)$/.test(options.overlap)?this.options.drop.overlap=options.overlap:isNumber(options.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,options.overlap),0)),"accept"in options&&(this.options.drop.accept=options.accept),"checker"in options&&(this.options.drop.checker=options.checker),this):isBool(options)?(this.options.drop.enabled=options,this):this.options.drop},dropCheck:function(dragEvent,event,draggable,draggableElement,dropElement,rect){var dropped=!1;if(!(rect=rect||this.getRect(dropElement)))return!!this.options.drop.checker&&this.options.drop.checker(dragEvent,event,dropped,this,dropElement,draggable,draggableElement)
;var dropOverlap=this.options.drop.overlap;if("pointer"===dropOverlap){var horizontal,vertical,page=getPageXY(dragEvent),origin=getOriginXY(draggable,draggableElement);page.x+=origin.x,page.y+=origin.y,horizontal=page.x>rect.left&&page.x<rect.right,vertical=page.y>rect.top&&page.y<rect.bottom,dropped=horizontal&&vertical}var dragRect=draggable.getRect(draggableElement);if("center"===dropOverlap){var cx=dragRect.left+dragRect.width/2,cy=dragRect.top+dragRect.height/2;dropped=cx>=rect.left&&cx<=rect.right&&cy>=rect.top&&cy<=rect.bottom}if(isNumber(dropOverlap)){
dropped=Math.max(0,Math.min(rect.right,dragRect.right)-Math.max(rect.left,dragRect.left))*Math.max(0,Math.min(rect.bottom,dragRect.bottom)-Math.max(rect.top,dragRect.top))/(dragRect.width*dragRect.height)>=dropOverlap}return this.options.drop.checker&&(dropped=this.options.drop.checker(dragEvent,event,dropped,this,dropElement,draggable,draggableElement)),dropped},dropChecker:function(checker){return isFunction(checker)?(this.options.drop.checker=checker,this):null===checker?(delete this.options.getRect,this):this.options.drop.checker},accept:function(newValue){return isElement(newValue)?(this.options.drop.accept=newValue,
this):trySelector(newValue)?(this.options.drop.accept=newValue,this):null===newValue?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(options){return isObject(options)?(this.options.resize.enabled=!1!==options.enabled,this.setPerAction("resize",options),this.setOnEvents("resize",options),/^x$|^y$|^xy$/.test(options.axis)?this.options.resize.axis=options.axis:null===options.axis&&(this.options.resize.axis=defaultOptions.resize.axis),isBool(options.preserveAspectRatio)?this.options.resize.preserveAspectRatio=options.preserveAspectRatio:isBool(options.square)&&(this.options.resize.square=options.square),
this):isBool(options)?(this.options.resize.enabled=options,this):this.options.resize},squareResize:function(newValue){return isBool(newValue)?(this.options.resize.square=newValue,this):null===newValue?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(options){return isObject(options)?(this.options.gesture.enabled=!1!==options.enabled,this.setPerAction("gesture",options),this.setOnEvents("gesture",options),this):isBool(options)?(this.options.gesture.enabled=options,this):this.options.gesture},autoScroll:function(options){return isObject(options)?options=extend({actions:["drag","resize"]
},options):isBool(options)&&(options={actions:["drag","resize"],enabled:options}),this.setOptions("autoScroll",options)},snap:function(options){var ret=this.setOptions("snap",options);return ret===this?this:ret.drag},setOptions:function(option,options){var i,actions=options&&isArray(options.actions)?options.actions:["drag"];if(isObject(options)||isBool(options)){for(i=0;i<actions.length;i++){var action=/resize/.test(actions[i])?"resize":actions[i];if(isObject(this.options[action])){var thisOption=this.options[action][option];isObject(options)?(extend(thisOption,options),thisOption.enabled=!1!==options.enabled,
"snap"===option&&("grid"===thisOption.mode?thisOption.targets=[interact.createSnapGrid(extend({offset:thisOption.gridOffset||{x:0,y:0}},thisOption.grid||{}))]:"anchor"===thisOption.mode?thisOption.targets=thisOption.anchors:"path"===thisOption.mode&&(thisOption.targets=thisOption.paths),"elementOrigin"in options&&(thisOption.relativePoints=[options.elementOrigin]))):isBool(options)&&(thisOption.enabled=options)}}return this}var ret={},allActions=["drag","resize","gesture"];for(i=0;i<allActions.length;i++)option in defaultOptions[allActions[i]]&&(ret[allActions[i]]=this.options[allActions[i]][option]);return ret},inertia:function(options){
var ret=this.setOptions("inertia",options);return ret===this?this:ret.drag},getAction:function(pointer,event,interaction,element){var action=this.defaultActionChecker(pointer,interaction,element);return this.options.actionChecker?this.options.actionChecker(pointer,event,action,this,element,interaction):action},defaultActionChecker:defaultActionChecker,actionChecker:function(checker){return isFunction(checker)?(this.options.actionChecker=checker,this):null===checker?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(element){return element=element||this._element,
this.selector&&!isElement(element)&&(element=this._context.querySelector(this.selector)),getElementRect(element)},rectChecker:function(checker){return isFunction(checker)?(this.getRect=checker,this):null===checker?(delete this.options.getRect,this):this.getRect},styleCursor:function(newValue){return isBool(newValue)?(this.options.styleCursor=newValue,this):null===newValue?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(newValue){return/^(always|never|auto)$/.test(newValue)?(this.options.preventDefault=newValue,this):isBool(newValue)?(this.options.preventDefault=newValue?"always":"never",
this):this.options.preventDefault},origin:function(newValue){return trySelector(newValue)?(this.options.origin=newValue,this):isObject(newValue)?(this.options.origin=newValue,this):this.options.origin},deltaSource:function(newValue){return"page"===newValue||"client"===newValue?(this.options.deltaSource=newValue,this):this.options.deltaSource},restrict:function(options){if(!isObject(options))return this.setOptions("restrict",options);for(var ret,actions=["drag","resize","gesture"],i=0;i<actions.length;i++){var action=actions[i];if(action in options){var perAction=extend({actions:[action],restriction:options[action]},options)
;ret=this.setOptions("restrict",perAction)}}return ret},context:function(){return this._context},_context:document,ignoreFrom:function(newValue){return trySelector(newValue)?(this.options.ignoreFrom=newValue,this):isElement(newValue)?(this.options.ignoreFrom=newValue,this):this.options.ignoreFrom},allowFrom:function(newValue){return trySelector(newValue)?(this.options.allowFrom=newValue,this):isElement(newValue)?(this.options.allowFrom=newValue,this):this.options.allowFrom},element:function(){return this._element},fire:function(iEvent){if(!iEvent||!iEvent.type||!contains(eventTypes,iEvent.type))return this;var listeners,i,len,onEvent="on"+iEvent.type
;if(iEvent.type in this._iEvents)for(listeners=this._iEvents[iEvent.type],i=0,len=listeners.length;i<len&&!iEvent.immediatePropagationStopped;i++)listeners[i].name,listeners[i](iEvent);if(isFunction(this[onEvent])&&(this[onEvent].name,this[onEvent](iEvent)),iEvent.type in globalEvents&&(listeners=globalEvents[iEvent.type]))for(i=0,len=listeners.length;i<len&&!iEvent.immediatePropagationStopped;i++)listeners[i].name,listeners[i](iEvent);return this},on:function(eventType,listener,useCapture){var i;if(isString(eventType)&&-1!==eventType.search(" ")&&(eventType=eventType.trim().split(/ +/)),isArray(eventType)){
for(i=0;i<eventType.length;i++)this.on(eventType[i],listener,useCapture);return this}if(isObject(eventType)){for(var prop in eventType)this.on(prop,eventType[prop],listener);return this}if("wheel"===eventType&&(eventType=wheelEvent),useCapture=!!useCapture,contains(eventTypes,eventType))eventType in this._iEvents?this._iEvents[eventType].push(listener):this._iEvents[eventType]=[listener];else if(this.selector){if(!delegatedEvents[eventType])for(delegatedEvents[eventType]={selectors:[],contexts:[],listeners:[]},i=0;i<documents.length;i++)events.add(documents[i],eventType,delegateListener),events.add(documents[i],eventType,delegateUseCapture,!0)
;var index,delegated=delegatedEvents[eventType];for(index=delegated.selectors.length-1;index>=0&&(delegated.selectors[index]!==this.selector||delegated.contexts[index]!==this._context);index--);-1===index&&(index=delegated.selectors.length,delegated.selectors.push(this.selector),delegated.contexts.push(this._context),delegated.listeners.push([])),delegated.listeners[index].push([listener,useCapture])}else events.add(this._element,eventType,listener,useCapture);return this},off:function(eventType,listener,useCapture){var i;if(isString(eventType)&&-1!==eventType.search(" ")&&(eventType=eventType.trim().split(/ +/)),isArray(eventType)){
for(i=0;i<eventType.length;i++)this.off(eventType[i],listener,useCapture);return this}if(isObject(eventType)){for(var prop in eventType)this.off(prop,eventType[prop],listener);return this}var eventList,index=-1;if(useCapture=!!useCapture,"wheel"===eventType&&(eventType=wheelEvent),contains(eventTypes,eventType))(eventList=this._iEvents[eventType])&&-1!==(index=indexOf(eventList,listener))&&this._iEvents[eventType].splice(index,1);else if(this.selector){var delegated=delegatedEvents[eventType],matchFound=!1;if(!delegated)return this
;for(index=delegated.selectors.length-1;index>=0;index--)if(delegated.selectors[index]===this.selector&&delegated.contexts[index]===this._context){var listeners=delegated.listeners[index];for(i=listeners.length-1;i>=0;i--){var fn=listeners[i][0],useCap=listeners[i][1];if(fn===listener&&useCap===useCapture){listeners.splice(i,1),listeners.length||(delegated.selectors.splice(index,1),delegated.contexts.splice(index,1),delegated.listeners.splice(index,1),events.remove(this._context,eventType,delegateListener),events.remove(this._context,eventType,delegateUseCapture,!0),delegated.selectors.length||(delegatedEvents[eventType]=null)),matchFound=!0;break}}
if(matchFound)break}}else events.remove(this._element,eventType,listener,useCapture);return this},set:function(options){isObject(options)||(options={}),this.options=extend({},defaultOptions.base);var i,actions=["drag","drop","resize","gesture"],methods=["draggable","dropzone","resizable","gesturable"],perActions=extend(extend({},defaultOptions.perAction),options[action]||{});for(i=0;i<actions.length;i++){var action=actions[i];this.options[action]=extend({},defaultOptions[action]),this.setPerAction(action,perActions),this[methods[i]](options[action])}
var settings=["accept","actionChecker","allowFrom","deltaSource","dropChecker","ignoreFrom","origin","preventDefault","rectChecker","styleCursor"];for(i=0,len=settings.length;i<len;i++){var setting=settings[i];this.options[setting]=defaultOptions.base[setting],setting in options&&this[setting](options[setting])}return this},unset:function(){if(events.remove(this._element,"all"),isString(this.selector))for(var type in delegatedEvents)for(var delegated=delegatedEvents[type],i=0;i<delegated.selectors.length;i++){delegated.selectors[i]===this.selector&&delegated.contexts[i]===this._context&&(delegated.selectors.splice(i,1),delegated.contexts.splice(i,1),
delegated.listeners.splice(i,1),delegated.selectors.length||(delegatedEvents[type]=null)),events.remove(this._context,type,delegateListener),events.remove(this._context,type,delegateUseCapture,!0);break}else events.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),interactables.splice(indexOf(interactables,this),1),interact}},Interactable.prototype.snap=warnOnce(Interactable.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping"),
Interactable.prototype.restrict=warnOnce(Interactable.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction"),Interactable.prototype.inertia=warnOnce(Interactable.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia"),Interactable.prototype.autoScroll=warnOnce(Interactable.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll"),
Interactable.prototype.squareResize=warnOnce(Interactable.prototype.squareResize,"Interactable#squareResize is deprecated. See http://interactjs.io/docs/#resize-square"),Interactable.prototype.accept=warnOnce(Interactable.prototype.accept,"Interactable#accept is deprecated. use Interactable#dropzone({ accept: target }) instead"),Interactable.prototype.dropChecker=warnOnce(Interactable.prototype.dropChecker,"Interactable#dropChecker is deprecated. use Interactable#dropzone({ dropChecker: checkerFunction }) instead"),
Interactable.prototype.context=warnOnce(Interactable.prototype.context,"Interactable#context as a method is deprecated. It will soon be a DOM Node instead"),interact.isSet=function(element,options){return-1!==interactables.indexOfElement(element,options&&options.context)},interact.on=function(type,listener,useCapture){if(isString(type)&&-1!==type.search(" ")&&(type=type.trim().split(/ +/)),isArray(type)){for(var i=0;i<type.length;i++)interact.on(type[i],listener,useCapture);return interact}if(isObject(type)){for(var prop in type)interact.on(prop,type[prop],listener);return interact}
return contains(eventTypes,type)?globalEvents[type]?globalEvents[type].push(listener):globalEvents[type]=[listener]:events.add(document,type,listener,useCapture),interact},interact.off=function(type,listener,useCapture){if(isString(type)&&-1!==type.search(" ")&&(type=type.trim().split(/ +/)),isArray(type)){for(var i=0;i<type.length;i++)interact.off(type[i],listener,useCapture);return interact}if(isObject(type)){for(var prop in type)interact.off(prop,type[prop],listener);return interact}if(contains(eventTypes,type)){var index;type in globalEvents&&-1!==(index=indexOf(globalEvents[type],listener))&&globalEvents[type].splice(index,1)
}else events.remove(document,type,listener,useCapture);return interact},interact.enableDragging=warnOnce(function(newValue){return null!==newValue&&void 0!==newValue?(actionIsEnabled.drag=newValue,interact):actionIsEnabled.drag},"interact.enableDragging is deprecated and will soon be removed."),interact.enableResizing=warnOnce(function(newValue){return null!==newValue&&void 0!==newValue?(actionIsEnabled.resize=newValue,interact):actionIsEnabled.resize},"interact.enableResizing is deprecated and will soon be removed."),interact.enableGesturing=warnOnce(function(newValue){return null!==newValue&&void 0!==newValue?(actionIsEnabled.gesture=newValue,
interact):actionIsEnabled.gesture},"interact.enableGesturing is deprecated and will soon be removed."),interact.eventTypes=eventTypes,interact.debug=function(){var interaction=interactions[0]||new Interaction;return{interactions:interactions,target:interaction.target,dragging:interaction.dragging,resizing:interaction.resizing,gesturing:interaction.gesturing,prepared:interaction.prepared,matches:interaction.matches,matchElements:interaction.matchElements,prevCoords:interaction.prevCoords,startCoords:interaction.startCoords,pointerIds:interaction.pointerIds,pointers:interaction.pointers,addPointer:listeners.addPointer,removePointer:listeners.removePointer,
recordPointer:listeners.recordPointer,snap:interaction.snapStatus,restrict:interaction.restrictStatus,inertia:interaction.inertiaStatus,downTime:interaction.downTimes[0],downEvent:interaction.downEvent,downPointer:interaction.downPointer,prevEvent:interaction.prevEvent,Interactable:Interactable,interactables:interactables,pointerIsDown:interaction.pointerIsDown,defaultOptions:defaultOptions,defaultActionChecker:defaultActionChecker,actionCursors:actionCursors,dragMove:listeners.dragMove,resizeMove:listeners.resizeMove,gestureMove:listeners.gestureMove,pointerUp:listeners.pointerUp,pointerDown:listeners.pointerDown,pointerMove:listeners.pointerMove,
pointerHover:listeners.pointerHover,eventTypes:eventTypes,events:events,globalEvents:globalEvents,delegatedEvents:delegatedEvents,prefixedPropREs:prefixedPropREs}},interact.getPointerAverage=pointerAverage,interact.getTouchBBox=touchBBox,interact.getTouchDistance=touchDistance,interact.getTouchAngle=touchAngle,interact.getElementRect=getElementRect,interact.getElementClientRect=getElementClientRect,interact.matchesSelector=matchesSelector,interact.closest=closest,interact.margin=warnOnce(function(newvalue){return isNumber(newvalue)?(margin=newvalue,interact):margin
},"interact.margin is deprecated. Use interact(target).resizable({ margin: number }); instead."),interact.supportsTouch=function(){return supportsTouch},interact.supportsPointerEvent=function(){return supportsPointerEvent},interact.stop=function(event){for(var i=interactions.length-1;i>=0;i--)interactions[i].stop(event);return interact},interact.dynamicDrop=function(newValue){return isBool(newValue)?(dynamicDrop=newValue,interact):dynamicDrop},interact.pointerMoveTolerance=function(newValue){return isNumber(newValue)?(pointerMoveTolerance=newValue,this):pointerMoveTolerance},interact.maxInteractions=function(newValue){
return isNumber(newValue)?(maxInteractions=newValue,this):maxInteractions},interact.createSnapGrid=function(grid){return function(x,y){var offsetX=0,offsetY=0;isObject(grid.offset)&&(offsetX=grid.offset.x,offsetY=grid.offset.y);var gridx=Math.round((x-offsetX)/grid.x),gridy=Math.round((y-offsetY)/grid.y);return{x:gridx*grid.x+offsetX,y:gridy*grid.y+offsetY,range:grid.range}}},listenToDocument(document),prefixedMatchesSelector in Element.prototype&&isFunction(Element.prototype[prefixedMatchesSelector])||(ie8MatchesSelector=function(element,selector,elems){elems=elems||element.parentNode.querySelectorAll(selector)
;for(var i=0,len=elems.length;i<len;i++)if(elems[i]===element)return!0;return!1}),function(){for(var lastTime=0,vendors=["ms","moz","webkit","o"],x=0;x<vendors.length&&!realWindow.requestAnimationFrame;++x)reqFrame=realWindow[vendors[x]+"RequestAnimationFrame"],cancelFrame=realWindow[vendors[x]+"CancelAnimationFrame"]||realWindow[vendors[x]+"CancelRequestAnimationFrame"];reqFrame||(reqFrame=function(callback){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id}),cancelFrame||(cancelFrame=function(id){clearTimeout(id)})}(),
"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=interact),exports.interact=interact):"function"==typeof define&&define.amd?define("interact",[],function(){return interact}):realWindow.interact=interact}}("undefined"==typeof window?void 0:window),define("ui/component/stackable",["lodash","ui/stacker"],function(_,stackerFactory){"use strict";var defaultConfig={stackingScope:""},stackableComponent={bringToFront:function(){var $element=this.getElement();this._stacker.bringToFront($element)}};return function(component,config){return _.assign(component,stackableComponent),
component.off(".makeStackable").on("init.makeStackable",function(){_.defaults(this.config,config||{},defaultConfig),this._stacker=stackerFactory(this.config.stackingScope)}).on("show.makeStackable",function(){this.bringToFront()}).on("render.makeStackable",function(){var $element=this.getElement();this._stacker.reset($element),this._stacker.autoBringToFront($element),this.bringToFront()})}}),define("lib/unmatrix/unmatrix",[],function(){"use strict";function unmatrix(input){return parse("string"!=typeof input?style(input):input)}function parse(str){if("none"===str)return{translateX:0,translateY:0,rotate:0,skew:0,scaleX:1,scaleY:1}
;var m=stom(str),A=m[0],B=m[1],C=m[2],D=m[3];if(A*D==B*C)throw new Error("transform#unmatrix: matrix is singular");var scaleX=Math.sqrt(A*A+B*B);A/=scaleX,B/=scaleX;var skew=A*C+B*D;C-=A*skew,D-=B*skew;var scaleY=Math.sqrt(C*C+D*D);return C/=scaleY,D/=scaleY,skew/=scaleY,A*D<B*C&&(A=-A,B=-B,skew=-skew,scaleX=-scaleX),{translateX:m[4],translateY:m[5],rotate:rtod(Math.atan2(B,A)),skew:rtod(Math.atan(skew)),scaleX:round(scaleX),scaleY:round(scaleY)}}function style(el){var _style=window.getComputedStyle(el);return _style.getPropertyValue("transform")||_style.getPropertyValue("-webkit-transform")||_style.getPropertyValue("-ms-transform")}function stom(str){
var m=[];if(window.WebKitCSSMatrix)return m=new window.WebKitCSSMatrix(str),[m.a,m.b,m.c,m.d,m.e,m.f];for(var n,rdigit=/[\d\.\-]+/g;n=rdigit.exec(str);)m.push(+n);return m}function rtod(radians){return round(180*radians/Math.PI)}function round(n){return Math.round(100*n)/100}return unmatrix}),define("ui/transformer",["jquery","lodash","lib/unmatrix/unmatrix"],function($,_,_unmatrix){"use strict";function _normalizeTransforms(transforms){for(var xy=["translate","scale"],i=xy.length;i--;)transforms[xy[i]]&&(_.isArray(transforms[xy[i]])&&2===transforms[xy[i]].length?(transforms[xy[i]+"X"]=transforms[xy[i]][0],
transforms[xy[i]+"Y"]=transforms[xy[i]][1]):(transforms[xy[i]+"X"]=transforms[xy[i]],transforms[xy[i]+"Y"]=transforms[xy[i]]),delete transforms[xy[i]]);return transforms}function _transform($elem,transforms){var oriTrans,cssObj={},defaults=_unmatrix("none"),classNames=[];transforms=_normalizeTransforms(transforms),$elem.data("oriTrans")||(oriTrans=_getTransformation($elem[0]),oriTrans.origin=_getTransformOrigin($elem[0]),$elem.data("oriTrans",oriTrans)),cssObj[prefix+"transform"]="",_.forIn(transforms,function(value,key){if(_.isNaN(value))return!0;value=parseFloat(value),
$elem.data("oriTrans").obj[key]!==defaults[key]&&(key.indexOf("scale")>-1?value*=$elem.data("oriTrans").obj[key]:value+=$elem.data("oriTrans").obj[key]),void 0!==defaults[key]&&value!==defaults[key]&&(key.indexOf("translate")>-1?value+="px":("rotate"===key||key.indexOf("skew")>-1)&&(value+="deg"),cssObj[prefix+"transform"]+=key+"("+value+") ",classNames.push("transform-"+key.replace(/(X|Y)$/i,"")))}),cssObj[prefix+"transform"]=$.trim(cssObj[prefix+"transform"]),$elem.css(cssObj),$elem.removeClass("transform-translate transform-rotate transform-skew transform-scale"),$elem.addClass(_.unique(classNames).join(" ")),$elem.trigger("transform."+ns,transforms)}
var ns="transformer",vendorPrefixes=["webkit","ms"],prefix=function(){var i=vendorPrefixes.length,style=window.getComputedStyle(document.body,null);if(style.getPropertyValue("transform"))return"";for(;i--;)if(void 0!==style[vendorPrefixes[i]+"Transform"])return"-"+vendorPrefixes[i]+"-"}(),_getTransformation=function(elem){var _style=window.getComputedStyle(elem,null),matrix=_style.getPropertyValue("transform")||_style.getPropertyValue("-webkit-transform")||_style.getPropertyValue("-ms-transform")||"none";return{matrix:matrix,obj:_unmatrix(matrix)}},_getTransformOrigin=function(elem){var _style=window.getComputedStyle(elem,null)
;return _style.getPropertyValue("transform-origin")||_style.getPropertyValue("-webkit-transform-origin")||_style.getPropertyValue("-ms-transform-origin")||"50% 50% 0"};return{translate:function($elem,valueX,valueY){valueY=valueY||valueX,_transform($elem,{translateX:valueX,translateY:valueY})},translateXY:function($elem,valueX,valueY){_transform($elem,{translateX:valueX,translateY:valueY})},translateX:function($elem,value){_transform($elem,{translateX:value})},translateY:function($elem,value){_transform($elem,{translateY:value})},rotate:function($elem,value){_transform($elem,{rotate:value})},skew:function($elem,value){_transform($elem,{skew:value})},
scale:function($elem,valueX,valueY){valueY=valueY||valueX,_transform($elem,{scaleX:valueX,scaleY:valueY})},scaleX:function($elem,value){_transform($elem,{scaleX:value})},scaleY:function($elem,value){_transform($elem,{scaleY:value})},reset:function($elem){var cssObj={};$elem.data("oriTrans")&&(cssObj[prefix+"transform"]=$elem.data("oriTrans").matrix,cssObj[prefix+"transform-origin"]=$elem.data("oriTrans").origin,$elem.css(cssObj),$elem.removeClass("transform-translate transform-rotate transform-skew transform-scale"),$elem.trigger("reset."+ns,$elem.data("oriTrans")))},getTransformation:function(elem){return elem instanceof $&&(elem=elem[0]),
_getTransformation(elem)},setTransformOrigin:function($elem,value){var cssObj={};cssObj[prefix+"transform-origin"]=value,$elem.css(cssObj)}}}),define("core/mouseEvent",[],function(){"use strict";var dispatchEvent,allowedEvents=["click","contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","show"],createEvent=function(eventName,eventOptions){var event;try{event=new MouseEvent(eventName,eventOptions)}catch(e){event=document.createEvent("MouseEvents"),
event.initMouseEvent(eventName,eventOptions.bubbles||!1,eventOptions.cancelable||!1,eventOptions.view||null,eventOptions.detail||0,eventOptions.screenX||0,eventOptions.screenY||0,eventOptions.clientX||0,eventOptions.clientY||0,eventOptions.ctrlKey||!1,eventOptions.altKey||!1,eventOptions.shiftKey||!1,eventOptions.metaKey||!1,eventOptions.button||0,eventOptions.relatedTarget||null)}return event};return dispatchEvent=document.dispatchEvent?function(element,eventName,event){return!!element&&(element.dispatchEvent(event),!0)}:document.fireEvent?function(element,eventName,event){return!!element&&(element.fireEvent("on"+eventName,event),!0)}:function(){return!1},
function(element,eventName,eventOptions){var event;return-1!==allowedEvents.indexOf(eventName)&&(event=createEvent(eventName,eventOptions),dispatchEvent(element,eventName,event))}}),define("ui/interactUtils",["jquery","lodash","interact","core/mouseEvent"],function($,_,interact,triggerMouseEvent){"use strict";function iFrameDragFixCb(){_.isFunction(simulateDrop)&&simulateDrop(),interact.stop()}var simulateDrop;return{iFrameDragFixOn:function(simulateDropCb){simulateDrop=simulateDropCb,document.body.addEventListener("mouseleave",iFrameDragFixCb)},iFrameDragFixOff:function(){document.body.removeEventListener("mouseleave",iFrameDragFixCb)},
tapOn:function(element,cb,delay){var domElement,eventOptions={bubbles:!0};element&&(domElement=element instanceof $?element.get(0):element,triggerMouseEvent(domElement,"mousedown",eventOptions),triggerMouseEvent(domElement,"mouseup",eventOptions),cb&&_.delay(cb,delay||0))},moveElement:function(element,dx,dy){var domElement=element instanceof $?element.get(0):element,x=(parseFloat(domElement.getAttribute("data-x"))||0)+dx,y=(parseFloat(domElement.getAttribute("data-y"))||0)+dy,transform="translate("+x+"px, "+y+"px) translateZ(0px)";domElement.style.webkitTransform=transform,domElement.style.transform=transform,domElement.setAttribute("data-x",x),
domElement.setAttribute("data-y",y)},restoreOriginalPosition:function(element){var domElement=element instanceof $?element.get(0):element;domElement.style.webkitTransform="translate(0px, 0px) translateZ(0px)",domElement.style.transform="translate(0px, 0px) translateZ(0px)",domElement.setAttribute("data-x",0),domElement.setAttribute("data-y",0)}}}),define("util/position",[],function(){"use strict";return{isInside:function(container,element){var containerCoords,elementCoords;if(container instanceof HTMLElement&&element instanceof HTMLElement&&(containerCoords=container.getBoundingClientRect(),elementCoords=element.getBoundingClientRect(),
"object"==typeof containerCoords&&"object"==typeof elementCoords))return elementCoords.top>=containerCoords.top&&elementCoords.top<=containerCoords.bottom&&elementCoords.left>=containerCoords.left&&elementCoords.left<=containerCoords.right&&elementCoords.bottom<=containerCoords.bottom&&elementCoords.bottom>=containerCoords.top&&elementCoords.right<=containerCoords.right&&elementCoords.right>=containerCoords.left},isOver:function(container,element){var containerCoords,elementCoords;if(container instanceof HTMLElement&&element instanceof HTMLElement&&(containerCoords=container.getBoundingClientRect(),elementCoords=element.getBoundingClientRect(),
"object"==typeof containerCoords&&"object"==typeof elementCoords))return elementCoords.top>=containerCoords.top&&elementCoords.top<=containerCoords.bottom&&elementCoords.left>=containerCoords.left&&elementCoords.left<=containerCoords.right}}}),define("tpl!ui/dynamicComponent/layout",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var helper,options,buffer="";return buffer+='\n        <a title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Reset the original size",options):helperMissing.call(depth0,"__","Reset the original size",options)))+'" class="reset" href="#"></a>\n        '}function program3(depth0,data){return'\n        <div class="dynamic-component-layer"></div>\n        '}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;return buffer+='<div class="dynamic-component-container">\n    <div class="dynamic-component-title-bar">\n        <h3>',(helper=helpers.title)?stack1=helper.call(depth0,{
hash:{},data:data}):(helper=depth0&&depth0.title,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</h3>\n        ",stack1=helpers.if.call(depth0,depth0&&depth0.resizable,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n        <a title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Close",options):helperMissing.call(depth0,"__","Close",options)))+'" class="closer" href="#"></a>\n    </div>\n    <div class="dynamic-component-content">\n        ',
stack1=helpers.if.call(depth0,depth0&&depth0.draggableContainer,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    </div>\n</div>"})}),define("ui/dynamicComponent",["jquery","lodash","interact","ui/component","ui/component/stackable","ui/transformer","ui/interactUtils","util/position","lib/uuid","tpl!ui/dynamicComponent/layout"],function($,_,interact,componentFactory,makeStackable,transformer,interactUtils,position,uuid,layoutTpl){"use strict";var _defaults={title:"",resizable:!0,draggable:!0,width:240,height:360,minWidth:150,maxWidth:600,minHeight:100,maxHeight:900,
largeWidthThreshold:380,smallWidthThreshold:200,draggableContainer:"parent",preserveAspectRatio:!0,top:0,left:0},dynamicComponent={reset:function(){return this.is("rendered")&&!this.is("disabled")&&(this.resetPosition(),this.resetSize(),this.trigger("reset")),this},resetPosition:function(){var $element=this.getElement();return this.is("rendered")&&!this.is("disabled")&&(interactUtils.restoreOriginalPosition($element),this.setCoords(),$element.css({left:this.config.left,top:this.config.top}),this.trigger("move",this.position)),this},setCoords:function(){var $element=this.getElement();this.position.x=parseFloat($element.attr("data-x"))+this.config.left,
this.position.y=parseFloat($element.attr("data-y"))+this.config.top},setContentSize:function(width,height){var $element,$titleBar;return this.is("rendered")&&!this.is("disabled")&&($element=this.getElement(),$titleBar=$(".dynamic-component-title-bar",$element),this.config.width=width+$element.outerWidth()-$element.width(),this.config.height=height+$element.outerHeight()-$element.height()+$titleBar.outerHeight(),this.resetSize()),this},resetSize:function(){var $element,$content,$titleBar,self=this;return this.is("rendered")&&!this.is("disabled")&&($element=this.getElement(),$content=$(".dynamic-component-content",$element),
$titleBar=$(".dynamic-component-title-bar",$element),$element.css({width:this.config.width+"px",height:this.config.height+"px"}),_.defer(function(){self.position.width=self.config.width,self.position.height=self.config.height,self.position.contentWidth=$titleBar.width(),self.position.contentHeight=$element.height()-$titleBar.outerHeight(),$content.css({width:self.position.contentWidth+"px",height:self.position.contentHeight+"px"}),self.trigger("resize",self.position)})),this}};return function(specs,defaults){var component;return defaults=_.defaults(defaults||{},_defaults),specs=_.defaults(specs||{},dynamicComponent),
component=componentFactory(specs,defaults).setTemplate(layoutTpl).on("init",function(){this.id=uuid()}).on("render",function(){function getRestriction(){var draggableContainer=getDraggableContainer();return draggableContainer?{restriction:draggableContainer,endOnly:!1}:{restriction:"parent",endOnly:!1}}function getDraggableContainer(){var draggableContainer=config.draggableContainer;return draggableContainer instanceof $&&draggableContainer.length&&(draggableContainer=draggableContainer[0]),draggableContainer}function _resizeItem(e){
var width=e.rect.width<config.minWidth?config.minWidth:e.rect.width>config.maxWidth?config.maxWidth:e.rect.width,height=e.rect.height<config.minHeight?config.minHeight:e.rect.height>config.maxHeight?config.maxHeight:e.rect.height;width<=config.smallWidthThreshold?$element.addClass("small").removeClass("large"):width>=config.largeWidthThreshold?$element.addClass("large").removeClass("small"):$element.removeClass("small").removeClass("large"),interactUtils.moveElement($element,width>config.minWidth&&width<config.maxWidth?e.deltaRect.left:0,height>config.minHeight&&height<config.maxHeight?e.deltaRect.top:0),self.position.width=width,self.position.height=height,
self.setCoords(),$element.css({width:width+"px",height:height+"px"}),_.defer(function(){self.position.contentWidth=$titleBar.width(),self.position.contentHeight=$element.height()-$titleBar.outerHeight(),$content.css({width:self.position.contentWidth+"px",height:self.position.contentHeight+"px"}),self.trigger("resize",self.position)})}var interactElement,self=this,$element=this.getElement(),config=this.config,$content=$(".dynamic-component-content",$element),$titleBar=$(".dynamic-component-title-bar",$element),$contentOverlay=$(".dynamic-component-layer",$element),pixelRatio=window.devicePixelRatio;self.position={x:this.config.left,y:this.config.top,
width:this.config.width,height:this.config.height},this.resetPosition(),this.resetSize(),$titleBar.on("click touchstart",".closer",function(e){e.preventDefault(),self.hide()}).on("click touchstart",".reset",function(e){e.preventDefault(),self.resetSize()}),this.trigger("rendercontent",$content),interactElement=interact($element[0]),config.draggable&&(interactElement.draggable({inertia:!1,autoScroll:!0,manualStart:!0,restrict:_.merge(getRestriction(),{elementRect:{left:0,right:1,top:0,bottom:1}}),onmove:function(event){interactUtils.moveElement($element,event.dx,event.dy)},onend:function(){self.setCoords()}}),interact($titleBar[0]).on("down",function(event){
var interaction=event.interaction,handle=event.currentTarget;interaction.start({name:"drag",edges:{top:handle.dataset.top,left:handle.dataset.left,bottom:handle.dataset.bottom,right:handle.dataset.right}},interactElement,$element[0])}),$(window).on("resize.dynamic-component-"+self.id,function(){var container;window.devicePixelRatio!==pixelRatio&&(pixelRatio=window.devicePixelRatio,container=getDraggableContainer(),!1===position.isInside(container,$element[0])&&self.resetPosition())})),config.resizable&&interactElement.resizable({preserveAspectRatio:config.preserveAspectRatio,autoScroll:!0,restrict:getRestriction(),edges:{left:!0,right:!0,bottom:!0,top:!0},
onmove:_resizeItem}),interactElement.on("dragstart resizeinertiastart resizestart",function(){$contentOverlay.addClass("dragging-active")}).on("dragend resizeend",function(){$contentOverlay.removeClass("dragging-active")}),$element.on("mousedown",function(){/\-resize/.test($("html").css("cursor"))&&!$contentOverlay.hasClass("dragging-active")&&$contentOverlay.addClass("dragging-active")})}).on("destroy",function(){$(window).off("resize.dynamic-component-"+this.id)}),makeStackable(component,{stackingScope:defaults.stackingScope})}}),define("tpl!lib/calculator/template",["handlebars"],function(hb){
return hb.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{},
'<div class="calcContainer">\n    <form action="">\n        <input type="text" class="calcDisplay" readonly="readonly"/>\n\n        <button type="button" value="%" data-key="%" class="calcFunction calcFirst calcPercentage">&#37;</button>\n        <button type="button" value="sqrt" data-key="sqrt" class="calcFunction calcSqrt">&radic;</button>\n        <button type="button" value="pow" data-key="pow" class="calcFunction calcPower">x<sup class="letter">y</sup></button>\n        <button type="button" value="1/x" data-key="1/x" class="calcFunction calcInverse"><sup class="digit">1</sup>&frasl;<sub>x</sub></button>\n\n        <button type="button" value="C" data-key="C" class="calcClear calcFirst">C</button>\n        <button type="button" value="CE" data-key="CE" class="calcClear">CE</button>\n        <button type="button" value="DEL" data-key="DEL" class="calcClear">DEL</button>\n        <button type="button" value="/" data-key="/" class="calcFunction calcDivision">&divide;</button>\n\n        <button type="button" value="7" data-key="7" class="calcInput calcDigit calcFirst">7</button>\n        <button type="button" value="8" data-key="8" class="calcInput calcDigit">8</button>\n        <button type="button" value="9" data-key="9" class="calcInput calcDigit">9</button>\n        <button type="button" value="*" data-key="*" class="calcFunction calcMultiplication">&times;</button>\n\n        <button type="button" value="4" data-key="4" class="calcFirst calcDigit calcInput">4</button>\n        <button type="button" value="5" data-key="5" class="calcInput calcDigit">5</button>\n        <button type="button" value="6" data-key="6" class="calcInput calcDigit">6</button>\n        <button type="button" value="-" data-key="-" class="calcFunction calcSubtraction">&minus;</button>\n\n        <button type="button" value="1" data-key="1" class="calcFirst calcDigit calcInput">1</button>\n        <button type="button" value="2" data-key="2" class="calcInput calcDigit">2</button>\n        <button type="button" value="3" data-key="3" class="calcInput calcDigit">3</button>\n        <button type="button" value="+" data-key="+" class="calcFunction calcSum">+</button>\n\n        <button type="button" value="+/-" data-key="+/-" class="calcFirst calcInput calcPlusMinus">&plusmn;</button>\n        <button type="button" value="0" data-key="0" class="calcInput calcDigit">0</button>\n        <button type="button" value="." data-key="." class="calcInput calcDot">.</button>\n        <input type="submit" value="=" data-key="=" class="calcFunction calcSubmit calcEqual"/>\n    </form>\n</div>'
})}),define("lib/gamp/gamp",[],function(){"use strict";function precision(val){var digits=String(val),point=digits.indexOf(".");return point<0?1:Math.pow(10,digits.length-point-1)}function gamp(){for(var i=arguments.length-1,factor=-1/0;i>=0;)factor=Math.max(factor,precision(arguments[i--]));return Math.abs(factor)}return gamp.normalize=function(val,factor){return Math.round(factor*Number(val))},gamp.round=function(val,digits){return Number(Number(val).toPrecision(void 0===digits?16:digits))},gamp.add=function(a,b){var factor=gamp(a,b);return gamp.round((gamp.normalize(a,factor)+gamp.normalize(b,factor))/factor)},gamp.sub=function(a,b){var factor=gamp(a,b)
;return gamp.round((gamp.normalize(a,factor)-gamp.normalize(b,factor))/factor)},gamp.mul=function(a,b){var factor=gamp(a,b);return gamp.round(gamp.normalize(a,factor)*gamp.normalize(b,factor)/(factor*factor),15)},gamp.div=function(a,b){var factor=gamp(a,b);return gamp.round(gamp.normalize(a,factor)/gamp.normalize(b,factor))},gamp.pow=function(a,b){var factor=gamp(a),ta=gamp.normalize(a,factor),ib=Math.floor(b),fb=b-ib,res=ib?Math.pow(ta,ib)/Math.pow(factor,ib):1;return fb&&(res=gamp.div(gamp.mul(res,Math.pow(ta,fb)),Math.pow(factor,fb))),gamp.round(res,15)},gamp}),
define("lib/calculator/index",["jquery","lodash","tpl!lib/calculator/template","i18n","lib/gamp/gamp"],function($,_,templateTpl,__,gamp){"use strict";function createCalc(calcMod,config){function setFocus(){display.focus()}function calculate(val){switch(total&&!isNaN(total)||(total=0),operation){case"+":total=gamp.add(total,val);break;case"-":total=gamp.sub(total,val);break;case"*":total=gamp.mul(total,val);break;case"/":total=gamp.div(total,val);break;case"pow":total=gamp.pow(total,val)}display.value=total}function handleInput(e){e=e||window.event;var key,code,val,target,isOperation=!1;switch(e.type){case"keydown":switch(lastKeyDown=code=e.keyCode,code){
case 27:key="C";break;case 8:key="DEL";break;case 46:key="CE";break;case 111:case 191:key="/";break;default:return!0}break;case"keypress":if(13===(code=e.charCode||e.keyCode)||9===code||37===lastKeyDown||39===lastKeyDown)return!0;if(27===code||8===code||46===lastKeyDown)return!1;key=188===lastKeyDown?".":String.fromCharCode(code).toLowerCase();break;case"click":if(target=e.target||e.srcElement,"INPUT"!==target.tagName&&"BUTTON"!==target.tagName||"button"!==target.type)return!0;key=target.value;break;case"calculatorPressMethod":key=e.calckey;break;default:return!0}switch(val=parseFloat(display.value),key){case"0":case"1":case"2":case"3":case"4":case"5":
case"6":case"7":case"8":case"9":case".":clearNext?(display.value=key,clearNext=!1):"."===key&&dot.test(display.value)||(display.value+=key);break;case"*":case"+":case"-":case"/":case"pow":operationPressed||(0===total||null!==lastNum?total=val:calculate(val),lastNum=null,getLastNum=!0,clearNext=!0),operation=key,isOperation=!0;break;case"C":display.blur(),total=0,operation="",clearNext=!0,lastNum=null,getLastNum=!1,display.value="0";break;case"CE":display.value="0",clearNext=!0;break;case"DEL":display.value=display.value.slice(0,display.value.length-1);break;case"+/-":display.value=gamp.mul(val,-1);break;case"%":
val&&(display.value=gamp.div(gamp.mul(total,val),100));break;case"sqrt":display.value=val>=0?Math.sqrt(val):__("Invalid input for function");break;case"a":case"c":case"v":case"x":if(e.ctrlKey)return!0;break;case"1/x":case"r":display.value=val?gamp.div(1,val):__("Cannot divide by zero");break;case"=":form.onsubmit()}return operationPressed=isOperation,setFocus(),isOperation||$(display).trigger("change"),_initButtonHighlight(form,key),!1}var calcTemplate,forms,form,display,operation,lastKeyDown,total=0,clearNext=!0,dot=/\./,lastNum=null,getLastNum=!1,operationPressed=!1,calcObj={},id=nextID;if(config=_.defaults(config||{},_defaults),
!_.isFunction(config.template))throw new TypeError("invalid template in configuration");return calcTemplate=config.template.call(null),nextID+=1,calcMod.innerHTML+=calcTemplate,forms=calcMod.getElementsByTagName("form"),form=forms[forms.length-1],display=form.getElementsByTagName("input")[0],display.setAttribute("autocomplete","off"),display.value="0",display.onkeydown=display.onkeypress=form.onclick=handleInput,form.onsubmit=function(){return getLastNum&&(lastNum=parseFloat(display.value)||0,getLastNum=!1),calculate(lastNum),clearNext=!0,setFocus(),$(display).trigger("change"),_initButtonHighlight(form,"="),!1},calcObj.focus=function(){setFocus()},
calcObj.press=function(button){var buttons,num,i;if("number"==typeof button)buttons=button.toString().split("");else{if("string"!=typeof button||!button)return this;buttons=[button]}for(num=buttons.length,i=0;i<num;i+=1)handleInput({type:"calculatorPressMethod",calckey:buttons[i]});return this},calcObj.remove=function(){display.onkeydown=display.onkeypress=form.onclick=null,calcMod.removeChild(form.parentNode),delete calculators[id],calcObj=null},calcObj.container=calcMod,calculators[id]=calcObj,calcObj}function _initButtonHighlight(form,key){var $btn=$(form).find('[data-key="'+key+'"]');$btn.addClass("triggered"),setTimeout(function(){
$btn.removeClass("triggered")},160)}var JSCALC={},calculators={},nextID=0,_defaults={template:templateTpl};return JSCALC.get=function(container){if(!container||1!==container.nodeType)return null;var id,calc,calcs=calculators;for(id in calcs)if(calcs.hasOwnProperty(id)&&container===calcs[id].container){calc=calcs[id];break}return calc||null},JSCALC.getCalcs=function(){var id,calcArray=[],calcs=calculators;for(id in calcs)calcs.hasOwnProperty(id)&&(calcArray[calcArray.length]=calcs[id]);return calcArray},JSCALC.init=function(elem,config){var calcMod,len,i,calcMods=[],args=!1,newCalcs=[];if("string"==typeof elem&&(elem=document.getElementById(elem)),
"object"==typeof elem&&1===elem.nodeType?(elem.className?-1===elem.className.indexOf("calc")&&(elem.className+=" calc"):elem.className="calc",calcMods[0]=elem,args=!0):elem instanceof $?elem.each(function(){calcMods.push(this),args=!0}):$(".calc").each(function(){calcMods.push(this),args=!0}),len=calcMods.length)for(i=0;i<len;i+=1)calcMod=calcMods[i],JSCALC.get(calcMod)||(newCalcs[newCalcs.length]=createCalc(calcMod,config));return args?newCalcs[0]||null:newCalcs},JSCALC.removeAll=function(){var id,calcs=calculators;for(id in calcs)calcs.hasOwnProperty(id)&&calcs[id].remove()},JSCALC}),
define("ui/calculator",["jquery","lodash","i18n","ui/dynamicComponent","lib/calculator/index"],function($,_,__,dynamicComponent,calculatorBuild){"use strict";function getFontRatio($element){var $sample=$("<div />").text("0").css({"font-family":$element.css("font-family"),"font-size":"10px","line-height":"10px",position:"absolute",padding:"0",top:-1e3,left:-1e3}).appendTo("body"),fontRatio=$sample.height()/$sample.width();return $sample.remove(),fontRatio}function adjustFontSize($text,fontRatio,fontSize){var len,width=$text.width(),height=$text.height(),charWidth=fontSize/fontRatio
;$text.is(":input")?(len=$text.val().length)*charWidth>=width&&(fontSize=Math.max(height/4,Math.min(width/len*(fontRatio||1.6),fontSize))):fontSize=computeFontSize(width,height),$text.css("fontSize",fontSize)}function calculatorFactory(config){return config=_.defaults(config||{},_defaults),dynamicComponent(calculator).on("rendercontent",function($content){var $input,self=this,calcConfig={};_.isFunction(config.alternativeTemplate)&&(calcConfig.template=config.alternativeTemplate),this.calc=calculatorBuild.init($content,calcConfig),$input=$content.find("input.calcDisplay").on("change",function(){adjustFontSize($input,self.fontRatio,self.fontSize)}),
this.fontSize=parseFloat($input.css("font-size")),this.fontRatio=getFontRatio($input)}).after("show",function(){var self=this;_.defer(function(){var $display=self.getElement().find(".calcDisplay"),strLength=$display.val().length+1;$display.focus(),$display[0].setSelectionRange(strLength,strLength)})}).on("reset",function(){this.calc.press("C")}).on("resize",function(){var $element=this.getElement();$element&&(adjustFontSize($element.find("form"),this.fontRatio,this.fontSize),adjustFontSize($element.find("input.calcDisplay"),this.fontRatio,this.fontSize))}).on("destroy",function(){this.calc&&this.calc.remove()}).init(config)}var _defaults={
title:__("Calculator"),preserveAspectRatio:!1,width:240,height:360,minWidth:150,minHeight:220,alternativeTemplate:null},computeFontSize=function(width,height){return(width*(10/240)+height*(10/340))/2},calculator={press:function(key){return this.calc.press(key),this}};return calculatorFactory}),define("ui/maths/calculator/core/areaBroker",["lodash","core/areaBroker"],function(_,areaBroker){"use strict";return _.partial(areaBroker,["screen","input","keyboard"])}),define("tpl!ui/maths/calculator/core/tpl/historyUp",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],
helpers=this.merge(helpers,Handlebars.helpers),data=data||{},'<svg class="arrow-up" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><path d="M16 1l-15 15h9v16h12v-16h9z"></path></svg>'})}),define("tpl!ui/maths/calculator/core/tpl/historyDown",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{},
'<svg class="arrow-down" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><path d="M16 31l15-15h-9v-16h-12v16h-9z"></path></svg>'})}),define("tpl!ui/maths/calculator/core/tpl/backspace",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{},
'<svg class="backspace-outline" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path d="M19 21H9c-1.436 0-3.145-.88-3.977-2.046l-2.619-3.667c-.629-.881-1.157-1.621-1.188-1.661-.246-.344-.249-.894-.008-1.241.018-.025.561-.783 1.204-1.686L5.02 7.046C5.855 5.879 7.566 5 9 5h10c1.654 0 3 1.346 3 3v10c0 1.654-1.346 3-3 3zM3.229 12.999l.806 1.125 2.618 3.667C7.104 18.424 8.223 19 9.001 19h10c.552 0 1-.45 1-1.001V8c0-.551-.448-1-1-1h-10c-.776 0-1.897.576-2.351 1.209l-2.608 3.652-.813 1.138z"/><path d="M13.707 13l2.646-2.646a.502.502 0 0 0 0-.707.502.502 0 0 0-.707 0L13 12.293l-2.646-2.646a.5.5 0 0 0-.707.707L12.293 13l-2.646 2.646a.5.5 0 0 0 .707.708L13 13.707l2.646 2.646a.5.5 0 1 0 .708-.706L13.707 13z"/></svg>'
})}),define("ui/maths/calculator/core/labels",["i18n","tpl!ui/maths/calculator/core/tpl/historyUp","tpl!ui/maths/calculator/core/tpl/historyDown","tpl!ui/maths/calculator/core/tpl/backspace"],function(__,historyUpTpl,historyDownTpl,backspaceTpl){"use strict";return{NUM0:"0",NUM1:"1",NUM2:"2",NUM3:"3",NUM4:"4",NUM5:"5",NUM6:"6",NUM7:"7",NUM8:"8",NUM9:"9",DOT:".",EXP10:"e",POW10:"10<sup>x</sup>",LPAR:"(",RPAR:")",COMMA:",",SPACER:"",SUB:"-",ADD:"+",POS:"⁺",NEG:"⁻",MUL:"×",DIV:"÷",MOD:__("modulo"),POW:"^",POW2:"x<sup>2</sup>",POW3:"x<sup>3</sup>",POWY:"x<sup>y</sup>",POWMINUSONE:"x<sup>⁻1</sup>",FAC:"!",ASSIGN:"=",ANS:__("Ans"),PI:"π",E:"e",NAN:__("Error"),
INFINITY:__("Infinity"),ERROR:__("Syntax error"),EXP:__("exp"),EXPX:"e<sup>x</sup>",SQRT:"√",CBRT:"<sup>3</sup>√",NTHRT:"<sup>y</sup>√x",FLOOR:__("floor"),CEIL:__("ceil"),ROUND:__("round"),TRUNC:__("trunc"),SIN:__("sin"),COS:__("cos"),TAN:__("tan"),ASIN:__("sin")+"<sup>⁻1</sup>",ACOS:__("cos")+"<sup>⁻1</sup>",ATAN:__("tan")+"<sup>⁻1</sup>",SINH:__("sinh"),COSH:__("cosh"),TANH:__("tanh"),ASINH:__("sinh")+"<sup>⁻1</sup>",ACOSH:__("cosh")+"<sup>⁻1</sup>",ATANH:__("tanh")+"<sup>⁻1</sup>",LN:__("ln"),LOG:__("log")+"<sub>10</sub>",ABS:__("abs"),RAND:__("random"),CLEAR:__("C"),CLEARALL:__("AC"),EXECUTE:"=",HISTORYUP:historyUpTpl(),HISTORYDOWN:historyDownTpl(),
BACKSPACE:backspaceTpl(),DEGREE:__("Deg"),RADIAN:__("Rad"),SIGN:"&plusmn;"}}),define("ui/maths/calculator/core/terms",["i18n","ui/maths/calculator/core/labels"],function(__,labels){"use strict";return{NUM0:{label:labels.NUM0,value:"0",type:"digit",description:__("Digit 0"),exponent:null},NUM1:{label:labels.NUM1,value:"1",type:"digit",description:__("Digit 1"),exponent:null},NUM2:{label:labels.NUM2,value:"2",type:"digit",description:__("Digit 2"),exponent:null},NUM3:{label:labels.NUM3,value:"3",type:"digit",description:__("Digit 3"),exponent:null},NUM4:{label:labels.NUM4,value:"4",type:"digit",description:__("Digit 4"),exponent:null},NUM5:{label:labels.NUM5,
value:"5",type:"digit",description:__("Digit 5"),exponent:null},NUM6:{label:labels.NUM6,value:"6",type:"digit",description:__("Digit 6"),exponent:null},NUM7:{label:labels.NUM7,value:"7",type:"digit",description:__("Digit 7"),exponent:null},NUM8:{label:labels.NUM8,value:"8",type:"digit",description:__("Digit 8"),exponent:null},NUM9:{label:labels.NUM9,value:"9",type:"digit",description:__("Digit 9"),exponent:null},DOT:{label:labels.DOT,value:".",type:"digit",description:__("Dot"),exponent:null},EXP10:{label:labels.EXP10,value:"e",type:"digit",description:__("Power of 10"),exponent:"right"},LPAR:{label:labels.LPAR,value:"(",type:"aggregator",
description:__("Left parenthesis"),exponent:null},RPAR:{label:labels.RPAR,value:")",type:"aggregator",description:__("Right parenthesis"),exponent:null},COMMA:{label:labels.COMMA,value:",",type:"separator",description:__("Arguments separator"),exponent:null},SUB:{label:labels.SUB,value:"-",type:"operator",description:__("Binary operator -"),exponent:null},NEG:{label:labels.NEG,value:labels.NEG,type:"operator",description:__("Unary operator -"),exponent:null},ADD:{label:labels.ADD,value:"+",type:"operator",description:__("Binary operator +"),exponent:null},POS:{label:labels.POS,value:labels.POS,type:"operator",description:__("Unary operator +"),exponent:null
},MUL:{label:labels.MUL,value:"*",type:"operator",description:__("Binary operator *"),exponent:null},DIV:{label:labels.DIV,value:"/",type:"operator",description:__("Binary operator /"),exponent:null},MOD:{label:labels.MOD,value:"%",type:"operator",description:__("Binary operator modulo"),exponent:null},POW:{label:labels.POW,value:"^",type:"operator",description:__("Power of"),exponent:"right"},FAC:{label:labels.FAC,value:"!",type:"operator",description:__("Factorial"),exponent:null},ASSIGN:{label:labels.ASSIGN,value:"=",type:"operator",description:__("Assign"),exponent:null},ANS:{label:labels.ANS,value:"ans",type:"variable",description:__("Last result"),
exponent:null},PI:{label:labels.PI,value:"PI",type:"constant",description:__("Value of PI"),exponent:null},E:{label:labels.E,value:"E",type:"constant",description:__("Value of E"),exponent:null},NAN:{label:labels.NAN,value:"NaN",type:"error",description:__("Error in value"),exponent:null},INFINITY:{label:labels.INFINITY,value:"Infinity",type:"error",description:__("Error in result"),exponent:null},ERROR:{label:labels.ERROR,value:"#",type:"error",description:__("Error in syntax"),exponent:null},EXP:{label:labels.EXP,value:"exp",type:"function",description:__("Exponent"),exponent:"right"},SQRT:{label:labels.SQRT,value:"sqrt",type:"function",
description:__("Square root"),exponent:null},CBRT:{label:labels.CBRT,value:"cbrt",type:"function",description:__("Cube root"),exponent:null},NTHRT:{label:labels.SQRT,value:"nthrt",type:"function",description:__("Nth root"),exponent:"left"},FLOOR:{label:labels.FLOOR,value:"floor",type:"function",description:__("Round to lower whole number"),exponent:null},CEIL:{label:labels.CEIL,value:"ceil",type:"function",description:__("Round to upper whole number"),exponent:null},ROUND:{label:labels.ROUND,value:"round",type:"function",description:__("Round to closest whole number"),exponent:null},TRUNC:{label:labels.TRUNC,value:"trunc",type:"function",
description:__("Whole number part"),exponent:null},SIN:{label:labels.SIN,value:"sin",type:"function",description:__("Sine"),exponent:null},COS:{label:labels.COS,value:"cos",type:"function",description:__("Cosine"),exponent:null},TAN:{label:labels.TAN,value:"tan",type:"function",description:__("Tangent"),exponent:null},ASIN:{label:labels.ASIN,value:"asin",type:"function",description:__("Arc sine"),exponent:null},ACOS:{label:labels.ACOS,value:"acos",type:"function",description:__("Arc cosine"),exponent:null},ATAN:{label:labels.ATAN,value:"atan",type:"function",description:__("Arc tangent"),exponent:null},SINH:{label:labels.SINH,value:"sinh",type:"function",
description:__("Hyperbolic sine"),exponent:null},COSH:{label:labels.COSH,value:"cosh",type:"function",description:__("Hyperbolic cosine"),exponent:null},TANH:{label:labels.TANH,value:"tanh",type:"function",description:__("Hyperbolic tangent"),exponent:null},ASINH:{label:labels.ASINH,value:"asinh",type:"function",description:__("Hyperbolic arc sine"),exponent:null},ACOSH:{label:labels.ACOSH,value:"acosh",type:"function",description:__("Hyperbolic arc cosine"),exponent:null},ATANH:{label:labels.ATANH,value:"atanh",type:"function",description:__("Hyperbolic arc tangent"),exponent:null},LN:{label:labels.LN,value:"ln",type:"function",
description:__("Natural logarithm"),exponent:null},LOG:{label:labels.LN,value:"log",type:"function",description:__("Natural logarithm"),exponent:null},LG:{label:labels.LOG,value:"lg",type:"function",description:__("Base-10 logarithm"),exponent:null},LOG10:{label:labels.LOG,value:"log10",type:"function",description:__("Base-10 logarithm"),exponent:null},ABS:{label:labels.ABS,value:"abs",type:"function",description:__("Absolute value"),exponent:null},RAND:{label:labels.RAND,value:"random",type:"function",description:__("Random value"),exponent:null}}}),define("tpl!ui/maths/calculator/core/tpl/terms",["handlebars"],function(hb){
return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return stack1=helpers.each.call(depth0,depth0&&depth0.startExponent,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='<span class="term term-',(helper=helpers.type)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.type,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1),stack1=helpers.if.call(depth0,depth0&&depth0.elide,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),
data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" data-value="',(helper=helpers.value)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.value,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-token="',(helper=helpers.token)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.token,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-type="',(helper=helpers.type)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.type,
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">',(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="</span>",stack1=helpers.each.call(depth0,depth0&&depth0.endExponent,{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer}function program2(depth0,data){return"<sup>"}function program4(depth0,data){return" term-elide"}function program6(depth0,data){
return"</sup>"}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,self=this,functionType="function",escapeExpression=this.escapeExpression;return stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),stack1||0===stack1?stack1:""})}),define("ui/maths/calculator/core/tokens",["lodash","ui/maths/calculator/core/terms","tpl!ui/maths/calculator/core/tpl/terms"],function(_,registeredTerms,termsTpl){"use strict";function exponentOnTheLeft(index,terms){function nextTerm(){next=term,term=terms[--index]}var parenthesis=0,next=terms[index],term=terms[--index]
;if(term&&(tokensHelper.isOperand(term.type)||"RPAR"===term.token)){if(term.endExponent.push(term.endExponent.length),"RPAR"===term.token){for(parenthesis++;index>0&&parenthesis>0;)nextTerm(),"RPAR"===term.token?parenthesis++:"LPAR"===term.token&&parenthesis--;index>0&&tokensHelper.isFunction(terms[index-1])&&!terms[index-1].prefixed&&nextTerm()}else if(tokensHelper.isDigit(term.type)){for(;index&&tokensHelper.isDigit(term.type);)nextTerm();tokensHelper.isDigit(term.type)||(term=next)}term.startExponent.push(term.startExponent.length)}}function exponentOnTheRight(index,terms){function nextTerm(){previous=term,term=terms[++index]}function previousTerm(){
term=previous,previous=terms[--index]}var shouldContinue,last=terms.length-1,parenthesis=0,startAt=index,previous=terms[index],term=terms[++index];if(term&&(tokensHelper.isOperand(term.type)||"LPAR"===term.token||signOperators.indexOf(term.token)>=0)){term.startExponent.push(term.startExponent.length);do{for(shouldContinue=!1;index<last&&(tokensHelper.isFunction(term.type)||signOperators.indexOf(term.token)>=0);)nextTerm();if(term||previousTerm(),"LPAR"===term.token)for(parenthesis++;index<last&&parenthesis>0;)nextTerm(),"LPAR"===term.token?parenthesis++:"RPAR"===term.token&&parenthesis--;else if(tokensHelper.isDigit(term.type)){
for(;index<last&&tokensHelper.isDigit(term.type);)nextTerm();term&&tokensHelper.isDigit(term.type)||previousTerm()}for(;index<last&&"FAC"===terms[index+1].token;)nextTerm();index<last&&continueExponent.indexOf(terms[index+1].token)>=0&&(nextTerm(),nextTerm(),shouldContinue=!0)}while(shouldContinue);term.endExponent.push(term.endExponent.length),startAt>0&&startAt<last&&"POW"===terms[startAt].token&&terms[startAt+1].startExponent.length&&(terms[startAt].elide=!0)}}
var rePrefixedTerm=/^@[a-zA-Z_]\w*$/,reErrorValue=/(NaN|[+-]?Infinity)/,reAnsVar=new RegExp("\\b"+registeredTerms.ANS.value+"\\b","g"),signOperators=["NEG","POS","SUB","ADD"],continueExponent=["POW","NTHRT"],tokensHelper={getType:function(token){var type,term;return"string"!=typeof token?(type=token&&token.type||null,(term=registeredTerms[type])&&term.type||type):token},isDigit:function(type){return"digit"===tokensHelper.getType(type)},isOperator:function(type){return"operator"===tokensHelper.getType(type)},isOperand:function(type){return"operator"!==(type=tokensHelper.getType(type))&&"aggregator"!==type&&"separator"!==type},isValue:function(type){
return"digit"===(type=tokensHelper.getType(type))||"constant"===type||"variable"===type||"term"===type||"error"===type},isAggregator:function(type){return"aggregator"===tokensHelper.getType(type)},isError:function(type){return"error"===tokensHelper.getType(type)},isConstant:function(type){return"constant"===tokensHelper.getType(type)},isVariable:function(type){return"variable"===(type=tokensHelper.getType(type))||"term"===type},isFunction:function(type){return"function"===tokensHelper.getType(type)},isIdentifier:function(type){return"constant"===(type=tokensHelper.getType(type))||"variable"===type||"term"===type||"function"===type||"error"===type},
isSeparator:function(type){return"operator"===(type=tokensHelper.getType(type))||"aggregator"===type||"separator"===type},isModifier:function(type){return"operator"===(type=tokensHelper.getType(type))||"function"===type},stringValue:function(expression){var type=typeof expression;return"string"!==type&&(expression&&void 0!==expression.result?expression=expression.result:expression&&void 0!==expression.value?expression=expression.value:"object"!==type&&"undefined"!==type&&null!==expression||(expression=""),expression=String(expression)),expression},containsError:function(expression){return reErrorValue.test(tokensHelper.stringValue(expression))},
renderLastResult:function(expression,value){return tokensHelper.stringValue(expression).replace(reAnsVar,tokensHelper.stringValue(value))},renderSign:function(expression){return tokensHelper.stringValue(expression).replace(registeredTerms.SUB.value,registeredTerms.NEG.label).replace(registeredTerms.ADD.value,registeredTerms.POS.label)},render:function(tokens,variables){function toSignOperator(term,token){previous&&!tokensHelper.isModifier(previous.type)&&"LPAR"!==previous.token||(term.label=registeredTerms[token].label,term.token=token)}var previous,exponents=[],terms=[];return variables=variables||{},_.forEach(tokens,function(token,index){
var registeredTerm=registeredTerms[token.type],term={type:token.type,token:token.type,value:token.value,label:token.value,description:token.value,exponent:null,startExponent:[],endExponent:[],prefixed:rePrefixedTerm.test(token.value),elide:!1};registeredTerm?(_.merge(term,registeredTerm),"ANS"===term.token&&void 0!==variables[term.value]&&(term.label=tokensHelper.renderSign(String(variables.ans||"0")))):"term"===term.token&&(void 0!==variables[term.value]?term.type="variable":term.type="unknown"),"SUB"===term.token?toSignOperator(term,"NEG"):"ADD"===term.token&&toSignOperator(term,"POS"),terms.push(term),term.exponent&&exponents.push(index),previous=term}),
_.forEach(exponents,function(index){var term=terms[index];"left"===term.exponent&&index>0?exponentOnTheLeft(index,terms):"right"===term.exponent&&index<terms.length-1&&exponentOnTheRight(index,terms)}),termsTpl(terms)}};return tokensHelper}),function(root,factory){"function"==typeof define&&define.amd?define("lib/moo/moo",[],factory):"object"==typeof module&&module.exports?module.exports=factory():root.moo=factory()}(this,function(){"use strict";function isRegExp(o){return o&&"[object RegExp]"===toString.call(o)}function isObject(o){return o&&"object"==typeof o&&!isRegExp(o)&&!Array.isArray(o)}function reEscape(s){
return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function reGroups(s){return new RegExp("|"+s).exec("").length-1}function reCapture(s){return"("+s+")"}function reUnion(regexps){return regexps.length?"(?:"+regexps.map(function(s){return"(?:"+s+")"}).join("|")+")":"(?!)"}function regexpOrLiteral(obj){if("string"==typeof obj)return"(?:"+reEscape(obj)+")";if(isRegExp(obj)){if(obj.ignoreCase)throw new Error("RegExp /i flag not allowed");if(obj.global)throw new Error("RegExp /g flag is implied");if(obj.sticky)throw new Error("RegExp /y flag is implied");if(obj.multiline)throw new Error("RegExp /m flag is implied")
;if(obj.unicode)throw new Error("RegExp /u flag is not allowed");return obj.source}throw new Error("Not a pattern: "+obj)}function objectToRules(object){for(var keys=Object.getOwnPropertyNames(object),result=[],i=0;i<keys.length;i++){var key=keys[i],thing=object[key],rules=[].concat(thing);if("include"!==key){var match=[];rules.forEach(function(rule){isObject(rule)?(match.length&&result.push(ruleOptions(key,match)),result.push(ruleOptions(key,rule)),match=[]):match.push(rule)}),match.length&&result.push(ruleOptions(key,match))}else for(var j=0;j<rules.length;j++)result.push({include:rules[j]})}return result}function arrayToRules(array){
for(var result=[],i=0;i<array.length;i++){var obj=array[i];if(obj.include)for(var include=[].concat(obj.include),j=0;j<include.length;j++)result.push({include:include[j]});else{if(!obj.type)throw new Error("Rule has no type: "+JSON.stringify(obj));result.push(ruleOptions(obj.type,obj))}}return result}function ruleOptions(type,obj){if(isObject(obj)||(obj={match:obj}),obj.include)throw new Error("Matching rules cannot also include states");var options={defaultType:type,lineBreaks:!!obj.error||!!obj.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1}
;for(var key in obj)hasOwnProperty.call(obj,key)&&(options[key]=obj[key]);if("string"==typeof options.type&&type!==options.type)throw new Error("Type transform cannot be a string (type '"+options.type+"' for token '"+type+"')");var match=options.match;return options.match=Array.isArray(match)?match:match?[match]:[],options.match.sort(function(a,b){return isRegExp(a)&&isRegExp(b)?0:isRegExp(b)?-1:isRegExp(a)?1:b.length-a.length}),options}function toRules(spec){return Array.isArray(spec)?arrayToRules(spec):objectToRules(spec)}function compileRules(rules,hasStates){
for(var errorRule=null,fast=Object.create(null),fastAllowed=!0,groups=[],parts=[],i=0;i<rules.length;i++)rules[i].fallback&&(fastAllowed=!1);for(var i=0;i<rules.length;i++){var options=rules[i];if(options.include)throw new Error("Inheritance is not allowed in stateless lexers");if(options.error||options.fallback){if(errorRule)throw!options.fallback==!errorRule.fallback?new Error("Multiple "+(options.fallback?"fallback":"error")+" rules not allowed (for token '"+options.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+options.defaultType+"')");errorRule=options}var match=options.match
;if(fastAllowed)for(;match.length&&"string"==typeof match[0]&&1===match[0].length;){var word=match.shift();fast[word.charCodeAt(0)]=options}if(options.pop||options.push||options.next){if(!hasStates)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+options.defaultType+"')");if(options.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+options.defaultType+"')")}if(0!==match.length){fastAllowed=!1,groups.push(options);var pat=reUnion(match.map(regexpOrLiteral)),regexp=new RegExp(pat);if(regexp.test(""))throw new Error("RegExp matches empty string: "+regexp)
;if(reGroups(pat)>0)throw new Error("RegExp has capture groups: "+regexp+"\nUse (?: … ) instead");if(!options.lineBreaks&&regexp.test("\n"))throw new Error("Rule should declare lineBreaks: "+regexp);parts.push(reCapture(pat))}}var fallbackRule=errorRule&&errorRule.fallback,flags=hasSticky&&!fallbackRule?"ym":"gm",suffix=hasSticky||fallbackRule?"":"|";return{regexp:new RegExp(reUnion(parts)+suffix,flags),groups:groups,fast:fast,error:errorRule||defaultErrorRule}}function compile(rules){var result=compileRules(toRules(rules));return new Lexer({start:result},"start")}function checkStateGroup(g,name,map){var state=g&&(g.push||g.next)
;if(state&&!map[state])throw new Error("Missing state '"+state+"' (in token '"+g.defaultType+"' of state '"+name+"')");if(g&&g.pop&&1!=+g.pop)throw new Error("pop must be 1 (in token '"+g.defaultType+"' of state '"+name+"')")}function compileStates(states,start){var all=states.$all?toRules(states.$all):[];delete states.$all;var keys=Object.getOwnPropertyNames(states);start||(start=keys[0]);for(var ruleMap=Object.create(null),i=0;i<keys.length;i++){var key=keys[i];ruleMap[key]=toRules(states[key]).concat(all)}for(var i=0;i<keys.length;i++)for(var key=keys[i],rules=ruleMap[key],included=Object.create(null),j=0;j<rules.length;j++){var rule=rules[j]
;if(rule.include){var splice=[j,1];if(rule.include!==key&&!included[rule.include]){included[rule.include]=!0;var newRules=ruleMap[rule.include];if(!newRules)throw new Error("Cannot include nonexistent state '"+rule.include+"' (in state '"+key+"')");for(var k=0;k<newRules.length;k++){var newRule=newRules[k];-1===rules.indexOf(newRule)&&splice.push(newRule)}}rules.splice.apply(rules,splice),j--}}for(var map=Object.create(null),i=0;i<keys.length;i++){var key=keys[i];map[key]=compileRules(ruleMap[key],!0)}for(var i=0;i<keys.length;i++){for(var name=keys[i],state=map[name],groups=state.groups,j=0;j<groups.length;j++)checkStateGroup(groups[j],name,map)
;for(var fastKeys=Object.getOwnPropertyNames(state.fast),j=0;j<fastKeys.length;j++)checkStateGroup(state.fast[fastKeys[j]],name,map)}return new Lexer(map,start)}function keywordTransform(map){function str(x){return JSON.stringify(x)}for(var reverseMap=Object.create(null),byLength=Object.create(null),types=Object.getOwnPropertyNames(map),i=0;i<types.length;i++){var tokenType=types[i],item=map[tokenType];(Array.isArray(item)?item:[item]).forEach(function(keyword){if((byLength[keyword.length]=byLength[keyword.length]||[]).push(keyword),"string"!=typeof keyword)throw new Error("keyword must be string (in keyword '"+tokenType+"')");reverseMap[keyword]=tokenType})
}var source="";source+="switch (value.length) {\n";for(var length in byLength){var keywords=byLength[length];source+="case "+length+":\n",source+="switch (value) {\n",keywords.forEach(function(keyword){var tokenType=reverseMap[keyword];source+="case "+str(keyword)+": return "+str(tokenType)+"\n"}),source+="}\n"}return source+="}\n",Function("value",source)}function tokenToString(){return this.value}var hasOwnProperty=Object.prototype.hasOwnProperty,toString=Object.prototype.toString,hasSticky="boolean"==typeof(new RegExp).sticky,defaultErrorRule=ruleOptions("error",{lineBreaks:!0,shouldThrow:!0}),Lexer=function(states,state){this.startState=state,
this.states=states,this.buffer="",this.stack=[],this.reset()};Lexer.prototype.reset=function(data,info){return this.buffer=data||"",this.index=0,this.line=info?info.line:1,this.col=info?info.col:1,this.queuedToken=info?info.queuedToken:null,this.queuedThrow=info?info.queuedThrow:null,this.setState(info?info.state:this.startState),this.stack=info&&info.stack?info.stack.slice():[],this},Lexer.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedThrow:this.queuedThrow}},Lexer.prototype.setState=function(state){if(state&&this.state!==state){this.state=state
;var info=this.states[state];this.groups=info.groups,this.error=info.error,this.re=info.regexp,this.fast=info.fast}},Lexer.prototype.popState=function(){this.setState(this.stack.pop())},Lexer.prototype.pushState=function(state){this.stack.push(this.state),this.setState(state)};var eat=hasSticky?function(re,buffer){return re.exec(buffer)}:function(re,buffer){var match=re.exec(buffer);return 0===match[0].length?null:match};if(Lexer.prototype._getGroup=function(match){for(var groupCount=this.groups.length,i=0;i<groupCount;i++)if(void 0!==match[i+1])return this.groups[i];throw new Error("Cannot find token type for matched text")},Lexer.prototype.next=function(){
var index=this.index;if(this.queuedGroup){var token=this._token(this.queuedGroup,this.queuedText,index);return this.queuedGroup=null,this.queuedText="",token}var buffer=this.buffer;if(index!==buffer.length){var group=this.fast[buffer.charCodeAt(index)];if(group)return this._token(group,buffer.charAt(index),index);var re=this.re;re.lastIndex=index;var match=eat(re,buffer),error=this.error;if(null==match)return this._token(error,buffer.slice(index,buffer.length),index);var group=this._getGroup(match),text=match[0];return error.fallback&&match.index!==index?(this.queuedGroup=group,this.queuedText=text,
this._token(error,buffer.slice(index,match.index),index)):this._token(group,text,index)}},Lexer.prototype._token=function(group,text,offset){var lineBreaks=0;if(group.lineBreaks){var matchNL=/\n/g,nl=1;if("\n"===text)lineBreaks=1;else for(;matchNL.exec(text);)lineBreaks++,nl=matchNL.lastIndex}var token={type:"function"==typeof group.type&&group.type(text)||group.defaultType,value:"function"==typeof group.value?group.value(text):text,text:text,toString:tokenToString,offset:offset,lineBreaks:lineBreaks,line:this.line,col:this.col},size=text.length;if(this.index+=size,this.line+=lineBreaks,0!==lineBreaks?this.col=size-nl+1:this.col+=size,
group.shouldThrow)throw new Error(this.formatError(token,"invalid syntax"));return group.pop?this.popState():group.push?this.pushState(group.push):group.next&&this.setState(group.next),token},"undefined"!=typeof Symbol&&Symbol.iterator){var LexerIterator=function(lexer){this.lexer=lexer};LexerIterator.prototype.next=function(){var token=this.lexer.next();return{value:token,done:!token}},LexerIterator.prototype[Symbol.iterator]=function(){return this},Lexer.prototype[Symbol.iterator]=function(){return new LexerIterator(this)}}return Lexer.prototype.formatError=function(token,message){
var value=token.text,index=token.offset,eol=token.lineBreaks?value.indexOf("\n"):value.length,start=Math.max(0,index-token.col+1),firstLine=this.buffer.substring(start,index+eol);return message+=" at line "+token.line+" col "+token.col+":\n\n",message+="  "+firstLine+"\n",message+="  "+Array(token.col).join(" ")+"^"},Lexer.prototype.clone=function(){return new Lexer(this.states,this.state)},Lexer.prototype.has=function(tokenType){return!0},{compile:compile,states:compileStates,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:keywordTransform}}),
define("ui/maths/calculator/core/tokenizer",["lodash","ui/maths/calculator/core/terms","ui/maths/calculator/core/tokens","lib/moo/moo"],function(_,registeredTerms,tokensHelper,moo){"use strict";function filterKeyword(term){return term.value.match(reKeywordOnly)}function calculatorTokenizerFactory(config){var keywordsTransform,lexer;return config=config||{},config.keywords=_.defaults(_.mapValues(keywords,"value"),config.keywords),config.symbols=_.defaults(_.mapValues(symbols,"value"),config.symbols),keywordsTransform=moo.keywords(config.keywords),lexer=moo.compile(_.defaults({},ignoredTokens,{prefixed:{match:rePrefixedKeyword,type:function(token){
return keywordsTransform(token.substring(1))}},term:{match:reKeyword,type:keywordsTransform},syntaxError:moo.error},config.symbols)),{iterator:function(expression){return lexer.reset(tokensHelper.stringValue(expression)),function(){var term;do{term=lexer.next()}while(term&&ignoredTokens[term.type]);return term}},tokenize:function(expression){var term,terms=[];lexer.reset(tokensHelper.stringValue(expression));do{(term=lexer.next())&&!ignoredTokens[term.type]&&terms.push(term)}while(term);return terms}}}var ignoredTokens={SPACE:{match:/\s+/,lineBreaks:!0}
},reKeyword=/[a-zA-Z_]\w*/,rePrefixedKeyword=new RegExp("@"+reKeyword.source),reKeywordOnly=new RegExp("^"+reKeyword.source+"$"),keywords=_.pick(registeredTerms,filterKeyword),symbols=_.omit(registeredTerms,filterKeyword);return calculatorTokenizerFactory}),function(globalScope){"use strict";function digitsToString(d){var i,k,ws,indexOfLastWord=d.length-1,str="",w=d[0];if(indexOfLastWord>0){for(str+=w,i=1;i<indexOfLastWord;i++)ws=d[i]+"",k=LOG_BASE-ws.length,k&&(str+=getZeroString(k)),str+=ws;w=d[i],ws=w+"",k=LOG_BASE-ws.length,k&&(str+=getZeroString(k))}else if(0===w)return"0";for(;w%10==0;)w/=10;return str+w}function checkInt32(i,min,max){
if(i!==~~i||i<min||i>max)throw Error(invalidArgument+i)}function checkRoundingDigits(d,i,rm,repeating){var di,k,r,rd;for(k=d[0];k>=10;k/=10)--i;return--i<0?(i+=LOG_BASE,di=0):(di=Math.ceil((i+1)/LOG_BASE),i%=LOG_BASE),k=mathpow(10,LOG_BASE-i),rd=d[di]%k|0,null==repeating?i<3?(0==i?rd=rd/100|0:1==i&&(rd=rd/10|0),r=rm<4&&99999==rd||rm>3&&49999==rd||5e4==rd||0==rd):r=(rm<4&&rd+1==k||rm>3&&rd+1==k/2)&&(d[di+1]/k/100|0)==mathpow(10,i-2)-1||(rd==k/2||0==rd)&&0==(d[di+1]/k/100|0):i<4?(0==i?rd=rd/1e3|0:1==i?rd=rd/100|0:2==i&&(rd=rd/10|0),
r=(repeating||rm<4)&&9999==rd||!repeating&&rm>3&&4999==rd):r=((repeating||rm<4)&&rd+1==k||!repeating&&rm>3&&rd+1==k/2)&&(d[di+1]/k/1e3|0)==mathpow(10,i-3)-1,r}function convertBase(str,baseIn,baseOut){for(var j,arrL,arr=[0],i=0,strL=str.length;i<strL;){for(arrL=arr.length;arrL--;)arr[arrL]*=baseIn;for(arr[0]+=NUMERALS.indexOf(str.charAt(i++)),j=0;j<arr.length;j++)arr[j]>baseOut-1&&(void 0===arr[j+1]&&(arr[j+1]=0),arr[j+1]+=arr[j]/baseOut|0,arr[j]%=baseOut)}return arr.reverse()}function cosine(Ctor,x){var k,y,len=x.d.length;len<32?(k=Math.ceil(len/3),y=Math.pow(4,-k).toString()):(k=16,y="2.3283064365386962890625e-10"),Ctor.precision+=k,
x=taylorSeries(Ctor,1,x.times(y),new Ctor(1));for(var i=k;i--;){var cos2x=x.times(x);x=cos2x.times(cos2x).minus(cos2x).times(8).plus(1)}return Ctor.precision-=k,x}function finalise(x,sd,rm,isTruncated){var digits,i,j,k,rd,roundUp,w,xd,xdi,Ctor=x.constructor;out:if(null!=sd){if(!(xd=x.d))return x;for(digits=1,k=xd[0];k>=10;k/=10)digits++;if((i=sd-digits)<0)i+=LOG_BASE,j=sd,w=xd[xdi=0],rd=w/mathpow(10,digits-j-1)%10|0;else if(xdi=Math.ceil((i+1)/LOG_BASE),k=xd.length,xdi>=k){if(!isTruncated)break out;for(;k++<=xdi;)xd.push(0);w=rd=0,digits=1,i%=LOG_BASE,j=i-LOG_BASE+1}else{for(w=k=xd[xdi],digits=1;k>=10;k/=10)digits++;i%=LOG_BASE,j=i-LOG_BASE+digits,
rd=j<0?0:w/mathpow(10,digits-j-1)%10|0}if(isTruncated=isTruncated||sd<0||void 0!==xd[xdi+1]||(j<0?w:w%mathpow(10,digits-j-1)),roundUp=rm<4?(rd||isTruncated)&&(0==rm||rm==(x.s<0?3:2)):rd>5||5==rd&&(4==rm||isTruncated||6==rm&&(i>0?j>0?w/mathpow(10,digits-j):0:xd[xdi-1])%10&1||rm==(x.s<0?8:7)),sd<1||!xd[0])return xd.length=0,roundUp?(sd-=x.e+1,xd[0]=mathpow(10,(LOG_BASE-sd%LOG_BASE)%LOG_BASE),x.e=-sd||0):xd[0]=x.e=0,x;if(0==i?(xd.length=xdi,k=1,xdi--):(xd.length=xdi+1,k=mathpow(10,LOG_BASE-i),xd[xdi]=j>0?(w/mathpow(10,digits-j)%mathpow(10,j)|0)*k:0),roundUp)for(;;){if(0==xdi){for(i=1,j=xd[0];j>=10;j/=10)i++;for(j=xd[0]+=k,k=1;j>=10;j/=10)k++;i!=k&&(x.e++,
xd[0]==BASE&&(xd[0]=1));break}if(xd[xdi]+=k,xd[xdi]!=BASE)break;xd[xdi--]=0,k=1}for(i=xd.length;0===xd[--i];)xd.pop()}return external&&(x.e>Ctor.maxE?(x.d=null,x.e=NaN):x.e<Ctor.minE&&(x.e=0,x.d=[0])),x}function finiteToString(x,isExp,sd){if(!x.isFinite())return nonFiniteToString(x);var k,e=x.e,str=digitsToString(x.d),len=str.length;return isExp?(sd&&(k=sd-len)>0?str=str.charAt(0)+"."+str.slice(1)+getZeroString(k):len>1&&(str=str.charAt(0)+"."+str.slice(1)),str=str+(x.e<0?"e":"e+")+x.e):e<0?(str="0."+getZeroString(-e-1)+str,sd&&(k=sd-len)>0&&(str+=getZeroString(k))):e>=len?(str+=getZeroString(e+1-len),
sd&&(k=sd-e-1)>0&&(str=str+"."+getZeroString(k))):((k=e+1)<len&&(str=str.slice(0,k)+"."+str.slice(k)),sd&&(k=sd-len)>0&&(e+1===len&&(str+="."),str+=getZeroString(k))),str}function getBase10Exponent(digits,e){var w=digits[0];for(e*=LOG_BASE;w>=10;w/=10)e++;return e}function getLn10(Ctor,sd,pr){if(sd>LN10_PRECISION)throw external=!0,pr&&(Ctor.precision=pr),Error(precisionLimitExceeded);return finalise(new Ctor(LN10),sd,1,!0)}function getPi(Ctor,sd,rm){if(sd>PI_PRECISION)throw Error(precisionLimitExceeded);return finalise(new Ctor(PI),sd,rm,!0)}function getPrecision(digits){var w=digits.length-1,len=w*LOG_BASE+1;if(w=digits[w]){for(;w%10==0;w/=10)len--
;for(w=digits[0];w>=10;w/=10)len++}return len}function getZeroString(k){for(var zs="";k--;)zs+="0";return zs}function intPow(Ctor,x,n,pr){var isTruncated,r=new Ctor(1),k=Math.ceil(pr/LOG_BASE+4);for(external=!1;;){if(n%2&&(r=r.times(x),truncate(r.d,k)&&(isTruncated=!0)),0===(n=mathfloor(n/2))){n=r.d.length-1,isTruncated&&0===r.d[n]&&++r.d[n];break}x=x.times(x),truncate(x.d,k)}return external=!0,r}function isOdd(n){return 1&n.d[n.d.length-1]}function maxOrMin(Ctor,args,ltgt){for(var y,x=new Ctor(args[0]),i=0;++i<args.length;){if(y=new Ctor(args[i]),!y.s){x=y;break}x[ltgt](y)&&(x=y)}return x}function naturalExponential(x,sd){
var denominator,guard,j,pow,sum,t,wpr,rep=0,i=0,k=0,Ctor=x.constructor,rm=Ctor.rounding,pr=Ctor.precision;if(!x.d||!x.d[0]||x.e>17)return new Ctor(x.d?x.d[0]?x.s<0?0:1/0:1:x.s?x.s<0?0:x:NaN);for(null==sd?(external=!1,wpr=pr):wpr=sd,t=new Ctor(.03125);x.e>-2;)x=x.times(t),k+=5;for(guard=Math.log(mathpow(2,k))/Math.LN10*2+5|0,wpr+=guard,denominator=pow=sum=new Ctor(1),Ctor.precision=wpr;;){if(pow=finalise(pow.times(x),wpr,1),denominator=denominator.times(++i),t=sum.plus(divide(pow,denominator,wpr,1)),digitsToString(t.d).slice(0,wpr)===digitsToString(sum.d).slice(0,wpr)){for(j=k;j--;)sum=finalise(sum.times(sum),wpr,1);if(null!=sd)return Ctor.precision=pr,sum
;if(!(rep<3&&checkRoundingDigits(sum.d,wpr-guard,rm,rep)))return finalise(sum,Ctor.precision=pr,rm,external=!0);Ctor.precision=wpr+=10,denominator=pow=t=new Ctor(1),i=0,rep++}sum=t}}function naturalLogarithm(y,sd){var c,c0,denominator,e,numerator,rep,sum,t,wpr,x1,x2,n=1,x=y,xd=x.d,Ctor=x.constructor,rm=Ctor.rounding,pr=Ctor.precision;if(x.s<0||!xd||!xd[0]||!x.e&&1==xd[0]&&1==xd.length)return new Ctor(xd&&!xd[0]?-1/0:1!=x.s?NaN:xd?0:x);if(null==sd?(external=!1,wpr=pr):wpr=sd,Ctor.precision=wpr+=10,c=digitsToString(xd),c0=c.charAt(0),!(Math.abs(e=x.e)<15e14))return t=getLn10(Ctor,wpr+2,pr).times(e+""),
x=naturalLogarithm(new Ctor(c0+"."+c.slice(1)),wpr-10).plus(t),Ctor.precision=pr,null==sd?finalise(x,pr,rm,external=!0):x;for(;c0<7&&1!=c0||1==c0&&c.charAt(1)>3;)x=x.times(y),c=digitsToString(x.d),c0=c.charAt(0),n++;for(e=x.e,c0>1?(x=new Ctor("0."+c),e++):x=new Ctor(c0+"."+c.slice(1)),x1=x,sum=numerator=x=divide(x.minus(1),x.plus(1),wpr,1),x2=finalise(x.times(x),wpr,1),denominator=3;;){if(numerator=finalise(numerator.times(x2),wpr,1),t=sum.plus(divide(numerator,new Ctor(denominator),wpr,1)),digitsToString(t.d).slice(0,wpr)===digitsToString(sum.d).slice(0,wpr)){if(sum=sum.times(2),0!==e&&(sum=sum.plus(getLn10(Ctor,wpr+2,pr).times(e+""))),
sum=divide(sum,new Ctor(n),wpr,1),null!=sd)return Ctor.precision=pr,sum;if(!checkRoundingDigits(sum.d,wpr-10,rm,rep))return finalise(sum,Ctor.precision=pr,rm,external=!0);Ctor.precision=wpr+=10,t=numerator=x=divide(x1.minus(1),x1.plus(1),wpr,1),x2=finalise(x.times(x),wpr,1),denominator=rep=1}sum=t,denominator+=2}}function nonFiniteToString(x){return String(x.s*x.s/0)}function parseDecimal(x,str){var e,i,len;for((e=str.indexOf("."))>-1&&(str=str.replace(".","")),(i=str.search(/e/i))>0?(e<0&&(e=i),e+=+str.slice(i+1),str=str.substring(0,i)):e<0&&(e=str.length),i=0;48===str.charCodeAt(i);i++);for(len=str.length;48===str.charCodeAt(len-1);--len);
if(str=str.slice(i,len)){if(len-=i,x.e=e=e-i-1,x.d=[],i=(e+1)%LOG_BASE,e<0&&(i+=LOG_BASE),i<len){for(i&&x.d.push(+str.slice(0,i)),len-=LOG_BASE;i<len;)x.d.push(+str.slice(i,i+=LOG_BASE));str=str.slice(i),i=LOG_BASE-str.length}else i-=len;for(;i--;)str+="0";x.d.push(+str),external&&(x.e>x.constructor.maxE?(x.d=null,x.e=NaN):x.e<x.constructor.minE&&(x.e=0,x.d=[0]))}else x.e=0,x.d=[0];return x}function parseOther(x,str){var base,Ctor,divisor,i,isFloat,len,p,xd,xe;if("Infinity"===str||"NaN"===str)return+str||(x.s=NaN),x.e=NaN,x.d=null,x;if(isHex.test(str))base=16,str=str.toLowerCase();else if(isBinary.test(str))base=2;else{
if(!isOctal.test(str))throw Error(invalidArgument+str);base=8}for(i=str.search(/p/i),i>0?(p=+str.slice(i+1),str=str.substring(2,i)):str=str.slice(2),i=str.indexOf("."),isFloat=i>=0,Ctor=x.constructor,isFloat&&(str=str.replace(".",""),len=str.length,i=len-i,divisor=intPow(Ctor,new Ctor(base),i,2*i)),xd=convertBase(str,base,BASE),xe=xd.length-1,i=xe;0===xd[i];--i)xd.pop();return i<0?new Ctor(0*x.s):(x.e=getBase10Exponent(xd,xe),x.d=xd,external=!1,isFloat&&(x=divide(x,divisor,4*len)),p&&(x=x.times(Math.abs(p)<54?Math.pow(2,p):Decimal.pow(2,p))),external=!0,x)}function sine(Ctor,x){var k,len=x.d.length;if(len<3)return taylorSeries(Ctor,2,x,x)
;k=1.4*Math.sqrt(len),k=k>16?16:0|k,x=x.times(Math.pow(5,-k)),x=taylorSeries(Ctor,2,x,x);for(var sin2_x,d5=new Ctor(5),d16=new Ctor(16),d20=new Ctor(20);k--;)sin2_x=x.times(x),x=x.times(d5.plus(sin2_x.times(d16.times(sin2_x).minus(d20))));return x}function taylorSeries(Ctor,n,x,y,isHyperbolic){var j,t,u,x2,i=1,pr=Ctor.precision,k=Math.ceil(pr/LOG_BASE);for(external=!1,x2=x.times(x),u=new Ctor(y);;){if(t=divide(u.times(x2),new Ctor(n++*n++),pr,1),u=isHyperbolic?y.plus(t):y.minus(t),y=divide(t.times(x2),new Ctor(n++*n++),pr,1),t=u.plus(y),void 0!==t.d[k]){for(j=k;t.d[j]===u.d[j]&&j--;);if(-1==j)break}j=u,u=y,y=t,t=j,i++}return external=!0,t.d.length=k+1,t}
function toLessThanHalfPi(Ctor,x){var t,isNeg=x.s<0,pi=getPi(Ctor,Ctor.precision,1),halfPi=pi.times(.5);if(x=x.abs(),x.lte(halfPi))return quadrant=isNeg?4:1,x;if(t=x.divToInt(pi),t.isZero())quadrant=isNeg?3:2;else{if(x=x.minus(t.times(pi)),x.lte(halfPi))return quadrant=isOdd(t)?isNeg?2:3:isNeg?4:1,x;quadrant=isOdd(t)?isNeg?1:4:isNeg?3:2}return x.minus(pi).abs()}function toStringBinary(x,baseOut,sd,rm){var base,e,i,k,len,roundUp,str,xd,y,Ctor=x.constructor,isExp=void 0!==sd;if(isExp?(checkInt32(sd,1,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8)):(sd=Ctor.precision,rm=Ctor.rounding),x.isFinite()){for(str=finiteToString(x),i=str.indexOf("."),
isExp?(base=2,16==baseOut?sd=4*sd-3:8==baseOut&&(sd=3*sd-2)):base=baseOut,i>=0&&(str=str.replace(".",""),y=new Ctor(1),y.e=str.length-i,y.d=convertBase(finiteToString(y),10,base),y.e=y.d.length),xd=convertBase(str,10,base),e=len=xd.length;0==xd[--len];)xd.pop();if(xd[0]){if(i<0?e--:(x=new Ctor(x),x.d=xd,x.e=e,x=divide(x,y,sd,rm,0,base),xd=x.d,e=x.e,roundUp=inexact),i=xd[sd],k=base/2,roundUp=roundUp||void 0!==xd[sd+1],roundUp=rm<4?(void 0!==i||roundUp)&&(0===rm||rm===(x.s<0?3:2)):i>k||i===k&&(4===rm||roundUp||6===rm&&1&xd[sd-1]||rm===(x.s<0?8:7)),xd.length=sd,roundUp)for(;++xd[--sd]>base-1;)xd[sd]=0,sd||(++e,xd.unshift(1));for(len=xd.length;!xd[len-1];--len);
for(i=0,str="";i<len;i++)str+=NUMERALS.charAt(xd[i]);if(isExp){if(len>1)if(16==baseOut||8==baseOut){for(i=16==baseOut?4:3,--len;len%i;len++)str+="0";for(xd=convertBase(str,base,baseOut),len=xd.length;!xd[len-1];--len);for(i=1,str="1.";i<len;i++)str+=NUMERALS.charAt(xd[i])}else str=str.charAt(0)+"."+str.slice(1);str=str+(e<0?"p":"p+")+e}else if(e<0){for(;++e;)str="0"+str;str="0."+str}else if(++e>len)for(e-=len;e--;)str+="0";else e<len&&(str=str.slice(0,e)+"."+str.slice(e))}else str=isExp?"0p+0":"0";str=(16==baseOut?"0x":2==baseOut?"0b":8==baseOut?"0o":"")+str}else str=nonFiniteToString(x);return x.s<0?"-"+str:str}function truncate(arr,len){
if(arr.length>len)return arr.length=len,!0}function abs(x){return new this(x).abs()}function acos(x){return new this(x).acos()}function acosh(x){return new this(x).acosh()}function add(x,y){return new this(x).plus(y)}function asin(x){return new this(x).asin()}function asinh(x){return new this(x).asinh()}function atan(x){return new this(x).atan()}function atanh(x){return new this(x).atanh()}function atan2(y,x){y=new this(y),x=new this(x);var r,pr=this.precision,rm=this.rounding,wpr=pr+4;return y.s&&x.s?y.d||x.d?!x.d||y.isZero()?(r=x.s<0?getPi(this,pr,rm):new this(0),r.s=y.s):!y.d||x.isZero()?(r=getPi(this,wpr,1).times(.5),r.s=y.s):x.s<0?(this.precision=wpr,
this.rounding=1,r=this.atan(divide(y,x,wpr,1)),x=getPi(this,wpr,1),this.precision=pr,this.rounding=rm,r=y.s<0?r.minus(x):r.plus(x)):r=this.atan(divide(y,x,wpr,1)):(r=getPi(this,wpr,1).times(x.s>0?.25:.75),r.s=y.s):r=new this(NaN),r}function cbrt(x){return new this(x).cbrt()}function ceil(x){return finalise(x=new this(x),x.e+1,2)}function config(obj){if(!obj||"object"!=typeof obj)throw Error(decimalError+"Object expected");var i,p,v,useDefaults=!0===obj.defaults,ps=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-EXP_LIMIT,0,"toExpPos",0,EXP_LIMIT,"maxE",0,EXP_LIMIT,"minE",-EXP_LIMIT,0,"modulo",0,9];for(i=0;i<ps.length;i+=3)if(p=ps[i],
useDefaults&&(this[p]=DEFAULTS[p]),void 0!==(v=obj[p])){if(!(mathfloor(v)===v&&v>=ps[i+1]&&v<=ps[i+2]))throw Error(invalidArgument+p+": "+v);this[p]=v}if(p="crypto",useDefaults&&(this[p]=DEFAULTS[p]),void 0!==(v=obj[p])){if(!0!==v&&!1!==v&&0!==v&&1!==v)throw Error(invalidArgument+p+": "+v);if(v){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(cryptoUnavailable);this[p]=!0}else this[p]=!1}return this}function cos(x){return new this(x).cos()}function cosh(x){return new this(x).cosh()}function clone(obj){function Decimal(v){var e,i,t,x=this;if(!(x instanceof Decimal))return new Decimal(v)
;if(x.constructor=Decimal,v instanceof Decimal)return x.s=v.s,x.e=v.e,void(x.d=(v=v.d)?v.slice():v);if("number"===(t=typeof v)){if(0===v)return x.s=1/v<0?-1:1,x.e=0,void(x.d=[0]);if(v<0?(v=-v,x.s=-1):x.s=1,v===~~v&&v<1e7){for(e=0,i=v;i>=10;i/=10)e++;return x.e=e,void(x.d=[v])}return 0*v!=0?(v||(x.s=NaN),x.e=NaN,void(x.d=null)):parseDecimal(x,v.toString())}if("string"!==t)throw Error(invalidArgument+v);return 45===v.charCodeAt(0)?(v=v.slice(1),x.s=-1):x.s=1,isDecimal.test(v)?parseDecimal(x,v):parseOther(x,v)}var i,p,ps;if(Decimal.prototype=P,Decimal.ROUND_UP=0,Decimal.ROUND_DOWN=1,Decimal.ROUND_CEIL=2,Decimal.ROUND_FLOOR=3,Decimal.ROUND_HALF_UP=4,
Decimal.ROUND_HALF_DOWN=5,Decimal.ROUND_HALF_EVEN=6,Decimal.ROUND_HALF_CEIL=7,Decimal.ROUND_HALF_FLOOR=8,Decimal.EUCLID=9,Decimal.config=Decimal.set=config,Decimal.clone=clone,Decimal.isDecimal=isDecimalInstance,Decimal.abs=abs,Decimal.acos=acos,Decimal.acosh=acosh,Decimal.add=add,Decimal.asin=asin,Decimal.asinh=asinh,Decimal.atan=atan,Decimal.atanh=atanh,Decimal.atan2=atan2,Decimal.cbrt=cbrt,Decimal.ceil=ceil,Decimal.cos=cos,Decimal.cosh=cosh,Decimal.div=div,Decimal.exp=exp,Decimal.floor=floor,Decimal.hypot=hypot,Decimal.ln=ln,Decimal.log=log,Decimal.log10=log10,Decimal.log2=log2,Decimal.max=max,Decimal.min=min,Decimal.mod=mod,Decimal.mul=mul,
Decimal.pow=pow,Decimal.random=random,Decimal.round=round,Decimal.sign=sign,Decimal.sin=sin,Decimal.sinh=sinh,Decimal.sqrt=sqrt,Decimal.sub=sub,Decimal.tan=tan,Decimal.tanh=tanh,Decimal.trunc=trunc,void 0===obj&&(obj={}),obj&&!0!==obj.defaults)for(ps=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],i=0;i<ps.length;)obj.hasOwnProperty(p=ps[i++])||(obj[p]=this[p]);return Decimal.config(obj),Decimal}function div(x,y){return new this(x).div(y)}function exp(x){return new this(x).exp()}function floor(x){return finalise(x=new this(x),x.e+1,3)}function hypot(){var i,n,t=new this(0);for(external=!1,
i=0;i<arguments.length;)if(n=new this(arguments[i++]),n.d)t.d&&(t=t.plus(n.times(n)));else{if(n.s)return external=!0,new this(1/0);t=n}return external=!0,t.sqrt()}function isDecimalInstance(obj){return obj instanceof Decimal||obj&&"[object Decimal]"===obj.name||!1}function ln(x){return new this(x).ln()}function log(x,y){return new this(x).log(y)}function log2(x){return new this(x).log(2)}function log10(x){return new this(x).log(10)}function max(){return maxOrMin(this,arguments,"lt")}function min(){return maxOrMin(this,arguments,"gt")}function mod(x,y){return new this(x).mod(y)}function mul(x,y){return new this(x).mul(y)}function pow(x,y){
return new this(x).pow(y)}function random(sd){var d,e,k,n,i=0,r=new this(1),rd=[];if(void 0===sd?sd=this.precision:checkInt32(sd,1,MAX_DIGITS),k=Math.ceil(sd/LOG_BASE),this.crypto)if(crypto.getRandomValues)for(d=crypto.getRandomValues(new Uint32Array(k));i<k;)n=d[i],n>=429e7?d[i]=crypto.getRandomValues(new Uint32Array(1))[0]:rd[i++]=n%1e7;else{if(!crypto.randomBytes)throw Error(cryptoUnavailable);for(d=crypto.randomBytes(k*=4);i<k;)n=d[i]+(d[i+1]<<8)+(d[i+2]<<16)+((127&d[i+3])<<24),n>=214e7?crypto.randomBytes(4).copy(d,i):(rd.push(n%1e7),i+=4);i=k/4}else for(;i<k;)rd[i++]=1e7*Math.random()|0;for(k=rd[--i],sd%=LOG_BASE,k&&sd&&(n=mathpow(10,LOG_BASE-sd),
rd[i]=(k/n|0)*n);0===rd[i];i--)rd.pop();if(i<0)e=0,rd=[0];else{for(e=-1;0===rd[0];e-=LOG_BASE)rd.shift();for(k=1,n=rd[0];n>=10;n/=10)k++;k<LOG_BASE&&(e-=LOG_BASE-k)}return r.e=e,r.d=rd,r}function round(x){return finalise(x=new this(x),x.e+1,this.rounding)}function sign(x){return x=new this(x),x.d?x.d[0]?x.s:0*x.s:x.s||NaN}function sin(x){return new this(x).sin()}function sinh(x){return new this(x).sinh()}function sqrt(x){return new this(x).sqrt()}function sub(x,y){return new this(x).sub(y)}function tan(x){return new this(x).tan()}function tanh(x){return new this(x).tanh()}function trunc(x){return finalise(x=new this(x),x.e+1,1)}
var Decimal,inexact,noConflict,quadrant,EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS="0123456789abcdef",LN10="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS={
precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-EXP_LIMIT,maxE:EXP_LIMIT,crypto:!1},external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",precisionLimitExceeded=decimalError+"Precision limit exceeded",cryptoUnavailable=decimalError+"crypto unavailable",mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,LN10_PRECISION=LN10.length-1,PI_PRECISION=PI.length-1,P={name:"[object Decimal]"}
;P.absoluteValue=P.abs=function(){var x=new this.constructor(this);return x.s<0&&(x.s=1),finalise(x)},P.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)},P.comparedTo=P.cmp=function(y){var i,j,xdL,ydL,x=this,xd=x.d,yd=(y=new x.constructor(y)).d,xs=x.s,ys=y.s;if(!xd||!yd)return xs&&ys?xs!==ys?xs:xd===yd?0:!xd^xs<0?1:-1:NaN;if(!xd[0]||!yd[0])return xd[0]?xs:yd[0]?-ys:0;if(xs!==ys)return xs;if(x.e!==y.e)return x.e>y.e^xs<0?1:-1;for(xdL=xd.length,ydL=yd.length,i=0,j=xdL<ydL?xdL:ydL;i<j;++i)if(xd[i]!==yd[i])return xd[i]>yd[i]^xs<0?1:-1;return xdL===ydL?0:xdL>ydL^xs<0?1:-1},P.cosine=P.cos=function(){var pr,rm,x=this,Ctor=x.constructor
;return x.d?x.d[0]?(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+Math.max(x.e,x.sd())+LOG_BASE,Ctor.rounding=1,x=cosine(Ctor,toLessThanHalfPi(Ctor,x)),Ctor.precision=pr,Ctor.rounding=rm,finalise(2==quadrant||3==quadrant?x.neg():x,pr,rm,!0)):new Ctor(1):new Ctor(NaN)},P.cubeRoot=P.cbrt=function(){var e,m,n,r,rep,s,sd,t,t3,t3plusx,x=this,Ctor=x.constructor;if(!x.isFinite()||x.isZero())return new Ctor(x);for(external=!1,s=x.s*Math.pow(x.s*x,1/3),s&&Math.abs(s)!=1/0?r=new Ctor(s.toString()):(n=digitsToString(x.d),e=x.e,(s=(e-n.length+1)%3)&&(n+=1==s||-2==s?"0":"00"),s=Math.pow(n,1/3),e=mathfloor((e+1)/3)-(e%3==(e<0?-1:2)),
s==1/0?n="5e"+e:(n=s.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new Ctor(n),r.s=x.s),sd=(e=Ctor.precision)+3;;)if(t=r,t3=t.times(t).times(t),t3plusx=t3.plus(x),r=divide(t3plusx.plus(x).times(t),t3plusx.plus(t3),sd+2,1),digitsToString(t.d).slice(0,sd)===(n=digitsToString(r.d)).slice(0,sd)){if("9999"!=(n=n.slice(sd-3,sd+1))&&(rep||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(finalise(r,e+1,1),m=!r.times(r).times(r).eq(x));break}if(!rep&&(finalise(t,e+1,0),t.times(t).times(t).eq(x))){r=t;break}sd+=4,rep=1}return external=!0,finalise(r,e,Ctor.rounding,m)},P.decimalPlaces=P.dp=function(){var w,d=this.d,n=NaN;if(d){if(w=d.length-1,
n=(w-mathfloor(this.e/LOG_BASE))*LOG_BASE,w=d[w])for(;w%10==0;w/=10)n--;n<0&&(n=0)}return n},P.dividedBy=P.div=function(y){return divide(this,new this.constructor(y))},P.dividedToIntegerBy=P.divToInt=function(y){var x=this,Ctor=x.constructor;return finalise(divide(x,new Ctor(y),0,1,1),Ctor.precision,Ctor.rounding)},P.equals=P.eq=function(y){return 0===this.cmp(y)},P.floor=function(){return finalise(new this.constructor(this),this.e+1,3)},P.greaterThan=P.gt=function(y){return this.cmp(y)>0},P.greaterThanOrEqualTo=P.gte=function(y){var k=this.cmp(y);return 1==k||0===k},P.hyperbolicCosine=P.cosh=function(){
var k,n,pr,rm,len,x=this,Ctor=x.constructor,one=new Ctor(1);if(!x.isFinite())return new Ctor(x.s?1/0:NaN);if(x.isZero())return one;pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+Math.max(x.e,x.sd())+4,Ctor.rounding=1,len=x.d.length,len<32?(k=Math.ceil(len/3),n=Math.pow(4,-k).toString()):(k=16,n="2.3283064365386962890625e-10"),x=taylorSeries(Ctor,1,x.times(n),new Ctor(1),!0);for(var cosh2_x,i=k,d8=new Ctor(8);i--;)cosh2_x=x.times(x),x=one.minus(cosh2_x.times(d8.minus(cosh2_x.times(d8))));return finalise(x,Ctor.precision=pr,Ctor.rounding=rm,!0)},P.hyperbolicSine=P.sinh=function(){var k,pr,rm,len,x=this,Ctor=x.constructor
;if(!x.isFinite()||x.isZero())return new Ctor(x);if(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+Math.max(x.e,x.sd())+4,Ctor.rounding=1,(len=x.d.length)<3)x=taylorSeries(Ctor,2,x,x,!0);else{k=1.4*Math.sqrt(len),k=k>16?16:0|k,x=x.times(Math.pow(5,-k)),x=taylorSeries(Ctor,2,x,x,!0);for(var sinh2_x,d5=new Ctor(5),d16=new Ctor(16),d20=new Ctor(20);k--;)sinh2_x=x.times(x),x=x.times(d5.plus(sinh2_x.times(d16.times(sinh2_x).plus(d20))))}return Ctor.precision=pr,Ctor.rounding=rm,finalise(x,pr,rm,!0)},P.hyperbolicTangent=P.tanh=function(){var pr,rm,x=this,Ctor=x.constructor;return x.isFinite()?x.isZero()?new Ctor(x):(pr=Ctor.precision,rm=Ctor.rounding,
Ctor.precision=pr+7,Ctor.rounding=1,divide(x.sinh(),x.cosh(),Ctor.precision=pr,Ctor.rounding=rm)):new Ctor(x.s)},P.inverseCosine=P.acos=function(){var halfPi,x=this,Ctor=x.constructor,k=x.abs().cmp(1),pr=Ctor.precision,rm=Ctor.rounding;return-1!==k?0===k?x.isNeg()?getPi(Ctor,pr,rm):new Ctor(0):new Ctor(NaN):x.isZero()?getPi(Ctor,pr+4,rm).times(.5):(Ctor.precision=pr+6,Ctor.rounding=1,x=x.asin(),halfPi=getPi(Ctor,pr+4,rm).times(.5),Ctor.precision=pr,Ctor.rounding=rm,halfPi.minus(x))},P.inverseHyperbolicCosine=P.acosh=function(){var pr,rm,x=this,Ctor=x.constructor;return x.lte(1)?new Ctor(x.eq(1)?0:NaN):x.isFinite()?(pr=Ctor.precision,rm=Ctor.rounding,
Ctor.precision=pr+Math.max(Math.abs(x.e),x.sd())+4,Ctor.rounding=1,external=!1,x=x.times(x).minus(1).sqrt().plus(x),external=!0,Ctor.precision=pr,Ctor.rounding=rm,x.ln()):new Ctor(x)},P.inverseHyperbolicSine=P.asinh=function(){var pr,rm,x=this,Ctor=x.constructor;return!x.isFinite()||x.isZero()?new Ctor(x):(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+2*Math.max(Math.abs(x.e),x.sd())+6,Ctor.rounding=1,external=!1,x=x.times(x).plus(1).sqrt().plus(x),external=!0,Ctor.precision=pr,Ctor.rounding=rm,x.ln())},P.inverseHyperbolicTangent=P.atanh=function(){var pr,rm,wpr,xsd,x=this,Ctor=x.constructor
;return x.isFinite()?x.e>=0?new Ctor(x.abs().eq(1)?x.s/0:x.isZero()?x:NaN):(pr=Ctor.precision,rm=Ctor.rounding,xsd=x.sd(),Math.max(xsd,pr)<2*-x.e-1?finalise(new Ctor(x),pr,rm,!0):(Ctor.precision=wpr=xsd-x.e,x=divide(x.plus(1),new Ctor(1).minus(x),wpr+pr,1),Ctor.precision=pr+4,Ctor.rounding=1,x=x.ln(),Ctor.precision=pr,Ctor.rounding=rm,x.times(.5))):new Ctor(NaN)},P.inverseSine=P.asin=function(){var halfPi,k,pr,rm,x=this,Ctor=x.constructor;return x.isZero()?new Ctor(x):(k=x.abs().cmp(1),pr=Ctor.precision,rm=Ctor.rounding,-1!==k?0===k?(halfPi=getPi(Ctor,pr+4,rm).times(.5),halfPi.s=x.s,halfPi):new Ctor(NaN):(Ctor.precision=pr+6,Ctor.rounding=1,
x=x.div(new Ctor(1).minus(x.times(x)).sqrt().plus(1)).atan(),Ctor.precision=pr,Ctor.rounding=rm,x.times(2)))},P.inverseTangent=P.atan=function(){var i,j,k,n,px,t,r,wpr,x2,x=this,Ctor=x.constructor,pr=Ctor.precision,rm=Ctor.rounding;if(x.isFinite()){if(x.isZero())return new Ctor(x);if(x.abs().eq(1)&&pr+4<=PI_PRECISION)return r=getPi(Ctor,pr+4,rm).times(.25),r.s=x.s,r}else{if(!x.s)return new Ctor(NaN);if(pr+4<=PI_PRECISION)return r=getPi(Ctor,pr+4,rm).times(.5),r.s=x.s,r}for(Ctor.precision=wpr=pr+10,Ctor.rounding=1,k=Math.min(28,wpr/LOG_BASE+2|0),i=k;i;--i)x=x.div(x.times(x).plus(1).sqrt().plus(1));for(external=!1,j=Math.ceil(wpr/LOG_BASE),n=1,x2=x.times(x),
r=new Ctor(x),px=x;-1!==i;)if(px=px.times(x2),t=r.minus(px.div(n+=2)),px=px.times(x2),r=t.plus(px.div(n+=2)),void 0!==r.d[j])for(i=j;r.d[i]===t.d[i]&&i--;);return k&&(r=r.times(2<<k-1)),external=!0,finalise(r,Ctor.precision=pr,Ctor.rounding=rm,!0)},P.isFinite=function(){return!!this.d},P.isInteger=P.isInt=function(){return!!this.d&&mathfloor(this.e/LOG_BASE)>this.d.length-2},P.isNaN=function(){return!this.s},P.isNegative=P.isNeg=function(){return this.s<0},P.isPositive=P.isPos=function(){return this.s>0},P.isZero=function(){return!!this.d&&0===this.d[0]},P.lessThan=P.lt=function(y){return this.cmp(y)<0},P.lessThanOrEqualTo=P.lte=function(y){
return this.cmp(y)<1},P.logarithm=P.log=function(base){var isBase10,d,denominator,k,inf,num,sd,r,arg=this,Ctor=arg.constructor,pr=Ctor.precision,rm=Ctor.rounding;if(null==base)base=new Ctor(10),isBase10=!0;else{if(base=new Ctor(base),d=base.d,base.s<0||!d||!d[0]||base.eq(1))return new Ctor(NaN);isBase10=base.eq(10)}if(d=arg.d,arg.s<0||!d||!d[0]||arg.eq(1))return new Ctor(d&&!d[0]?-1/0:1!=arg.s?NaN:d?0:1/0);if(isBase10)if(d.length>1)inf=!0;else{for(k=d[0];k%10==0;)k/=10;inf=1!==k}if(external=!1,sd=pr+5,num=naturalLogarithm(arg,sd),denominator=isBase10?getLn10(Ctor,sd+10):naturalLogarithm(base,sd),r=divide(num,denominator,sd,1),
checkRoundingDigits(r.d,k=pr,rm))do{if(sd+=10,num=naturalLogarithm(arg,sd),denominator=isBase10?getLn10(Ctor,sd+10):naturalLogarithm(base,sd),r=divide(num,denominator,sd,1),!inf){+digitsToString(r.d).slice(k+1,k+15)+1==1e14&&(r=finalise(r,pr+1,0));break}}while(checkRoundingDigits(r.d,k+=10,rm));return external=!0,finalise(r,pr,rm)},P.minus=P.sub=function(y){var d,e,i,j,k,len,pr,rm,xd,xe,xLTy,yd,x=this,Ctor=x.constructor;if(y=new Ctor(y),!x.d||!y.d)return x.s&&y.s?x.d?y.s=-y.s:y=new Ctor(y.d||x.s!==y.s?x:NaN):y=new Ctor(NaN),y;if(x.s!=y.s)return y.s=-y.s,x.plus(y);if(xd=x.d,yd=y.d,pr=Ctor.precision,rm=Ctor.rounding,!xd[0]||!yd[0]){if(yd[0])y.s=-y.s;else{
if(!xd[0])return new Ctor(3===rm?-0:0);y=new Ctor(x)}return external?finalise(y,pr,rm):y}if(e=mathfloor(y.e/LOG_BASE),xe=mathfloor(x.e/LOG_BASE),xd=xd.slice(),k=xe-e){for(xLTy=k<0,xLTy?(d=xd,k=-k,len=yd.length):(d=yd,e=xe,len=xd.length),i=Math.max(Math.ceil(pr/LOG_BASE),len)+2,k>i&&(k=i,d.length=1),d.reverse(),i=k;i--;)d.push(0);d.reverse()}else{for(i=xd.length,len=yd.length,xLTy=i<len,xLTy&&(len=i),i=0;i<len;i++)if(xd[i]!=yd[i]){xLTy=xd[i]<yd[i];break}k=0}for(xLTy&&(d=xd,xd=yd,yd=d,y.s=-y.s),len=xd.length,i=yd.length-len;i>0;--i)xd[len++]=0;for(i=yd.length;i>k;){if(xd[--i]<yd[i]){for(j=i;j&&0===xd[--j];)xd[j]=BASE-1;--xd[j],xd[i]+=BASE}xd[i]-=yd[i]}
for(;0===xd[--len];)xd.pop();for(;0===xd[0];xd.shift())--e;return xd[0]?(y.d=xd,y.e=getBase10Exponent(xd,e),external?finalise(y,pr,rm):y):new Ctor(3===rm?-0:0)},P.modulo=P.mod=function(y){var q,x=this,Ctor=x.constructor;return y=new Ctor(y),!x.d||!y.s||y.d&&!y.d[0]?new Ctor(NaN):!y.d||x.d&&!x.d[0]?finalise(new Ctor(x),Ctor.precision,Ctor.rounding):(external=!1,9==Ctor.modulo?(q=divide(x,y.abs(),0,3,1),q.s*=y.s):q=divide(x,y,0,Ctor.modulo,1),q=q.times(y),external=!0,x.minus(q))},P.naturalExponential=P.exp=function(){return naturalExponential(this)},P.naturalLogarithm=P.ln=function(){return naturalLogarithm(this)},P.negated=P.neg=function(){
var x=new this.constructor(this);return x.s=-x.s,finalise(x)},P.plus=P.add=function(y){var carry,d,e,i,k,len,pr,rm,xd,yd,x=this,Ctor=x.constructor;if(y=new Ctor(y),!x.d||!y.d)return x.s&&y.s?x.d||(y=new Ctor(y.d||x.s===y.s?x:NaN)):y=new Ctor(NaN),y;if(x.s!=y.s)return y.s=-y.s,x.minus(y);if(xd=x.d,yd=y.d,pr=Ctor.precision,rm=Ctor.rounding,!xd[0]||!yd[0])return yd[0]||(y=new Ctor(x)),external?finalise(y,pr,rm):y;if(k=mathfloor(x.e/LOG_BASE),e=mathfloor(y.e/LOG_BASE),xd=xd.slice(),i=k-e){for(i<0?(d=xd,i=-i,len=yd.length):(d=yd,e=k,len=xd.length),k=Math.ceil(pr/LOG_BASE),len=k>len?k+1:len+1,i>len&&(i=len,d.length=1),d.reverse();i--;)d.push(0);d.reverse()}
for(len=xd.length,i=yd.length,len-i<0&&(i=len,d=yd,yd=xd,xd=d),carry=0;i;)carry=(xd[--i]=xd[i]+yd[i]+carry)/BASE|0,xd[i]%=BASE;for(carry&&(xd.unshift(carry),++e),len=xd.length;0==xd[--len];)xd.pop();return y.d=xd,y.e=getBase10Exponent(xd,e),external?finalise(y,pr,rm):y},P.precision=P.sd=function(z){var k,x=this;if(void 0!==z&&z!==!!z&&1!==z&&0!==z)throw Error(invalidArgument+z);return x.d?(k=getPrecision(x.d),z&&x.e+1>k&&(k=x.e+1)):k=NaN,k},P.round=function(){var x=this,Ctor=x.constructor;return finalise(new Ctor(x),x.e+1,Ctor.rounding)},P.sine=P.sin=function(){var pr,rm,x=this,Ctor=x.constructor;return x.isFinite()?x.isZero()?new Ctor(x):(pr=Ctor.precision,
rm=Ctor.rounding,Ctor.precision=pr+Math.max(x.e,x.sd())+LOG_BASE,Ctor.rounding=1,x=sine(Ctor,toLessThanHalfPi(Ctor,x)),Ctor.precision=pr,Ctor.rounding=rm,finalise(quadrant>2?x.neg():x,pr,rm,!0)):new Ctor(NaN)},P.squareRoot=P.sqrt=function(){var m,n,sd,r,rep,t,x=this,d=x.d,e=x.e,s=x.s,Ctor=x.constructor;if(1!==s||!d||!d[0])return new Ctor(!s||s<0&&(!d||d[0])?NaN:d?x:1/0);for(external=!1,s=Math.sqrt(+x),0==s||s==1/0?(n=digitsToString(d),(n.length+e)%2==0&&(n+="0"),s=Math.sqrt(n),e=mathfloor((e+1)/2)-(e<0||e%2),s==1/0?n="1e"+e:(n=s.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new Ctor(n)):r=new Ctor(s.toString()),sd=(e=Ctor.precision)+3;;)if(t=r,
r=t.plus(divide(x,t,sd+2,1)).times(.5),digitsToString(t.d).slice(0,sd)===(n=digitsToString(r.d)).slice(0,sd)){if("9999"!=(n=n.slice(sd-3,sd+1))&&(rep||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(finalise(r,e+1,1),m=!r.times(r).eq(x));break}if(!rep&&(finalise(t,e+1,0),t.times(t).eq(x))){r=t;break}sd+=4,rep=1}return external=!0,finalise(r,e,Ctor.rounding,m)},P.tangent=P.tan=function(){var pr,rm,x=this,Ctor=x.constructor;return x.isFinite()?x.isZero()?new Ctor(x):(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+10,Ctor.rounding=1,x=x.sin(),x.s=1,x=divide(x,new Ctor(1).minus(x.times(x)).sqrt(),pr+10,0),Ctor.precision=pr,Ctor.rounding=rm,
finalise(2==quadrant||4==quadrant?x.neg():x,pr,rm,!0)):new Ctor(NaN)},P.times=P.mul=function(y){var carry,e,i,k,r,rL,t,xdL,ydL,x=this,Ctor=x.constructor,xd=x.d,yd=(y=new Ctor(y)).d;if(y.s*=x.s,!(xd&&xd[0]&&yd&&yd[0]))return new Ctor(!y.s||xd&&!xd[0]&&!yd||yd&&!yd[0]&&!xd?NaN:xd&&yd?0*y.s:y.s/0);for(e=mathfloor(x.e/LOG_BASE)+mathfloor(y.e/LOG_BASE),xdL=xd.length,ydL=yd.length,xdL<ydL&&(r=xd,xd=yd,yd=r,rL=xdL,xdL=ydL,ydL=rL),r=[],rL=xdL+ydL,i=rL;i--;)r.push(0);for(i=ydL;--i>=0;){for(carry=0,k=xdL+i;k>i;)t=r[k]+yd[i]*xd[k-i-1]+carry,r[k--]=t%BASE|0,carry=t/BASE|0;r[k]=(r[k]+carry)%BASE|0}for(;!r[--rL];)r.pop();return carry?++e:r.shift(),y.d=r,
y.e=getBase10Exponent(r,e),external?finalise(y,Ctor.precision,Ctor.rounding):y},P.toBinary=function(sd,rm){return toStringBinary(this,2,sd,rm)},P.toDecimalPlaces=P.toDP=function(dp,rm){var x=this,Ctor=x.constructor;return x=new Ctor(x),void 0===dp?x:(checkInt32(dp,0,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),finalise(x,dp+x.e+1,rm))},P.toExponential=function(dp,rm){var str,x=this,Ctor=x.constructor;return void 0===dp?str=finiteToString(x,!0):(checkInt32(dp,0,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),x=finalise(new Ctor(x),dp+1,rm),str=finiteToString(x,!0,dp+1)),x.isNeg()&&!x.isZero()?"-"+str:str},P.toFixed=function(dp,rm){
var str,y,x=this,Ctor=x.constructor;return void 0===dp?str=finiteToString(x):(checkInt32(dp,0,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),y=finalise(new Ctor(x),dp+x.e+1,rm),str=finiteToString(y,!1,dp+y.e+1)),x.isNeg()&&!x.isZero()?"-"+str:str},P.toFraction=function(maxD){var d,d0,d1,d2,e,k,n,n0,n1,pr,q,r,x=this,xd=x.d,Ctor=x.constructor;if(!xd)return new Ctor(x);if(n1=d0=new Ctor(1),d1=n0=new Ctor(0),d=new Ctor(d1),e=d.e=getPrecision(xd)-x.e-1,k=e%LOG_BASE,d.d[0]=mathpow(10,k<0?LOG_BASE+k:k),null==maxD)maxD=e>0?d:n1;else{if(n=new Ctor(maxD),!n.isInt()||n.lt(n1))throw Error(invalidArgument+n);maxD=n.gt(d)?e>0?d:n1:n}for(external=!1,
n=new Ctor(digitsToString(xd)),pr=Ctor.precision,Ctor.precision=e=xd.length*LOG_BASE*2;q=divide(n,d,0,1,1),d2=d0.plus(q.times(d1)),1!=d2.cmp(maxD);)d0=d1,d1=d2,d2=n1,n1=n0.plus(q.times(d2)),n0=d2,d2=d,d=n.minus(q.times(d2)),n=d2;return d2=divide(maxD.minus(d0),d1,0,1,1),n0=n0.plus(d2.times(n1)),d0=d0.plus(d2.times(d1)),n0.s=n1.s=x.s,r=divide(n1,d1,e,1).minus(x).abs().cmp(divide(n0,d0,e,1).minus(x).abs())<1?[n1,d1]:[n0,d0],Ctor.precision=pr,external=!0,r},P.toHexadecimal=P.toHex=function(sd,rm){return toStringBinary(this,16,sd,rm)},P.toNearest=function(y,rm){var x=this,Ctor=x.constructor;if(x=new Ctor(x),null==y){if(!x.d)return x;y=new Ctor(1),
rm=Ctor.rounding}else{if(y=new Ctor(y),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),!x.d)return y.s?x:y;if(!y.d)return y.s&&(y.s=x.s),y}return y.d[0]?(external=!1,x=divide(x,y,0,rm,1).times(y),external=!0,finalise(x)):(y.s=x.s,x=y),x},P.toNumber=function(){return+this},P.toOctal=function(sd,rm){return toStringBinary(this,8,sd,rm)},P.toPower=P.pow=function(y){var e,k,pr,r,rm,s,x=this,Ctor=x.constructor,yn=+(y=new Ctor(y));if(!(x.d&&y.d&&x.d[0]&&y.d[0]))return new Ctor(mathpow(+x,yn));if(x=new Ctor(x),x.eq(1))return x;if(pr=Ctor.precision,rm=Ctor.rounding,y.eq(1))return finalise(x,pr,rm)
;if((e=mathfloor(y.e/LOG_BASE))>=y.d.length-1&&(k=yn<0?-yn:yn)<=9007199254740991)return r=intPow(Ctor,x,k,pr),y.s<0?new Ctor(1).div(r):finalise(r,pr,rm);if((s=x.s)<0){if(e<y.d.length-1)return new Ctor(NaN);if(0==(1&y.d[e])&&(s=1),0==x.e&&1==x.d[0]&&1==x.d.length)return x.s=s,x}return k=mathpow(+x,yn),(e=0!=k&&isFinite(k)?new Ctor(k+"").e:mathfloor(yn*(Math.log("0."+digitsToString(x.d))/Math.LN10+x.e+1)))>Ctor.maxE+1||e<Ctor.minE-1?new Ctor(e>0?s/0:0):(external=!1,Ctor.rounding=x.s=1,k=Math.min(12,(e+"").length),r=naturalExponential(y.times(naturalLogarithm(x,pr+k)),pr),r.d&&(r=finalise(r,pr+5,1),checkRoundingDigits(r.d,pr,rm)&&(e=pr+10,
r=finalise(naturalExponential(y.times(naturalLogarithm(x,e+k)),e),e+5,1),+digitsToString(r.d).slice(pr+1,pr+15)+1==1e14&&(r=finalise(r,pr+1,0)))),r.s=s,external=!0,Ctor.rounding=rm,finalise(r,pr,rm))},P.toPrecision=function(sd,rm){var str,x=this,Ctor=x.constructor;return void 0===sd?str=finiteToString(x,x.e<=Ctor.toExpNeg||x.e>=Ctor.toExpPos):(checkInt32(sd,1,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),x=finalise(new Ctor(x),sd,rm),str=finiteToString(x,sd<=x.e||x.e<=Ctor.toExpNeg,sd)),x.isNeg()&&!x.isZero()?"-"+str:str},P.toSignificantDigits=P.toSD=function(sd,rm){var x=this,Ctor=x.constructor;return void 0===sd?(sd=Ctor.precision,
rm=Ctor.rounding):(checkInt32(sd,1,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8)),finalise(new Ctor(x),sd,rm)},P.toString=function(){var x=this,Ctor=x.constructor,str=finiteToString(x,x.e<=Ctor.toExpNeg||x.e>=Ctor.toExpPos);return x.isNeg()&&!x.isZero()?"-"+str:str},P.truncated=P.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)},P.valueOf=P.toJSON=function(){var x=this,Ctor=x.constructor,str=finiteToString(x,x.e<=Ctor.toExpNeg||x.e>=Ctor.toExpPos);return x.isNeg()?"-"+str:str};var divide=function(){function multiplyInteger(x,k,base){var temp,carry=0,i=x.length;for(x=x.slice();i--;)temp=x[i]*k+carry,x[i]=temp%base|0,
carry=temp/base|0;return carry&&x.unshift(carry),x}function compare(a,b,aL,bL){var i,r;if(aL!=bL)r=aL>bL?1:-1;else for(i=r=0;i<aL;i++)if(a[i]!=b[i]){r=a[i]>b[i]?1:-1;break}return r}function subtract(a,b,aL,base){for(var i=0;aL--;)a[aL]-=i,i=a[aL]<b[aL]?1:0,a[aL]=i*base+a[aL]-b[aL];for(;!a[0]&&a.length>1;)a.shift()}return function(x,y,pr,rm,dp,base){var cmp,e,i,k,logBase,more,prod,prodL,q,qd,rem,remL,rem0,sd,t,xi,xL,yd0,yL,yz,Ctor=x.constructor,sign=x.s==y.s?1:-1,xd=x.d,yd=y.d;if(!(xd&&xd[0]&&yd&&yd[0]))return new Ctor(x.s&&y.s&&(xd?!yd||xd[0]!=yd[0]:yd)?xd&&0==xd[0]||!yd?0*sign:sign/0:NaN);for(base?(logBase=1,e=x.e-y.e):(base=BASE,logBase=LOG_BASE,
e=mathfloor(x.e/logBase)-mathfloor(y.e/logBase)),yL=yd.length,xL=xd.length,q=new Ctor(sign),qd=q.d=[],i=0;yd[i]==(xd[i]||0);i++);if(yd[i]>(xd[i]||0)&&e--,null==pr?(sd=pr=Ctor.precision,rm=Ctor.rounding):sd=dp?pr+(x.e-y.e)+1:pr,sd<0)qd.push(1),more=!0;else{if(sd=sd/logBase+2|0,i=0,1==yL){for(k=0,yd=yd[0],sd++;(i<xL||k)&&sd--;i++)t=k*base+(xd[i]||0),qd[i]=t/yd|0,k=t%yd|0;more=k||i<xL}else{for(k=base/(yd[0]+1)|0,k>1&&(yd=multiplyInteger(yd,k,base),xd=multiplyInteger(xd,k,base),yL=yd.length,xL=xd.length),xi=yL,rem=xd.slice(0,yL),remL=rem.length;remL<yL;)rem[remL++]=0;yz=yd.slice(),yz.unshift(0),yd0=yd[0],yd[1]>=base/2&&++yd0;do{k=0,cmp=compare(yd,rem,yL,remL),
cmp<0?(rem0=rem[0],yL!=remL&&(rem0=rem0*base+(rem[1]||0)),k=rem0/yd0|0,k>1?(k>=base&&(k=base-1),prod=multiplyInteger(yd,k,base),prodL=prod.length,remL=rem.length,1==(cmp=compare(prod,rem,prodL,remL))&&(k--,subtract(prod,yL<prodL?yz:yd,prodL,base))):(0==k&&(cmp=k=1),prod=yd.slice()),prodL=prod.length,prodL<remL&&prod.unshift(0),subtract(rem,prod,remL,base),-1==cmp&&(remL=rem.length,(cmp=compare(yd,rem,yL,remL))<1&&(k++,subtract(rem,yL<remL?yz:yd,remL,base))),remL=rem.length):0===cmp&&(k++,rem=[0]),qd[i++]=k,cmp&&rem[0]?rem[remL++]=xd[xi]||0:(rem=[xd[xi]],remL=1)}while((xi++<xL||void 0!==rem[0])&&sd--);more=void 0!==rem[0]}qd[0]||qd.shift()}
if(1==logBase)q.e=e,inexact=more;else{for(i=1,k=qd[0];k>=10;k/=10)i++;q.e=i+e*logBase-1,finalise(q,dp?pr+q.e+1:pr,rm,more)}return q}}();Decimal=clone(DEFAULTS),Decimal.default=Decimal.Decimal=Decimal,LN10=new Decimal(LN10),PI=new Decimal(PI),"function"==typeof define&&define.amd?define("lib/decimal/decimal",[],function(){return Decimal}):"undefined"!=typeof module&&module.exports?module.exports=Decimal:(globalScope||(globalScope="undefined"!=typeof self&&self&&self.self==self?self:window),noConflict=globalScope.Decimal,Decimal.noConflict=function(){return globalScope.Decimal=noConflict,Decimal},globalScope.Decimal=Decimal)}(this),function(global,factory){
"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("lib/expr-eval/expr-eval",factory):global.exprEval=factory()}(this,function(){"use strict";function Instruction(type,value){this.type=type,this.value=void 0!==value&&null!==value?value:0}function unaryInstruction(value){return new Instruction(IOP1,value)}function binaryInstruction(value){return new Instruction(IOP2,value)}function ternaryInstruction(value){return new Instruction(IOP3,value)}function simplify(tokens,unaryOps,binaryOps,ternaryOps,values){for(var n1,n2,n3,f,nstack=[],newexpression=[],i=0;i<tokens.length;i++){
var item=tokens[i],type=item.type;if(type===INUMBER)nstack.push(item);else if(type===IVAR&&values.hasOwnProperty(item.value))item=new Instruction(INUMBER,values[item.value]),nstack.push(item);else if(type===IOP2&&nstack.length>1)n2=nstack.pop(),n1=nstack.pop(),f=binaryOps[item.value],item=new Instruction(INUMBER,f(n1.value,n2.value)),nstack.push(item);else if(type===IOP3&&nstack.length>2)n3=nstack.pop(),n2=nstack.pop(),n1=nstack.pop(),"?"===item.value?nstack.push(n1.value?n2.value:n3.value):(f=ternaryOps[item.value],item=new Instruction(INUMBER,f(n1.value,n2.value,n3.value)),nstack.push(item));else if(type===IOP1&&nstack.length>0)n1=nstack.pop(),
f=unaryOps[item.value],item=new Instruction(INUMBER,f(n1.value)),nstack.push(item);else if(type===IEXPR){for(;nstack.length>0;)newexpression.push(nstack.shift());newexpression.push(new Instruction(IEXPR,simplify(item.value,unaryOps,binaryOps,ternaryOps,values)))}else if(type===IMEMBER&&nstack.length>0)n1=nstack.pop(),nstack.push(new Instruction(INUMBER,n1.value[item.value]));else{for(;nstack.length>0;)newexpression.push(nstack.shift());newexpression.push(item)}}for(;nstack.length>0;)newexpression.push(nstack.shift());return newexpression}function substitute(tokens,variable,expr){for(var newexpression=[],i=0;i<tokens.length;i++){
var item=tokens[i],type=item.type;if(type===IVAR&&item.value===variable)for(var j=0;j<expr.tokens.length;j++){var replitem,expritem=expr.tokens[j];replitem=expritem.type===IOP1?unaryInstruction(expritem.value):expritem.type===IOP2?binaryInstruction(expritem.value):expritem.type===IOP3?ternaryInstruction(expritem.value):new Instruction(expritem.type,expritem.value),newexpression.push(replitem)}else type===IEXPR?newexpression.push(new Instruction(IEXPR,substitute(item.value,variable,expr))):newexpression.push(item)}return newexpression}function evaluate(tokens,expr,values){for(var n1,n2,n3,f,nstack=[],i=0;i<tokens.length;i++){var item=tokens[i],type=item.type
;if(type===INUMBER)nstack.push(item.value);else if(type===IOP2)n2=nstack.pop(),n1=nstack.pop(),"and"===item.value?nstack.push(!!n1&&!!evaluate(n2,expr,values)):"or"===item.value?nstack.push(!!n1||!!evaluate(n2,expr,values)):(f=expr.binaryOps[item.value],nstack.push(f(n1,n2)));else if(type===IOP3)n3=nstack.pop(),n2=nstack.pop(),n1=nstack.pop(),"?"===item.value?nstack.push(evaluate(n1?n2:n3,expr,values)):(f=expr.ternaryOps[item.value],nstack.push(f(n1,n2,n3)));else if(type===IVAR)if(item.value in expr.functions)nstack.push(expr.functions[item.value]);else{var v=values[item.value];if(void 0===v)throw new Error("undefined variable: "+item.value);nstack.push(v)
}else if(type===IOP1)n1=nstack.pop(),f=expr.unaryOps[item.value],nstack.push(f(n1));else if(type===IFUNCOP){if(n2=nstack.pop(),n1=nstack.pop(),f=expr.functions[item.value],!f.apply||!f.call)throw new Error(f+" is not a function");nstack.push(f.apply(void 0,[n1,n2]))}else if(type===IFUNCALL){for(var argCount=item.value,args=[];argCount-- >0;)args.unshift(nstack.pop());if(f=nstack.pop(),!f.apply||!f.call)throw new Error(f+" is not a function");nstack.push(f.apply(void 0,args))}else if(type===IEXPR)nstack.push(item.value);else{if(type!==IMEMBER)throw new Error("invalid Expression");n1=nstack.pop(),nstack.push(n1[item.value])}}
if(nstack.length>1)throw new Error("invalid Expression (parity)");return nstack[0]}function expressionToString(tokens,toJS){for(var n1,n2,n3,f,nstack=[],i=0;i<tokens.length;i++){var item=tokens[i],type=item.type;if(type===INUMBER)"number"==typeof item.value&&item.value<0?nstack.push("("+item.value+")"):nstack.push(escapeValue(item.value));else if(type===IOP2)n2=nstack.pop(),n1=nstack.pop(),f=item.value,
toJS?"^"===f?nstack.push("Math.pow("+n1+", "+n2+")"):"and"===f?nstack.push("(!!"+n1+" && !!"+n2+")"):"or"===f?nstack.push("(!!"+n1+" || !!"+n2+")"):"||"===f?nstack.push("(String("+n1+") + String("+n2+"))"):"=="===f?nstack.push("("+n1+" === "+n2+")"):"!="===f?nstack.push("("+n1+" !== "+n2+")"):nstack.push("("+n1+" "+f+" "+n2+")"):nstack.push("("+n1+" "+f+" "+n2+")");else if(type===IOP3){if(n3=nstack.pop(),n2=nstack.pop(),n1=nstack.pop(),"?"!==(f=item.value))throw new Error("invalid Expression");nstack.push("("+n1+" ? "+n2+" : "+n3+")")}else if(type===IVAR)nstack.push(item.value);else if(type===IOP1)n1=nstack.pop(),f=item.value,
"-"===f||"+"===f?nstack.push("("+f+n1+")"):toJS?"not"===f?nstack.push("(!"+n1+")"):"!"===f?nstack.push("fac("+n1+")"):nstack.push(f+"("+n1+")"):"!"===f?nstack.push("("+n1+"!)"):nstack.push("("+f+" "+n1+")");else if(type===IFUNCALL){for(var argCount=item.value,args=[];argCount-- >0;)args.unshift(nstack.pop());f=nstack.pop(),nstack.push(f+"("+args.join(", ")+")")}else if(type===IMEMBER)n1=nstack.pop(),nstack.push(n1+"."+item.value);else{if(type!==IEXPR)throw new Error("invalid Expression");nstack.push("("+expressionToString(item.value,toJS)+")")}}if(nstack.length>1)throw new Error("invalid Expression (parity)");return String(nstack[0])}function escapeValue(v){
return"string"==typeof v?JSON.stringify(v).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):v}function contains(array,obj){for(var i=0;i<array.length;i++)if(array[i]===obj)return!0;return!1}function getSymbols(tokens,symbols,options){options=options||{};for(var withMembers=!!options.withMembers,prevVar=null,i=0;i<tokens.length;i++){var item=tokens[i];item.type!==IVAR||contains(symbols,item.value)?item.type===IMEMBER&&withMembers&&null!==prevVar?prevVar+="."+item.value:item.type===IEXPR?getSymbols(item.value,symbols,options):null!==prevVar&&(contains(symbols,prevVar)||symbols.push(prevVar),
prevVar=null):withMembers?null!==prevVar?(contains(symbols,prevVar)||symbols.push(prevVar),prevVar=item.value):prevVar=item.value:symbols.push(item.value)}null===prevVar||contains(symbols,prevVar)||symbols.push(prevVar)}function Expression(tokens,parser){this.tokens=tokens,this.parser=parser,this.unaryOps=parser.unaryOps,this.binaryOps=parser.binaryOps,this.ternaryOps=parser.ternaryOps,this.functions=parser.functions}function Token(type,value,index){this.type=type,this.value=value,this.index=index}function TokenStream(parser,expression){this.pos=0,this.current=null,this.unaryOps=parser.unaryOps,this.binaryOps=parser.binaryOps,
this.ternaryOps=parser.ternaryOps,this.functions=parser.functions,this.consts=parser.consts,this.expression=expression,this.savedPosition=0,this.savedCurrent=null,this.options=parser.options}function getOptionName(op){return optionNameMap.hasOwnProperty(op)?optionNameMap[op]:op}function ParserState(parser,tokenStream,options){this.parser=parser,this.tokens=tokenStream,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==options.allowMemberAccess}function add(a,b){return Number(a)+Number(b)}function sub(a,b){return a-b}function mul(a,b){return a*b}function div(a,b){return a/b}
function mod(a,b){return a%b}function concat(a,b){return""+a+b}function equal(a,b){return a===b}function notEqual(a,b){return a!==b}function greaterThan(a,b){return a>b}function lessThan(a,b){return a<b}function greaterThanEqual(a,b){return a>=b}function lessThanEqual(a,b){return a<=b}function andOperator(a,b){return Boolean(a&&b)}function orOperator(a,b){return Boolean(a||b)}function inOperator(a,b){return contains(b,a)}function sinh(a){return(Math.exp(a)-Math.exp(-a))/2}function cosh(a){return(Math.exp(a)+Math.exp(-a))/2}function tanh(a){return a===1/0?1:a===-1/0?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))}function asinh(a){
return a===-1/0?a:Math.log(a+Math.sqrt(a*a+1))}function acosh(a){return Math.log(a+Math.sqrt(a*a-1))}function atanh(a){return Math.log((1+a)/(1-a))/2}function log10(a){return Math.log(a)*Math.LOG10E}function neg(a){return-a}function not(a){return!a}function trunc(a){return a<0?Math.ceil(a):Math.floor(a)}function random(a){return Math.random()*(a||1)}function factorial(a){return gamma(a+1)}function isInteger(value){return isFinite(value)&&value===Math.round(value)}function gamma(n){var t,x;if(isInteger(n)){if(n<=0)return isFinite(n)?1/0:NaN;if(n>171)return 1/0;for(var value=n-2,res=n-1;value>1;)res*=value,value--;return 0===res&&(res=1),res}
if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*gamma(1-n));if(n>=171.35)return 1/0;if(n>85){var twoN=n*n,threeN=twoN*n,fourN=threeN*n,fiveN=fourN*n;return Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*twoN)-139/(51840*threeN)-571/(2488320*fourN)+163879/(209018880*fiveN)+5246819/(75246796800*fiveN*n))}--n,x=GAMMA_P[0];for(var i=1;i<GAMMA_P.length;++i)x+=GAMMA_P[i]/(n+i);return t=n+GAMMA_G+.5,Math.sqrt(2*Math.PI)*Math.pow(t,n+.5)*Math.exp(-t)*x}function stringLength(s){return String(s).length}function hypot(){for(var sum=0,larg=0,i=0;i<arguments.length;i++){var div,arg=Math.abs(arguments[i]);larg<arg?(div=larg/arg,sum=sum*div*div+1,
larg=arg):arg>0?(div=arg/larg,sum+=div*div):sum+=arg}return larg===1/0?1/0:larg*Math.sqrt(sum)}function condition(cond,yep,nope){return cond?yep:nope}function roundTo(value,exp){return void 0===exp||0==+exp?Math.round(value):(value=+value,exp=-+exp,isNaN(value)||"number"!=typeof exp||exp%1!=0?NaN:(value=value.toString().split("e"),value=Math.round(+(value[0]+"e"+(value[1]?+value[1]-exp:-exp))),value=value.toString().split("e"),+(value[0]+"e"+(value[1]?+value[1]+exp:exp))))}function Parser(options){this.options=options||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||sinh,
cosh:Math.cosh||cosh,tanh:Math.tanh||tanh,asinh:Math.asinh||asinh,acosh:Math.acosh||acosh,atanh:Math.atanh||atanh,sqrt:Math.sqrt,log:Math.log,ln:Math.log,lg:Math.log10||log10,log10:Math.log10||log10,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||trunc,"-":neg,"+":Number,exp:Math.exp,not:not,length:stringLength,"!":factorial},this.binaryOps={"+":add,"-":sub,"*":mul,"/":div,"%":mod,"^":Math.pow,"||":concat,"==":equal,"!=":notEqual,">":greaterThan,"<":lessThan,">=":greaterThanEqual,"<=":lessThanEqual,and:andOperator,or:orOperator,in:inOperator},this.ternaryOps={"?":condition},this.functions={random:random,fac:factorial,
min:Math.min,max:Math.max,hypot:Math.hypot||hypot,pyt:Math.hypot||hypot,pow:Math.pow,atan2:Math.atan2,if:condition,gamma:gamma,roundTo:roundTo},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}var INUMBER="INUMBER",IOP1="IOP1",IOP2="IOP2",IOP3="IOP3",IVAR="IVAR",IFUNCOP="IFUNCOP",IFUNCALL="IFUNCALL",IEXPR="IEXPR",IMEMBER="IMEMBER";Instruction.prototype.toString=function(){switch(this.type){case INUMBER:case IOP1:case IOP2:case IOP3:case IVAR:case IFUNCOP:return this.value;case IFUNCALL:return"CALL "+this.value;case IMEMBER:return"."+this.value;default:return"Invalid Instruction"}},Expression.prototype.simplify=function(values){return values=values||{},
new Expression(simplify(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,values),this.parser)},Expression.prototype.substitute=function(variable,expr){return expr instanceof Expression||(expr=this.parser.parse(String(expr))),new Expression(substitute(this.tokens,variable,expr),this.parser)},Expression.prototype.evaluate=function(values){return values=values||{},evaluate(this.tokens,this,values)},Expression.prototype.toString=function(){return expressionToString(this.tokens,!1)},Expression.prototype.symbols=function(options){options=options||{};var vars=[];return getSymbols(this.tokens,vars,options),vars},
Expression.prototype.variables=function(options){options=options||{};var vars=[];getSymbols(this.tokens,vars,options);var functions=this.functions;return vars.filter(function(name){return!(name in functions)})},Expression.prototype.toJSFunction=function(param,variables){var expr=this,f=new Function(param,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+expressionToString(this.simplify(variables).tokens,!0)+"; }");return function(){return f.apply(expr,arguments)}};var TOP="TOP";Token.prototype.toString=function(){return this.type+": "+this.value},TokenStream.prototype.newToken=function(type,value,pos){
return new Token(type,value,null!=pos?pos:this.pos)},TokenStream.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},TokenStream.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},TokenStream.prototype.next=function(){
return this.pos>=this.expression.length?this.newToken("TEOF","EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isComma()||this.isNamedOp()||this.isFuncOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},TokenStream.prototype.isString=function(){var r=!1,startPos=this.pos,quote=this.expression.charAt(startPos);if("'"===quote||'"'===quote)for(var index=this.expression.indexOf(quote,startPos+1);index>=0&&this.pos<this.expression.length;){if(this.pos=index+1,
"\\"!==this.expression.charAt(index-1)){var rawString=this.expression.substring(startPos+1,index);this.current=this.newToken("TSTRING",this.unescape(rawString),startPos),r=!0;break}index=this.expression.indexOf(quote,index+1)}return r},TokenStream.prototype.isParen=function(){var c=this.expression.charAt(this.pos);return("("===c||")"===c)&&(this.current=this.newToken("TPAREN",c),this.pos++,!0)},TokenStream.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken("TCOMMA",","),this.pos++,!0)},TokenStream.prototype.isConst=function(){for(var startPos=this.pos,i=startPos;i<this.expression.length;i++){
var c=this.expression.charAt(i);if(c.toUpperCase()===c.toLowerCase()&&(i===this.pos||"_"!==c&&"."!==c&&(c<"0"||c>"9")))break}if(i>startPos){var str=this.expression.substring(startPos,i);if(str in this.consts)return this.current=this.newToken("TNUMBER",this.consts[str]),this.pos+=str.length,!0}return!1},TokenStream.prototype.isNamedOp=function(){for(var startPos=this.pos,i=startPos;i<this.expression.length;i++){var c=this.expression.charAt(i);if(c.toUpperCase()===c.toLowerCase()&&(i===this.pos||"_"!==c&&(c<"0"||c>"9")))break}if(i>startPos){var str=this.expression.substring(startPos,i)
;if(this.isOperatorEnabled(str)&&(str in this.binaryOps||str in this.unaryOps||str in this.ternaryOps))return this.current=this.newToken(TOP,str),this.pos+=str.length,!0}return!1},TokenStream.prototype.isFuncOp=function(){var str,c=this.expression.charAt(this.pos),startPos=this.pos+1,i=startPos;if("@"===c){for(;i<this.expression.length&&(c=this.expression.charAt(i),c.toUpperCase()!==c.toLowerCase()||!(i===startPos||"_"!==c&&(c<"0"||c>"9")));i++);if(i>startPos&&(str=this.expression.substring(startPos,i))in this.functions)return this.current=this.newToken("TFUNCOP",str),this.pos=startPos+str.length,!0}return!1},TokenStream.prototype.isName=function(){
for(var startPos=this.pos,i=startPos,hasLetter=!1;i<this.expression.length;i++){var c=this.expression.charAt(i);if(c.toUpperCase()===c.toLowerCase()){if(i===this.pos&&("$"===c||"_"===c)){"_"===c&&(hasLetter=!0);continue}if(i===this.pos||!hasLetter||"_"!==c&&(c<"0"||c>"9"))break}else hasLetter=!0}if(hasLetter){var str=this.expression.substring(startPos,i);return this.current=this.newToken("TNAME",str),this.pos+=str.length,!0}return!1},TokenStream.prototype.isWhitespace=function(){for(var r=!1,c=this.expression.charAt(this.pos);!(" "!==c&&"\t"!==c&&"\n"!==c&&"\r"!==c||(r=!0,++this.pos>=this.expression.length));)c=this.expression.charAt(this.pos);return r}
;var codePointPattern=/^[0-9a-f]{4}$/i;TokenStream.prototype.unescape=function(v){var index=v.indexOf("\\");if(index<0)return v;for(var buffer=v.substring(0,index);index>=0;){var c=v.charAt(++index);switch(c){case"'":buffer+="'";break;case'"':buffer+='"';break;case"\\":buffer+="\\";break;case"/":buffer+="/";break;case"b":buffer+="\b";break;case"f":buffer+="\f";break;case"n":buffer+="\n";break;case"r":buffer+="\r";break;case"t":buffer+="\t";break;case"u":var codePoint=v.substring(index+1,index+5);codePointPattern.test(codePoint)||this.parseError("Illegal escape sequence: \\u"+codePoint),buffer+=String.fromCharCode(parseInt(codePoint,16)),index+=4;break
;default:throw this.parseError('Illegal escape sequence: "\\'+c+'"')}++index;var backslash=v.indexOf("\\",index);buffer+=v.substring(index,backslash<0?v.length:backslash),index=backslash}return buffer},TokenStream.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},TokenStream.prototype.isRadixInteger=function(){var pos=this.pos;if(pos>=this.expression.length-2||"0"!==this.expression.charAt(pos))return!1;++pos;var radix,validDigit;if("x"===this.expression.charAt(pos))radix=16,
validDigit=/^[0-9a-f]$/i,++pos;else{if("b"!==this.expression.charAt(pos))return!1;radix=2,validDigit=/^[01]$/i,++pos}for(var valid=!1,startPos=pos;pos<this.expression.length;){var c=this.expression.charAt(pos);if(!validDigit.test(c))break;pos++,valid=!0}return valid&&(this.current=this.newToken("TNUMBER",parseInt(this.expression.substring(startPos,pos),radix)),this.pos=pos),valid},TokenStream.prototype.isNumber=function(){for(var c,valid=!1,pos=this.pos,startPos=pos,resetPos=pos,foundDot=!1,foundDigits=!1;pos<this.expression.length&&((c=this.expression.charAt(pos))>="0"&&c<="9"||!foundDot&&"."===c);)"."===c?foundDot=!0:foundDigits=!0,pos++,valid=foundDigits
;if(valid&&(resetPos=pos),"e"===c||"E"===c){pos++;for(var acceptSign=!0,validExponent=!1;pos<this.expression.length;){if(c=this.expression.charAt(pos),!acceptSign||"+"!==c&&"-"!==c){if(!(c>="0"&&c<="9"))break;validExponent=!0,acceptSign=!1}else acceptSign=!1;pos++}validExponent||(pos=resetPos)}return valid?(this.current=this.newToken("TNUMBER",parseFloat(this.expression.substring(startPos,pos))),this.pos=pos):this.pos=resetPos,valid},TokenStream.prototype.isOperator=function(){var startPos=this.pos,c=this.expression.charAt(this.pos)
;if("+"===c||"-"===c||"*"===c||"/"===c||"%"===c||"^"===c||"?"===c||":"===c||"."===c)this.current=this.newToken(TOP,c);else if("∙"===c||"•"===c)this.current=this.newToken(TOP,"*");else if(">"===c)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(TOP,">="),this.pos++):this.current=this.newToken(TOP,">");else if("<"===c)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(TOP,"<="),this.pos++):this.current=this.newToken(TOP,"<");else if("|"===c){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(TOP,"||"),this.pos++}else if("="===c){if("="!==this.expression.charAt(this.pos+1))return!1
;this.current=this.newToken(TOP,"=="),this.pos++}else{if("!"!==c)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(TOP,"!="),this.pos++):this.current=this.newToken(TOP,c)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=startPos,!1)};var optionNameMap={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional"};TokenStream.prototype.isOperatorEnabled=function(op){
var optionName=getOptionName(op),operators=this.options.operators||{};return"in"===optionName?!!operators.in:!(optionName in operators&&!operators[optionName])},TokenStream.prototype.getCoordinates=function(){var column,line=0,newline=-1;do{line++,column=this.pos-newline,newline=this.expression.indexOf("\n",newline+1)}while(newline>=0&&newline<this.pos);return{line:line,column:column}},TokenStream.prototype.parseError=function(msg){var coords=this.getCoordinates();throw new Error("parse error ["+coords.line+":"+coords.column+"]: "+msg)},ParserState.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},
ParserState.prototype.tokenMatches=function(token,value){return void 0===value||(Array.isArray(value)?contains(value,token.value):"function"==typeof value?value(token):token.value===value)},ParserState.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},ParserState.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},ParserState.prototype.accept=function(type,value){return!(this.nextToken.type!==type||!this.tokenMatches(this.nextToken,value))&&(this.next(),!0)},ParserState.prototype.expect=function(type,value){
if(!this.accept(type,value)){var coords=this.tokens.getCoordinates();throw new Error("parse error ["+coords.line+":"+coords.column+"]: Expected "+(value||type))}},ParserState.prototype.parseAtom=function(instr){if(this.accept("TNAME"))instr.push(new Instruction(IVAR,this.current.value));else if(this.accept("TNUMBER"))instr.push(new Instruction(INUMBER,this.current.value));else if(this.accept("TSTRING"))instr.push(new Instruction(INUMBER,this.current.value));else{if(!this.accept("TPAREN","("))throw new Error("unexpected "+this.nextToken);this.parseExpression(instr),this.expect("TPAREN",")")}},ParserState.prototype.parseExpression=function(instr){
this.parseConditionalExpression(instr)},ParserState.prototype.parseConditionalExpression=function(instr){for(this.parseOrExpression(instr);this.accept(TOP,"?");){var trueBranch=[],falseBranch=[];this.parseConditionalExpression(trueBranch),this.expect(TOP,":"),this.parseConditionalExpression(falseBranch),instr.push(new Instruction(IEXPR,trueBranch)),instr.push(new Instruction(IEXPR,falseBranch)),instr.push(ternaryInstruction("?"))}},ParserState.prototype.parseOrExpression=function(instr){for(this.parseAndExpression(instr);this.accept(TOP,"or");){var falseBranch=[];this.parseAndExpression(falseBranch),instr.push(new Instruction(IEXPR,falseBranch)),
instr.push(binaryInstruction("or"))}},ParserState.prototype.parseAndExpression=function(instr){for(this.parseComparison(instr);this.accept(TOP,"and");){var trueBranch=[];this.parseComparison(trueBranch),instr.push(new Instruction(IEXPR,trueBranch)),instr.push(binaryInstruction("and"))}};var COMPARISON_OPERATORS=["==","!=","<","<=",">=",">","in"];ParserState.prototype.parseComparison=function(instr){for(this.parseAddSub(instr);this.accept(TOP,COMPARISON_OPERATORS);){var op=this.current;this.parseAddSub(instr),instr.push(binaryInstruction(op.value))}};var ADD_SUB_OPERATORS=["+","-","||"];ParserState.prototype.parseAddSub=function(instr){
for(this.parseTerm(instr);this.accept(TOP,ADD_SUB_OPERATORS);){var op=this.current;this.parseTerm(instr),instr.push(binaryInstruction(op.value))}};var TERM_OPERATORS=["*","/","%"];ParserState.prototype.parseTerm=function(instr){for(this.parseFactor(instr);this.accept(TOP,TERM_OPERATORS);){var op=this.current;this.parseFactor(instr),instr.push(binaryInstruction(op.value))}},ParserState.prototype.parseFactor=function(instr){function isPrefixOperator(token){return token.value in unaryOps}var unaryOps=this.tokens.unaryOps;if(this.save(),
this.accept(TOP,isPrefixOperator))if("-"!==this.current.value&&"+"!==this.current.value&&"TPAREN"===this.nextToken.type&&"("===this.nextToken.value)this.restore(),this.parseExponential(instr);else{var op=this.current;this.parseFactor(instr),instr.push(unaryInstruction(op.value))}else this.parseExponential(instr)},ParserState.prototype.parseExponential=function(instr){for(this.parsePostfixExpression(instr);this.accept(TOP,"^");)this.parseFactor(instr),instr.push(binaryInstruction("^"))},ParserState.prototype.parsePostfixExpression=function(instr){for(this.parseFunctionOperator(instr);this.accept(TOP,"!");)instr.push(unaryInstruction("!"))},
ParserState.prototype.parseFunctionOperator=function(instr){function isCustomOperator(token){return token.value in functions}var op,functions=this.tokens.functions;for(this.parseFunctionCall(instr);this.accept("TFUNCOP",isCustomOperator);)op=this.current,this.parseFactor(instr),instr.push(new Instruction(IFUNCOP,op.value))},ParserState.prototype.parseFunctionCall=function(instr){function isPrefixOperator(token){return token.value in unaryOps}var unaryOps=this.tokens.unaryOps;if(this.accept(TOP,isPrefixOperator)){var op=this.current;this.parseAtom(instr),instr.push(unaryInstruction(op.value))
}else for(this.parseMemberExpression(instr);this.accept("TPAREN","(");)if(this.accept("TPAREN",")"))instr.push(new Instruction(IFUNCALL,0));else{var argCount=this.parseArgumentList(instr);instr.push(new Instruction(IFUNCALL,argCount))}},ParserState.prototype.parseArgumentList=function(instr){for(var argCount=0;!this.accept("TPAREN",")");)for(this.parseExpression(instr),++argCount;this.accept("TCOMMA");)this.parseExpression(instr),++argCount;return argCount},ParserState.prototype.parseMemberExpression=function(instr){for(this.parseAtom(instr);this.accept(TOP,".");){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted')
;this.expect("TNAME"),instr.push(new Instruction(IMEMBER,this.current.value))}};var GAMMA_G=4.7421875,GAMMA_P=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];Parser.prototype.parse=function(expr){var instr=[],parserState=new ParserState(this,new TokenStream(this,expr),{allowMemberAccess:this.options.allowMemberAccess});return parserState.parseExpression(instr),parserState.expect("TEOF","EOF"),
new Expression(instr,this)},Parser.prototype.evaluate=function(expr,variables){return this.parse(expr).evaluate(variables)};var sharedParser=new Parser;return Parser.parse=function(expr){return sharedParser.parse(expr)},Parser.evaluate=function(expr,variables){return sharedParser.parse(expr).evaluate(variables)},{Parser:Parser,Expression:Expression}}),define("util/mathsEvaluator",["lodash","lib/decimal/decimal","lib/expr-eval/expr-eval"],function(_,Decimal,exprEval){"use strict";function toPrecisionNumber(number,precision){var dot=number.indexOf(".");return dot>0&&(number=number.substr(0,dot+precision+1)),number}function mathsEvaluatorFactory(config){
function checkZero(number){return number.absoluteValue().lessThan(EPSILON)?new ConfiguredDecimal(0):number}function native(number){return Decimal.isDecimal(number)?number.toNumber():"true"===number||!0===number||"false"!==number&&!1!==number&&number}function useOrigin(){var args=[].slice.call(arguments);return args.pop().apply(this,args.map(native))}function decimalNumber(number){return Decimal.isDecimal(number)||(number=new ConfiguredDecimal(number)),number}function degreeToRadian(value){return decimalNumber(value).mul(PI).div(180)}function radianToDegree(value){return decimalNumber(value).mul(180).div(PI)}function unaryOperator(operator,operand){
if(operand=decimalNumber(operand),!_.isFunction(operand[operator]))throw new TypeError(operator+" is not a valid operator!");return operand[operator]()}function binaryOperator(operator,left,right){if(left=decimalNumber(left),!_.isFunction(left[operator]))throw new TypeError(operator+" is not a valid operator!");return left[operator](decimalNumber(right))}function functionOperator(operator){var operands=[].slice.call(arguments,1);if(!_.isFunction(ConfiguredDecimal[operator]))throw new TypeError(operator+" is not a valid function!");return ConfiguredDecimal[operator].apply(ConfiguredDecimal,operands.map(decimalNumber))}function trigoOperator(operator,operand){
if(!_.isFunction(Decimal[operator]))throw new TypeError(operator+" is not a valid operator!");return operand=localConfig.degree?degreeToRadian(operand):decimalNumber(operand),"tan"===operator&&operand.equals(PI.div(2))?new ConfiguredDecimal(NaN):checkZero(ConfiguredDecimal[operator](operand))}function inverseTrigoOperator(operator,operand){var result=checkZero(unaryOperator(operator,operand));return localConfig.degree?radianToDegree(result):result}function mapping(wrapper,origin,api){var fn;fn=api.value?api.value:api.action?_.partialRight(api.action,origin[api.entry]):_.partial(wrapper,api.mapTo),origin[api.entry]=fn}function evaluate(expression,variables){
var parsedExpression,result,value;return _.isPlainObject(expression)&&(variables=variables||expression.variables,expression=expression.expression),parsedExpression=parser.parse(expression),result=parsedExpression.evaluate(variables),value=native(result),{expression:expression,variables:variables,result:result,value:value}}
var localConfig=_.defaults({},config,defaultConfig),decimalConfig=_.pick(localConfig,decimalConfigEntries),parserConfig=_.pick(localConfig,parserConfigEntries),parser=new Parser(parserConfig),ConfiguredDecimal=Decimal.set(_.isEmpty(decimalConfig)?defaultDecimalConfig:decimalConfig),EPSILON=new ConfiguredDecimal(2).pow(-52),PI=new ConfiguredDecimal(toPrecisionNumber(numberPI,localConfig.internalPrecision)),E=new ConfiguredDecimal(toPrecisionNumber(numberE,localConfig.internalPrecision)),mapAPI={unary:[{entry:"sin",action:function(a){return trigoOperator("sin",a)}},{entry:"cos",action:function(a){return trigoOperator("cos",a)}},{entry:"tan",action:function(a){
return trigoOperator("tan",a)}},{entry:"asin",action:function(a){return inverseTrigoOperator("asin",a)}},{entry:"acos",action:function(a){return inverseTrigoOperator("acos",a)}},{entry:"atan",action:function(a){return inverseTrigoOperator("atan",a)}},{entry:"sinh",mapTo:"sinh"},{entry:"cosh",mapTo:"cosh"},{entry:"tanh",mapTo:"tanh"},{entry:"asinh",mapTo:"asinh"},{entry:"acosh",mapTo:"acosh"},{entry:"atanh",mapTo:"atanh"},{entry:"sqrt",mapTo:"sqrt"},{entry:"cbrt",mapTo:"cbrt"},{entry:"log",mapTo:"log"},{entry:"ln",mapTo:"ln"},{entry:"lg",mapTo:"log"},{entry:"log10",mapTo:"log"},{entry:"abs",mapTo:"abs"},{entry:"ceil",mapTo:"ceil"},{entry:"floor",mapTo:"floor"
},{entry:"round",mapTo:"round"},{entry:"trunc",mapTo:"trunc"},{entry:"-",mapTo:"neg"},{entry:"+",action:decimalNumber},{entry:"exp",mapTo:"exp"},{entry:"not",action:function(a){return!native(a)}},{entry:"!",action:useOrigin}],binary:[{entry:"+",mapTo:"add"},{entry:"-",mapTo:"sub"},{entry:"*",mapTo:"mul"},{entry:"/",mapTo:"div"},{entry:"%",mapTo:"mod"},{entry:"^",mapTo:"pow"},{entry:"==",mapTo:"equals"},{entry:"!=",action:function(a,b){return!binaryOperator("equals",a,b)}},{entry:">",mapTo:"gt"},{entry:"<",mapTo:"lt"},{entry:">=",mapTo:"gte"},{entry:"<=",mapTo:"lte"},{entry:"and",action:function(a,b){return Boolean(native(a)&&native(b))}},{entry:"or",
action:function(a,b){return Boolean(native(a)||native(b))}},{entry:"in",action:function(array,obj){return obj=native(obj),void 0!==_.find(array,function(el){return native(el)===obj})}}],ternaryOps:[{entry:"?",action:useOrigin}],functions:[{entry:"random",action:function(dp){return ConfiguredDecimal.random(dp)}},{entry:"fac",action:useOrigin},{entry:"min",mapTo:"min"},{entry:"max",mapTo:"max"},{entry:"hypot",action:useOrigin},{entry:"pyt",action:useOrigin},{entry:"pow",mapTo:"pow"},{entry:"atan2",action:function(y,x){var result=functionOperator("atan2",y,x);return localConfig.degree?radianToDegree(result):result}},{entry:"if",action:useOrigin},{entry:"gamma",
action:useOrigin},{entry:"roundTo",action:useOrigin},{entry:"nthrt",action:function(n,x){return x=decimalNumber(x),n=parseInt(n,10),x.isNeg()&&n%2!=1?decimalNumber(NaN):x.abs().pow(decimalNumber(1).div(n)).mul(Decimal.sign(x))}}],consts:[{entry:"PI",value:PI},{entry:"E",value:E},{entry:"EPSILON",value:EPSILON}]};return _.forEach(mapAPI.unary,_.partial(mapping,unaryOperator,parser.unaryOps)),_.forEach(mapAPI.binary,_.partial(mapping,binaryOperator,parser.binaryOps)),_.forEach(mapAPI.ternaryOps,_.partial(mapping,functionOperator,parser.ternaryOps)),_.forEach(mapAPI.functions,_.partial(mapping,functionOperator,parser.functions)),
_.forEach(mapAPI.consts,_.partial(mapping,null,parser.consts)),evaluate}
var Parser=exprEval.Parser,numberPI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989",numberE="2.7182818284590452353602874713526624977572470936999595749669676277240766303535475945713821785251664274274663919320030599218174135966290435729003342952605956307381323286279434907632338298807531952510190115738341879307021540891499348841675092447614606680822648001684774118537423454424371075390777449920695517027618386062613313845830007520449338265602976067371132007093287091274437470472306969772093101416928368190255151086574637721112523897844250569536967707854499699679468644549059879316368892300987931277361782154249992295763514822082698951936680331825288693984964651058209392398294887933203625094431173012381970684161403970198376793206832823764648042953118023287825098194558153017567173613320698112509961818815930416903515988885193458072738667385894228792284998920868058257492796104841984443634632449684875602336248270419786232090021609902353043699418491463140934317381436405462531520961836908887070167683964243781405927145635490613031072085103837505101157477041718986106873969655212671546889570350354",defaultConfig={
internalPrecision:100,degree:!1},defaultDecimalConfig={defaults:!0},decimalConfigEntries=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],parserConfigEntries=["operators"];return mathsEvaluatorFactory}),define("tpl!ui/maths/calculator/core/tpl/board",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{},'<div class="calculator">\n    <div class="screen"></div>\n    <div class="input"></div>\n    <div class="keyboard"></div>\n</div>'})}),
define("ui/maths/calculator/core/board",["jquery","lodash","i18n","core/promise","core/collections","ui/component","ui/maths/calculator/core/areaBroker","ui/maths/calculator/core/terms","ui/maths/calculator/core/tokens","ui/maths/calculator/core/tokenizer","util/mathsEvaluator","tpl!ui/maths/calculator/core/tpl/board"],function($,_,__,Promise,collections,componentFactory,areaBrokerFactory,registeredTerms,tokensHelper,tokenizerFactory,mathsEvaluatorFactory,boardTpl){"use strict";function calculatorBoardFactory($container,pluginFactories,config){
var mathsEvaluator,areaBroker,plugins={},expression="",variables=new collections.Map,commands=new collections.Map,position=0,tokenizer=tokenizerFactory(),tokens=null,calculatorApi={getExpression:function(){return expression},setExpression:function(expr){return expression=String(expr||""),tokens=null,this.trigger("expressionchange",expression),this},getPosition:function(){return position},setPosition:function(pos){return position=Math.max(0,Math.min(parseInt(pos,10)||0,expression.length)),this.trigger("positionchange",position),this},getTokens:function(){return null===tokens&&(tokens=tokenizer.tokenize(expression)),tokens},getToken:function(){
return this.getTokens()[this.getTokenIndex()]||null},getTokenIndex:function(){var index=0;return _.forEach(this.getTokens(),function(token,idx){position>=token.offset&&(index=idx)}),index},getTokenizer:function(){return tokenizer},getVariable:function(name){return variables.get(name)},hasVariable:function(name){return variables.has(name)},setVariable:function(name,value){var errValue;try{value=mathsEvaluator(value)}catch(err){errValue=value&&value.expression||value,value=mathsEvaluator("0"),value.expression=errValue}return variables.set(name,value),this.trigger("variableadd",name,value),this},deleteVariable:function(name){return variables.delete(name),
this.trigger("variabledelete",name),this},getVariables:function(){var defs={};return variables.forEach(function(value,name){defs[name]=value.result}),defs},setVariables:function(defs){var self=this;return _.forEach(defs,function(value,name){self.setVariable(name,value)}),this},deleteVariables:function(){return variables.clear(),this.trigger("variabledelete",null),this.setLastResult("0"),this},setLastResult:function(result){return result&&!tokensHelper.containsError(result)||(result="0"),this.setVariable(registeredTerms.ANS.value,result),this},getLastResult:function(){return this.getVariable(registeredTerms.ANS.value)},
setCommand:function(name,label,description){return commands.set(name,{name:name,label:label,description:description}),this.trigger("commandadd",name),this},getCommand:function(name){return commands.get(name)},getCommands:function(){var defs={};return commands.forEach(function(value,name){defs[name]=value}),defs},hasCommand:function(name){return commands.has(name)},deleteCommand:function(name){return commands.delete(name),this.trigger("commanddelete",name),this},addTerm:function(name,term){function tokenNeedsSpace(token){return tokensHelper.isIdentifier(token)||isIdentifier&&!tokensHelper.isSeparator(token)}
var isIdentifier,needsSpace,value,tokensList=this.getTokens(),index=this.getTokenIndex(),currentToken=tokensList[index],nextToken=tokensList[index+1];return _.isPlainObject(term)&&void 0!==term.value?(value=term.value,tokensHelper.isOperator(term.type)||rePrefixedTerm.test(term.value)||1!==tokensList.length||("NUM0"!==currentToken.type||"DOT"===name)&&"ANS"!==currentToken.type?(expression&&!tokensHelper.isSeparator(term.type)&&(isIdentifier=tokensHelper.isIdentifier(term.type),needsSpace=tokenNeedsSpace(currentToken),position&&needsSpace&&(value=" "+value),(!position&&needsSpace||position<expression.length&&tokenNeedsSpace(nextToken))&&(value+=" ")),
this.insert(value)):this.replace(value),this.trigger("termadd",name,term),this.trigger("termadd-"+name,term),this):this.trigger("termerror",new TypeError("Invalid term: "+name))},useTerm:function(name){var term;return rePrefixedTerm.test(name)?(name=name.substring(1),term=_.clone(registeredTerms[name]),term.value="@"+term.value):term=registeredTerms[name],void 0===term?this.trigger("termerror",new TypeError("Invalid term: "+name)):this.addTerm(name,term)},useTerms:function(names){return"string"==typeof names&&(names=names.split(/\s+/)),_.forEach(names,this.useTerm.bind(this)),this},useVariable:function(name){
return variables.has(name)?this.addTerm("VAR_"+name.toUpperCase(),{label:name,value:name,type:"variable",description:__("Variable %s",name)}):this.trigger("termerror",new TypeError("Invalid variable: "+name))},useCommand:function(name){return commands.has(name)?(this.trigger.apply(this,["command"].concat([].slice.call(arguments))),this.trigger.apply(this,["command-"+name].concat([].slice.call(arguments,1))),this):this.trigger("commanderror",new TypeError("Invalid command: "+name))},replace:function(newExpression,newPosition){var oldExpression=expression,oldPosition=position
;return this.setExpression(newExpression).setPosition(void 0!==newPosition?newPosition:expression.length),this.trigger("replace",oldExpression,oldPosition),this},insert:function(subExpression){var oldExpression=expression,oldPosition=position;return this.setExpression(expression.substr(0,position)+subExpression+expression.substr(position)).setPosition(position+subExpression.length),this.trigger("insert",oldExpression,oldPosition),this},clear:function(){return this.setExpression("").setPosition(0),this.trigger("clear"),this},evaluate:function(){var result=null;try{result=expression.trim()?mathsEvaluator(expression,this.getVariables()):mathsEvaluator("0"),
this.trigger("evaluate",result)}catch(e){this.trigger("syntaxerror",e)}return result},runPlugins:function(method){var execStack=[];return _.forEach(plugins,function(plugin){_.isFunction(plugin[method])&&execStack.push(plugin[method]())}),Promise.all(execStack)},getPlugins:function(){return _.toArray(plugins)},getPlugin:function(name){return plugins[name]},getAreaBroker:function(){return areaBroker},setupMathsEvaluator:function(){return mathsEvaluator=mathsEvaluatorFactory(this.getConfig().maths),this},getMathsEvaluator:function(){return mathsEvaluator}},calculator=componentFactory(calculatorApi,defaultConfig).setTemplate(boardTpl).before("init",function(){
this.setupMathsEvaluator(),this.setLastResult("0"),this.config.expression&&this.setExpression(this.config.expression),this.config.position&&this.setPosition(this.config.position),
this.setCommand("clear",__("Clear"),__("Clear expression")).setCommand("clearAll",__("Clear All"),__("Clear all data")).setCommand("execute",__("Execute"),__("Compute the expression")).setCommand("var",__("Variable"),__("Use a variable")).setCommand("term",__("Term"),__("Use a term")).on("command-term",this.useTerms.bind(this)).on("command-var",this.useVariable.bind(this)).on("command-execute",this.evaluate.bind(this)).on("command-clearAll",this.deleteVariables.bind(this)).on("command-clear command-clearAll",this.clear.bind(this))}).after("evaluate",function(result){this.setLastResult(result)}).after("init",function(){this.render($container)
}).before("render",function(){var self=this,pluginsConfig=this.getConfig().plugins||{},$element=this.getElement();return areaBroker=areaBrokerFactory($element,{screen:$element.find(".screen"),input:$element.find(".input"),keyboard:$element.find(".keyboard")}),_.forEach(pluginFactories,function(pluginFactory){var plugin=pluginFactory(self,self.getAreaBroker()),pluginName=plugin.getName();pluginsConfig[pluginName]&&plugin.setConfig(pluginsConfig[pluginName]),plugins[plugin.getName()]=plugin}),this.runPlugins("install").then(function(){return self.runPlugins("init")}).then(function(){return self.runPlugins("render")}).then(function(){self.trigger("ready")
}).catch(function(err){self.trigger("error",err)})}).on("destroy",function(){var self=this;return this.runPlugins("destroy").then(function(){self.off("."+ns),tokenizer=null,areaBroker=null,mathsEvaluator=null,variables.clear(),plugins={}})});return _.defer(function(){calculator.init(config)}),calculator}var defaultConfig={expression:"",position:0},rePrefixedTerm=/^@[a-zA-Z_]\w*$/,ns="calculator";return calculatorBoardFactory}),define("ui/maths/calculator/core/plugin",["lodash","core/plugin"],function(_,pluginFactory){"use strict";return function(provider,defaultConfig){return pluginFactory(provider,_.defaults({hostName:"calculator"},defaultConfig))}}),
define("ui/maths/calculator/plugins/core/degrad",["i18n","util/namespace","ui/maths/calculator/core/plugin"],function(__,nsHelper,pluginFactory){"use strict";return pluginFactory({name:"degrad",install:function(){this.getCalculator().setCommand("degree",__("Degree"),__("Set the trigonometric function to work in degrees")).setCommand("radian",__("Radian"),__("Set the trigonometric function to work in radians"))},init:function(){function getMathsConfig(){var config=calculator.getConfig();return config.maths||(config.maths={}),config.maths}function setupMathsEvaluator(){var config=calculator.getConfig(),degree=config.maths&&config.maths.degree
;calculator.setState("degree",degree).setState("radian",!degree).setupMathsEvaluator()}var calculator=this.getCalculator();setupMathsEvaluator(),calculator.on(nsHelper.namespaceAll("command-degree","degrad"),function(){getMathsConfig().degree=!0,setupMathsEvaluator()}).on(nsHelper.namespaceAll("command-radian","degrad"),function(){getMathsConfig().degree=!1,setupMathsEvaluator()})},destroy:function(){this.getCalculator().deleteCommand("degree").deleteCommand("radian").setState("degree",!1).setState("radian",!1).off(".degrad")}})}),
define("ui/maths/calculator/plugins/core/history",["lodash","i18n","util/namespace","ui/maths/calculator/core/terms","ui/maths/calculator/core/tokens","ui/maths/calculator/core/plugin"],function(_,__,nsHelper,registeredTerms,tokensHelper,pluginFactory){"use strict";return pluginFactory({name:"history",install:function(){this.getCalculator().setCommand("historyClear",__("Clear History"),__("Clear history")).setCommand("historyGet",__("Get History"),__("Get the history list")).setCommand("historyUp",__("Previous"),__("Remind the previous expression in the history")).setCommand("historyDown",__("Next"),__("Remind the next expression in the history"))},
init:function(){function reset(){history=[],cursor=0}function getMemoryAt(position){return position>=0&&position<history.length?history[position]:position===history.length?{value:current}:null}function remind(position){var memory,expression=calculator.getExpression();cursor===history.length&&position!==cursor?current=expression:history[cursor].current=expression,(memory=getMemoryAt(position))&&(cursor=position,calculator.replace(memory.current||memory.value),memory.current=null)}function push(){var expression=tokensHelper.renderLastResult(calculator.getExpression(),calculator.getLastResult()),last=getMemoryAt(history.length-1),memory=getMemoryAt(cursor)
;last&&expression===last.value||history.push({value:expression}),memory.current=null,cursor=history.length}var history,cursor,calculator=this.getCalculator(),current="";reset(),calculator.on(nsHelper.namespaceAll("evaluate","history"),push).on(nsHelper.namespaceAll("command-historyClear command-clearAll","history"),reset).on(nsHelper.namespaceAll("command-historyUp","history"),function(){remind(cursor-1)}).on(nsHelper.namespaceAll("command-historyDown","history"),function(){remind(cursor+1)}).on(nsHelper.namespaceAll("command-historyGet","history"),function(){calculator.trigger("history",_.pluck(history,"value"))
}).on(nsHelper.namespaceAll("destroy","history"),function(){reset()})},destroy:function(){this.getCalculator().deleteCommand("historyClear").deleteCommand("historyUp").deleteCommand("historyDown").deleteCommand("historyGet").off(".history")}})}),define("ui/maths/calculator/plugins/core/remind",["lodash","i18n","util/namespace","ui/maths/calculator/core/plugin"],function(_,__,nsHelper,pluginFactory){"use strict";return pluginFactory({name:"remind",install:function(){
this.getCalculator().setCommand("remind",__("Remind"),__("Remind the recorded value")).setCommand("remindLast",__("Remind Last"),__("Remind the last value")).setCommand("remindStore",__("Store"),__("Store the value a variable")).setCommand("remindClear",__("Clear"),__("Clear the stored variables"))},init:function(){var calculator=this.getCalculator();calculator.on(nsHelper.namespaceAll("evaluate","remind"),function(result){calculator.setVariable("last",result)}).on(nsHelper.namespaceAll("command-remind","remind"),function(){calculator.hasVariable("mem")&&calculator.useVariable("mem")}).on(nsHelper.namespaceAll("command-remindLast","remind"),function(){
calculator.hasVariable("last")&&calculator.useVariable("last")}).on(nsHelper.namespaceAll("command-remindStore","remind"),function(){calculator.hasVariable("last")&&calculator.setVariable("mem",calculator.getVariable("last"))}).on(nsHelper.namespaceAll("command-remindClear command-clearAll destroy","remind"),function(){calculator.hasVariable("mem")&&calculator.deleteVariable("mem")}).on(nsHelper.namespaceAll("destroy","remind"),function(){calculator.hasVariable("last")&&calculator.deleteVariable("last")})},destroy:function(){
this.getCalculator().deleteCommand("remind").deleteCommand("remindLast").deleteCommand("remindStore").deleteCommand("remindClear").off(".remind")}})}),define("ui/maths/calculator/plugins/core/stepNavigation",["lodash","i18n","util/namespace","ui/maths/calculator/core/plugin"],function(_,__,nsHelper,pluginFactory){"use strict";var pluginName="stepNavigation";return pluginFactory({name:pluginName,install:function(){
this.getCalculator().setCommand("stepMoveLeft",__("Move Left"),__("Move the cursor one step on the left")).setCommand("stepMoveRight",__("Move Right"),__("Move the cursor one step on the right")).setCommand("stepDeleteLeft",__("Delete Left"),__("Delete the term on the left side of the cursor")).setCommand("stepDeleteRight",__("Delete Right"),__("Delete the term on the right side of the cursor"))},init:function(){function remove(expression,position,length){length&&(expression=calculator.getExpression(),calculator.setExpression(expression.substr(0,position)+expression.substr(position+length)).setPosition(position))}function removeToken(expression,token){
var from,length;if(token){for(expression=calculator.getExpression(),from=token.offset,length=token.value.length;from+length<expression.length&&" "===expression.charAt(from+length);)length++;remove(expression,from,length)}}var calculator=this.getCalculator();calculator.on(nsHelper.namespaceAll("command-stepMoveLeft",pluginName),function(){var position=calculator.getPosition(),tokens=calculator.getTokens(),index=calculator.getTokenIndex(),token=calculator.getToken(),offset=position;token&&position>0?position===token.offset&&(token=index>0?tokens[index-1]:null):token=null,(offset=token?token.offset:0)!==position&&calculator.setPosition(offset)
}).on(nsHelper.namespaceAll("command-stepMoveRight",pluginName),function(){var expression=calculator.getExpression(),position=calculator.getPosition(),tokens=calculator.getTokens(),index=calculator.getTokenIndex(),token=calculator.getToken(),offset=expression.length;token&&index<tokens.length-1&&(token=tokens[index+1])&&(offset=token.offset),offset!==position&&calculator.setPosition(offset)}).on(nsHelper.namespaceAll("command-stepDeleteLeft",pluginName),function(){var expression=calculator.getExpression(),position=calculator.getPosition(),tokens=calculator.getTokens(),index=calculator.getTokenIndex(),token=calculator.getToken()
;token&&(position>token.offset?removeToken(expression,token):index>0?removeToken(expression,tokens[index-1]):position>0&&remove(expression,0,token.offset))}).on(nsHelper.namespaceAll("command-stepDeleteRight",pluginName),function(){var expression=calculator.getExpression(),position=calculator.getPosition(),token=calculator.getToken();token&&position>=token.offset&&position<token.offset+token.value.length&&removeToken(expression,token)})},destroy:function(){this.getCalculator().deleteCommand("stepMoveLeft").deleteCommand("stepMoveRight").deleteCommand("stepDeleteLeft").deleteCommand("stepDeleteRight").off("."+pluginName)}})}),
define("ui/maths/calculator/pluginsLoader",["context","core/pluginLoader","ui/maths/calculator/plugins/core/degrad","ui/maths/calculator/plugins/core/history","ui/maths/calculator/plugins/core/remind","ui/maths/calculator/plugins/core/stepNavigation"],function(context,pluginLoaderFactory,pluginDegradFactory,pluginHistoryFactory,pluginRemindFactory,pluginStepNavigationFactory){"use strict";return function(loadedPlugins,dynamicPlugins){var defaultPlugins={core:[pluginDegradFactory,pluginHistoryFactory,pluginRemindFactory,pluginStepNavigationFactory]}
;return pluginLoaderFactory(_.merge({},defaultPlugins,loadedPlugins)).addList(dynamicPlugins).load(context.bundle)}}),define("css!ui/maths/calculator/css/calculator",[],function(){}),define("ui/maths/calculator/calculatorComponent",["lodash","i18n","core/promise","util/namespace","ui/dynamicComponent","ui/maths/calculator/core/board","ui/maths/calculator/pluginsLoader","css!ui/maths/calculator/css/calculator.css"],function(_,__,Promise,nsHelper,dynamicComponent,calculatorBoardFactory,pluginsLoader){"use strict";var defaultConfig={title:__("Calculator"),preserveAspectRatio:!1,width:240,height:360,minWidth:150,minHeight:220,alternativeTemplate:null}
;return function(config){var calculator,calculatorComponent;return calculatorComponent=dynamicComponent({getCalculator:function(){return calculator}},defaultConfig).on("rendercontent",function($content){var self=this;return pluginsLoader(this.getConfig().loadedPlugins,this.getConfig().dynamicPlugins).then(function(loadedPlugins){return new Promise(function(resolve){calculator=calculatorBoardFactory($content,loadedPlugins,self.getConfig().calculator).on("ready",function(){var initialWidth=self.getElement().width(),initialHeight=self.getElement().height(),initialFontSize=parseInt(self.getCalculator().getElement().css("fontSize"),10)||10
;self.on("resize",function(){self.getElement()&&self.getCalculator().getElement().css("fontSize",initialFontSize*Math.min(self.getElement().width()/initialWidth,self.getElement().height()/initialHeight))}).setContentSize(calculator.getElement().outerWidth(),calculator.getElement().outerHeight()).setState("ready").trigger("ready"),resolve()})})})}).on("destroy",function(){return new Promise(function(resolve){calculator?calculator.after("destroy",function(){calculator=null,resolve()}).destroy():resolve()})}),_.defer(function(){calculatorComponent.init(config)}),calculatorComponent}}),
define("tpl!ui/maths/calculator/plugins/keyboard/templateKeyboard/defaultTemplate",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="";return buffer+='<div class="calculator-keyboard">\n    <div class="row">\n        <button class="key operator" data-command="term" data-param="SQRT"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.SQRT,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="LPAR"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.LPAR,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="RPAR"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.RPAR,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key command" data-command="clear"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.CLEAR,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key command" data-command="clearAll"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.CLEARALL,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n    </div>\n    <div class="row">\n        <button class="key operator" data-command="term" data-param="CBRT"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.CBRT,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM7"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM7,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM8"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM8,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM9"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM9,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="DIV"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.DIV,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n    </div>\n    <div class="row">\n        <button class="key operator" data-command="term" data-param="POW NUM2"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.POW2,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM4"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM4,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM5"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM5,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM6"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM6,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="MUL"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.MUL,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n    </div>\n    <div class="row">\n        <button class="key operator" data-command="term" data-param="POW NUM3"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.POW3,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM1"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM1,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM2"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM2,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM3"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM3,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="SUB"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.SUB,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n    </div>\n    <div class="row">\n        <button class="key operator" data-command="term" data-param="POW"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.POWY,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM0"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM0,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="DOT"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.DOT,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key execute" data-command="execute"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.EXECUTE,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="ADD"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.SUB,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+="</span></button>\n    </div>\n</div>"})}),
define("ui/maths/calculator/plugins/keyboard/templateKeyboard/templateKeyboard",["jquery","lodash","util/namespace","ui/maths/calculator/core/plugin","ui/maths/calculator/core/labels","tpl!ui/maths/calculator/plugins/keyboard/templateKeyboard/defaultTemplate"],function($,_,nsHelper,pluginFactory,labels,defaultKeyboardTpl){"use strict";var pluginName="templateKeyboard",defaultConfig={layout:defaultKeyboardTpl};return pluginFactory({name:pluginName,init:function(){},render:function(){var calculator=this.getCalculator(),areaBroker=calculator.getAreaBroker(),pluginConfig=this.getConfig(),templateConfig=_.merge({labels:labels},pluginConfig)
;if(!_.isFunction(pluginConfig.layout))throw new TypeError("The keyboard plugin requires a template to render!");this.$layout=$(pluginConfig.layout(templateConfig)).on(nsHelper.namespaceAll("click",pluginName),".key",function(){var $key=$(this).closest(".key"),command=$key.data("command"),param=$key.data("param");command&&calculator.useCommand(command,param)}),areaBroker.getKeyboardArea().append(this.$layout)},destroy:function(){var calculator=this.getCalculator();this.$layout&&(this.$layout.off("."+pluginName).remove(),this.$layout=null),calculator.off("."+pluginName)}},defaultConfig)}),
define("ui/scroller",["lodash","jquery","core/promise","ui/autoscroll","util/shortcut"],function(_,$,Promise,autoscroll,shortcuts){"use strict";var ns=".scroller";return{scrollTo:function(element,container,scrollSpeed){return new Promise(function(resolve){var currentScrollTop,scrollTop,$element=$(element),$container=$(container||$element.parent());$element.length&&$container.length?(currentScrollTop=$container.scrollTop(),scrollTop=$element.offset().top-$container.offset().top+currentScrollTop,scrollTop!==currentScrollTop?$container.animate({scrollTop:scrollTop},scrollSpeed).promise().done(resolve):resolve()):resolve()})},disableScrolling:function(){
["MouseScrollUp","MouseScrollDown","ArrowUp","ArrowDown"].forEach(function(shortcutName){shortcuts.add(shortcutName+ns,function(e){e.preventDefault()},{prevent:!1})})},enableScrolling:function(){shortcuts.remove(ns)}}}),define("tpl!ui/maths/calculator/plugins/screen/simpleScreen/history",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="";return buffer+='<div class="history-line">\n    <div class="history-expression">',(helper=helpers.expression)?stack1=helper.call(depth0,{hash:{},data:data
}):(helper=depth0&&depth0.expression,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+='</div>\n    <div class="history-result">',(helper=helpers.result)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.result,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="</div>\n</div>"})}),define("tpl!ui/maths/calculator/plugins/screen/simpleScreen/defaultTemplate",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],
helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="";return buffer+='<div class="calculator-screen simple-screen">\n    <div class="screen-panel history">',(helper=helpers.history)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.history,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+='</div>\n    <div class="screen-panel expression">',(helper=helpers.expression)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.expression,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),
(stack1||0===stack1)&&(buffer+=stack1),buffer+="</div>\n</div>"})}),define("ui/maths/calculator/plugins/screen/simpleScreen/simpleScreen",["jquery","lodash","i18n","util/namespace","ui/scroller","ui/maths/calculator/core/terms","ui/maths/calculator/core/tokens","ui/maths/calculator/core/plugin","tpl!ui/maths/calculator/plugins/screen/simpleScreen/history","tpl!ui/maths/calculator/plugins/screen/simpleScreen/defaultTemplate"],function($,_,__,nsHelper,scrollHelper,registeredTerms,tokensHelper,pluginFactory,historyTpl,defaultScreenTpl){"use strict";var pluginName="simpleScreen",defaultConfig={layout:defaultScreenTpl};return pluginFactory({name:pluginName,
init:function(){function reset(){calculator.replace(calculator.getConfig().expression||"0")}var calculator=this.getCalculator();reset(),calculator.after(nsHelper.namespaceAll("expressionchange",pluginName),function(expression){expression.trim()||_.defer(reset)}).after(nsHelper.namespaceAll("evaluate",pluginName),function(){calculator.replace(registeredTerms.ANS.value)}).on(nsHelper.namespaceAll("clear",pluginName),reset)},render:function(){function autoScroll($container,sel){scrollHelper.scrollTo($container.find(":last-child "+(sel||"")),$container)}function showExpression(tokens){
self.controls.$expression.html(tokensHelper.render(tokens,calculator.getVariables())),autoScroll(self.controls.$expression)}var self=this,calculator=this.getCalculator(),areaBroker=calculator.getAreaBroker(),pluginConfig=this.getConfig(),tokenizer=calculator.getTokenizer();if(!_.isFunction(pluginConfig.layout))throw new TypeError("The screen plugin requires a template to render!");this.$layout=$(pluginConfig.layout(_.defaults({expression:tokensHelper.render(calculator.getTokens(),calculator.getVariables())},pluginConfig))),this.controls={$history:this.$layout.find(".history"),$expression:this.$layout.find(".expression")},
calculator.on(nsHelper.namespaceAll("command-clearAll",pluginName),function(){self.controls.$history.empty()}).on(nsHelper.namespaceAll("expressionchange",pluginName),function(){calculator.setState("error",!1),showExpression(calculator.getTokens())}).on(nsHelper.namespaceAll("evaluate",pluginName),function(result){self.controls.$history.html(historyTpl({expression:tokensHelper.render(calculator.getTokens(),calculator.getVariables()),result:tokensHelper.render(tokenizer.tokenize(result),calculator.getVariables())})),autoScroll(self.controls.$history,".history-result")}).after(nsHelper.namespaceAll("evaluate",pluginName),function(result){
tokensHelper.containsError(result.value)&&showExpression(tokenizer.tokenize(result))}).on(nsHelper.namespaceAll("syntaxerror",pluginName),function(){calculator.setState("error",!0),showExpression(tokenizer.tokenize(calculator.getExpression()+"#"))}),areaBroker.getScreenArea().append(this.$layout)},destroy:function(){var calculator=this.getCalculator();this.$layout&&(this.$layout.off("."+pluginName).remove(),this.$layout=null),this.controls=null,calculator.off("."+pluginName)}},defaultConfig)}),
define("ui/maths/calculator/defaultCalculator",["lodash","ui/maths/calculator/calculatorComponent","ui/maths/calculator/plugins/keyboard/templateKeyboard/templateKeyboard","ui/maths/calculator/plugins/screen/simpleScreen/simpleScreen"],function(_,calculatorComponent,pluginKeyboardFactory,pluginScreenFactory){"use strict";return function(config){var defaultPluginsConfig={};return config&&config.keyboardLayout&&(defaultPluginsConfig.templateKeyboard={layout:config.keyboardLayout}),config&&config.screenLayout&&(defaultPluginsConfig.simpleScreen={layout:config.screenLayout}),config=_.merge({loadedPlugins:{keyboard:[pluginKeyboardFactory],
screen:[pluginScreenFactory]},calculator:{plugins:defaultPluginsConfig}},_.omit(config,["keyboardLayout","screenLayout"])),calculatorComponent(config)}}),define("tpl!ui/maths/calculator/tpl/basicKeyboard",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="";return buffer+='<div class="calculator-keyboard">\n    <div class="row">\n        <button class="key command" data-command="historyUp"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.HISTORYUP,
stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key command" data-command="historyDown"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.HISTORYDOWN,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key command" data-command="stepDeleteLeft"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.BACKSPACE,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,
(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key command" data-command="clear"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.CLEARALL,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n    </div>\n    <div class="row">\n        <button class="key operator" data-command="term" data-param="LPAR"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.LPAR,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="RPAR"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.RPAR,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="POW"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.POWY,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="SQRT"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.SQRT,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n    </div>\n    <div class="row">\n        <button class="key operand" data-command="term" data-param="NUM7"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM7,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM8"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM8,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM9"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM9,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="DIV"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.DIV,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n    </div>\n    <div class="row">\n        <button class="key operand" data-command="term" data-param="NUM4"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM4,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM5"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM5,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM6"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM6,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="MUL"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.MUL,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n    </div>\n    <div class="row">\n        <button class="key operand" data-command="term" data-param="NUM1"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM1,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM2"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM2,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM3"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM3,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="SUB"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.SUB,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n    </div>\n    <div class="row">\n        <button class="key operand" data-command="term" data-param="NUM0"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM0,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="DOT"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.DOT,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key execute" data-command="execute"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.EXECUTE,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="ADD"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.ADD,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+="</span></button>\n    </div>\n</div>"})}),define("tpl!ui/maths/calculator/tpl/basicScreen",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer=""
;return buffer+='<div class="calculator-screen simple-screen">\n    <div class="screen-panel expression">',(helper=helpers.expression)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.expression,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="</div>\n</div>"})}),define("ui/maths/calculator/basicCalculator",["lodash","ui/maths/calculator/defaultCalculator","tpl!ui/maths/calculator/tpl/basicKeyboard","tpl!ui/maths/calculator/tpl/basicScreen"],function(_,defaultCalculatorFactory,keyboardTpl,screenTpl){"use strict";return function(config){
return defaultCalculatorFactory(_.merge({calculator:{plugins:{templateKeyboard:{layout:keyboardTpl},simpleScreen:{layout:screenTpl}}}},config))}}),define("ui/maths/calculator/plugins/modifiers/sign",["lodash","i18n","util/namespace","ui/maths/calculator/core/plugin","ui/maths/calculator/core/tokens","ui/maths/calculator/core/terms"],function(_,__,nsHelper,pluginFactory,tokensHelper,registeredTerms){"use strict";function applyStrategies(index,tokens){var result=null;return _.forEach(strategies,function(strategy){return!(result=strategy(index,tokens))}),result}function applySignChange(index,tokens){
var token=tokens[index]||null,nextToken=tokens[index+1]||null,type=tokensHelper.getType(token),result=null;return token&&(tokensHelper.isOperator(type)?"SUB"===token.type?result=replaceByPositiveSign(token,index,tokens):"ADD"===token.type?result=replaceByNegativeSign(token):nextToken&&(result=insertNegativeSign(nextToken)):nextToken&&(tokensHelper.isFunction(type)||"LPAR"===token.type)&&(result=insertNegativeSign(nextToken))),result}function acceptExplicitPositive(token){return!token||-1===refuseExplicitPositive.indexOf(token.type)&&!tokensHelper.isFunction(tokensHelper.getType(token))}function insertNegativeSign(token){return{offset:token.offset,length:0,
sign:registeredTerms.SUB.value,move:registeredTerms.SUB.value.length}}function replaceByNegativeSign(token){return{offset:token.offset,length:token.value.length,sign:registeredTerms.SUB.value,move:registeredTerms.SUB.value.length-token.value.length}}function replaceByPositiveSign(token,index,tokens){var allowExplicit=index&&acceptExplicitPositive(tokens[index-1]);return{offset:token.offset,length:token.value.length,sign:allowExplicit?registeredTerms.ADD.value:"",move:(allowExplicit?registeredTerms.ADD.value.length:0)-token.value.length}}function splice(str,index,length,sub){return str.substring(0,index)+sub+str.substring(index+length)}
var refuseExplicitPositive=["LPAR","SUB","ADD","MUL","DIV","MOD","POW","ASSIGN"],strategies=[function(index,tokens){var token=tokens[index]||null,type=tokensHelper.getType(token),result=null;if(tokensHelper.isDigit(type)&&index>=0){for(;index&&tokensHelper.isDigit(type);)index--,token=tokens[index]||null,type=tokensHelper.getType(token);result=tokensHelper.isDigit(type)&&0===index?insertNegativeSign(token):applySignChange(index,tokens)}return result},function(index,tokens){var token=tokens[index]||null,type=tokensHelper.getType(token),result=null
;return tokensHelper.isOperator(type)&&index>=0&&("SUB"===token.type?result=replaceByPositiveSign(token,index,tokens):"ADD"===token.type?result=replaceByNegativeSign(token):"FAC"===token.type&&index>0&&(result=applyStrategies(index-1,tokens))),result},function(index,tokens){var token=tokens[index]||null,type=tokensHelper.getType(token),result=null;return tokensHelper.isIdentifier(type)&&index>=0&&(result=0===index?insertNegativeSign(token):applySignChange(index-1,tokens)),result},function(index,tokens){var token=tokens[index]||null,type=tokensHelper.getType(token),result=null,count=0;if(tokensHelper.isAggregator(type)&&index>=0){
for("RPAR"===token.type&&count++;index&&("LPAR"!==token.type||count);)index--,token=tokens[index]||null,"RPAR"===token.type&&count++,"LPAR"===token.type&&count--;count||"LPAR"!==token.type||(result=0===index?insertNegativeSign(token):applySignChange(index-1,tokens))}return result}];return pluginFactory({name:"sign",install:function(){this.getCalculator().setCommand("sign",__("Sign change"),__("Change the sign of the current operand"))},init:function(){var calculator=this.getCalculator();calculator.on(nsHelper.namespaceAll("command-sign","sign"),function(){
var result,tokens=calculator.getTokens(),index=calculator.getTokenIndex(),expression=calculator.getExpression();"0"!==expression&&(result=applyStrategies(index,tokens))&&(expression=splice(expression,result.offset,result.length,result.sign),calculator.replace(expression,calculator.getPosition()+result.move))})},destroy:function(){this.getCalculator().deleteCommand("sign").off(".sign")}})}),define("tpl!ui/maths/calculator/tpl/scientificKeyboard",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer=""
;return buffer+='<div class="calculator-keyboard">\n    <div class="row">\n        <button class="key switch first" data-command="degree"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.DEGREE,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key switch last" data-command="radian"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.RADIAN,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <span class="spacer">',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.SPACER,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span>\n        <span class="spacer">',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.SPACER,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span>\n        <button class="key command" data-command="historyUp"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.HISTORYUP,
stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key command" data-command="historyDown"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.HISTORYDOWN,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key command" data-command="stepDeleteLeft"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.BACKSPACE,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,
(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key command" data-command="clear"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.CLEARALL,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n    </div>\n    <div class="row">\n        <button class="key operator" data-command="term" data-param="SIN"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.SIN,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="COS"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.COS,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="TAN"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.TAN,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key constant" data-command="term" data-param="PI"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.PI,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="LPAR"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.LPAR,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="RPAR"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.RPAR,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key variable" data-command="var" data-param="ans"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.ANS,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="DIV"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.DIV,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n    </div>\n    <div class="row">\n        <button class="key operator" data-command="term" data-param="ASIN"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.ASIN,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="ACOS"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.ACOS,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="ATAN"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.ATAN,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="FAC"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.FAC,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM7"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM7,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM8"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM8,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM9"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM9,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="MUL"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.MUL,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n    </div>\n    <div class="row">\n        <button class="key operator" data-command="term" data-param="POW NUM2"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.POW2,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="POW NUM3"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.POW3,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="POW"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.POWY,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="POW SUB NUM1"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.POWMINUSONE,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM4"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM4,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM5"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM5,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM6"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM6,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="SUB"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.SUB,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n    </div>\n    <div class="row">\n        <button class="key operator" data-command="term" data-param="SQRT"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.SQRT,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="CBRT"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.CBRT,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="@NTHRT"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NTHRT,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="MUL NUM1 NUM0 POW"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.POW10,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM1"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM1,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM2"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM2,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM3"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM3,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="ADD"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.ADD,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n    </div>\n    <div class="row">\n        <button class="key operator" data-command="term" data-param="LOG10"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.LOG,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="LN"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.LN,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operator" data-command="term" data-param="EXP"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.EXPX,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key constant" data-command="term" data-param="E"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.E,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operator" data-command="sign"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.SIGN,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="NUM0"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.NUM0,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+='</span></button>\n        <button class="key operand" data-command="term" data-param="DOT"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.DOT,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),
buffer+='</span></button>\n        <button class="key execute" data-command="execute"><span>',stack1=depth0&&depth0.labels,stack1=null==stack1||!1===stack1?stack1:stack1.EXECUTE,stack1="function"==typeof stack1?stack1.apply(depth0):stack1,(stack1||0===stack1)&&(buffer+=stack1),buffer+="</span></button>\n    </div>\n</div>"})}),define("tpl!ui/maths/calculator/tpl/scientificScreen",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer=""
;return buffer+='<div class="calculator-screen simple-screen">\n    <div class="screen-panel history">',(helper=helpers.history)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.history,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+='</div>\n    <div class="screen-panel expression">',(helper=helpers.expression)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.expression,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="</div>\n</div>"})}),
define("ui/maths/calculator/scientificCalculator",["lodash","i18n","ui/maths/calculator/defaultCalculator","ui/maths/calculator/plugins/modifiers/sign","tpl!ui/maths/calculator/tpl/scientificKeyboard","tpl!ui/maths/calculator/tpl/scientificScreen"],function(_,__,defaultCalculatorFactory,pluginSign,keyboardTpl,screenTpl){"use strict";var defaultConfig={title:__("Scientific Calculator"),width:450,height:400,minWidth:250,minHeight:220};return function(config){return defaultCalculatorFactory(_.merge({loadedPlugins:{modifiers:[pluginSign]},calculator:{plugins:{templateKeyboard:{layout:keyboardTpl},simpleScreen:{layout:screenTpl}}}},defaultConfig,config))}}),
define("taoQtiTest/runner/plugins/tools/calculator",["jquery","lodash","i18n","ui/hider","ui/calculator","ui/maths/calculator/basicCalculator","ui/maths/calculator/scientificCalculator","util/shortcut","util/namespace","taoTests/runner/plugin"],function($,_,__,hider,calculatorFactory,basicCalculatorFactory,scientificCalculatorFactory,shortcut,namespaceHelper,pluginFactory){"use strict";var defaultCalcConfig={height:360,width:240,top:50,left:10,stackingScope:"test-runner"},bodmasCalcConfig=_.defaults({height:360,width:240},defaultCalcConfig),scientificCalcConfig=_.defaults({width:450,height:400,calculator:{maths:{degree:!0}}},defaultCalcConfig)
;return pluginFactory({name:"calculator",init:function(){function isEnabled(){var context=testRunner.getTestContext()||{},options=context.options||{};return!!options.calculator||!!options.calculatorBodmas||!!options.calculatorScientific}function togglePlugin(){isEnabled()?self.show():self.hide()}function buildCalculator(calcTpl){var factory,calcConfig,context=testRunner.getTestContext()||{},options=context.options||{};options.calculatorScientific?(factory=scientificCalculatorFactory,calcConfig=scientificCalcConfig,
calcConfig.calculator.maths.degree=_.isUndefined(config.degree)?scientificCalcConfig.calculator.maths.degree:config.degree):options.calculatorBodmas?(factory=basicCalculatorFactory,calcConfig=bodmasCalcConfig):(factory=calculatorFactory,calcConfig=defaultCalcConfig),self.calculator=factory(_.defaults({renderTo:self.$calculatorContainer,replace:!0,draggableContainer:areaBroker.getContainer(),alternativeTemplate:calcTpl||null},calcConfig)).on("show",function(){self.trigger("open"),self.button.turnOn()}).on("hide",function(){self.trigger("close"),self.button.turnOff()}).after("render",function(){this.show()})}function toggleCalculator(){
!1!==self.getState("enabled")&&(self.calculator?self.calculator.is("hidden")?self.calculator.show():self.calculator.hide():config.template?require(["tpl!"+config.template.replace(/\.tpl$/,"")],function(calcTpl){buildCalculator(calcTpl)},function(){buildCalculator()}):buildCalculator())}var self=this,testRunner=this.getTestRunner(),areaBroker=this.getAreaBroker(),testData=testRunner.getTestData()||{},testConfig=testData.config||{},pluginsConfig=testConfig.plugins||{},config=pluginsConfig.calculator||{},pluginShortcuts=(testConfig.shortcuts||{})[this.getName()]||{};this.button=this.getAreaBroker().getToolbox().createEntry({control:"calculator",
title:__("Open Calculator"),icon:"table",text:__("Calculator")}),this.$calculatorContainer=$('<div class="widget-calculator">'),this.calculator=null,this.button.on("click",function(e){$(e.target).closest(".widget-calculator").length||(e.preventDefault(),testRunner.trigger("tool-calculator"))}),testConfig.allowShortcuts&&pluginShortcuts.toggle&&shortcut.add(namespaceHelper.namespaceAll(pluginShortcuts.toggle,this.getName(),!0),function(){testRunner.trigger("tool-calculator")},{avoidInput:!0,allowIn:".widget-calculator"}),togglePlugin(),this.disable(),testRunner.on("loaditem",togglePlugin).on("enabletools renderitem",function(){self.enable()
}).on("disabletools unloaditem",function(){self.disable(),self.calculator&&(self.calculator.destroy(),self.calculator=null)}).on("tool-calculator",function(){isEnabled()&&toggleCalculator()})},render:function(){this.getAreaBroker().getContainer().append(this.$calculatorContainer)},destroy:function(){shortcut.remove("."+this.getName()),this.$calculatorContainer.remove(),this.calculator&&this.calculator.destroy()},enable:function(){this.button.enable()},disable:function(){this.button.disable(),this.calculator&&this.calculator.hide()},show:function(){this.button.show()},hide:function(){this.button.hide(),this.calculator&&this.calculator.hide()}})}),
define("taoQtiTest/runner/plugins/tools/zoom",["jquery","i18n","ui/hider","ui/transformer","util/shortcut","util/namespace","taoTests/runner/plugin"],function($,__,hider,transformer,shortcut,namespaceHelper,pluginFactory){"use strict";var standard=100,threshold={lower:10,upper:200},setZoomLevel=function($target,level){transformer.setTransformOrigin($target,"0 0"),transformer.scale($target,level/100)},resetZoom=function($target){transformer.reset($target)},forceRepaint=function($target){var sel=$target[0];sel&&(sel.style.display="none",sel.offsetHeight,sel.style.display="")};return pluginFactory({name:"zoom",init:function(){function isConfigured(){
return!!((testRunner.getTestContext()||{}).options||{}).zoom}function togglePlugin(){isConfigured()?self.show():self.hide()}function zoomAction(dir){var el,sx,sy,before,after,inc=10*dir;self.$zoomTarget&&(el=self.$zoomTarget[0],before=el.getBoundingClientRect(),sx=self.$container.scrollLeft(),sy=self.$container.scrollTop(),self.zoom=Math.max(threshold.lower,Math.min(threshold.upper,self.zoom+inc)),self.zoom===standard?resetZoom(self.$zoomTarget):setZoomLevel(self.$zoomTarget,self.zoom),forceRepaint(self.$zoomTarget),after=el.getBoundingClientRect(),sx=Math.max(0,sx+(after.width-before.width)/2),sy=Math.max(0,sy+(after.height-before.height)/2),
self.$container.scrollLeft(sx).scrollTop(sy))}function zoomIn(){!1!==self.getState("enabled")&&zoomAction(1)}function zoomOut(){!1!==self.getState("enabled")&&zoomAction(-1)}var self=this,testRunner=this.getTestRunner(),testData=testRunner.getTestData()||{},testConfig=testData.config||{},pluginShortcuts=(testConfig.shortcuts||{})[this.getName()]||{};this.buttonZoomOut=this.getAreaBroker().getToolbox().createEntry({control:"zoomOut",title:__("Zoom out"),icon:"remove"}),this.buttonZoomIn=this.getAreaBroker().getToolbox().createEntry({control:"zoomIn",title:__("Zoom in"),icon:"add"}),this.buttonZoomIn.on("click",function(e){e.preventDefault(),
testRunner.trigger("tool-zoomin")}),this.buttonZoomOut.on("click",function(e){e.preventDefault(),testRunner.trigger("tool-zoomout")}),testConfig.allowShortcuts&&(pluginShortcuts.in&&shortcut.add(namespaceHelper.namespaceAll(pluginShortcuts.in,this.getName(),!0),function(){testRunner.trigger("tool-zoomin")},{avoidInput:!0}),pluginShortcuts.out&&shortcut.add(namespaceHelper.namespaceAll(pluginShortcuts.out,this.getName(),!0),function(){testRunner.trigger("tool-zoomout")},{avoidInput:!0})),togglePlugin(),this.disable(),testRunner.on("loaditem",function(){self.zoom=standard,togglePlugin(),self.disable()}).on("renderitem",function(){
self.$container=$("#qti-content"),self.$zoomTarget=$(".qti-item"),self.enable()}).on("enabletools",function(){self.enable()}).on("disabletools unloaditem",function(){self.disable()}).on("tool-zoomin",zoomIn).on("tool-zoomout",zoomOut)},destroy:function(){shortcut.remove("."+this.getName())},enable:function(){this.buttonZoomIn.enable(),this.buttonZoomOut.enable()},disable:function(){this.buttonZoomIn.disable(),this.buttonZoomOut.disable()},show:function(){this.buttonZoomIn.show(),this.buttonZoomOut.show()},hide:function(){this.buttonZoomIn.hide(),this.buttonZoomOut.hide()}})}),define("ui/highlighter",["lodash","jquery"],function(_,$){"use strict"
;var GROUP_ATTR="data-hl-group",containersBlackList=["textarea","math","script",".select2-container"];return function(options){function getContainer(){return $(containerSelector).get(0)}function highlightRanges(ranges){ranges.forEach(function(range){var rangeInfos;isRangeValid(range)&&(currentGroupId=getAvailableGroupId(),isWrappable(range.commonAncestorContainer)&&!isWrappingNode(range.commonAncestorContainer.parentNode)?range.surroundContents(getWrapper(currentGroupId)):(rangeInfos={startNode:isElement(range.startContainer)?range.startContainer.childNodes[range.startOffset]:range.startContainer,startNodeContainer:range.startContainer,
startOffset:range.startOffset,endNode:isElement(range.endContainer)?range.endContainer.childNodes[range.endOffset-1]:range.endContainer,endNodeContainer:range.endContainer,endOffset:range.endOffset},isWrapping=!1,hasWrapped=!1,wrapTextNodesInRange(range.commonAncestorContainer,rangeInfos))),range.commonAncestorContainer.normalize(),currentGroupId=0,isWrapping=!1,reindexGroups(getContainer()),mergeAdjacentWrappingNodes(getContainer())})}function isRangeValid(range){return($.contains(getContainer(),range.commonAncestorContainer)||getContainer().isSameNode(range.commonAncestorContainer))&&!range.collapsed}function wrapTextNodesInRange(rootNode,rangeInfos){
var currentNode,i,childNodes=rootNode.childNodes;for(i=0;i<childNodes.length&&!hasWrapped;i++)if(currentNode=childNodes[i],currentNode.isSameNode(rangeInfos.startNode)&&(isText(rangeInfos.startNodeContainer)&&0!==rangeInfos.startOffset?(rangeInfos.startNode=currentNode.splitText(rangeInfos.startOffset),rangeInfos.startOffset=0):isWrapping=!0),currentNode.isSameNode(rangeInfos.endNode)&&isText(rangeInfos.endNodeContainer)&&(0!==rangeInfos.endOffset?currentNode.splitText(rangeInfos.endOffset):isWrapping=!1),isText(currentNode)?wrapTextNode(currentNode,currentGroupId):isElement(currentNode)&&wrapTextNodesInRange(currentNode,rangeInfos),
currentNode.isSameNode(rangeInfos.endNode)){isWrapping=!1,hasWrapped=!0;break}}function wrapTextNode(node,groupId){isWrapping&&!isWrappingNode(node.parentNode)&&isWrappable(node)&&$(node).wrap($(getWrapper(groupId)))}function reindexGroups(rootNode){var i,currentNode,parent,childNodes=rootNode.childNodes;for(i=0;i<childNodes.length;i++)currentNode=childNodes[i],isWrappable(currentNode)?(parent=currentNode.parentNode,isWrappingNode(parent)?(!1===isWrapping&&currentGroupId++,isWrapping=!0,parent.setAttribute(GROUP_ATTR,currentGroupId)):isWrapping=!1):isElement(currentNode)&&reindexGroups(currentNode)}function mergeAdjacentWrappingNodes(rootNode){
var i,currentNode,childNodes=rootNode.childNodes;for(i=0;i<childNodes.length;i++)if(currentNode=childNodes[i],isWrappingNode(currentNode))for(;isWrappingNode(currentNode.nextSibling);)currentNode.firstChild.textContent+=currentNode.nextSibling.firstChild.textContent,currentNode.parentNode.removeChild(currentNode.nextSibling);else isElement(currentNode)&&mergeAdjacentWrappingNodes(currentNode)}function clearHighlights(){$(getContainer()).find("."+className).each(function(){var $wrapped=$(this);$wrapped.replaceWith($wrapped.text())})}function getHighlightIndex(){var highlightIndex=[],rootNode=getContainer();return rootNode&&(rootNode.normalize(),
textNodesIndex=0,buildHighlightIndex(rootNode,highlightIndex)),highlightIndex}function buildHighlightIndex(rootNode,highlightIndex){var i,currentNode,nodeInfos,inlineRange,inlineOffset,nodesToSkip,childNodes=rootNode.childNodes;for(i=0;i<childNodes.length;i++)if(currentNode=childNodes[i],isWrappable(currentNode)&&!isWrappingNode(currentNode.nextSibling))highlightIndex[textNodesIndex]={highlighted:!1},textNodesIndex++;else if(isWrappingNode(currentNode)&&!isWrappable(currentNode.nextSibling))highlightIndex[textNodesIndex]={highlighted:!0,groupId:currentNode.getAttribute(GROUP_ATTR)},
textNodesIndex++;else if(isHotNode(currentNode)&&isHotNode(currentNode.nextSibling)){for(nodeInfos={highlighted:!0,inlineRanges:[]},nodesToSkip=-1,inlineOffset=0;currentNode;)isWrappingNode(currentNode)&&(inlineRange={groupId:currentNode.getAttribute(GROUP_ATTR)},isText(currentNode.previousSibling)&&(inlineRange.startOffset=inlineOffset),isText(currentNode.nextSibling)&&(inlineRange.endOffset=inlineOffset+currentNode.textContent.length),nodeInfos.inlineRanges.push(inlineRange)),inlineOffset+=currentNode.textContent.length,currentNode=isHotNode(currentNode.nextSibling)?currentNode.nextSibling:null,nodesToSkip++;i+=nodesToSkip,
highlightIndex[textNodesIndex]=nodeInfos,textNodesIndex++}else isElement(currentNode)&&buildHighlightIndex(currentNode,highlightIndex)}function highlightFromIndex(highlightIndex){var rootNode=getContainer();rootNode&&(rootNode.normalize(),textNodesIndex=0,restoreHighlight(rootNode,highlightIndex))}function restoreHighlight(rootNode,highlightIndex){var i,currentNode,parent,nodeInfos,nodesToSkip,range,initialChildCount,childNodes=rootNode.childNodes;for(i=0;i<childNodes.length;i++)currentNode=childNodes[i],isWrappable(currentNode)?(parent=currentNode.parentNode,initialChildCount=parent.childNodes.length,nodeInfos=highlightIndex[textNodesIndex],
!0===nodeInfos.highlighted&&(_.isArray(nodeInfos.inlineRanges)?(nodeInfos.inlineRanges.reverse(),nodeInfos.inlineRanges.forEach(function(inlineRange){range=document.createRange(),range.setStart(currentNode,inlineRange.startOffset||0),range.setEnd(currentNode,inlineRange.endOffset||currentNode.textContent.length),range.surroundContents(getWrapper(inlineRange.groupId))})):(range=document.createRange(),range.selectNodeContents(currentNode),range.surroundContents(getWrapper(nodeInfos.groupId))),nodesToSkip=parent.childNodes.length-initialChildCount,i+=nodesToSkip),textNodesIndex++):isElement(currentNode)&&restoreHighlight(currentNode,highlightIndex)}
function isWrappingNode(node){return isElement(node)&&"span"===node.tagName.toLowerCase()&&node.className===className}function isWrappable(node){return isText(node)&&0===$(node).closest(containersBlackList.join(",")).length&&node.textContent.trim().length>0}function getWrapper(groupId){var wrapper=document.createElement("span");return wrapper.className=className,wrapper.setAttribute(GROUP_ATTR,groupId+""),wrapper}function getAvailableGroupId(){for(var id=currentGroupId||1;0!==$(getContainer()).find("["+GROUP_ATTR+"="+id+"]").length;)id++;return id}function isElement(node){return node&&"object"==typeof node&&node.nodeType===window.Node.ELEMENT_NODE}
function isText(node){return node&&"object"==typeof node&&node.nodeType===window.Node.TEXT_NODE}function isHotNode(node){return isWrappingNode(node)||isWrappable(node)}var currentGroupId,textNodesIndex,className=options.className,containerSelector=options.containerSelector,isWrapping=!1,hasWrapped=!1;return{highlightRanges:highlightRanges,highlightFromIndex:highlightFromIndex,getHighlightIndex:getHighlightIndex,clearHighlights:clearHighlights}}}),define("taoQtiTest/runner/plugins/tools/highlighter/highlighter",["lodash","jquery","core/eventifier","ui/highlighter"],function(_,$,eventifier,highlighterFactory){"use strict";function getAllRanges(){
var i,allRanges=[];for(i=0;i<selection.rangeCount;i++)allRanges.push(selection.getRangeAt(i));return allRanges}var selection;if(!window.getSelection)throw new Error("Browser does not support getSelection()");return selection=window.getSelection(),function(){var isHighlighting=!1,highlightHelper=highlighterFactory({className:"txt-user-highlight",containerSelector:".qti-itemBody"});return $(document).on("mouseup.highlighter touchend.highlighter",function(){isHighlighting&&!selection.isCollapsed&&(highlightHelper.highlightRanges(getAllRanges()),selection.removeAllRanges())}),eventifier({toggleHighlighting:function(bool){isHighlighting=bool,
isHighlighting?this.trigger("start"):this.trigger("end")},highlight:function(){isHighlighting?this.toggleHighlighting(!1):selection.isCollapsed?this.toggleHighlighting(!0):(this.toggleHighlighting(!0),highlightHelper.highlightRanges(getAllRanges()),this.toggleHighlighting(!1),selection.removeAllRanges())},restoreIndex:function(index){index&&index.length>0&&highlightHelper.highlightFromIndex(index)},getIndex:function(){return highlightHelper.getHighlightIndex()},clearHighlights:function(){highlightHelper.clearHighlights(),selection.removeAllRanges()}})}}),
define("taoQtiTest/runner/plugins/tools/highlighter/plugin",["jquery","lodash","i18n","taoTests/runner/plugin","ui/hider","util/shortcut","util/namespace","taoQtiTest/runner/plugins/tools/highlighter/highlighter"],function($,_,__,pluginFactory,hider,shortcut,namespaceHelper,highlighterFactory){"use strict";return pluginFactory({name:"highlighter",install:function(){this.getTestRunner().getTestStore().setVolatile(this.getName())},init:function(){function isEnabled(){return!!((testRunner.getTestContext()||{}).options||{}).highlighter}function togglePlugin(){isEnabled()?self.show():self.hide()}
var self=this,testRunner=this.getTestRunner(),testData=testRunner.getTestData()||{},testConfig=testData.config||{},pluginShortcuts=(testConfig.shortcuts||{})[this.getName()]||{},hasHighlights=!1,highlighter=highlighterFactory();return this.buttonMain=this.getAreaBroker().getToolbox().createEntry({title:__("Highlight Text"),icon:"text-marker",control:"highlight-trigger",text:__("Highlight")}),this.buttonRemove=this.getAreaBroker().getToolbox().createEntry({title:__("Clear all active highlights"),icon:"result-nok",control:"highlight-clear",text:__("Clear Highlights")}),this.buttonMain.on("mousedown",function(e){e.preventDefault(),
isEnabled()&&highlighter.highlight()}),this.buttonRemove.on("click",function(e){e.preventDefault(),isEnabled()&&highlighter.clearHighlights()}),testConfig.allowShortcuts&&pluginShortcuts.toggle&&shortcut.add(namespaceHelper.namespaceAll(pluginShortcuts.toggle,this.getName(),!0),function(){isEnabled()&&highlighter.highlight()},{avoidInput:!0,prevent:!0}),this.disable(),testRunner.getPluginStore(self.getName()).then(function(highlighterStore){function save(){var testContext=testRunner.getTestContext();return isEnabled()&&hasHighlights&&testContext.itemIdentifier?highlighterStore.setItem(testContext.itemIdentifier,highlighter.getIndex()):Promise.resolve(!1)}
highlighter.on("start",function(){self.buttonMain.turnOn(),self.trigger("start"),hasHighlights=!0}).on("end",function(){self.buttonMain.turnOff(),self.trigger("end")}),testRunner.on("loaditem",togglePlugin).on("enabletools renderitem",function(){self.enable()}).on("renderitem",function(){var testContext=testRunner.getTestContext();if(isEnabled())return hasHighlights=!1,highlighterStore.getItem(testContext.itemIdentifier).then(function(index){index&&(hasHighlights=!0,highlighter.restoreIndex(index))}).then(function(){highlighter.on("end.save",function(){return save()})})}).before("skip move timeout",function(){return save()
}).on("disabletools unloaditem",function(){self.disable(),isEnabled()&&highlighter.off("end.save").toggleHighlighting(!1)})})},destroy:function(){shortcut.remove("."+this.getName()),$(document).off(".highlighter")},enable:function(){this.buttonMain.enable(),this.buttonRemove.enable()},disable:function(){this.buttonMain.disable(),this.buttonRemove.disable()},show:function(){this.buttonMain.show(),this.buttonRemove.show()},hide:function(){this.buttonMain.hide(),this.buttonRemove.hide()}})}),define("ui/component/placeable",["lodash","ui/transformer"],function(_,transformer){"use strict";function makePlaceable(component,config){
return _.assign(component,placeableComponent),component.off(".makePlaceable").on("init.makePlaceable",function(){_.defaults(this.config,config||{},defaultConfig)}).on("render.makePlaceable",function(){this.getElement().css({position:positioningMode}),this.resetPosition()})}var defaultConfig={initialX:0,initialY:0},positioningMode="absolute",placeableComponent={_translate:function(xOffsetAbsolute,yOffsetAbsolute){var $element=this.getElement();transformer.translateXY($element,xOffsetAbsolute,yOffsetAbsolute),this._translateX=xOffsetAbsolute,this._translateY=yOffsetAbsolute,this._x=xOffsetAbsolute+this.config.initialX,
this._y=yOffsetAbsolute+this.config.initialY,this.trigger("move",this._x,this._y)},center:function(){var centerX,centerY,$container=this.getContainer(),$element=this.getElement();return this.is("rendered")&&!this.is("disabled")&&$container.length&&(centerX=$container.width()/2-$element.width()/2,centerY=$container.height()/2-$element.height()/2,this.moveTo(centerX,centerY),this.trigger("center",centerX,centerY)),this},moveBy:function(xOffsetRelative,yOffsetRelative){var xOffsetAbsolute,yOffsetAbsolute;return this.is("rendered")&&!this.is("disabled")&&(xOffsetAbsolute=this._translateX+xOffsetRelative,yOffsetAbsolute=this._translateY+yOffsetRelative,
this._translate(xOffsetAbsolute,yOffsetAbsolute)),this},moveTo:function(x,y){var xOffsetAbsolute,yOffsetAbsolute;return this.is("rendered")&&!this.is("disabled")&&(xOffsetAbsolute=x-this.config.initialX,yOffsetAbsolute=y-this.config.initialY,this._translate(xOffsetAbsolute,yOffsetAbsolute)),this},moveToX:function(x){return this.moveTo(x,this._y)},moveToY:function(y){return this.moveTo(this._x,y)},resetPosition:function(){var $element=this.getElement();return this.is("rendered")&&($element.css({left:this.config.initialX,top:this.config.initialY}),this._translate(0,0)),this},getPosition:function(){var position;return this.is("rendered")&&(position={
x:this._x||0,y:this._y||0}),position}};return makePlaceable.isPlaceable=function(component){return Object.keys(placeableComponent).every(function(method){return"function"==typeof component[method]})},makePlaceable}),define("ui/component/draggable",["lodash","interact","ui/component/placeable"],function(_,interact,makePlaceable){"use strict";return function(component,config){return makePlaceable.isPlaceable(component)||makePlaceable(component),component.off(".makeDraggable").on("init.makeDraggable",function(){_.defaults(this.config,config||{})}).on("render.makeDraggable",function(){
var self=this,$element=this.getElement(),element=$element[0],rootNode=document.querySelector("html");this.config.dragRestriction||(this.config.dragRestriction=this.getContainer()[0]),interact(element).draggable({autoScroll:!0,restrict:{restriction:this.config.dragRestriction,elementRect:{left:0,right:1,top:0,bottom:1}},onmove:function(event){var xOffset=Math.round(event.dx),yOffset=Math.round(event.dy);self.moveBy(xOffset,yOffset),self.trigger("dragmove",xOffset,yOffset)}}).on("dragstart",function(){self.setState("moving",!0),self.trigger("dragstart")}).on("dragend",function(){self.setState("moving",!1),self.trigger("dragend")}),
$element.off(".makeDraggable").on("click.makeDraggable",function(){_.delay(function(){self.is("sizing")||self.is("moving")||!rootNode||(rootNode.style.cursor="default")},25)})})}}),define("ui/component/resizable",["lodash","interact","ui/component/placeable"],function(_,interact,makePlaceable){"use strict";var defaultConfig={minWidth:50,minHeight:50,edges:{left:!0,right:!0,bottom:!0,top:!0}},resizableComponent={_getCappedValue:function(value,min,max){var capped=value;return _.isUndefined(max)||_.isNull(max)||(capped=Math.min(capped,max)),_.isUndefined(min)||_.isNull(min)||(capped=Math.max(capped,min)),capped},
resizeTo:function(newWidth,newHeight,resizeFromLeft,resizeFromTop){var currentSize,newX,newY,rightX,bottomY,position,shouldMove=!1;return this.is("rendered")&&!this.is("disabled")&&(this.trigger("beforeresize",newWidth,newHeight,resizeFromLeft,resizeFromTop),currentSize=this.getSize(),newWidth=this._getCappedValue(newWidth,this.config.minWidth,this.config.maxWidth),newHeight=this._getCappedValue(newHeight,this.config.minHeight,this.config.maxHeight),position=this.getPosition(),resizeFromLeft&&newWidth!==currentSize.width&&(rightX=position.x+currentSize.width,newX=rightX-newWidth,shouldMove=!0),
resizeFromTop&&newHeight!==currentSize.height&&(bottomY=position.y+currentSize.height,newY=bottomY-newHeight,shouldMove=!0),shouldMove&&this.moveTo(newX||position.x,newY||position.y),this.setSize(newWidth,newHeight),position=this.getPosition(),this.trigger("resize",newWidth,newHeight,resizeFromLeft,resizeFromTop,position.x,position.y)),this}};return function(component,config){return _.assign(component,resizableComponent),makePlaceable.isPlaceable(component)||makePlaceable(component),component.off(".makeResizable").on("init.makeResizable",function(){_.defaults(this.config,config||{},defaultConfig)}).on("render.makeResizable",function(){
var self=this,$element=this.getElement(),element=$element[0];this.config.resizeRestriction||(this.config.resizeRestriction=this.getContainer()[0]),interact(element).resizable({autoScroll:!0,restrict:{restriction:this.config.resizeRestriction},edges:this.config.edges}).on("resizemove",function(event){self.resizeTo(event.rect.width,event.rect.height,event.edges.left,event.edges.top)}).on("resizestart",function(){self.setState("sizing",!0),self.trigger("resizestart")}).on("resizeend",function(){self.setState("sizing",!1),self.trigger("resizeend")})})}}),
define("ui/movableComponent",["lodash","interact","ui/component","ui/component/draggable","ui/component/resizable","ui/component/stackable"],function(_,interact,componentFactory,makeDraggable,makeResizable,makeStackable){"use strict";function movableComponentFactory(specs,defaults){var component;return defaults=_.defaults(defaults||{},defaultConfig),component=componentFactory(specs,defaults),makeDraggable(component),makeResizable(component),makeStackable(component),component.on("render",function(){this.setSize(this.config.width,this.config.height).center()}),component}var defaultConfig={initialX:0,initialY:0,width:250,height:100,minWidth:75,minHeight:25}
;return movableComponentFactory}),define("tpl!taoQtiTest/runner/plugins/tools/magnifier/magnifierPanel",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing;return buffer+='<div class="magnifier">\n    <div class="level">',(helper=helpers.level)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.level,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+'</div>\n    <div class="overlay"></div>\n    <div class="inner"></div>\n    <div class="controls close">\n        <a href="#" class="closeMagnifier" data-control="closeMagnifier" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Close Magnifier",options):helperMissing.call(depth0,"__","Close Magnifier",options)))+'"><span class="icon-result-nok"></span></a>\n    </div>\n    <div class="controls zoom">\n        <a href="#" class="control"  data-control="zoomOut" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Magnify less",options):helperMissing.call(depth0,"__","Magnify less",options)))+'"><span class="icon-remove"></span></a>\n        <a href="#" class="control" data-control="zoomIn" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Magnify more",options):helperMissing.call(depth0,"__","Magnify more",options)))+'"><span class="icon-add"></span></a>\n    </div>\n</div>'})}),
define("taoQtiTest/runner/plugins/tools/magnifier/magnifierPanel",["jquery","lodash","ui/movableComponent","tpl!taoQtiTest/runner/plugins/tools/magnifier/magnifierPanel"],function($,_,movableComponent,magnifierPanelTpl){"use strict";function magnifierPanelFactory(config){function scrollInClone(scrollData){var $clonedTarget;controls&&controls.$clone&&scrollData&&scrollData.id&&($clonedTarget=controls.$clone.find("[data-magnifier-scroll="+scrollData.id+"]"),$clonedTarget.length&&(_.isNumber(scrollData.scrollTop)&&($clonedTarget[0].scrollTop=scrollData.scrollTop),_.isNumber(scrollData.scrollLeft)&&($clonedTarget[0].scrollLeft=scrollData.scrollLeft)))}
function setScrollingListener(){window.addEventListener("scroll",scrollingListenerCallback,!0)}function removeScrollingListener(){window.removeEventListener("scroll",scrollingListenerCallback,!0)}function applyScrolling(){_.forEach(scrolling,scrollInClone)}function adjustZoomLevel(level){return Math.max(zoomLevelMin,Math.min(parseFloat(level),zoomLevelMax))}function applyZoomLevel(){controls&&controls.$inner.css({transform:"scale("+zoomLevel+")"})}function showZoomLevel(){var $newZoomLevel;controls&&($newZoomLevel=controls.$zoomLevel.clone(!0).html(zoomLevel),controls.$zoomLevel.before($newZoomLevel).remove(),controls.$zoomLevel=$newZoomLevel)}
function updateMaxSize(){var $window=$(window);magnifierPanel.config.maxWidth=$window.width()*maxRatio,magnifierPanel.config.maxHeight=$window.height()*maxRatio}function applySize(){controls&&controls.$clone&&(targetWidth=controls.$target.width(),targetHeight=controls.$target.height(),controls.$clone.width(targetWidth).height(targetHeight))}function updateZoom(){var position;controls&&controls.$target&&(position=magnifierPanel.getPosition(),position.x+=dx+controls.$target.scrollLeft(),position.y+=dy+controls.$target.scrollTop(),magnifierPanel.zoomAt(position.x,position.y))}function createObserver(){observer=new window.MutationObserver(updateMagnifier)}
function startObserver(){controls&&controls.$target&&observer.observe(controls.$target.get(0),{childList:!0,attributes:!0,characterData:!0,subtree:!0}),setScrollingListener()}function stopObserver(){observer.disconnect(),removeScrollingListener()}function translateMagnifier(coordinate,actualSize,magnifierSize){var delta=0,ratio=zoomLevel;return actualSize&&(delta=actualSize*(zoomLevel-1)/2,ratio=(actualSize*zoomLevel-magnifierSize)/(actualSize-magnifierSize)),coordinate*ratio-delta}function getElementFromPoint(x,y){var el;return x=x||0,y=y||0,controls&&controls.$overlay.addClass("hidden"),el=document.elementFromPoint(x,y),
controls&&controls.$overlay.removeClass("hidden"),el}function findSourceNode(node,root,target){var $node=$(node),$root=$(root),$target=$(target),indexes=[$node.index()];return $node.parents().each(function(){var $this=$(this);if($this.is($root))return!1;indexes.push($this.index())}),indexes.pop(),indexes.length?($node=$target,_.forEachRight(indexes,function(index){if($node=$node.children().eq(index),!$node.length)return!1})):$node=$(),$node}
var targetWidth,targetHeight,dx,dy,initConfig=_.defaults(config||{},defaultConfig),zoomLevelMin=parseFloat(initConfig.levelMin),zoomLevelMax=parseFloat(initConfig.levelMax),zoomLevelStep=parseFloat(initConfig.levelStep),zoomLevel=adjustZoomLevel(initConfig.level),maxRatio=parseFloat(initConfig.maxRatio),baseSize=parseInt(initConfig.baseSize,10),zoomSize=baseSize*zoomLevel,$initTarget=null,controls=null,observer=null,scrolling=[],magnifierPanel=movableComponent({getZoomLevel:function(){return zoomLevel},getTarget:function(){return controls&&controls.$target},setTarget:function($newTarget){return controls?(controls.$target=$newTarget,controls.$viewTarget=null,
setScrollingListener(),this.trigger("targetchange",controls.$target),this.update()):$initTarget=$newTarget,this},zoomTo:function(level){return level&&_.isFinite(level)&&(zoomLevel=adjustZoomLevel(level)),applyZoomLevel(),showZoomLevel(),updateMaxSize(),updateZoom(),this.trigger("zoom",zoomLevel),this},zoomBy:function(step){return step&&_.isFinite(step)&&this.zoomTo(zoomLevel+parseFloat(step)),this},zoomIn:function(){return this.zoomBy(zoomLevelStep)},zoomOut:function(){return this.zoomBy(-zoomLevelStep)},zoomAt:function(x,y){var position;controls&&(position=this.translate(x,y),controls.$inner.css({top:-position.top,left:-position.left}))},
translate:function(x,y){return{top:translateMagnifier(y,targetHeight,this.config.height),left:translateMagnifier(x,targetWidth,this.config.width)}},update:function(){return controls&&controls.$target&&(controls.$clone=controls.$target.clone().removeAttr("id"),controls.$clone.find("iframe").remove(),controls.$clone.find("[name],[id],[data-serial]").removeAttr("name id data-serial"),controls.$inner.empty().append(controls.$clone),applySize(),applyZoomLevel(),updateZoom(),updateMaxSize(),applyScrolling(),this.trigger("update")),this}
},defaultConfig),updateMagnifier=_.debounce(_.bind(magnifierPanel.update,magnifierPanel),debounceDelay),scrollingListenerCallback=_.throttle(function(event){var scrollId,scrollData,$target=$(event.target),scrollingTop=event.target.scrollTop,scrollLeft=event.target.scrollLeft;controls&&controls.$clone&&$target.data("magnifier-scroll")?(scrollId=$target.data("magnifier-scroll"),scrollData=_.find(scrolling,{id:scrollId}),scrollData.scrollTop=scrollingTop,scrollData.scrollLeft=scrollLeft,scrollInClone(scrollData)):(scrollId=_.uniqueId("scrolling_"),$target.attr("data-magnifier-scroll",scrollId),scrolling.push({id:scrollId,scrollTop:scrollingTop,
scrollLeft:scrollLeft}),magnifierPanel.update())},scrollingDelay);return initConfig.width=zoomSize,initConfig.height=zoomSize/screenRatio,initConfig.minWidth=baseSize*zoomLevelMin,initConfig.minHeight=baseSize*zoomLevelMin/screenRatio,magnifierPanel.setTemplate(magnifierPanelTpl).on("render",function(){var self=this,$component=this.getElement();this.setState("hidden",!0),dx=($component.outerWidth()-$component.width())/2,dy=($component.outerHeight()-$component.height())/2,controls={$target:$initTarget,$inner:$(".inner",$component),$zoomLevel:$(".level",$component),$overlay:$(".overlay",$component)},$initTarget=null,
$component.on("click touchstart",".zoom",function(event){var $button=$(event.target).closest(".control"),action=$button.data("control");event.preventDefault(),action&&self[action]&&self[action]()}),$component.on("click touchstart",".closeMagnifier",function(event){event.preventDefault(),self.hide(),self.trigger("close")}),$component.on("click touchstart",".overlay",function(event){self.is("noclick")?self.setState("noclick",!1):findSourceNode(getElementFromPoint(event.pageX,event.pageY),controls.$inner,controls.$target).click().focus()}),createObserver(),updateMaxSize(),applyZoomLevel()}).on("dragstart resizestart",function(){this.setState("noclick",!0)
}).on("move resize",function(){updateZoom()}).on("show",function(){updateMagnifier(),startObserver()}).on("hide",function(){stopObserver()}).on("resize",function(){updateMaxSize()}).on("destroy",function(){stopObserver(),$initTarget=null,controls=null,observer=null}).init(initConfig),magnifierPanel}var screenRatio=window.screen.width/window.screen.height,debounceDelay=50,scrollingDelay=20,defaultConfig={level:2,levelMin:2,levelMax:8,levelStep:.5,baseSize:116,width:232,height:232/screenRatio,minWidth:232,minHeight:232/screenRatio,maxRatio:.5,stackingScope:"test-runner"};return magnifierPanelFactory}),
define("taoQtiTest/runner/plugins/tools/magnifier/magnifier",["jquery","lodash","i18n","taoTests/runner/plugin","ui/hider","util/shortcut","util/namespace","taoQtiTest/runner/plugins/tools/magnifier/magnifierPanel"],function($,_,__,pluginFactory,hider,shortcut,namespaceHelper,magnifierPanelFactory){"use strict";var pluginName="magnifier",actionPrefix="tool-"+pluginName+"-",defaultOptions={zoomMin:2,zoomMax:8,zoomStep:.5};return pluginFactory({name:pluginName,init:function(){function getMagnifierPanel(){var $container;return magnifierPanel||($container=testRunner.getAreaBroker().getContainer(),magnifierPanel=magnifierPanelFactory({
levelMin:pluginConfig.zoomMin,levelMax:pluginConfig.zoomMax,levelStep:pluginConfig.zoomStep}).on("show",function(){self.trigger("magnifier-show")}).on("hide",function(){self.trigger("magnifier-hide")}).on("zoom",function(level){self.trigger("magnifier-zoom",level)}).on("close",function(){hideMagnifier()}).setTarget($container).render($container.parent()),self.trigger("magnifier-create")),magnifierPanel}function isEnabled(){return!!((testRunner.getTestContext()||{}).options||{}).magnifier}function togglePlugin(){isEnabled()?self.show():self.hide()}function toggleMagnifier(){self.getState("enabled")&&(self.getState("active")?hideMagnifier():showMagnifier())}
function showMagnifier(){getMagnifierPanel(),magnifierPanel.is("hidden")&&magnifierPanel.show(),self.button.turnOn(),testRunner.trigger("plugin-open."+pluginName),self.setState("active",!0)}function hideMagnifier(){self.setState("active",!1),self.button.turnOff(),testRunner.trigger("plugin-close."+pluginName),magnifierPanel&&!magnifierPanel.is("hidden")&&magnifierPanel.hide()}var self=this,testRunner=this.getTestRunner(),testData=testRunner.getTestData()||{},testConfig=testData.config||{},pluginConfig=_.defaults((testConfig.plugins||{})[pluginName]||{},defaultOptions),pluginShortcuts=(testConfig.shortcuts||{})[pluginName]||{},magnifierPanel=null
;this.button=this.getAreaBroker().getToolbox().createEntry({control:"magnify",title:__("Displays a customisable magnifier"),text:__("Magnifying Glass"),icon:"find"}),this.button.on("click",function(event){event.preventDefault(),testRunner.trigger(actionPrefix+"toggle")}),testConfig.allowShortcuts&&_.forEach(pluginShortcuts,function(command,key){shortcut.add(namespaceHelper.namespaceAll(command,pluginName,!0),function(){testRunner.trigger(actionPrefix+key)},{avoidInput:!0})}),togglePlugin(),this.disable(),testRunner.on("loaditem",function(){togglePlugin(),self.disable()}).on("renderitem",function(){
magnifierPanel&&magnifierPanel.update().zoomTo(pluginConfig.zoomMin)}).on("enabletools renderitem",function(){self.enable()}).on("disabletools unloaditem",function(){self.getState("active")&&hideMagnifier(),self.disable()}).on("destroy",function(){magnifierPanel&&magnifierPanel.destroy(),magnifierPanel=null}).on(actionPrefix+"toggle",function(){isEnabled()&&toggleMagnifier()}).on(actionPrefix+"in",function(){isEnabled()&&self.getState("enabled")&&self.getState("active")&&getMagnifierPanel().zoomIn()}).on(actionPrefix+"out",function(){isEnabled()&&self.getState("enabled")&&self.getState("active")&&getMagnifierPanel().zoomOut()
}).on(actionPrefix+"close",function(){self.getState("active")&&hideMagnifier()})},destroy:function(){shortcut.remove("."+pluginName)},enable:function(){this.button.enable()},disable:function(){this.button.disable()},show:function(){this.button.show()},hide:function(){this.button.hide()}})}),define("taoQtiTest/runner/plugins/tools/lineReader/compoundMask",["jquery","lodash","core/statifier","core/eventifier","ui/component","ui/component/placeable","ui/component/draggable","ui/component/resizable","ui/component/stackable"],function($,_,statifier,eventifier,componentFactory,makePlaceable,makeDraggable,makeResizable,makeStackable){"use strict"
;var constrains,defaultDimensions={outerWidth:600,outerHeight:400,innerWidth:500,innerHeight:20},defaultPosition={outerX:0,outerY:0,innerX:50,innerY:50},defaultOptions={dragMinWidth:10,dragMinHeight:10,resizeHandleSize:10,innerDragHeight:20},stackingOptions={stackingScope:"test-runner"};return function(options,dimensions,position){function createMask(maskConfig){var mask,maskAPI={place:maskConfig.place,placeOverlay:maskConfig.placeOverlay,styleResizableEdges:function(){var $element=this.getElement();_.forOwn(this.config.edges,function(isResizable,edgeId){isResizable&&$element.addClass("border-"+edgeId)})}};return mask=componentFactory(maskAPI,maskConfig),
makeResizable(mask),makeStackable(mask,stackingOptions),mask.on("render",function(){var $element=this.getElement();this.styleResizableEdges(),$element.addClass("line-reader-mask "+maskConfig.id).on("mousedown",function(){bringAllToFront()})}).on("resizestart",function(){innerDrag.hide(),closer.hide(),invokeOnOverlays("hide"),invokeOnMasks("setState",["resizing",!0])}).on("beforeresize",maskConfig.beforeResize||_.noop).on("resize",maskConfig.onResize||_.noop).on("resizeend",function(){applyTransformsToOverlays(),applyTransformsToInnerDrag(),applyTransformsToCloser(),invokeOnMasks("setState",["resizing",!1]),invokeOnOverlays("show"),innerDrag.show(),
closer.show()}).init()}function createOverlay(overlayConfig){var overlay;return overlay=componentFactory({transformOverlay:function(){var $element=this.getElement();this._sizeBackup=this.getSize(),this._posBackup=this.getPosition(),this.setSize(dimensions.outerWidth,dimensions.outerHeight).moveTo(position.outerX,position.outerY),$element.addClass("moving"),this.setState("transformed",!0)},restoreOverlay:function(){var $element=this.getElement();this.is("transformed")&&(this.setSize(this._sizeBackup.width,this._sizeBackup.height).moveTo(this._posBackup.x,this._posBackup.y),$element.removeClass("moving"),this._sizeBackup=null,this._posBackup=null,
this.setState("transformed",!1))},appendVisualGuides:function(){var $element=this.getElement();$element.append(visualGuides.$maskBg),$element.append(visualGuides.$innerWindow),visualGuides.$maskBg.css({width:dimensions.outerWidth-2,height:dimensions.outerHeight-2,"border-top-width":dimensions.topHeight-2,"border-right-width":dimensions.rightWidth-2,"border-bottom-width":dimensions.bottomHeight-2,"border-left-width":dimensions.leftWidth-2}),visualGuides.$innerWindow.css({width:dimensions.innerWidth,height:dimensions.innerHeight,left:dimensions.leftWidth-2,top:dimensions.topHeight-2})},removeVisualGuides:function(){visualGuides.$maskBg.remove(),
visualGuides.$innerWindow.remove()}},overlayConfig),makeDraggable(overlay),makeStackable(overlay,stackingOptions),overlay.on("render",function(){var self=this,$element=this.getElement(),pointerEventsPrefix=window.PointerEvent?"pointer":"mouse";$element.addClass("line-reader-overlay "+overlayConfig.id).on(pointerEventsPrefix+"down",function(){bringAllToFront(),self.transformOverlay()}).on(pointerEventsPrefix+"up",function(){self.restoreOverlay()})}).on("dragstart",function(){innerDrag.hide(),closer.hide(),invokeOnMasks("hide"),this.appendVisualGuides()}).on("dragmove",function(xOffsetRelative,yOffsetRelative){position.outerX+=xOffsetRelative,
position.outerY+=yOffsetRelative,position.innerX+=xOffsetRelative,position.innerY+=yOffsetRelative}).on("dragend",function(){this.removeVisualGuides(),invokeOnAll("show"),innerDrag.show(),closer.show(),applyTransforms()}).init()}function createInnerDragHandle(){innerDrag=componentFactory(),makeStackable(innerDrag,stackingOptions),makeDraggable(innerDrag,{dragRestriction:function(){var fixedXY=allParts.nw.mask.getElement().offset();return{x:fixedXY.left+constrains.minWidth,y:fixedXY.top+(constrains.minHeight+dimensions.innerHeight+options.resizeHandleSize),width:dimensions.outerWidth-2*constrains.minWidth,
height:dimensions.outerHeight-(dimensions.innerHeight+constrains.minHeight+constrains.minBottomHeight-options.innerDragHeight)}}}).on("render",function(){var $element=this.getElement(),$dragIcon=$("<div>",{class:"icon icon-move"});$element.addClass("line-reader-inner-drag"),$element.append($dragIcon),$element.on("mousedown",function(e){e.stopPropagation(),bringAllToFront()})}).on("dragstart",function(){closer.hide(),invokeOnOverlays("hide"),invokeOnMasks("setState",["resizing",!0])}).on("dragmove",function(xOffsetRelative,yOffsetRelative){position.innerX+=xOffsetRelative,position.innerY+=yOffsetRelative,dimensions.leftWidth+=xOffsetRelative,
dimensions.topHeight+=yOffsetRelative,dimensions.rightWidth-=xOffsetRelative,dimensions.bottomHeight-=yOffsetRelative,applyTransformsToMasks()}).on("dragend",function(){invokeOnOverlays("show"),innerDrag.bringToFront(),closer.show(),invokeOnMasks("setState",["resizing",!1]),applyTransformsToOverlays()}).init()}function createCloser(){closer=componentFactory(),makeStackable(closer,stackingOptions),makePlaceable(closer).on("render",function(){var self=this,$element=this.getElement(),$closeIcon=$("<div>",{class:"icon icon-result-nok"});$element.append($closeIcon),$element.addClass("line-reader-closer"),$element.on("mousedown",function(){bringAllToFront()}),
$element.on("click",function(e){e.stopPropagation(),self.trigger("click")})}).init()}function bringAllToFront(){invokeOnAll("bringToFront"),innerDrag.bringToFront(),closer.bringToFront()}function invokeOnAll(fn,args){invokeOnMasks(fn,args),invokeOnOverlays(fn,args)}function invokeOnMasks(fn,args){invokeOn("mask",fn,args)}function invokeOnOverlays(fn,args){invokeOn("overlay",fn,args)}function invokeOn(target,fn,args){_.forOwn(allParts,function(part){_.isObject(part[target])&&_.isFunction(part[target][fn])&&part[target][fn].apply(part[target],args)})}function applyTransforms(){applyTransformsToMasks(),applyTransformsToOverlays(),applyTransformsToInnerDrag(),
applyTransformsToCloser()}function applyTransformsToMasks(){invokeOnMasks("place")}function applyTransformsToOverlays(){_.forOwn(allParts,function(part){part.mask.placeOverlay(part.overlay)})}function applyTransformsToInnerDrag(){innerDrag&&innerDrag.setSize(dimensions.innerWidth,options.innerDragHeight).moveTo(position.innerX,position.innerY+dimensions.innerHeight+options.resizeHandleSize)}function applyTransformsToCloser(){closer&&closer.setSize(constrains.minWidth-options.resizeHandleSize,constrains.minHeight-options.resizeHandleSize).moveTo(position.outerX+dimensions.outerWidth-constrains.minWidth+3,position.outerY+options.resizeHandleSize)}
function correctTransforms(){dimensions.topHeight<constrains.minHeight&&(dimensions.topHeight=constrains.minHeight,position.innerY=position.outerY+constrains.minHeight),dimensions.innerHeight<constrains.minHeight&&(dimensions.innerHeight=constrains.minHeight),dimensions.bottomHeight<constrains.minBottomHeight&&(dimensions.bottomHeight=constrains.minBottomHeight),dimensions.outerHeight=dimensions.topHeight+dimensions.innerHeight+dimensions.bottomHeight,dimensions.leftWidth<constrains.minWidth&&(dimensions.leftWidth=constrains.minWidth,position.innerX=position.outerX+constrains.minWidth),
dimensions.innerWidth<constrains.minWidth&&(dimensions.innerWidth=constrains.minWidth),dimensions.rightWidth<constrains.minWidth&&(dimensions.rightWidth=constrains.minWidth),dimensions.outerWidth=dimensions.leftWidth+dimensions.innerWidth+dimensions.rightWidth}function setTopHeight(newHeight,newY,fromTop){dimensions.topHeight=newHeight,fromTop?(dimensions.outerHeight=newHeight+dimensions.innerHeight+dimensions.bottomHeight,position.outerY=newY):(dimensions.innerHeight=dimensions.outerHeight-newHeight-dimensions.bottomHeight,position.innerY=position.outerY+newHeight)}function setRightWidth(newWidth,newX,fromLeft){dimensions.rightWidth=newWidth,
fromLeft?dimensions.innerWidth=newX-position.innerX:dimensions.outerWidth=dimensions.leftWidth+dimensions.innerWidth+newWidth}function setBottomHeight(newHeight,newY,fromTop){dimensions.bottomHeight=newHeight,fromTop?(dimensions.innerHeight=newY-position.innerY,dimensions.bottomHeight=newHeight):dimensions.outerHeight=dimensions.topHeight+dimensions.innerHeight+newHeight}function setLeftWidth(newWidth,newX,fromLeft){dimensions.leftWidth=newWidth,fromLeft?(dimensions.outerWidth=newWidth+dimensions.innerWidth+dimensions.rightWidth,position.outerX=newX):(dimensions.innerWidth=dimensions.outerWidth-newWidth-dimensions.rightWidth,
position.innerX=position.outerX+newWidth)}function createCompoundMask(){createPart({id:"n",edges:{top:!0,right:!1,bottom:!0,left:!1},place:function(){this.moveTo(position.innerX,position.outerY).setSize(dimensions.innerWidth,dimensions.topHeight)},placeOverlay:function(overlay){var pos=this.getPosition(),size=this.getSize();overlay.moveTo(pos.x,pos.y+options.resizeHandleSize).setSize(size.width,size.height-2*options.resizeHandleSize)},beforeResize:function(width,height,fromLeft,fromTop){this.config.maxHeight=fromTop?null:dimensions.topHeight+(dimensions.innerHeight-constrains.minHeight)},onResize:function(width,height,fromLeft,fromTop,x,y){
setTopHeight(height,y,fromTop),applyTransformsToMasks()}}),createPart({id:"ne",edges:{top:!0,right:!0,bottom:!1,left:!1},place:function(){this.moveTo(position.innerX+dimensions.innerWidth,position.outerY).setSize(dimensions.rightWidth,dimensions.topHeight)},placeOverlay:function(overlay){var pos=this.getPosition(),size=this.getSize();overlay.moveTo(pos.x,pos.y+options.resizeHandleSize).setSize(size.width-options.resizeHandleSize,size.height-2*options.resizeHandleSize)},onResize:function(width,height,fromLeft,fromTop,x,y){setTopHeight(height,y,fromTop),setRightWidth(width,x,fromLeft),applyTransformsToMasks()}}),createPart({id:"e",edges:{top:!1,right:!0,
bottom:!1,left:!0},place:function(){this.moveTo(position.innerX+dimensions.innerWidth,position.innerY).setSize(dimensions.rightWidth,dimensions.innerHeight)},placeOverlay:function(overlay){var pos=this.getPosition(),size=this.getSize();overlay.moveTo(pos.x+options.resizeHandleSize,pos.y-options.resizeHandleSize).setSize(size.width-2*options.resizeHandleSize,size.height+2*options.resizeHandleSize)},beforeResize:function(width,height,fromLeft){this.config.maxWidth=fromLeft?dimensions.rightWidth+(dimensions.innerWidth-constrains.minWidth):null},onResize:function(width,height,fromLeft,fromTop,x){setRightWidth(width,x,fromLeft),applyTransformsToMasks()}}),
createPart({id:"se",edges:{top:!1,right:!0,bottom:!0,left:!1},minHeight:constrains.minBottomHeight,place:function(){this.moveTo(position.innerX+dimensions.innerWidth,position.innerY+dimensions.innerHeight).setSize(dimensions.rightWidth,dimensions.bottomHeight)},placeOverlay:function(overlay){var pos=this.getPosition(),size=this.getSize();overlay.moveTo(pos.x,pos.y+options.resizeHandleSize).setSize(size.width-options.resizeHandleSize,size.height-2*options.resizeHandleSize)},onResize:function(width,height,fromLeft,fromTop,x,y){setRightWidth(width,x,fromLeft),setBottomHeight(height,y,fromTop),applyTransformsToMasks()}}),createPart({id:"s",edges:{top:!0,
right:!1,bottom:!0,left:!1},minHeight:constrains.minBottomHeight,place:function(){this.moveTo(position.innerX,position.innerY+dimensions.innerHeight).setSize(dimensions.innerWidth,dimensions.bottomHeight)},placeOverlay:function(overlay){var pos=this.getPosition(),size=this.getSize();overlay.moveTo(pos.x,pos.y+options.resizeHandleSize).setSize(size.width,size.height-2*options.resizeHandleSize)},beforeResize:function(width,height,fromLeft,fromTop){this.config.maxHeight=fromTop?dimensions.bottomHeight+(dimensions.innerHeight-constrains.minHeight):null},onResize:function(width,height,fromLeft,fromTop,x,y){setBottomHeight(height,y,fromTop),
applyTransformsToMasks()}}),createPart({id:"sw",edges:{top:!1,right:!1,bottom:!0,left:!0},minHeight:constrains.minBottomHeight,place:function(){this.moveTo(position.outerX,position.innerY+dimensions.innerHeight).setSize(dimensions.leftWidth,dimensions.bottomHeight)},placeOverlay:function(overlay){var pos=this.getPosition(),size=this.getSize();overlay.moveTo(pos.x+options.resizeHandleSize,pos.y+options.resizeHandleSize).setSize(size.width-options.resizeHandleSize,size.height-2*options.resizeHandleSize)},onResize:function(width,height,fromLeft,fromTop,x,y){setBottomHeight(height,y,fromTop),setLeftWidth(width,x,fromLeft),applyTransformsToMasks()}}),createPart({
id:"w",edges:{top:!1,right:!0,bottom:!1,left:!0},place:function(){this.moveTo(position.outerX,position.innerY).setSize(dimensions.leftWidth,dimensions.innerHeight)},placeOverlay:function(overlay){var pos=this.getPosition(),size=this.getSize();overlay.moveTo(pos.x+options.resizeHandleSize,pos.y-options.resizeHandleSize).setSize(size.width-2*options.resizeHandleSize,size.height+2*options.resizeHandleSize)},beforeResize:function(width,height,fromLeft){this.config.maxWidth=fromLeft?null:dimensions.leftWidth+(dimensions.innerWidth-constrains.minWidth)},onResize:function(width,height,fromLeft,fromTop,x){setLeftWidth(width,x,fromLeft),applyTransformsToMasks()}}),
createPart({id:"nw",edges:{top:!0,right:!1,bottom:!1,left:!0},place:function(){this.moveTo(position.outerX,position.outerY).setSize(dimensions.leftWidth,dimensions.topHeight)},placeOverlay:function(overlay){var pos=this.getPosition(),size=this.getSize();overlay.moveTo(pos.x+options.resizeHandleSize,pos.y+options.resizeHandleSize).setSize(size.width-options.resizeHandleSize,size.height-2*options.resizeHandleSize)},onResize:function(width,height,fromLeft,fromTop,x,y){setTopHeight(height,y,fromTop),setLeftWidth(width,x,fromLeft),applyTransformsToMasks()}})}function createPart(partConfig){allParts[partConfig.id]={
mask:createMask(_.assign({},constrains,partConfig)),overlay:createOverlay(partConfig)}}function createVisualGuides(){visualGuides.$maskBg=$("<div>",{class:"mask-bg"}),visualGuides.$innerWindow=$("<div>",{class:"inner-window"})}var compoundMask,innerDrag,closer,allParts={},visualGuides={};return dimensions=_.defaults(dimensions||{},defaultDimensions),position=_.defaults(position||{},defaultPosition),options=_.defaults(options||{},defaultOptions),constrains={minWidth:2*options.resizeHandleSize+options.dragMinWidth,minHeight:2*options.resizeHandleSize+options.dragMinHeight,minBottomHeight:2*options.resizeHandleSize+options.innerDragHeight},compoundMask={
init:function(){var self=this;return this.setTransforms(dimensions,position),createCompoundMask(),createVisualGuides(),createInnerDragHandle(),createCloser(),closer.on("click",function(){self.hide(),self.trigger("close")}),this},render:function($container){return invokeOnAll("render",[$container]),innerDrag.render($container),closer.render($container),applyTransforms(),this},destroy:function(){return invokeOnAll("destroy"),visualGuides=null,innerDrag=null,closer=null,this},show:function(){return invokeOnAll("show"),innerDrag.show(),closer.show(),this.setState("hidden",!1),this},hide:function(){return invokeOnAll("hide"),innerDrag.hide(),closer.hide(),
this.setState("hidden",!0),this},setTransforms:function(dim,pos){dimensions=_.defaults(dim||{},dimensions),position=_.defaults(pos||{},position),dimensions.topHeight=pos.innerY-pos.outerY,dimensions.rightWidth=dim.outerWidth-(pos.innerX-pos.outerX)-dim.innerWidth,dimensions.bottomHeight=dim.outerHeight-(pos.innerY-pos.outerY)-dim.innerHeight,dimensions.leftWidth=pos.innerX-pos.outerX,correctTransforms(),applyTransforms()},getDimensions:function(){return dimensions},getPosition:function(){return position},getParts:function(){return allParts}},statifier(compoundMask),eventifier(compoundMask),compoundMask}}),
define("taoQtiTest/runner/plugins/tools/lineReader/plugin",["jquery","lodash","i18n","taoTests/runner/plugin","ui/hider","util/shortcut","util/namespace","taoQtiTest/runner/plugins/tools/lineReader/compoundMask"],function($,_,__,pluginFactory,hider,shortcut,namespaceHelper,compoundMaskFactory){"use strict";function getDimensions($container){var $qtiContent=$container.find("#qti-content"),$qtiItem=$qtiContent.find(".qti-item"),lineHeight=Math.ceil(parseFloat($qtiContent.css("line-height")))||20;return{outerWidth:$qtiItem.width()+4*maskOptions.resizeHandleSize+2*maskOptions.dragMinWidth,outerHeight:175,innerWidth:$qtiItem.width(),innerHeight:lineHeight}}
function getPosition($container){var $qtiContent=$container.find("#qti-content"),$qtiItem=$qtiContent.find(".qti-item"),itemPosition=$qtiItem.position()||{},paddingLeft=parseInt($qtiItem.css("padding-left"),10),paddingTop=parseInt($qtiItem.css("padding-top"),10),innerX=parseInt(itemPosition.left,10)+paddingLeft-3,innerY=parseInt(itemPosition.top,10)+paddingTop-3;return{outerX:innerX-2*maskOptions.resizeHandleSize-maskOptions.dragMinWidth,outerY:0,innerX:innerX,innerY:innerY}}function containerWidthHasChanged($container){return getDimensions($container).outerWidth!==dimensions.outerWidth}var dimensions,position,maskOptions={dragMinWidth:7,dragMinHeight:7,
resizeHandleSize:7,innerDragHeight:20};return pluginFactory({name:"line-reader",init:function(){function isEnabled(){return!!((testRunner.getTestContext()||{}).options||{}).lineReader}function toggleButton(){isEnabled()?self.show():self.hide()}function toggleMask(){self.compoundMask.getState("hidden")?(containerWidthHasChanged($container)&&transformMask($container),openMask()):closeMask()}function openMask(){self.compoundMask.show(),self.trigger("start"),self.button.turnOn()}function closeMask(){self.compoundMask.getState("hidden")||self.compoundMask.hide(),self.trigger("end"),self.button.turnOff()}function transformMask($maskContainer){
dimensions=getDimensions($maskContainer),position=getPosition($maskContainer),self.compoundMask.setTransforms(_.clone(dimensions),_.clone(position))}var self=this,testRunner=this.getTestRunner(),testData=testRunner.getTestData()||{},testConfig=testData.config||{},pluginShortcuts=(testConfig.shortcuts||{})["line-reader"]||{},$container=testRunner.getAreaBroker().getContentArea().parent();this.compoundMask=compoundMaskFactory(maskOptions).init().render($container).on("close",function(){closeMask()}).hide(),this.button=this.getAreaBroker().getToolbox().createEntry({title:__("Line Reader"),icon:"insert-horizontal-line",control:"line-reader",
text:__("Line Reader")}),this.button.on("click",function(e){e.preventDefault(),testRunner.trigger("tool-line-reader-toggle")}),testConfig.allowShortcuts&&pluginShortcuts.toggle&&shortcut.add(namespaceHelper.namespaceAll(pluginShortcuts.toggle,this.getName(),!0),function(){testRunner.trigger("tool-line-reader-toggle")},{avoidInput:!0,prevent:!0}),this.disable(),testRunner.on("loaditem",toggleButton).on("renderitem",function(){transformMask($container)}).on("enabletools renderitem",function(){self.enable()}).on("disabletools unloaditem",function(){self.disable(),closeMask()}).on("tool-line-reader-toggle",function(){isEnabled()&&toggleMask()})},
destroy:function(){this.compoundMask.destroy(),shortcut.remove("."+this.getName())},enable:function(){this.button.enable()},disable:function(){this.button.disable()},show:function(){this.button.show()},hide:function(){this.button.hide()}})}),define("tpl!taoQtiTest/runner/plugins/tools/answerMasking/tpl/mask",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{},'<div class="answer-mask">\n    <span class="answer-mask-toggle"></span>\n</div>'})}),
define("taoQtiTest/runner/plugins/tools/answerMasking/answerMasking",["lodash","jquery","core/statifier","ui/component","tpl!taoQtiTest/runner/plugins/tools/answerMasking/tpl/mask"],function(_,$,statifier,componentFactory,maskTpl){"use strict";var ns=".answerMasking";return function($contentArea){function createMask($container){return componentFactory(maskApi).setTemplate(maskTpl).on("render",function(){var self=this;this.getElement().on("click"+ns,function(e){e.stopPropagation(),e.preventDefault(),self.toggle()})}).on("destroy",function(){this.getElement().off(ns)}).init().render($container).mask()}var answerMasking,allMasks=[],maskApi={toggle:function(){
return this.is("masked")?this.reveal():this.mask()},reveal:function(){var $container=this.getContainer();return $container.removeClass("masked"),$container.find("input").removeAttr("disabled"),this.setState("masked",!1),this},mask:function(){var $container=this.getContainer();return $container.addClass("masked"),$container.find("input").attr("disabled","disabled"),this.setState("masked",!0),this}};return answerMasking={enable:function(){var $choiceInteractions=$contentArea.find(".qti-choiceInteraction"),$qtiChoices=$contentArea.find(".qti-choice");allMasks=[],$choiceInteractions.addClass("maskable"),$qtiChoices.each(function(){var $choice=$(this)
;allMasks.push(createMask($choice))}),this.setState("enabled",!0)},disable:function(){$contentArea.find(".qti-choiceInteraction").removeClass("maskable"),allMasks.forEach(function(mask){mask.reveal(),mask.destroy()}),allMasks=[],this.setState("enabled",!1)},getMasksState:function(){return allMasks.map(function(mask){return mask.is("masked")})},setMasksState:function(state){state=state||[],state.forEach(function(masked,index){var mask=allMasks[index];_.isObject(mask)&&_.isFunction(mask.reveal)&&!masked&&mask.reveal()})}},statifier(answerMasking),answerMasking}}),
define("taoQtiTest/runner/plugins/tools/answerMasking/plugin",["jquery","lodash","i18n","taoTests/runner/plugin","ui/hider","util/shortcut","util/namespace","taoQtiTest/runner/plugins/tools/answerMasking/answerMasking"],function($,_,__,pluginFactory,hider,shortcut,namespaceHelper,answerMaskingFactory){"use strict";var itemStates={},defaultConfig={restoreStateOnToggle:!0,restoreStateOnMove:!0};return pluginFactory({name:"answer-masking",init:function(){function isPluginEnabled(){return((testRunner.getTestContext()||{}).options||{}).answerMasking&&itemContainsChoiceInteraction()}function itemContainsChoiceInteraction(){
return self.getAreaBroker().getContentArea().parent().find(".qti-choiceInteraction").length}function togglePluginButton(){isPluginEnabled()?self.show():self.hide()}function togglePlugin(){answerMasking.getState("enabled")?disableMasking():enableMasking()}function enableMasking(){var testContext=testRunner.getTestContext(),itemId=testContext.itemIdentifier;answerMasking.enable(),pluginConfig.restoreStateOnToggle&&answerMasking.setMasksState(itemStates[itemId]),self.button.turnOn(),self.trigger("start")}function disableMasking(){var testContext=testRunner.getTestContext(),itemId=testContext.itemIdentifier
;answerMasking.getState("enabled")&&(itemStates[itemId]=answerMasking.getMasksState()),answerMasking.disable(),self.button.turnOff(),self.trigger("end")}var self=this,testRunner=this.getTestRunner(),testData=testRunner.getTestData()||{},testConfig=testData.config||{},pluginConfig=_.defaults((testConfig.plugins||{})["answer-masking"]||{},defaultConfig),pluginShortcuts=(testConfig.shortcuts||{})["answer-masking"]||{},$contentArea=this.getAreaBroker().getContentArea(),answerMasking=answerMaskingFactory($contentArea);this.button=this.getAreaBroker().getToolbox().createEntry({title:__("Answer Masking"),icon:"result-nok",control:"answer-masking",
text:__("Answer Masking")}),this.button.on("click",function(e){e.preventDefault(),testRunner.trigger("tool-answer-masking-toggle")}),testConfig.allowShortcuts&&pluginShortcuts.toggle&&shortcut.add(namespaceHelper.namespaceAll(pluginShortcuts.toggle,this.getName(),!0),function(){testRunner.trigger("tool-answer-masking-toggle")},{avoidInput:!0,prevent:!0}),this.disable(),testRunner.on("loaditem",function(){var testContext=testRunner.getTestContext(),itemId=testContext.itemIdentifier;pluginConfig.restoreStateOnMove||(itemStates[itemId]=[]),togglePluginButton()}).on("enabletools renderitem",function(){togglePluginButton(),self.enable()
}).on("beforeunloaditem",function(){disableMasking()}).on("disabletools unloaditem",function(){self.disable(),disableMasking()}).on("tool-answer-masking-toggle",function(){isPluginEnabled()&&togglePlugin()}).on("tool-eliminator-toggle",function(){disableMasking()})},destroy:function(){shortcut.remove("."+this.getName())},enable:function(){this.button.enable()},disable:function(){this.button.disable()},show:function(){this.button.show()},hide:function(){this.button.hide()}})}),
define("taoQtiTest/runner/plugins/tools/answerElimination/eliminator",["jquery","lodash","i18n","ui/hider","util/shortcut","util/namespace","taoTests/runner/plugin"],function($,_,__,hider,shortcut,namespaceHelper,pluginFactory){"use strict";var defaultConfig={removeEliminationsOnClose:!1,restoreEliminationsOnOpen:!1};return pluginFactory({name:"eliminator",init:function(){function isPluginEnabled(){return!!((testRunner.getTestContext()||{}).options||{}).eliminator}function togglePluginButton(){isPluginEnabled()?self.show():self.hide()}function togglePlugin(){self.$choiceInteractions&&(self.$choiceInteractions.toggleClass("eliminable"),
isEliminable()?enableEliminator():disableEliminator())}function isEliminable(){if(self.$choiceInteractions)return self.$choiceInteractions.hasClass("eliminable")}function enableEliminator(){var $choices;self.$choiceInteractions&&($choices=self.$choiceInteractions.find(".qti-choice"),self.button.turnOn(),self.trigger("start"),config.restoreEliminationsOnOpen&&$choices.each(function(){var input=this.querySelector(".real-label input");this.dataset.wasEliminated&&(this.dataset.wasEliminated=null,this.classList.add("eliminated"),input.setAttribute("disabled","disabled"),input.checked=!1)}))}function disableEliminator(){var $choices
;self.$choiceInteractions&&($choices=self.$choiceInteractions.find(".qti-choice"),self.$choiceInteractions.removeClass("eliminable"),self.button.turnOff(),self.trigger("end"),$choices.each(function(){this.classList.contains("eliminated")&&(this.dataset.wasEliminated=!0,this.classList.remove("eliminated"),this.querySelector(".real-label input").removeAttribute("disabled"))}))}
var self=this,testRunner=this.getTestRunner(),$container=testRunner.getAreaBroker().getContentArea().parent(),testConfig=testRunner.getTestData().config||{},pluginShortcuts=(testConfig.shortcuts||{}).eliminator||{},config=_.defaults(_.clone((testConfig.plugins||{}).eliminator)||{},defaultConfig);this.button=this.getAreaBroker().getToolbox().createEntry({control:"eliminator",title:__("Eliminate choices"),icon:"eliminate",text:__("Answer Eliminator")}),this.button.on("click",function(e){e.preventDefault(),testRunner.trigger("tool-eliminator-toggle")}),testConfig.allowShortcuts&&_.forEach(pluginShortcuts,function(command,key){
shortcut.add(namespaceHelper.namespaceAll(command,"eliminator",!0),function(){testRunner.trigger("tool-eliminator-"+key)},{avoidInput:!0})}),this.disable(),testRunner.on("loaditem",togglePluginButton).on("renderitem",function(){if(self.$choiceInteractions=$container.find(".qti-choiceInteraction"),!self.$choiceInteractions.length)return void self.hide();isPluginEnabled()&&self.show()}).on("enabletools renderitem",function(){self.enable()}).on("disabletools unloaditem",function(){self.disable(),disableEliminator()}).on("tool-eliminator-toggle",function(){isPluginEnabled()&&togglePlugin()}).on("tool-answer-masking-toggle",function(){
isEliminable()&&disableEliminator()})},destroy:function(){shortcut.remove(".eliminator")},enable:function(){this.button.enable()},disable:function(){this.button.disable()},show:function(){this.button.show()},hide:function(){this.button.hide()}})}),define("tpl!taoQtiTest/runner/plugins/tools/areaMasking/mask",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var helper,options,buffer="",helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression
;return buffer+='<div class="mask">\n   <div class="inner"></div>\n   <div class="controls">\n        <a href="#" class="view"  title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Preview the covered area",options):helperMissing.call(depth0,"__","Preview the covered area",options)))+'"><span class="icon-preview"></span></a>\n        <a href="#" class="close" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Close the mask",options):helperMissing.call(depth0,"__","Close the mask",options)))+'"><span class="icon-result-nok"></span></a>\n   </div>\n</div>'})}),define("taoQtiTest/runner/plugins/tools/areaMasking/mask",["lodash","ui/movableComponent","tpl!taoQtiTest/runner/plugins/tools/areaMasking/mask"],function(_,movableComponent,areaMaskingTpl){"use strict";function maskingComponentFactory(){var maskComponent=movableComponent({preview:function(){var self=this,delay=this.config.previewDelay||1e3;return!this.is("rendered")||this.is("disabled")||this.is("previewing")||(this.setState("previewing",!0).trigger("preview"),_.delay(function(){
self.setState("previewing",!1)},delay)),this}},defaultConfig);return maskComponent.setTemplate(areaMaskingTpl).on("render",function(){var self=this;this.getElement().on("click touchstart",".view",function(e){e.preventDefault(),self.preview()}).on("click touchstart",".close",function(e){e.preventDefault(),self.destroy()})}),maskComponent}var defaultConfig={previewDelay:3e3,stackingScope:"test-runner"};return maskingComponentFactory}),
define("taoQtiTest/runner/plugins/tools/areaMasking/areaMasking",["jquery","lodash","i18n","ui/hider","util/shortcut","util/namespace","taoTests/runner/plugin","taoQtiTest/runner/plugins/tools/areaMasking/mask"],function($,_,__,hider,shortcut,namespaceHelper,pluginFactory,maskComponent){"use strict";var defaultConfig={max:5,foo:!0};return pluginFactory({name:"area-masking",init:function(){function addMask(){maskComponent().on("render",function(){self.masks.push(this),self.button.turnOn(),self.trigger("maskadd")}).on("destroy",function(){self.masks=_.without(self.masks,this),self.masks.length<config.max&&self.enable(),
0===self.masks.length&&(self.button.turnOff(),self.trigger("close")),self.trigger("maskclose")}).init({x:10*self.masks.length,y:10*self.masks.length}).render($container)}function isEnabled(){return!!(testRunner.getTestContext().options||{}).areaMasking}function togglePlugin(){isEnabled()?self.show():self.hide()}var self=this,testRunner=this.getTestRunner(),$container=testRunner.getAreaBroker().getContentArea().parent(),testConfig=testRunner.getTestData().config||{},config=_.defaults(_.clone((testConfig.plugins||{})["area-masking"])||{},defaultConfig),pluginShortcuts=(testConfig.shortcuts||{})["area-masking"]||{};this.masks=[],
this.button=this.getAreaBroker().getToolbox().createEntry({control:"area-masking",text:__("Masking"),title:__("Covers parts of the item"),icon:"eye-slash"}),this.button.on("click",function(e){e.preventDefault(),testRunner.trigger("tool-area-masking-toggle")}),testConfig.allowShortcuts&&_.forEach(pluginShortcuts,function(command,key){shortcut.add(namespaceHelper.namespaceAll(command,"area-masking",!0),function(){testRunner.trigger("tool-area-masking-"+key)},{avoidInput:!0})}),this.disable(),testRunner.on("loaditem",togglePlugin).on("enabletools renderitem",function(){self.enable()}).on("disabletools unloaditem",function(){self.disable(),
_.invoke(self.masks,"destroy")}).on("tool-area-masking-toggle",function(){isEnabled()&&(0===self.masks.length&&self.trigger("open"),self.masks.length<config.max?addMask():1===config.max&&_.invoke(self.masks,"destroy"))})},destroy:function(){shortcut.remove(".area-masking")},enable:function(){this.button.enable()},disable:function(){this.button.disable()},show:function(){this.button.show()},hide:function(){this.button.hide()}})}),define("taoQtiItem/qtiItem/core/IdentifiedElement",["taoQtiItem/qtiItem/core/Element","taoQtiItem/qtiItem/helper/util"],function(Element,util){"use strict";return Element.extend({buildIdentifier:function(prefix,useSuffix){
var item=this.getRootElement(),id=util.buildIdentifier(item,prefix||this.qtiClass,useSuffix);return id&&this.attr("identifier",id),this},id:function(value){return value||this.attr("identifier")||this.buildIdentifier(this.qtiClass,!0),this.attr("identifier",value)}})}),define("taoQtiItem/qtiItem/core/choices/Choice",["taoQtiItem/qtiItem/core/IdentifiedElement"],function(IdentifiedElement){return IdentifiedElement.extend({init:function(serial,attributes){this._super(serial,attributes)},is:function(qtiClass){return"choice"===qtiClass||this._super(qtiClass)},getInteraction:function(){var found,ret=null,item=this.getRootElement()
;return item&&(found=item.find(this.serial))&&(ret=found.parent),ret}})}),define("taoQtiItem/qtiItem/core/choices/Hotspot",["taoQtiItem/qtiItem/core/choices/Choice"],function(QtiChoice){return QtiChoice.extend({})}),define("taoQtiItem/qtiItem/core/choices/AssociableHotspot",["taoQtiItem/qtiItem/core/choices/Hotspot"],function(QtiHotspot){return QtiHotspot.extend({qtiClass:"associableHotspot"})}),define("taoQtiItem/qtiItem/mixin/Mixin",[],function(){return{augment:function(targetClass,methods,options){if("function"==typeof targetClass&&"object"==typeof methods)for(var methodName in methods)if(Object.hasOwnProperty(targetClass.prototype,methodName)){
if(options&&options.append){var _parent=targetClass.prototype[methodName];targetClass.prototype[methodName]=function(){return methods[methodName].apply(this,arguments),_parent.apply(this,arguments)}}}else targetClass.prototype[methodName]=methods[methodName]}}}),define("taoQtiItem/qtiItem/core/Container",["jquery","lodash","taoQtiItem/qtiItem/core/Element","taoQtiItem/qtiItem/helper/rendererConfig"],function($,_,Element,rendererConfig){"use strict";return Element.extend({qtiClass:"_container",init:function(body){if(this._super(),body&&"string"!=typeof body)throw"the body of a container must be a string";this.bdy=body||"",this.elements={}},
body:function(body){if(void 0===body)return this.bdy;if("string"!=typeof body)throw"body must be a string";this.bdy=body,$(document).trigger("containerBodyChange",{body:body,container:this,parent:this.parent()})},setElements:function(elements,body){var returnValue=!1;for(var i in elements){var elt=elements[i];if(!(elt instanceof Element))throw returnValue=!1,"expected a qti element";body=body||this.bdy,-1===body.indexOf(elt.placeholder())&&(body+=elt.placeholder()),elt.setRootElement(this.getRootElement()||null),this.elements[elt.getSerial()]=elt,$(document).trigger("containerElementAdded",{element:elt,container:this}),returnValue=!0}return this.body(body),
returnValue},setElement:function(element,body){return this.setElements([element],body)},removeElement:function(element){var serial="";return"string"==typeof element?serial=element:element instanceof Element&&(serial=element.getSerial()),delete this.elements[serial],this.body(this.body().replace("{{"+serial+"}}","")),this},getElements:function(qtiClass){var elts={};if("string"==typeof qtiClass)for(var serial in this.elements)Element.isA(this.elements[serial],qtiClass)&&(elts[serial]=this.elements[serial]);else elts=_.clone(this.elements);return elts},getElement:function(serial){return this.elements[serial]?this.elements[serial]:null},
getComposingElements:function(){var elements=this.getElements(),elts={};for(var serial in elements)elts[serial]=elements[serial],elts=_.extend(elts,elements[serial].getComposingElements());return elts},render:function(){var args=rendererConfig.getOptionsFromArguments(arguments),renderer=args.renderer||this.getRenderer(),elementsData=[],tpl=this.body();for(var serial in this.elements){var elt=this.elements[serial];if("function"!=typeof elt.render)throw"render() is not defined for the qti element: "+serial;"_container"===elt.qtiClass?tpl=tpl.replace(elt.placeholder(),elt.render(renderer)):(tpl=tpl.replace(elt.placeholder(),"{{{"+serial+"}}}"),
elementsData[serial]=elt.render(renderer))}if(renderer.isRenderer)return this._super({body:renderer.renderDirect(tpl,elementsData),contentModel:this.contentModel||"flow"},renderer,args.placeholder);throw"invalid qti renderer for qti container"},postRender:function(data,altClassName,renderer){return renderer=renderer||this.getRenderer(),_(this.elements).filter(function(elt){return"function"==typeof elt.postRender}).map(function(elt){return elt.postRender(data,"",renderer)}).flatten(!0).value().concat(this._super(data,altClassName,renderer))},toArray:function(){var arr={serial:this.serial,body:this.bdy,elements:{}}
;for(var serial in this.elements)arr.elements[serial]=this.elements[serial].toArray();return arr},find:function(serial,parent){var found=null;return this.elements[serial]?found={parent:parent||this,element:this.elements[serial],location:"body"}:_.each(this.elements,function(elt){if(found=elt.find(serial))return!1}),found},isEmpty:function(){return!this.bdy}})}),define("taoQtiItem/qtiItem/mixin/Container",["taoQtiItem/qtiItem/mixin/Mixin","taoQtiItem/qtiItem/core/Container"],function(Mixin,Container){var methods={initContainer:function(body){this.bdy=new Container(body||""),this.bdy.setRootElement(this.getRootElement()||null),
this.bdy.contentModel="blockStatic"},getBody:function(){return this.bdy},body:function(body){var ret=this.bdy.body(body);return body?this:ret},setElement:function(element,body){return this.bdy.setElement(element,body),this},removeElement:function(element){return this.bdy.removeElement(element)},getElements:function(qtiClass){return this.bdy.getElements(qtiClass)},getElement:function(serial){return this.bdy.getElement(serial)}};return{augment:function(targetClass){Mixin.augment(targetClass,methods)},methods:methods}}),
define("taoQtiItem/qtiItem/core/choices/ContainerChoice",["taoQtiItem/qtiItem/core/choices/Choice","taoQtiItem/qtiItem/mixin/Container"],function(Choice,Container){var ContainerChoice=Choice.extend({init:function(serial,attributes){this._super(serial,attributes)},is:function(qtiClass){return"containerChoice"===qtiClass||this._super(qtiClass)}});return Container.augment(ContainerChoice),ContainerChoice}),define("taoQtiItem/qtiItem/core/choices/Gap",["taoQtiItem/qtiItem/core/choices/Choice"],function(QtiChoice){return QtiChoice.extend({qtiClass:"gap"})}),
define("taoQtiItem/qtiItem/core/Object",["taoQtiItem/qtiItem/core/Element","lodash","taoQtiItem/qtiItem/helper/rendererConfig","taoQtiItem/qtiItem/helper/util"],function(Element,_,rendererConfig,util){return Element.extend({qtiClass:"object",getMediaType:function(){var type="undefined",mimetype=this.attr("type");return mimetype&&(type=0===mimetype.indexOf("video")?"video":0===mimetype.indexOf("audio")?"audio":0===mimetype.indexOf("image")?"image":0===mimetype.indexOf("text/html")?"html":"object"),type},render:function(){var args=rendererConfig.getOptionsFromArguments(arguments),renderer=args.renderer||this.getRenderer(),defaultData={}
;switch(this.getMediaType()){case"video":defaultData.video=!0;break;case"audio":defaultData.audio=!0;break;case"html":defaultData.html=!0;break;case"image":default:defaultData.object=!0}return defaultData.attributes={data:renderer.resolveUrl(this.attr("data"))},defaultData.body=this._alt,this._super(_.merge(defaultData,args.data),args.placeholder,args.subclass,renderer)},isEmpty:function(){return!this.attr("data")}})}),define("taoQtiItem/qtiItem/core/choices/GapImg",["taoQtiItem/qtiItem/core/choices/Choice","taoQtiItem/qtiItem/core/Object"],function(QtiChoice,QtiObject){return QtiChoice.extend({qtiClass:"gapImg",initObject:function(object){
this.object=object||new QtiObject},getObject:function(){return this.object}})}),define("taoQtiItem/qtiItem/core/choices/GapText",["taoQtiItem/qtiItem/core/choices/ContainerChoice"],function(QtiContainerChoice){"use strict";return QtiContainerChoice.extend({qtiClass:"gapText"})}),define("taoQtiItem/qtiItem/core/choices/HotspotChoice",["taoQtiItem/qtiItem/core/choices/Hotspot"],function(QtiHotspot){return QtiHotspot.extend({qtiClass:"hotspotChoice"})}),define("taoQtiItem/qtiItem/mixin/ContainerInline",["taoQtiItem/qtiItem/mixin/Mixin","taoQtiItem/qtiItem/mixin/Container","lodash"],function(Mixin,Container,_){var methods={}
;return _.extend(methods,Container.methods),_.extend(methods,{initContainer:function(body){Container.methods.initContainer.call(this,body),this.bdy.contentModel="inlineStatic"}}),{augment:function(targetClass){Mixin.augment(targetClass,methods)},methods:methods}}),define("taoQtiItem/qtiItem/core/choices/Hottext",["taoQtiItem/qtiItem/core/choices/Choice","taoQtiItem/qtiItem/mixin/ContainerInline"],function(Choice,Container){var Hottext=Choice.extend({qtiClass:"hottext"});return Container.augment(Hottext),Hottext}),
define("taoQtiItem/qtiItem/core/choices/TextVariableChoice",["jquery","lodash","taoQtiItem/qtiItem/core/choices/Choice","taoQtiItem/qtiItem/helper/rendererConfig"],function($,_,QtiChoice,rendererConfig){return QtiChoice.extend({init:function(serial,attributes,text){this._super(serial,attributes),this.val(text||"")},is:function(qtiClass){return"textVariableChoice"===qtiClass||this._super(qtiClass)},val:function(text){if(void 0===text)return this.text;if("string"!=typeof text)throw"text must be a string";return this.text=text,$(document).trigger("choiceTextChange",{choice:this,text:text}),this},render:function(){
var args=rendererConfig.getOptionsFromArguments(arguments),renderer=args.renderer||this.getRenderer(),defaultData={body:this.text};return this._super(_.merge(defaultData,args.data),args.placeholder,args.subclass,renderer)}})}),define("taoQtiItem/qtiItem/core/choices/InlineChoice",["taoQtiItem/qtiItem/core/choices/TextVariableChoice"],function(QtiTextVariableChoice){return QtiTextVariableChoice.extend({qtiClass:"inlineChoice"})}),define("taoQtiItem/qtiItem/core/choices/SimpleAssociableChoice",["taoQtiItem/qtiItem/core/choices/ContainerChoice"],function(QtiContainerChoice){return QtiContainerChoice.extend({qtiClass:"simpleAssociableChoice"})}),
define("taoQtiItem/qtiItem/core/choices/SimpleChoice",["taoQtiItem/qtiItem/core/choices/ContainerChoice"],function(QtiContainerChoice){return QtiContainerChoice.extend({qtiClass:"simpleChoice"})}),define("taoQtiItem/qtiItem/core/choices/TextEntry",["taoQtiItem/qtiItem/core/choices/TextVariableChoice"],function(QtiTextVariableChoice){return QtiTextVariableChoice.extend({qtiClass:"textEntry"})}),define("taoQtiItem/qtiItem/core/feedbacks/Feedback",["taoQtiItem/qtiItem/core/IdentifiedElement"],function(IdentifiedElement){return IdentifiedElement.extend({is:function(qtiClass){return"feedback"===qtiClass||this._super(qtiClass)}})}),
define("taoQtiItem/qtiItem/core/feedbacks/FeedbackBlock",["taoQtiItem/qtiItem/core/feedbacks/Feedback"],function(Feedback){return Feedback.extend({})}),define("taoQtiItem/qtiItem/core/feedbacks/FeedbackInline",["taoQtiItem/qtiItem/core/feedbacks/Feedback"],function(Feedback){return Feedback.extend({})}),define("taoQtiItem/qtiItem/core/feedbacks/ModalFeedback",["taoQtiItem/qtiItem/core/IdentifiedElement","taoQtiItem/qtiItem/mixin/Container"],function(IdentifiedElement,Container){var ModalFeedback=IdentifiedElement.extend({qtiClass:"modalFeedback",is:function(qtiClass){return"feedback"===qtiClass||this._super(qtiClass)}})
;return Container.augment(ModalFeedback),ModalFeedback}),define("taoQtiItem/qtiItem/core/Img",["taoQtiItem/qtiItem/core/Element","lodash","taoQtiItem/qtiItem/helper/rendererConfig"],function(Element,_,rendererConfig){return Element.extend({qtiClass:"img",render:function(){var args=rendererConfig.getOptionsFromArguments(arguments),renderer=args.renderer||this.getRenderer(),defaultData={};return defaultData.attributes={src:renderer.resolveUrl(this.attr("src"))},this._super(_.merge(defaultData,args.data),args.placeholder,args.subclass,renderer)},isEmpty:function(){return!this.attr("src")}})}),
define("taoQtiItem/qtiItem/mixin/NamespacedElement",["taoQtiItem/qtiItem/mixin/Mixin","lodash"],function(Mixin,_){"use strict";var methods={getNamespace:function(){var relatedItem,namespaces,ns;if(this.ns&&(this.ns.name||this.ns.uri))return _.clone(this.ns);if(relatedItem=this.getRootElement()){namespaces=relatedItem.getNamespaces();for(ns in namespaces)if(namespaces[ns].indexOf(this.nsUriFragment)>0)return{name:ns,uri:namespaces[ns]};return relatedItem.namespaces[this.defaultNsName]=this.defaultNsUri,{name:this.defaultNsName,uri:this.defaultNsUri}}return{}},setNamespace:function(name,uri){this.ns={name:name,uri:uri}}};return{augment:function(targetClass){
Mixin.augment(targetClass,methods)},methods:methods}}),define("taoQtiItem/qtiItem/core/Include",["taoQtiItem/qtiItem/core/Element","taoQtiItem/qtiItem/mixin/ContainerInline","taoQtiItem/qtiItem/mixin/NamespacedElement"],function(Element,Container,NamespacedElement){var Include=Element.extend({qtiClass:"include",defaultNsName:"xi",defaultNsUri:"http://www.w3.org/2001/XInclude",nsUriFragment:"XInclude",isEmpty:function(){return!this.attr("href")||this.getBody().isEmpty()}});return Container.augment(Include),NamespacedElement.augment(Include),Include}),
define("taoQtiItem/qtiItem/core/interactions/Interaction",["taoQtiItem/qtiItem/core/Element","lodash","taoQtiItem/qtiItem/helper/rendererConfig","taoQtiItem/qtiItem/helper/util"],function(Element,_,rendererConfig,util){"use strict";return Element.extend({init:function(serial,attributes){this._super(serial,attributes),this.choices={}},is:function(qtiClass){return"interaction"===qtiClass||this._super(qtiClass)},addChoice:function(choice){return choice.setRootElement(this.getRootElement()||null),this.choices[choice.getSerial()]=choice,this},getChoices:function(){var choices={};for(var i in this.choices)choices[i]=this.choices[i];return choices},
getChoice:function(serial){var ret=null;return this.choices[serial]&&(ret=this.choices[serial]),ret},getChoiceByIdentifier:function(identifier){for(var i in this.choices)if(this.choices[i].id()===identifier)return this.choices[i];return null},getComposingElements:function(){var elts=this._super();for(var serial in this.choices)Element.isA(this.choices[serial],"choice")&&(elts[serial]=this.choices[serial],elts=_.extend(elts,this.choices[serial].getComposingElements()));return elts},find:function(serial){var found=this._super(serial);return found||(found=util.findInCollection(this,"choices",serial)),found},getResponseDeclaration:function(){
var response=null,responseId=this.attr("responseIdentifier");if(responseId){var item=this.getRootElement();if(!item)throw"cannot get response of an interaction out of its item context";response=item.getResponseDeclaration(responseId)}return response},render:function(){var args=rendererConfig.getOptionsFromArguments(arguments),renderer=args.renderer||this.getRenderer(),defaultData={_type:this.qtiClass.replace(/([A-Z])/g,function($1){return"_"+$1.toLowerCase()}),choices:[],choiceShuffle:!0};if(!renderer)throw"no renderer found for the interaction "+this.qtiClass
;var choices=this.attr("shuffle")&&renderer.getOption("shuffleChoices")?renderer.getShuffledChoices(this):this.getChoices(),interactionData={interaction:{serial:this.serial,attributes:this.attributes}},_this=this;_.each(choices,function(choice){if(Element.isA(choice,"choice"))try{var renderedChoice=choice.render(_.clone(interactionData,!0),null,choice.qtiClass+"."+_this.qtiClass,renderer);defaultData.choices.push(renderedChoice)}catch(e){}});var tplName=args.subclass?this.qtiClass+"."+args.subclass:this.qtiClass;return this._super(_.merge(defaultData,args.data),args.placeholder,tplName,renderer)},postRender:function(data,altClassName,renderer){var self=this
;return renderer=renderer||this.getRenderer(),_(this.getChoices()).filter(function(elt){return Element.isA(elt,"choice")}).map(function(choice){return choice.postRender({},choice.qtiClass+"."+self.qtiClass,renderer)}).value().concat(this._super(data,altClassName,renderer))},setResponse:function(values){var renderer=this.getRenderer();if(!renderer)throw"no renderer found for the interaction "+this.qtiClass;return renderer.setResponse(this,values)},getResponse:function(){var renderer=this.getRenderer();if(!renderer)throw"no renderer found for the interaction "+this.qtiClass;return renderer.getResponse(this)},resetResponse:function(){
var renderer=this.getRenderer();if(!renderer)throw"no renderer found for the interaction "+this.qtiClass;return renderer.resetResponse(this)},getState:function(){var ret=null,renderer=this.getRenderer();if(!renderer)throw"no renderer found for the interaction "+this.qtiClass;return _.isFunction(renderer.getState)&&(ret=renderer.getState(this)),ret},setState:function(state){var renderer=this.getRenderer();if(!renderer)throw"no renderer found for the interaction "+this.qtiClass;_.isFunction(renderer.setState)&&renderer.setState(this,state)},clear:function(){var renderer=this.getRenderer()
;if(renderer&&_.isFunction(renderer.destroy))return renderer.destroy(this)},toArray:function(){var arr=this._super();arr.choices={};for(var serial in this.choices)Element.isA(this.choices[serial],"choice")&&(arr.choices[serial]=this.choices[serial].toArray());return arr},getNormalMaximum:function(){return!1}})}),define("taoQtiItem/qtiItem/core/interactions/Prompt",["taoQtiItem/qtiItem/core/Element","taoQtiItem/qtiItem/mixin/ContainerInline"],function(Element,Container){var Prompt=Element.extend({qtiClass:"prompt"});return Container.augment(Prompt),Prompt}),
define("taoQtiItem/qtiItem/core/interactions/BlockInteraction",["taoQtiItem/qtiItem/core/interactions/Interaction","taoQtiItem/qtiItem/core/interactions/Prompt","lodash","taoQtiItem/qtiItem/helper/rendererConfig"],function(Interaction,Prompt,_,rendererConfig){"use strict";return Interaction.extend({init:function(serial,attributes){this._super(serial,attributes),this.prompt=new Prompt("")},is:function(qtiClass){return"blockInteraction"===qtiClass||this._super(qtiClass)},getComposingElements:function(){var elts=this._super();return elts=_.extend(elts,this.prompt.getComposingElements()),elts[this.prompt.getSerial()]=this.prompt,elts},find:function(serial){
return this._super(serial)||this.prompt.find(serial)},render:function(){var args=rendererConfig.getOptionsFromArguments(arguments),renderer=args.renderer||this.getRenderer(),defaultData={prompt:this.prompt.render(renderer)};return this._super(_.merge(defaultData,args.data),args.placeholder,args.subclass,renderer)},postRender:function(data,altClassName,renderer){return renderer=renderer||this.getRenderer(),[].concat(this.prompt.postRender({},"",renderer)).concat(this._super(data,altClassName,renderer))},toArray:function(){var arr=this._super();return arr.prompt=this.prompt.toArray(),arr}})}),define("taoQtiItem/qtiItem/helper/response",["lodash"],function(_){
"use strict";var _templateNames={MATCH_CORRECT:"http://www.imsglobal.org/question/qti_v2p1/rptemplates/match_correct",MAP_RESPONSE:"http://www.imsglobal.org/question/qti_v2p1/rptemplates/map_response",MAP_RESPONSE_POINT:"http://www.imsglobal.org/question/qti_v2p1/rptemplates/map_response_point",NONE:"no_response_processing"};return{isUsingTemplate:function(response,tpl){return!(!_.isString(tpl)||tpl!==response.template&&_templateNames[tpl]!==response.template)},isValidTemplateName:function(tplName){return!!this.getTemplateUriFromName(tplName)},getTemplateUriFromName:function(tplName){return _templateNames[tplName]?_templateNames[tplName]:""},
getTemplateNameFromUri:function(tplUri){var tplName="";return _.forIn(_templateNames,function(uri,name){if(uri===tplUri)return tplName=name,!1}),tplName}}}),define("core/encoder/entity",[],function(){"use strict";var guiltyChars=["&","<",">",'"'];return{encode:function(input){return input+="",input.split("").map(function(character){return guiltyChars.indexOf(character)>-1?"&#"+character.charCodeAt()+";":character}).join("")},decode:function(input){return input+="",input.replace(/&#(\d+);/g,function(matches,code){return String.fromCharCode(code)})}}}),define("taoQtiItem/qtiCreator/model/helper/event",["jquery","lodash"],function($,_){"use strict"
;var eventList=["containerBodyChange","containerElementAdded","elementCreated.qti-widget","attributeChange.qti-widget","choiceCreated.qti-widget","correctResponseChange.qti-widget","mapEntryChange.qti-widget","mapEntryRemove.qti-widget","deleted.qti-widget","choiceTextChange.qti-widget","responseTemplateChange.qti-widget","mappingAttributeChange.qti-widget","feedbackRuleConditionChange.qti-widget","feedbackRuleCreated.qti-widget","feedbackRuleRemoved.qti-widget","feedbackRuleElseCreated.qti-widget","feedbackRuleElseRemoved.qti-widget"],event={choiceCreated:function(choice,interaction){$(document).trigger("choiceCreated.qti-widget",{choice:choice,
interaction:interaction})},choiceDeleted:function(choice,interaction){$(document).trigger("choiceDeleted.qti-widget",{choice:choice,interaction:interaction})},deleted:function(element,parent){element.isset()&&element.unset(),$(document).off("."+element.getSerial()),$(document).trigger("deleted.qti-widget",{element:element,parent:parent})},getList:function(addedNamespace){var events=_.clone(eventList);return addedNamespace?_.map(events,function(e){return e+"."+addedNamespace}):events},initElementToWidgetListeners:function(){var ns=".widget-container";$(document).off(ns).on(event.getList(ns).join(" "),function(e,data){
var element=data.element||data.container||null,widget=data&&element&&element.data("widget");!widget&&data.parent&&(element=data.parent,widget=element.data("widget")),widget&&widget.$container.trigger(e.type+".qti-creator.qti-creator",data)})},getNs:function(){return".qti-creator"},getNsModel:function(){return".qti-creator"}};return event}),define("taoQtiItem/qtiCreator/model/helper/invalidator",["lodash"],function(_){"use strict";return{completelyValid:function(element){var serial,invalidElements,item=element.getRootElement();item&&(serial=element.getSerial(),invalidElements=item.data("invalid")||{},delete invalidElements[serial],
item.data("invalid",invalidElements))},valid:function(element,key){var invalidElements,item=element.getRootElement(),serial=element.getSerial();if(item){if(invalidElements=item.data("invalid")||{},!key)throw new Error('missing required argument "key"');invalidElements[serial]&&invalidElements[serial][key]&&(delete invalidElements[serial][key],_.size(invalidElements[serial])||delete invalidElements[serial],item.data("invalid",invalidElements))}},invalid:function(element,key,message,stateName){var invalidElements,item=element.getRootElement(),serial=element.getSerial();if(item){if(invalidElements=item.data("invalid")||{},
!key)throw new Error('missing required arguments "key"');invalidElements[serial]||(invalidElements[serial]={}),invalidElements[serial][key]={message:message||"",stateName:stateName||"active"},item.data("invalid",invalidElements)}},isValid:function(element){var invalidElements,item=element.getRootElement(),serial=element.getSerial();return!item||(invalidElements=item.data("invalid")||{},!invalidElements[serial])}}}),
define("taoQtiItem/qtiCreator/model/mixin/editable",["lodash","jquery","core/encoder/entity","taoQtiItem/qtiItem/core/Element","taoQtiItem/qtiCreator/model/helper/event","taoQtiItem/qtiCreator/model/helper/invalidator"],function(_,$,entity,Element,event,invalidator){"use strict";var _removeSelf=function(element){var found,parent,removed=!1,related=element.getRootElement();if(!related)throw new Error("no related item found");return(found=related.find(element.getSerial()))&&(parent=found.parent,Element.isA(parent,"interaction")?("gapImg"===element.qtiClass?parent.removeGapImg(element):Element.isA(element,"choice")&&parent.removeChoice(element),
removed=!0):"body"===found.location&&_.isFunction(parent.initContainer)?(_.isFunction(element.beforeRemove)&&element.beforeRemove(),parent.getBody().removeElement(element),removed=!0):Element.isA(parent,"_container")&&(_.isFunction(element.beforeRemove)&&element.beforeRemove(),parent.removeElement(element),removed=!0),removed&&(element.data("removed",!0),invalidator.completelyValid(element),event.deleted(element,parent))),removed},_removeElement=function(element,containerPropName,eltToBeRemoved){var targetElt,targetSerial="";return element[containerPropName]&&("string"==typeof eltToBeRemoved?(targetSerial=eltToBeRemoved,
targetElt=Element.getElementBySerial(targetSerial)):eltToBeRemoved instanceof Element&&(targetSerial=eltToBeRemoved.getSerial(),targetElt=eltToBeRemoved),targetSerial&&(invalidator.completelyValid(targetElt),delete element[containerPropName][targetSerial],Element.unsetElement(targetSerial))),element};return{init:function(serial,attributes){var attr={};"object"==typeof serial&&(attributes=serial,serial=""),_.isFunction(this.getDefaultAttributes)&&_.extend(attr,this.getDefaultAttributes()),_.extend(attr,attributes),this._super(serial,attr)},attr:function(key,value){var ret=this._super(key,value)
;return void 0!==key&&void 0!==value&&$(document).trigger("attributeChange.qti-widget",{element:this,key:key,value:entity.encode(value)}),_.isString(ret)?entity.decode(ret):ret},removeAttr:function(key){var ret=this._super(key);return $(document).trigger("attributeChange.qti-widget",{element:this,key:key,value:null}),ret},remove:function(){if(0===arguments.length)return _removeSelf(this);if(2===arguments.length)return _removeElement(this,arguments[0],arguments[1]);throw new Error("invalid number of argument given")}}}),define("taoQtiItem/qtiItem/core/variables/VariableDeclaration",["taoQtiItem/qtiItem/core/IdentifiedElement"],function(IdentifiedElement){
"use strict";return IdentifiedElement.extend({init:function(serial,attributes){this._super(serial,attributes),this.defaultValue=null},is:function(qtiClass){return"variableDeclaration"===qtiClass||this._super(qtiClass)},toArray:function(){var arr=this._super();return arr.defaultValue=this.defaultValue,arr},setDefaultValue:function(value){this.defaultValue=value},getDefaultValue:function(){return this.defaultValue}})}),define("taoQtiItem/qtiItem/core/variables/OutcomeDeclaration",["taoQtiItem/qtiItem/core/variables/VariableDeclaration"],function(VariableDeclaration){return VariableDeclaration.extend({qtiClass:"outcomeDeclaration"})}),
define("taoQtiItem/qtiCreator/model/variables/OutcomeDeclaration",["lodash","taoQtiItem/qtiCreator/model/mixin/editable","taoQtiItem/qtiItem/core/variables/OutcomeDeclaration"],function(_,editable,OutcomeDeclaration){"use strict";var methods={};return _.extend(methods,editable),OutcomeDeclaration.extend(methods)}),define("taoQtiItem/qtiItem/helper/maxScore",["lodash","lib/gamp/gamp","taoQtiItem/qtiItem/helper/response","taoQtiItem/qtiCreator/model/variables/OutcomeDeclaration"],function(_,gamp,responseHelper,OutcomeDeclaration){"use strict";var pairExists=function(collection,pair){
return 2===pair.length&&(collection[pair[0]+" "+pair[1]]||collection[pair[1]+" "+pair[0]])};return{setNormalMaximum:function(item){var normalMaximum,scoreOutcome=item.getOutcomeDeclaration("SCORE");scoreOutcome&&item.responseProcessing&&"templateDriven"===item.responseProcessing.processingType&&(normalMaximum=_.reduce(item.getInteractions(),function(acc,interaction){var interactionMaxScore=interaction.getNormalMaximum();return!!_.isNumber(interactionMaxScore)&&gamp.add(acc,interactionMaxScore)},0),_.isNumber(normalMaximum)?scoreOutcome.attr("normalMaximum",normalMaximum):scoreOutcome.removeAttr("normalMaximum"))},setMaxScore:function(item){
var customOutcomes,maxScore,maxScoreOutcome,hasInvalidInteraction=!1,scoreOutcome=item.getOutcomeDeclaration("SCORE");scoreOutcome&&item.responseProcessing&&"templateDriven"===item.responseProcessing.processingType&&(maxScore=_.reduce(item.getInteractions(),function(acc,interaction){var interactionMaxScore=interaction.getNormalMaximum();return _.isNumber(interactionMaxScore)?gamp.add(acc,interactionMaxScore):(hasInvalidInteraction=!0,acc)},0),customOutcomes=_(item.getOutcomes()).filter(function(outcome){return"SCORE"!==outcome.id()&&"MAXSCORE"!==outcome.id()}),customOutcomes.size()&&(maxScore=customOutcomes.reduce(function(acc,outcome){
return gamp.add(acc,parseFloat(outcome.attr("normalMaximum")||0))},maxScore)),!hasInvalidInteraction||customOutcomes.size()?(maxScoreOutcome=item.getOutcomeDeclaration("MAXSCORE"),maxScoreOutcome||(maxScoreOutcome=new OutcomeDeclaration({cardinality:"single",baseType:"float"}),item.addOutcomeDeclaration(maxScoreOutcome),maxScoreOutcome.buildIdentifier("MAXSCORE",!1)),maxScoreOutcome.setDefaultValue(maxScore)):item.removeOutcome("MAXSCORE"))},getMatchMaxOrderedChoices:function(choiceCollection){return _(choiceCollection).map(function(choice){var matchMax=parseInt(choice.attr("matchMax"),10);return _.isNaN(matchMax)&&(matchMax=0),{
matchMax:0===matchMax?1/0:matchMax,id:choice.id()}}).sortBy("matchMax").reverse().valueOf()},choiceInteractionBased:function(interaction,options){var max,maxChoice,minChoice,scoreMaps,requiredChoiceCount,totalAnswerableResponse,sortedMapEntries,missingMapsCount,responseDeclaration=interaction.getResponseDeclaration(),mapDefault=parseFloat(responseDeclaration.mappingAttributes.defaultValue||0),template=responseHelper.getTemplateNameFromUri(responseDeclaration.template);if(options=_.defaults(options||{},{maxChoices:0,minChoices:0}),maxChoice=parseInt(interaction.attr("maxChoices")||options.maxChoices,10),minChoice=0,
maxChoice&&minChoice&&maxChoice<minChoice)return 0;if("MATCH_CORRECT"===template)max=maxChoice&&_.isArray(responseDeclaration.correctResponse)&&(responseDeclaration.correctResponse.length>maxChoice||responseDeclaration.correctResponse.length<minChoice)?0:!responseDeclaration.correctResponse||_.isArray(responseDeclaration.correctResponse)&&!responseDeclaration.correctResponse.length?0:1;else if("MAP_RESPONSE"===template){if(!responseDeclaration.mapEntries||!_.size(responseDeclaration.mapEntries))return 0;requiredChoiceCount=minChoice,totalAnswerableResponse=0===maxChoice?1/0:maxChoice,scoreMaps=_.values(responseDeclaration.mapEntries),
sortedMapEntries=_(scoreMaps).map(function(v){return parseFloat(v)}).sortBy().reverse().first(totalAnswerableResponse),missingMapsCount=minChoice-sortedMapEntries.size(),_.times(missingMapsCount,function(){sortedMapEntries.push(mapDefault)}),mapDefault&&mapDefault>0&&(missingMapsCount=maxChoice?maxChoice-sortedMapEntries.size():_.size(interaction.getChoices())-sortedMapEntries.size())>0&&_.times(missingMapsCount,function(){sortedMapEntries.push(mapDefault)}),max=sortedMapEntries.reduce(function(acc,v){var score=v;return score<0&&requiredChoiceCount<=0&&(score=0),requiredChoiceCount--,gamp.add(acc,score)},0),
responseDeclaration.mappingAttributes.upperBound&&(max=Math.min(max,parseFloat(responseDeclaration.mappingAttributes.upperBound||0)))}else"MAP_RESPONSE_POINT"===template&&(max=0);return max},orderInteractionBased:function(interaction){var max,maxChoice=parseInt(interaction.attr("maxChoices")||0,10),responseDeclaration=interaction.getResponseDeclaration(),template=responseHelper.getTemplateNameFromUri(responseDeclaration.template)
;return"MATCH_CORRECT"===template?max=_.isArray(responseDeclaration.correctResponse)&&maxChoice&&responseDeclaration.correctResponse.length>maxChoice?0:!responseDeclaration.correctResponse||_.isArray(responseDeclaration.correctResponse)&&!responseDeclaration.correctResponse.length?0:1:"MAP_RESPONSE"!==template&&"MAP_RESPONSE_POINT"!==template||(max=0),max},associateInteractionBased:function(interaction,options){
var max,requiredAssoc,totalAnswerableResponse,usedChoices,choicesIdentifiers,sortedMapEntries,i,allPossibleMapEntries,infiniteScoringPair,responseDeclaration=interaction.getResponseDeclaration(),template=responseHelper.getTemplateNameFromUri(responseDeclaration.template),maxAssoc=parseInt(interaction.attr("maxAssociations")||0,10),mapDefault=parseFloat(responseDeclaration.mappingAttributes.defaultValue||0);if(options=_.defaults(options||{},{possiblePairs:[],checkInfinitePair:!1}),
"MATCH_CORRECT"===template)!responseDeclaration.correctResponse||_.isArray(responseDeclaration.correctResponse)&&(!responseDeclaration.correctResponse.length||maxAssoc&&responseDeclaration.correctResponse.length>maxAssoc)?max=0:(max=1,choicesIdentifiers=[],_.forEach(responseDeclaration.correctResponse,function(pair){var choices;_.isString(pair)&&(choices=pair.trim().split(" "),_.isArray(choices)&&2===choices.length&&(choicesIdentifiers.push(choices[0].trim()),choicesIdentifiers.push(choices[1].trim())))}),_.forEach(_.countBy(choicesIdentifiers),function(count,identifier){var matchMax,choice=interaction.getChoiceByIdentifier(identifier)
;return choice?(matchMax=parseInt(choice.attr("matchMax"),10),matchMax&&matchMax<count?(max=0,!1):void 0):(max=0,!1)}));else if("MAP_RESPONSE"===template){if(requiredAssoc=0,totalAnswerableResponse=0===maxAssoc?1/0:maxAssoc,usedChoices={},!responseDeclaration.mapEntries||!_.size(responseDeclaration.mapEntries))return 0;if(allPossibleMapEntries=_.clone(responseDeclaration.mapEntries),mapDefault&&mapDefault>0&&_.forEachRight(options.possiblePairs,function(pair){pairExists(allPossibleMapEntries,pair)||(allPossibleMapEntries[pair[0]+" "+pair[1]]=mapDefault)}),sortedMapEntries=_(allPossibleMapEntries).map(function(score,pair){return{score:parseFloat(score),
pair:pair}}).sortBy("score").reverse().filter(function(mapEntry){var choices,choiceId,choice,_usedChoices,pair=mapEntry.pair;if(!_.isString(pair))return!1;if(choices=pair.trim().split(" "),_.isArray(choices)&&2===choices.length){for(_usedChoices=_.cloneDeep(usedChoices),i=0;i<2;i++){if(choiceId=choices[i],!_usedChoices[choiceId]){if(!(choice=interaction.getChoiceByIdentifier(choiceId)))return!1;_usedChoices[choiceId]={used:0,max:parseInt(choice.attr("matchMax"),10)}}if(_usedChoices[choiceId].max&&_usedChoices[choiceId].used===_usedChoices[choiceId].max)return!1;_usedChoices[choiceId].used++}
return infiniteScoringPair=infiniteScoringPair||options.checkInfinitePair&&mapEntry.score>0&&0===_usedChoices[choices[0]].max&&0===_usedChoices[choices[1]].max,_.assign(usedChoices,_usedChoices),!0}return!1}).first(totalAnswerableResponse),infiniteScoringPair)return!1;max=sortedMapEntries.reduce(function(acc,v){var score=v.score;return v.score<0&&requiredAssoc<=0&&(score=0),requiredAssoc--,gamp.add(acc,score)},0),responseDeclaration.mappingAttributes.upperBound&&(max=Math.min(max,parseFloat(responseDeclaration.mappingAttributes.upperBound||0)))}else"MAP_RESPONSE_POINT"===template&&(max=0);return max},gapMatchInteractionBased:function(interaction){
var max,skippableWrongResponse,totalAnswerableResponse,usedChoices,usedGaps,group1,group2,allPossibleMapEntries,responseDeclaration=interaction.getResponseDeclaration(),template=responseHelper.getTemplateNameFromUri(responseDeclaration.template),mapDefault=parseFloat(responseDeclaration.mappingAttributes.defaultValue||0),getMatchMaxOrderedChoices=function(choiceCollection){return _(choiceCollection).map(function(choice){return{matchMax:0===choice.attr("matchMax")?1/0:choice.attr("matchMax")||0,id:choice.id()}}).sortBy("matchMax").reverse().valueOf()}
;if("MATCH_CORRECT"===template)!responseDeclaration.correctResponse||_.isArray(responseDeclaration.correctResponse)&&!responseDeclaration.correctResponse.length?max=0:(max=1,group1=[],group2=[],_.forEach(responseDeclaration.correctResponse,function(pair){var choices;_.isString(pair)&&(choices=pair.trim().split(" "),_.isArray(choices)&&2===choices.length&&(group1.push(choices[0].trim()),group2.push(choices[1].trim())))}),_.forEach(_.countBy(group1),function(count,identifier){var choice=interaction.getChoiceByIdentifier(identifier),matchMax=parseInt(choice.attr("matchMax"),10);if(matchMax&&matchMax<count)return max=0,!1}),
_.forEach(_.countBy(group2),function(count){if(1<count)return max=0,!1}));else if("MAP_RESPONSE"===template){if(skippableWrongResponse=1/0,totalAnswerableResponse=1/0,usedChoices={},usedGaps={},!responseDeclaration.mapEntries||!_.size(responseDeclaration.mapEntries))return 0;allPossibleMapEntries=_.clone(responseDeclaration.mapEntries),mapDefault&&mapDefault>0&&_.forEachRight(function(gapMatchInteraction){var pairs=[],matchSet1=getMatchMaxOrderedChoices(gapMatchInteraction.getChoices()),matchSet2=getMatchMaxOrderedChoices(gapMatchInteraction.getGaps());return _.forEach(matchSet1,function(choice1){_.forEach(matchSet2,function(choice2){
pairs.push([choice1.id,choice2.id])})}),pairs}(interaction),function(pair){pairExists(allPossibleMapEntries,pair)||(allPossibleMapEntries[pair[0]+" "+pair[1]]=mapDefault)}),max=_(allPossibleMapEntries).map(function(score,pair){return{score:parseFloat(score),pair:pair}}).sortBy("score").reverse().filter(function(mapEntry){var choices,choiceId,gapId,choice,pair=mapEntry.pair,_usedChoices=_.cloneDeep(usedChoices);if(!_.isString(pair))return!1;if(choices=pair.trim().split(" "),_.isArray(choices)&&2===choices.length){if(choiceId=choices[0],gapId=choices[1],!_usedChoices[choiceId]){if(!(choice=interaction.getChoiceByIdentifier(choiceId)))return!1
;_usedChoices[choiceId]={used:0,max:parseInt(choice.attr("matchMax"),10)}}return(!_usedChoices[choiceId].max||_usedChoices[choiceId].used!==_usedChoices[choiceId].max)&&(_usedChoices[choiceId].used++,usedGaps[gapId]||(usedGaps[gapId]={used:0,max:1}),(!usedGaps[gapId].max||usedGaps[gapId].used!==usedGaps[gapId].max)&&(usedGaps[gapId].used++,_.assign(usedChoices,_usedChoices),!0))}return!1}).first(totalAnswerableResponse).reduce(function(acc,v){var score=v.score;return score>=0?acc+score:skippableWrongResponse>0?(skippableWrongResponse--,acc):acc+score},0),
responseDeclaration.mappingAttributes.upperBound&&(max=Math.min(max,parseFloat(responseDeclaration.mappingAttributes.upperBound||0)))}else"MAP_RESPONSE_POINT"===template&&(max=!1);return max},selectPointInteractionBased:function(interaction){var max,skippableWrongResponse,totalAnswerableResponse,maxChoice=parseInt(interaction.attr("maxChoices"),10),responseDeclaration=interaction.getResponseDeclaration(),template=responseHelper.getTemplateNameFromUri(responseDeclaration.template);return"MATCH_CORRECT"===template||"MAP_RESPONSE"===template?0:("MAP_RESPONSE_POINT"===template&&(skippableWrongResponse=1/0,totalAnswerableResponse=0===maxChoice?1/0:maxChoice,
max=_(responseDeclaration.mapEntries).map(function(v){return parseFloat(v.mappedValue)}).sortBy().reverse().first(totalAnswerableResponse).reduce(function(acc,v){return v>=0?acc+v:skippableWrongResponse>0?(skippableWrongResponse--,acc):acc+v},0),max=parseFloat(max),responseDeclaration.mappingAttributes.upperBound&&(max=Math.min(max,parseFloat(responseDeclaration.mappingAttributes.upperBound||0)))),max)},sliderInteractionBased:function(interaction){var max,scoreMaps,responseDeclaration=interaction.getResponseDeclaration(),template=responseHelper.getTemplateNameFromUri(responseDeclaration.template)
;if("MATCH_CORRECT"===template)max=!responseDeclaration.correctResponse||_.isArray(responseDeclaration.correctResponse)&&!responseDeclaration.correctResponse.length?0:1;else if("MAP_RESPONSE"===template){if(!responseDeclaration.mapEntries||!_.size(responseDeclaration.mapEntries))return 0;scoreMaps=_.values(responseDeclaration.mapEntries),max=_(scoreMaps).map(function(v){return parseFloat(v)}).max(),max=parseFloat(max),responseDeclaration.mappingAttributes.upperBound&&(max=Math.min(max,parseFloat(responseDeclaration.mappingAttributes.upperBound||0)))}else"MAP_RESPONSE_POINT"===template&&(max=0);return max},textEntryInteractionBased:function(interaction){
var max,scoreMaps,responseDeclaration=interaction.getResponseDeclaration(),template=responseHelper.getTemplateNameFromUri(responseDeclaration.template),isPossibleResponse=function(value){var patternMask=interaction.attr("patternMask");return!patternMask||!!value.match(new RegExp(patternMask))};if("MATCH_CORRECT"===template)max=!responseDeclaration.correctResponse||_.isArray(responseDeclaration.correctResponse)&&!responseDeclaration.correctResponse.length?0:isPossibleResponse(responseDeclaration.correctResponse[0])?1:0;else if("MAP_RESPONSE"===template){if(!responseDeclaration.mapEntries||!_.size(responseDeclaration.mapEntries))return 0
;scoreMaps=_.values(_.filter(responseDeclaration.mapEntries,function(score,key){return isPossibleResponse(key)})),max=_(scoreMaps).map(function(v){return parseFloat(v)}).max(),max=parseFloat(max),responseDeclaration.mappingAttributes.upperBound&&(max=Math.min(max,parseFloat(responseDeclaration.mappingAttributes.upperBound||0)))}else"MAP_RESPONSE_POINT"===template&&(max=0);return max}}}),define("taoQtiItem/qtiItem/core/interactions/AssociateInteraction",["taoQtiItem/qtiItem/core/interactions/BlockInteraction","taoQtiItem/qtiItem/helper/maxScore"],function(BlockInteraction,maxScore){"use strict";return BlockInteraction.extend({qtiClass:"associateInteraction",
getNormalMaximum:function(){return maxScore.associateInteractionBased(this,{possiblePairs:function(associateInteraction){var i,j,pairs=[],choices=maxScore.getMatchMaxOrderedChoices(associateInteraction.getChoices());for(i=0;i<choices.length;i++)for(j=i;j<choices.length;j++)pairs.push([choices[i].id,choices[j].id]);return pairs}(this)})}})}),define("taoQtiItem/qtiItem/core/interactions/ChoiceInteraction",["taoQtiItem/qtiItem/core/interactions/BlockInteraction","taoQtiItem/qtiItem/helper/maxScore"],function(BlockInteraction,maxScore){"use strict";return BlockInteraction.extend({qtiClass:"choiceInteraction",getNormalMaximum:function(){
return maxScore.choiceInteractionBased(this)}})}),define("taoQtiItem/qtiItem/core/interactions/ContainerInteraction",["taoQtiItem/qtiItem/core/interactions/BlockInteraction","taoQtiItem/qtiItem/mixin/Container"],function(BlockInteraction,Container){var ContainerInteraction=BlockInteraction.extend({});return Container.augment(ContainerInteraction),ContainerInteraction}),define("taoQtiItem/qtiItem/mixin/CustomElement",["taoQtiItem/qtiItem/mixin/Mixin","lodash"],function(Mixin,_){var methods={prop:function(name,value){
if(name)if(void 0!==value)this.properties[name]=value;else if("object"==typeof name)for(var prop in name)this.prop(prop,name[prop]);else if("string"==typeof name)return void 0===this.properties[name]?void 0:this.properties[name];return this},removeProp:function(propNames){var _this=this;return"string"==typeof propNames&&(propNames=[propNames]),_.each(propNames,function(propName){delete _this.attributes[propName]}),this},getProperties:function(){return _.clone(this.properties)},getMarkupNamespace:function(){if(this.markupNs&&this.markupNs.name&&this.markupNs.uri)return _.clone(this.markupNs);var relatedItem=this.getRootElement()
;return relatedItem?(relatedItem.namespaces[this.defaultMarkupNsName]=this.defaultMarkupNsUri,{name:this.defaultMarkupNsName,uri:this.defaultMarkupNsUri}):{}},setMarkupNamespace:function(name,uri){this.markupNs={name:name,uri:uri}}};return{augment:function(targetClass){Mixin.augment(targetClass,methods)},methods:methods}}),define("taoQtiItem/qtiItem/core/interactions/CustomInteraction",["lodash","taoQtiItem/qtiItem/core/interactions/Interaction","taoQtiItem/qtiItem/mixin/CustomElement","taoQtiItem/qtiItem/mixin/NamespacedElement","taoQtiItem/qtiItem/helper/rendererConfig"],function(_,Interaction,CustomElement,NamespacedElement,rendererConfig){
var CustomInteraction=Interaction.extend({qtiClass:"customInteraction",defaultNsName:"pci",defaultNsUri:"http://www.imsglobal.org/xsd/portableCustomInteraction",nsUriFragment:"portableCustomInteraction",defaultMarkupNsName:"html5",defaultMarkupNsUri:"html5",init:function(serial,attributes){this._super(serial,attributes),this.typeIdentifier="",this.markup="",this.properties={},this.libraries=[],this.entryPoint="",this.markupNs={},this.pciReadyCallbacks=[]},is:function(qtiClass){return"customInteraction"===qtiClass||this._super(qtiClass)},render:function(){
var args=rendererConfig.getOptionsFromArguments(arguments),renderer=args.renderer||this.getRenderer(),defaultData={typeIdentifier:this.typeIdentifier,markup:this.markup,properties:this.properties,libraries:this.libraries,entryPoint:this.entryPoint,ns:{pci:this.getNamespace().name+":"}};return this._super(_.merge(defaultData,args.data),args.placeholder,args.subclass,renderer)},toArray:function(){var arr=this._super();return arr.markup=this.markup,arr.properties=this.properties,arr},getMarkupNamespace:function(){if(this.markupNs&&this.markupNs.name&&this.markupNs.uri)return _.clone(this.markupNs);var relatedItem=this.getRootElement()
;return relatedItem?(relatedItem.namespaces[this.defaultMarkupNsName]=this.defaultMarkupNsUri,{name:this.defaultMarkupNsName,uri:this.defaultMarkupNsUri}):{}},setMarkupNamespace:function(name,uri){this.markupNs={name:name,uri:uri}},onPciReady:function(callback){this.pciReadyCallbacks.push(callback),this.data("pci")&&this.triggerPciReady()},triggerPciReady:function(){var _this=this,pci=this.data("pci");if(!pci)throw"cannot trigger pci ready when no pci is actually attached to the interaction";_.each(this.pciReadyCallbacks,function(fn){fn.call(_this,pci)}),this.pciReadyCallbacks=[],this.data("pciReady",!0)},onPci:function(event,callback){
return this.onPciReady(function(pci){if(!_.isFunction(pci.on))throw"the pci does not implement on() function";pci.on(event,callback)}),this},offPci:function(event){return this.onPciReady(function(pci){if(!_.isFunction(pci.off))throw"the pci does not implement off() function";pci.off(event)}),this},triggerPci:function(event,args){return this.onPciReady(function(pci){if(!_.isFunction(pci.off))throw"the pci does not implement off() function";pci.trigger(event,args)}),this}});return CustomElement.augment(CustomInteraction),NamespacedElement.augment(CustomInteraction),CustomInteraction}),
define("taoQtiItem/qtiItem/core/interactions/InlineInteraction",["taoQtiItem/qtiItem/core/interactions/Interaction"],function(Interaction){"use strict";return Interaction.extend({is:function(qtiClass){return"inlineInteraction"===qtiClass||this._super(qtiClass)}})}),define("taoQtiItem/qtiItem/core/interactions/EndAttemptInteraction",["taoQtiItem/qtiItem/core/interactions/InlineInteraction"],function(InlineInteraction){return InlineInteraction.extend({qtiClass:"endAttemptInteraction"})}),
define("taoQtiItem/qtiItem/core/interactions/ExtendedTextInteraction",["lodash","taoQtiItem/qtiItem/core/interactions/BlockInteraction","taoQtiItem/qtiItem/helper/rendererConfig","taoQtiItem/qtiItem/helper/maxScore"],function(_,BlockInteraction,rendererConfig,maxScore){"use strict";return BlockInteraction.extend({qtiClass:"extendedTextInteraction",render:function(){var i,args=rendererConfig.getOptionsFromArguments(arguments),renderer=args.renderer||this.getRenderer(),defaultData={multiple:!1,maxStringLoop:[]},response=this.getResponseDeclaration()
;if(this.attr("maxStrings")&&("multiple"===response.attr("cardinality")||"ordered"===response.attr("cardinality")))for(defaultData.multiple=!0,i=0;i<this.attr("maxStrings");i++)defaultData.maxStringLoop.push(i+"");return this._super(_.merge(defaultData,args.data),args.placeholder,args.subclass,renderer)},getNormalMaximum:function(){return maxScore.textEntryInteractionBased(this)}})}),define("taoQtiItem/qtiItem/core/interactions/GapMatchInteraction",["taoQtiItem/qtiItem/core/interactions/ContainerInteraction","taoQtiItem/qtiItem/helper/maxScore"],function(ContainerInteraction,maxScore){"use strict";return ContainerInteraction.extend({
qtiClass:"gapMatchInteraction",getGaps:function(){return this.getBody().getElements("gap")},getNormalMaximum:function(){return maxScore.gapMatchInteractionBased(this)}})}),define("taoQtiItem/qtiItem/core/interactions/ObjectInteraction",["taoQtiItem/qtiItem/core/interactions/BlockInteraction","taoQtiItem/qtiItem/core/Object"],function(QtiBlockInteraction,QtiObject){return QtiBlockInteraction.extend({initObject:function(object){this.object=object||new QtiObject},getObject:function(){return this.object}})}),
define("taoQtiItem/qtiItem/core/interactions/GraphicInteraction",["taoQtiItem/qtiItem/core/interactions/ObjectInteraction","lodash","taoQtiItem/qtiItem/helper/rendererConfig"],function(QtiObjectInteraction,_,rendererConfig){return QtiObjectInteraction.extend({render:function(){var args=rendererConfig.getOptionsFromArguments(arguments),renderer=args.renderer||this.getRenderer(),defaultData={backgroundImage:this.object.getAttributes(),object:this.object.render(renderer)};return this._super(_.merge(defaultData,args.data),args.placeholder,args.subclass,renderer)}})}),
define("taoQtiItem/qtiItem/core/interactions/GraphicAssociateInteraction",["taoQtiItem/qtiItem/core/interactions/GraphicInteraction","taoQtiItem/qtiItem/helper/maxScore"],function(GraphicInteraction,maxScore){"use strict";return GraphicInteraction.extend({qtiClass:"graphicAssociateInteraction",getNormalMaximum:function(){return maxScore.associateInteractionBased(this,{possiblePairs:function(associateInteraction){var i,j,pairs=[],choices=maxScore.getMatchMaxOrderedChoices(associateInteraction.getChoices());for(i=0;i<choices.length;i++)for(j=i;j<choices.length;j++)i!==j&&pairs.push([choices[i].id,choices[j].id]);return pairs}(this)})}})}),
define("taoQtiItem/qtiItem/core/interactions/GraphicGapMatchInteraction",["taoQtiItem/qtiItem/core/interactions/GraphicInteraction","taoQtiItem/qtiItem/core/Element","lodash","taoQtiItem/qtiItem/helper/rendererConfig","taoQtiItem/qtiItem/helper/maxScore","taoQtiItem/qtiItem/helper/response"],function(GraphicInteraction,Element,_,rendererConfig,maxScore,responseHelper){"use strict";return GraphicInteraction.extend({qtiClass:"graphicGapMatchInteraction",init:function(serial,attributes){this._super(serial,attributes),this.gapImgs={}},addGapImg:function(gapImg){Element.isA(gapImg,"gapImg")&&(gapImg.setRootElement(this.getRootElement()||null),
this.gapImgs[gapImg.getSerial()]=gapImg)},removeGapImg:function(gapImg){var serial="";return"string"==typeof gapImg?serial=gapImg:Element.isA(gapImg,"gapImg")&&(serial=gapImg.getSerial()),delete this.gapImgs[serial],this},getGapImgs:function(){return _.clone(this.gapImgs)},getGapImg:function(serial){return this.gapImgs[serial]},getChoiceByIdentifier:function(identifier){var choice=this._super(identifier);return choice||(choice=_.find(this.gapImgs,function(elt){return elt&&elt.id()===identifier})),choice},getComposingElements:function(){var serial,elts=this._super();for(serial in this.gapImgs)elts[serial]=this.gapImgs[serial],
elts=_.extend(elts,this.gapImgs[serial].getComposingElements());return elts},find:function(serial){var found=this._super(serial);return found||this.gapImgs[serial]&&(found={parent:this,element:this.gapImgs[serial]}),found},render:function(){var serial,args=rendererConfig.getOptionsFromArguments(arguments),renderer=args.renderer||this.getRenderer(),defaultData={gapImgs:[]},gapImgs=this.getGapImgs();for(serial in gapImgs)Element.isA(gapImgs[serial],"choice")&&defaultData.gapImgs.push(gapImgs[serial].render({},null,"",renderer));return this._super(_.merge(defaultData,args.data),args.placeholder,args.subclass,renderer)},toArray:function(){
var serial,gapImgs,arr=this._super();arr.gapImgs={},gapImgs=this.getGapImgs();for(serial in gapImgs)arr.gapImgs[serial]=gapImgs[serial].toArray();return arr},getNormalMaximum:function(){return maxScore.associateInteractionBased(this,{possiblePairs:function(graphicGapInteraction){var pairs=[],matchSet1=maxScore.getMatchMaxOrderedChoices(graphicGapInteraction.getGapImgs()),matchSet2=maxScore.getMatchMaxOrderedChoices(graphicGapInteraction.getChoices());return _.forEach(matchSet1,function(choice1){_.forEach(matchSet2,function(choice2){pairs.push([choice1.id,choice2.id])})}),pairs}(this),checkInfinitePair:!0})}})}),
define("taoQtiItem/qtiItem/core/interactions/GraphicOrderInteraction",["taoQtiItem/qtiItem/core/interactions/GraphicInteraction","taoQtiItem/qtiItem/helper/maxScore"],function(GraphicInteraction,maxScore){"use strict";return GraphicInteraction.extend({qtiClass:"graphicOrderInteraction",getNormalMaximum:function(){return maxScore.orderInteractionBased(this)}})}),define("taoQtiItem/qtiItem/core/interactions/HotspotInteraction",["taoQtiItem/qtiItem/core/interactions/GraphicInteraction","taoQtiItem/qtiItem/helper/maxScore"],function(GraphicInteraction,maxScore){"use strict";return GraphicInteraction.extend({qtiClass:"hotspotInteraction",
getNormalMaximum:function(){return maxScore.choiceInteractionBased(this)}})}),define("taoQtiItem/qtiItem/core/interactions/HottextInteraction",["taoQtiItem/qtiItem/core/interactions/ContainerInteraction","taoQtiItem/qtiItem/core/Element","taoQtiItem/qtiItem/helper/maxScore"],function(ContainerInteraction,Element,maxScore){"use strict";return ContainerInteraction.extend({qtiClass:"hottextInteraction",getChoices:function(){return this.getBody().getElements("hottext")},getChoice:function(serial){var element=this.getBody().getElement(serial);return Element.isA(element,"choice")?element:null},getNormalMaximum:function(){
return maxScore.choiceInteractionBased(this)}})}),define("taoQtiItem/qtiItem/core/interactions/InlineChoiceInteraction",["taoQtiItem/qtiItem/core/interactions/InlineInteraction","taoQtiItem/qtiItem/helper/maxScore"],function(InlineInteraction,maxScore){"use strict";return InlineInteraction.extend({qtiClass:"inlineChoiceInteraction",getNormalMaximum:function(){return maxScore.choiceInteractionBased(this,{maxChoices:1})}})}),
define("taoQtiItem/qtiItem/core/interactions/MatchInteraction",["taoQtiItem/qtiItem/core/interactions/BlockInteraction","taoQtiItem/qtiItem/core/choices/SimpleAssociableChoice","lodash","taoQtiItem/qtiItem/helper/rendererConfig","taoQtiItem/qtiItem/helper/util","taoQtiItem/qtiItem/helper/maxScore"],function(BlockInteraction,SimpleAssociableChoice,_,rendererConfig,util,maxScore){"use strict";return BlockInteraction.extend({qtiClass:"matchInteraction",init:function(serial,attributes){this._super(serial,attributes),this.choices=[{},{}]},addChoice:function(choice,matchSet){matchSet=parseInt(matchSet),
this.choices[matchSet]&&(choice.setRootElement(this.getRootElement()||null),this.choices[matchSet][choice.getSerial()]=choice)},getChoices:function(matchSet){return matchSet=parseInt(matchSet),this.choices[matchSet]?_.clone(this.choices[matchSet]):_.clone(this.choices)},getChoice:function(serial){return this.choices[0][serial]||this.choices[1][serial]||null},getChoiceByIdentifier:function(identifier){var i,matchSet,serial;for(i=0;i<2;i++){matchSet=this.getChoices(i);for(serial in matchSet)if(matchSet[serial]instanceof SimpleAssociableChoice&&matchSet[serial].id()===identifier)return matchSet[serial]}return null},getComposingElements:function(){
var i,matchSet,serial,elts=this._super();for(i=0;i<2;i++){matchSet=this.getChoices(i);for(serial in matchSet)matchSet[serial]instanceof SimpleAssociableChoice&&(elts[serial]=matchSet[serial],elts=_.extend(elts,matchSet[serial].getComposingElements()))}return elts},find:function(serial){var found=this._super(serial);return found||(found=util.findInCollection(this,["choices.0","choices.1"],serial)),found},render:function(){var choices,i,matchSet,serial,args=rendererConfig.getOptionsFromArguments(arguments),renderer=args.renderer||this.getRenderer(),defaultData={matchSet1:[],matchSet2:[]},interactionData={interaction:{serial:this.serial,
attributes:this.attributes}};if(!renderer)throw"no renderer found for the interaction "+this.qtiClass;for(choices=this.attr("shuffle")&&renderer.getOption("shuffleChoices")?renderer.getShuffledChoices(this):this.getChoices(),i=0;i<2;i++){matchSet=choices[i];for(serial in matchSet)matchSet[serial]instanceof SimpleAssociableChoice&&defaultData["matchSet"+(i+1)].push(matchSet[serial].render(_.clone(interactionData,!0),null,"simpleAssociableChoice.matchInteraction",renderer))}return this._super(_.merge(defaultData,args.data),args.placeholder,args.subclass,renderer)},postRender:function(data,altClassName,renderer){return renderer=renderer||this.getRenderer(),
_(this.getChoices()).map(function(choices){return _(choices).filter(function(choice){return choice instanceof SimpleAssociableChoice}).map(function(choice){return choice.postRender({},"simpleAssociableChoice.matchInteraction",renderer)}).value()}).flatten(!0).value().concat(this._super(data,altClassName,renderer))},toArray:function(){var i,matchSet,serial,arr=this._super();for(arr.choices={0:{},1:{}},i=0;i<2;i++){matchSet=this.getChoices(i);for(serial in matchSet)matchSet[serial]instanceof SimpleAssociableChoice&&(arr.choices[i][serial]=matchSet[serial].toArray())}return arr},getNormalMaximum:function(){return maxScore.associateInteractionBased(this,{
possiblePairs:function(matchInteraction){var pairs=[],matchSet1=maxScore.getMatchMaxOrderedChoices(matchInteraction.getChoices(0)),matchSet2=maxScore.getMatchMaxOrderedChoices(matchInteraction.getChoices(1));return _.forEach(matchSet1,function(choice1){_.forEach(matchSet2,function(choice2){pairs.push([choice1.id,choice2.id])})}),pairs}(this)})}})}),define("taoQtiItem/qtiItem/core/interactions/MediaInteraction",["lodash","taoQtiItem/qtiItem/core/interactions/ObjectInteraction","taoQtiItem/qtiItem/helper/rendererConfig"],function(_,ObjectInteraction,rendererConfig){"use strict";return ObjectInteraction.extend({qtiClass:"mediaInteraction",render:function(){
var args=rendererConfig.getOptionsFromArguments(arguments),renderer=args.renderer||this.getRenderer(),defaultData={object:this.object.render({},null,"",renderer)};return this._super(_.merge(defaultData,args.data),args.placeholder,args.subclass,renderer)}})}),define("taoQtiItem/qtiItem/core/interactions/OrderInteraction",["taoQtiItem/qtiItem/core/interactions/BlockInteraction","taoQtiItem/qtiItem/helper/maxScore"],function(BlockInteraction,maxScore){"use strict";return BlockInteraction.extend({qtiClass:"orderInteraction",getNormalMaximum:function(){return maxScore.orderInteractionBased(this)}})}),
define("taoQtiItem/qtiItem/core/interactions/SelectPointInteraction",["taoQtiItem/qtiItem/core/interactions/GraphicInteraction","taoQtiItem/qtiItem/helper/maxScore"],function(GraphicInteraction,maxScore){"use strict";return GraphicInteraction.extend({qtiClass:"selectPointInteraction",getNormalMaximum:function(){return maxScore.selectPointInteractionBased(this)}})});define("taoQtiItem/qtiItem/core/interactions/SliderInteraction",["taoQtiItem/qtiItem/core/interactions/BlockInteraction","taoQtiItem/qtiItem/helper/maxScore"],function(BlockInteraction,maxScore){"use strict";return BlockInteraction.extend({qtiClass:"sliderInteraction",getNormalMaximum:function(){
return maxScore.sliderInteractionBased(this)}})}),define("taoQtiItem/qtiItem/core/interactions/TextEntryInteraction",["taoQtiItem/qtiItem/core/interactions/InlineInteraction","taoQtiItem/qtiItem/helper/maxScore"],function(InlineInteraction,maxScore){"use strict";return InlineInteraction.extend({qtiClass:"textEntryInteraction",getNormalMaximum:function(){return maxScore.textEntryInteractionBased(this)}})}),define("taoQtiItem/qtiItem/core/interactions/UploadInteraction",["taoQtiItem/qtiItem/core/interactions/BlockInteraction"],function(InlineInteraction){return InlineInteraction.extend({qtiClass:"uploadInteraction"})}),
define("taoQtiItem/qtiItem/mixin/ContainerItemBody",["taoQtiItem/qtiItem/mixin/Mixin","taoQtiItem/qtiItem/mixin/Container","lodash"],function(Mixin,Container,_){var methods={};return _.extend(methods,Container.methods),_.extend(methods,{initContainer:function(body){Container.methods.initContainer.call(this,body),this.bdy.contentModel="itemBody"}}),{augment:function(targetClass){Mixin.augment(targetClass,methods)},methods:methods}}),
define("taoQtiItem/qtiItem/core/Item",["taoQtiItem/qtiItem/core/Element","taoQtiItem/qtiItem/core/IdentifiedElement","taoQtiItem/qtiItem/mixin/ContainerItemBody","lodash","jquery","taoQtiItem/qtiItem/helper/util"],function(Element,IdentifiedElement,Container,_,$,util){"use strict";var Item=IdentifiedElement.extend({qtiClass:"assessmentItem",init:function(serial,attributes){this._super(serial,attributes),this.rootElement=this,this.stylesheets={},this.responses={},this.outcomes={},this.modalFeedbacks={},this.namespaces={},this.schemaLocations={},this.responseProcessing=null,this.apipAccessibility=null},getInteractions:function(){
var interactions=[],elts=this.getComposingElements();for(var serial in elts)Element.isA(elts[serial],"interaction")&&interactions.push(elts[serial]);return interactions},addResponseDeclaration:function(response){if(!Element.isA(response,"responseDeclaration"))throw"is not a qti response declaration";return response.setRootElement(this),this.responses[response.getSerial()]=response,this},getResponseDeclaration:function(identifier){for(var i in this.responses)if(this.responses[i].attr("identifier")===identifier)return this.responses[i];return null},addOutcomeDeclaration:function(outcome){
if(!Element.isA(outcome,"outcomeDeclaration"))throw"is not a qti outcome declaration";return outcome.setRootElement(this),this.outcomes[outcome.getSerial()]=outcome,this},getOutcomeDeclaration:function(identifier){var found;return _.forEach(this.outcomes,function(outcome){if(outcome.id()===identifier)return found=outcome,!1}),found},getOutcomes:function(){return _.clone(this.outcomes)},removeOutcome:function(identifier){var outcome=this.getOutcomeDeclaration(identifier);outcome&&(this.outcomes=_.omit(this.outcomes,outcome.getSerial()))},addModalFeedback:function(feedback){if(!Element.isA(feedback,"modalFeedback"))throw"is not a qti modal feedback"
;return feedback.setRootElement(this),this.modalFeedbacks[feedback.getSerial()]=feedback,this},getComposingElements:function(){var elts=this._super(),_this=this;return _.forEach(["responses","outcomes","modalFeedbacks","stylesheets"],function(elementCollection){for(var i in _this[elementCollection]){var elt=_this[elementCollection][i];elts[i]=elt,elts=_.extend(elts,elt.getComposingElements())}}),this.responseProcessing instanceof Element&&(elts[this.responseProcessing.getSerial()]=this.responseProcessing),elts},find:function(serial){var found=this._super(serial)
;return found||(found=util.findInCollection(this,["responses","outcomes","modalFeedbacks","stylesheets"],serial)),found},getResponses:function(){return _.clone(this.responses)},getRootElement:function(){return this},addNamespace:function(name,uri){this.namespaces[name]=uri},setNamespaces:function(namespaces){this.namespaces=namespaces},getNamespaces:function(){return _.clone(this.namespaces)},setSchemaLocations:function(locations){this.schemaLocations=locations},getSchemaLocations:function(){return _.clone(this.schemaLocations)},setApipAccessibility:function(apip){this.apipAccessibility=apip||null},getApipAccessibility:function(){
return this.apipAccessibility},addStylesheet:function(stylesheet){if(!Element.isA(stylesheet,"stylesheet"))throw"is not a qti stylesheet declaration";return stylesheet.setRootElement(this),this.stylesheets[stylesheet.getSerial()]=stylesheet,this},removeStyleSheet:function(stylesheet){return delete this.stylesheets[stylesheet.getSerial()],this},stylesheetExists:function(href){var exists=!1;return _.forEach(this.stylesheets,function(stylesheet){if(stylesheet.attr("href")===href)return exists=!0,!1}),exists},setResponseProcessing:function(rp){if(!Element.isA(rp,"responseProcessing"))throw"is not a response processing";return rp.setRootElement(this),
this.responseProcessing=rp,this},toArray:function(){var arr=this._super(),toArray=function(elt){return elt.toArray()};return arr.namespaces=this.namespaces,arr.schemaLocations=this.schemaLocations,arr.outcomes=_.map(this.outcomes,toArray),arr.responses=_.map(this.responses,toArray),arr.stylesheets=_.map(this.stylesheets,toArray),arr.modalFeedbacks=_.map(this.modalFeedbacks,toArray),arr.responseProcessing=this.responseProcessing.toArray(),arr},isEmpty:function(){var body=this.body().trim();if(body){var $dummy=$("<div>").html(body),$children=$dummy.children();return!(1!==$children.length||!$children.hasClass("empty"))}return!0},clear:function(){
var renderer=this.getRenderer();renderer&&_.isFunction(renderer.destroy)&&renderer.destroy(this)}});return Container.augment(Item),Item}),define("taoQtiItem/qtiItem/core/Math",["jquery","lodash","taoQtiItem/qtiItem/core/Element","taoQtiItem/qtiItem/helper/rendererConfig","taoQtiItem/qtiItem/mixin/NamespacedElement"],function($,_,Element,rendererConfig,NamespacedElement){"use strict";function _stripMathTags(mathML,nsName){var regex=new RegExp("<(/)?"+(nsName?nsName+":":"")+"math[^>]*>","g");return mathML.replace(regex,"").replace(/^\s*[\r\n]/gm,"").replace(/\s*[\r\n]$/gm,"")}function _stripNamespace(mathML,nsName){
var regex=new RegExp("<(/)?"+(nsName?nsName+":":""),"g");return mathML.replace(regex,"<$1")}function _isEmptyMathML(mathStr){var $math,mathText,hasContent=!1;return mathStr&&mathStr.trim()&&($math=$($.parseHTML(mathStr)),mathText=$math.text(),hasContent=_.isString(mathText)&&!!mathText.trim()),!hasContent}var Math;return Math=Element.extend({qtiClass:"math",defaultNsName:"m",defaultNsUri:"http://www.w3.org/1998/Math/MathML",nsUriFragment:"MathML",init:function(serial,attributes){this._super(serial,attributes),this.ns=null,this.mathML="",this.annotations={}},setAnnotation:function(encoding,value){this.annotations[encoding]=_.unescape(value)},
getAnnotation:function(encoding){return this.annotations[encoding]},removeAnnotation:function(encoding){delete this.annotations[encoding]},setMathML:function(mathML){var ns=this.getNamespace(),nsName=ns.name&&ns.uri?ns.name:"";mathML=_stripMathTags(mathML,nsName),ns&&(mathML=_stripNamespace(mathML,nsName)),this.mathML=mathML},getMathML:function(){return this.mathML},render:function(){var encoding,defaultData,args=rendererConfig.getOptionsFromArguments(arguments),renderer=args.renderer||this.getRenderer(),tag=this.qtiClass,raw=this.mathML,body=raw,ns=this.getNamespace(),annotations=""
;for(encoding in this.annotations)annotations+='<annotation encoding="'+encoding+'">'+_.escape(this.annotations[encoding])+"</annotation>";return annotations&&(raw=raw.indexOf("</semantics>")>0?raw.replace("</semantics>",annotations+"</semantics>"):"<semantics>"+raw+annotations+"</semantics>"),ns&&ns.name&&(body=raw.replace(/<(\/)?([^!<])/g,"<$1"+ns.name+":$2"),tag=ns.name+":"+tag),body=body.replace(/<!--.*?-->/g,""),body=body.replace(/&lt;!--.*?--&gt;/g,""),defaultData={block:"block"===this.attr("display"),body:body,raw:raw,tag:tag,ns:ns},this._super(_.merge(defaultData,args.data),args.placeholder,args.subclass,renderer)},isEmpty:function(){
return _isEmptyMathML(this.mathML)&&(!this.annotations.latex||!this.annotations.latex.trim())}}),NamespacedElement.augment(Math),Math}),define("taoQtiItem/qtiItem/core/PortableInfoControl",["lodash","taoQtiItem/qtiItem/core/Element","taoQtiItem/qtiItem/mixin/CustomElement","taoQtiItem/qtiItem/mixin/NamespacedElement","taoQtiItem/qtiItem/helper/rendererConfig"],function(_,Element,CustomElement,NamespacedElement,rendererConfig){"use strict";var PortableInfoControl=Element.extend({qtiClass:"infoControl",defaultNsName:"pic",defaultNsUri:"http://www.imsglobal.org/xsd/portableInfoControl",nsUriFragment:"portableInfoControl",defaultMarkupNsName:"html5",
defaultMarkupNsUri:"html5",init:function(serial,attributes){this._super(serial,attributes),this.typeIdentifier="",this.markup="",this.properties={},this.libraries=[],this.entryPoint="",this.markupNs={},this.readyStack=[]},is:function(qtiClass){return"infoControl"===qtiClass||this._super(qtiClass)},render:function(){var args=rendererConfig.getOptionsFromArguments(arguments),renderer=args.renderer||this.getRenderer(),defaultData={typeIdentifier:this.typeIdentifier,markup:this.markup,properties:this.properties,libraries:this.libraries,entryPoint:this.entryPoint,ns:{pic:this.getNamespace().name+":"}}
;return this._super(_.merge(defaultData,args.data),args.placeholder,args.subclass,renderer)},getState:function(){var ret=null,renderer=this.getRenderer();return renderer&&_.isFunction(renderer.getState)&&(ret=renderer.getState(this)),ret},setState:function(state){var renderer=this.getRenderer();renderer&&_.isFunction(renderer.getState)&&renderer.setState(this,state)},toArray:function(){var arr=this._super();return arr.markup=this.markup,arr.properties=this.properties,arr},onReady:function(cb){this.readyStack.push(cb),this.data("_ready")&&this.data("pic")&&this.triggerReady()},triggerReady:function(){var self=this;_.forEach(this.readyStack,function(cb){
cb.call(self,self.data("pic"))}),this.readyStack=[],this.data("_ready",!0)}});return CustomElement.augment(PortableInfoControl),NamespacedElement.augment(PortableInfoControl),PortableInfoControl}),define("taoQtiItem/qtiItem/core/PrintedVariable",["taoQtiItem/qtiItem/core/Element"],function(Element){"use strict";return Element.extend({qtiClass:"printedVariable"})}),define("taoQtiItem/qtiItem/core/response/SimpleFeedbackRule",["taoQtiItem/qtiItem/core/Element","lodash"],function(Element,_){"use strict";return Element.extend({qtiClass:"_simpleFeedbackRule",serial:"",rootElement:null,init:function(serial,feedbackOutcome,feedbackThen,feedbackElse){
this._super(serial,{}),this.condition="correct",this.comparedOutcome=null,this.comparedValue=0,this.feedbackOutcome=feedbackOutcome,Element.isA(feedbackThen,"feedback")?this.feedbackThen=feedbackThen:this.feedbackThen=null,Element.isA(feedbackElse,"feedback")?this.feedbackElse=feedbackThen:this.feedbackElse=null},setCondition:function(comparedOutcome,condition,comparedValue){var _comparedValues=[];if(!Element.isA(comparedOutcome,"variableDeclaration"))throw"invalid outcome type: must be a variableDeclaration";switch(condition){case"correct":case"incorrect":
if(!Element.isA(comparedOutcome,"responseDeclaration"))throw"invalid outcome type: must be a responseDeclaration";this.comparedOutcome=comparedOutcome,this.condition=condition;break;case"lt":case"lte":case"equal":case"gte":case"gt":if(null===comparedValue||void 0===comparedValue)throw"compared value must not be null";this.comparedOutcome=comparedOutcome,this.condition=condition,this.comparedValue=comparedValue;break;case"choices":if(!Element.isA(comparedOutcome,"responseDeclaration")||null===comparedValue||!_.isArray(comparedValue))throw"compared value must not be null";var choices=_.values(comparedOutcome.getInteraction().getChoices())
;this.comparedOutcome=comparedOutcome,this.condition=condition,_.each(comparedValue,function(v){v instanceof Element?_comparedValues.push(v):_.isString(v)&&_.each(choices,function(c){if(c.attr("identifier")===v)return _comparedValues.push(c),!1})}),this.comparedValue=_comparedValues;break;default:throw"unknown condition type : ".condition}return this},setFeedbackElse:function(feedback){Element.isA(feedback,"feedback")&&(this.feedbackElse=feedback)},toArray:function(){var val=this.comparedValue,_toString=function(v){return val instanceof Element?val.attr("identifier"):val+""};return val=_.isArray(val)?_.map(val,_toString):_toString(),{
condition:this.condition,comparedOutcome:this.comparedOutcome.id(),comparedValue:val}}})}),define("taoQtiItem/qtiItem/core/ResponseProcessing",["taoQtiItem/qtiItem/core/Element","lodash"],function(Element,_){return Element.extend({qtiClass:"responseProcessing",processingType:"",xml:"",toArray:function(){var arr=this._super();return arr.processingType=this.processingType,arr.xml=this.xml,arr}})}),define("taoQtiItem/qtiItem/core/RubricBlock",["taoQtiItem/qtiItem/core/Element","taoQtiItem/qtiItem/mixin/Container"],function(Element,Container){var RubricBlock=Element.extend({qtiClass:"rubricBlock",isEmpty:function(){return!(this.bdy&&this.bdy.body())}})
;return Container.augment(RubricBlock),RubricBlock}),define("taoQtiItem/qtiItem/core/Stylesheet",["taoQtiItem/qtiItem/core/Element","lodash","taoQtiItem/qtiItem/helper/rendererConfig"],function(Element,_,rendererConfig){return Element.extend({qtiClass:"stylesheet",render:function(){var args=rendererConfig.getOptionsFromArguments(arguments),renderer=args.renderer||this.getRenderer(),defaultData={};return defaultData.attributes={href:renderer.resolveUrl(this.attr("href"))},this._super(_.merge(defaultData,args.data),args.placeholder,args.subclass,renderer)}})}),
define("taoQtiItem/qtiItem/mixin/ContainerTable",["taoQtiItem/qtiItem/mixin/Mixin","taoQtiItem/qtiItem/mixin/Container","lodash"],function(Mixin,Container,_){"use strict";var methods={};return _.extend(methods,Container.methods),_.extend(methods,{initContainer:function(body){Container.methods.initContainer.call(this,body),this.bdy.contentModel="table"}}),{augment:function(targetClass){Mixin.augment(targetClass,methods)},methods:methods}}),define("taoQtiItem/qtiItem/core/Table",["lodash","taoQtiItem/qtiItem/core/Element","taoQtiItem/qtiItem/mixin/ContainerTable"],function(_,Element,Container){"use strict";var Table=Element.extend({qtiClass:"table"})
;return Container.augment(Table),Table=Table.extend({body:function(newBody){return _.isString(newBody)&&(newBody=newBody.replace("<table>","").replace("</table>","")),this._super(newBody)}})}),define("taoQtiItem/qtiItem/core/Tooltip",["lodash","taoQtiItem/qtiItem/core/Element","taoQtiItem/qtiItem/mixin/ContainerInline","taoQtiItem/qtiItem/helper/rendererConfig"],function(_,Element,ContainerInline,rendererConfig){"use strict";var Tooltip=Element.extend({qtiClass:"_tooltip",init:function(serial,attributes,newContent){this._super(serial,attributes),this.content(newContent||"")},content:function(newContent){if(void 0===newContent)return this.tooltipContent
;if("string"!=typeof newContent)throw new Error("newContent must be a string");return this.tooltipContent=newContent,this},render:function(){var args=rendererConfig.getOptionsFromArguments(arguments),renderer=args.renderer||this.getRenderer(),defaultData={content:this.tooltipContent};return this._super(_.merge(defaultData,args.data),args.placeholder,args.subclass,renderer)}});return ContainerInline.augment(Tooltip),Tooltip}),define("taoQtiItem/qtiItem/core/variables/ResponseDeclaration",["taoQtiItem/qtiItem/core/variables/VariableDeclaration","lodash"],function(VariableDeclaration,_){"use strict";return VariableDeclaration.extend({
qtiClass:"responseDeclaration",init:function(serial,attributes){this._super(serial,attributes),this.template="",this.mappingAttributes={},this.mapEntries={},this.correctResponse=null,this.feedbackRules={}},getFeedbackRules:function(){return _.values(this.feedbackRules)},getComposingElements:function(){var elts=this._super();return elts=_.extend(elts,this.feedbackRules)},toArray:function(){var arr=this._super();return arr.howMatch=this.template,arr.correctResponses=this.correctResponse,arr.mapping=this.mapEntries,arr.mappingAttributes=this.mappingAttributes,arr.feedbackRules=_.map(this.feedbackRules,function(rule){return rule.toArray()}),arr},
getInteraction:function(){var interaction=null,responseId=this.id(),item=this.getRootElement(),interactions=item.getInteractions();return _.each(interactions,function(i){if(i.attributes.responseIdentifier===responseId)return interaction=i,!1}),interaction},isCardinality:function(cardinalities){var comparison;if(_.isArray(cardinalities))comparison=cardinalities;else{if(!_.isString(cardinalities))return!1;cardinalities=[cardinalities]}return _.indexOf(comparison,this.attr("cardinality"))>=0}})}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/choices/gap",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){
function program1(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<span class="qti-choice qti-gap" data-identifier="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.identifier,
typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='>\r\n    <span data-identifier="'+escapeExpression((stack1=depth0&&depth0.attributes,
stack1=null==stack1||!1===stack1?stack1:stack1.identifier,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class="gapmatch-content">&nbsp;</span>\r\n</span>'})}),define("taoQtiItem/qtiCommonRenderer/helpers/container",["lodash","jquery","taoQtiItem/qtiItem/core/Element"],function(_,$,Element){"use strict";var _containers={},_$containerContext=$(),_getSelector=function(element){var serial=element.getSerial(),selector="[data-serial="+serial+"]";return Element.isA(element,"choice")?selector=".qti-choice"+selector:Element.isA(element,"interaction")&&(selector=".qti-interaction"+selector),selector};return{setContext:function($scope){
_$containerContext=$scope},get:function(element,$scope){var serial=element.getSerial();return $scope instanceof $&&$scope.length?$scope.find(_getSelector(element)):_$containerContext instanceof $&&_$containerContext.length?_$containerContext.find(_getSelector(element)):(_containers[serial]&&_containers[serial].length||(_containers[serial]=$(_getSelector(element))),_containers[serial])},reset:function(element){element instanceof Element&&_containers[element.getSerial()]&&(_containers=_.omit(_containers,element.getSerial()))},clear:function(){_containers={},_$containerContext=$()},trigger:function(eventType,element,data){
eventType&&(data&&!_.isArray(data)&&(data=[data]),this.get(element).trigger(eventType,data))},triggerResponseChangeEvent:function(interaction,extraData){this.trigger("responseChange",interaction,[{interaction:interaction,response:interaction.getResponse()},extraData])},targetBlank:function($container){$container.on("click","a",function(e){e.preventDefault();var href=$(this).attr("href");href&&href.match(/^http/i)&&window.open(href,"_blank")})}}}),define("taoQtiItem/qtiCommonRenderer/renderers/choices/Gap",["tpl!taoQtiItem/qtiCommonRenderer/tpl/choices/gap","taoQtiItem/qtiCommonRenderer/helpers/container"],function(tpl,containerHelper){"use strict";return{
qtiClass:"gap",getContainer:containerHelper.get,template:tpl}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/choices/gapImg",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,buffer="";return buffer+='alt="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.objetLabel,
typeof stack1===functionType?stack1.apply(depth0):stack1))+'" '}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<li class="qti-choice qti-gapImg selectable" data-identifier="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.identifier,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='>\n    <img src="'+escapeExpression((stack1=depth0&&depth0.object,stack1=null==stack1||!1===stack1?stack1:stack1.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.data,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" \n         width="'+escapeExpression((stack1=depth0&&depth0.object,
stack1=null==stack1||!1===stack1?stack1:stack1.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.width,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\n         height="'+escapeExpression((stack1=depth0&&depth0.object,stack1=null==stack1||!1===stack1?stack1:stack1.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.height,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\n         ',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.objectLabel),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+="\n    />\n</li>"})}),define("taoQtiItem/qtiCommonRenderer/renderers/choices/GapImg",["tpl!taoQtiItem/qtiCommonRenderer/tpl/choices/gapImg","taoQtiItem/qtiCommonRenderer/helpers/container"],function(tpl,containerHelper){"use strict";return{qtiClass:"gapImg",getContainer:containerHelper.get,template:tpl}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/choices/choice",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],
typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<li class="qti-choice" data-identifier="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.identifier,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{
hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n    ",(helper=helpers.body)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.body,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</li>"})}),
define("taoQtiItem/qtiCommonRenderer/renderers/choices/GapText",["tpl!taoQtiItem/qtiCommonRenderer/tpl/choices/choice","taoQtiItem/qtiCommonRenderer/helpers/container"],function(tpl,containerHelper){"use strict";return{qtiClass:"gapText",getContainer:containerHelper.get,template:tpl}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/choices/hottext",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],
typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<span class="qti-choice qti-hottext hottext" data-identifier="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.identifier,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='>\r\n    <label class="hottext-checkmark">\r\n        <input type="checkbox" value="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.identifier,
typeof stack1===functionType?stack1.apply(depth0):stack1))+'">\r\n        <span class="icon-checkbox small"></span>\r\n    </label>\r\n    <span class="hottext-content">',(helper=helpers.body)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.body,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="</span>\r\n</span>"})}),define("taoQtiItem/qtiCommonRenderer/renderers/choices/Hottext",["tpl!taoQtiItem/qtiCommonRenderer/tpl/choices/hottext","taoQtiItem/qtiCommonRenderer/helpers/container"],function(tpl,containerHelper){"use strict";return{qtiClass:"hottext",
getContainer:containerHelper.get,template:tpl}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/choices/inlineChoice",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this
;return buffer+='<option data-identifier="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.identifier,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" value="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.identifier,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"',
stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n    ",(helper=helpers.body)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.body,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\n</option>"})}),
define("taoQtiItem/qtiCommonRenderer/renderers/choices/InlineChoice",["lodash","tpl!taoQtiItem/qtiCommonRenderer/tpl/choices/inlineChoice","taoQtiItem/qtiCommonRenderer/helpers/container"],function(_,tpl,containerHelper){"use strict";return{qtiClass:"inlineChoice",getContainer:containerHelper.get,template:tpl,getData:function(choice,data){return data.body=_.unescape(data.body),data}}}),define("taoQtiItem/qtiCommonRenderer/renderers/choices/SimpleAssociableChoice.AssociateInteraction",["tpl!taoQtiItem/qtiCommonRenderer/tpl/choices/choice","taoQtiItem/qtiCommonRenderer/helpers/container"],function(tpl,containerHelper){"use strict";return{
qtiClass:"simpleAssociableChoice.associateInteraction",getContainer:containerHelper.get,template:tpl}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/choices/simpleAssociableChoice.matchInteraction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{}
;var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<th class="qti-choice qti-associableChoice qti-simpleAssociableChoice" data-identifier="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.identifier,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"',
stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n    ",(helper=helpers.body)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.body,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</th>"})}),
define("taoQtiItem/qtiCommonRenderer/renderers/choices/SimpleAssociableChoice.MatchInteraction",["tpl!taoQtiItem/qtiCommonRenderer/tpl/choices/simpleAssociableChoice.matchInteraction","taoQtiItem/qtiCommonRenderer/helpers/container"],function(tpl,containerHelper){"use strict";return{qtiClass:"simpleAssociableChoice.matchInteraction",getContainer:containerHelper.get,template:tpl}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/choices/simpleChoice.choiceInteraction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer=""
;return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,buffer="";return buffer+='\n            <input type="radio" name="response-'+escapeExpression((stack1=depth0&&depth0.interaction,stack1=null==stack1||!1===stack1?stack1:stack1.serial,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" value="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.identifier,
typeof stack1===functionType?stack1.apply(depth0):stack1))+'" tabindex="1">\n            <span class="icon-radio"></span>\n            '}function program5(depth0,data){var stack1,buffer="";return buffer+='\n            <input type="checkbox" name="response-'+escapeExpression((stack1=depth0&&depth0.interaction,stack1=null==stack1||!1===stack1?stack1:stack1.serial,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" value="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.identifier,
typeof stack1===functionType?stack1.apply(depth0):stack1))+'" tabindex="1">\n            <span class="icon-checkbox"></span>\n            '}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;return buffer+='<li class="qti-choice qti-simpleChoice" data-identifier="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.identifier,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-serial="',
(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='>\n    <div class="pseudo-label-box">\n        <label class="real-label">\n            ',stack1=helpers.if.call(depth0,depth0&&depth0.unique,{hash:{},inverse:self.program(5,program5,data),
fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n        </label>\n        <div class="label-box">\n            <div class="label-content clear" contenteditable="false">\n                ',(helper=helpers.body)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.body,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),
buffer+='\n                <svg class="overlay-answer-eliminator">\n                    <line x1="0" y1="100%" x2="100%" y2="0"/>\n                    <line x1="0" y1="0" x2="100%" y2="100%"/>\n                </svg>\n            </div>\n        </div>\n    </div>\n    <label data-eliminable="container" data-label="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Eliminate",options):helperMissing.call(depth0,"__","Eliminate",options)))+'">\n        <span data-eliminable="trigger" class="icon-checkbox"></span>\n    </label>\n</li>'})}),
define("taoQtiItem/qtiCommonRenderer/renderers/choices/SimpleChoice.ChoiceInteraction",["tpl!taoQtiItem/qtiCommonRenderer/tpl/choices/simpleChoice.choiceInteraction","taoQtiItem/qtiCommonRenderer/helpers/container"],function(tpl,containerHelper){"use strict";return{qtiClass:"simpleChoice.choiceInteraction",getContainer:containerHelper.get,getData:function(choice,data){return data.unique=1===parseInt(data.interaction.attributes.maxChoices),data},template:tpl}}),
define("taoQtiItem/qtiCommonRenderer/renderers/choices/SimpleChoice.OrderInteraction",["tpl!taoQtiItem/qtiCommonRenderer/tpl/choices/choice","taoQtiItem/qtiCommonRenderer/helpers/container"],function(tpl,containerHelper){"use strict";return{qtiClass:"simpleChoice.orderInteraction",getContainer:containerHelper.get,template:tpl}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/container",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+='<div class="qti-block"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,
null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">",(helper=helpers.body)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.body,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="</div>"}function program2(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}
function program4(depth0,data){var stack1,helper,buffer="";return(helper=helpers.body)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.body,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;return helper=helpers.equal||depth0&&depth0.equal,options={hash:{},inverse:self.program(4,program4,data),fn:self.program(1,program1,data),
data:data},stack1=helper?helper.call(depth0,depth0&&depth0.contentModel,"blockStatic",options):helperMissing.call(depth0,"equal",depth0&&depth0.contentModel,"blockStatic",options),stack1||0===stack1?stack1:""})}),define("taoQtiItem/qtiCommonRenderer/renderers/Container",["tpl!taoQtiItem/qtiCommonRenderer/tpl/container"],function(tpl){"use strict";return{qtiClass:"_container",template:tpl}}),define("ui/waitForMedia",["jquery"],function($){var _ns=".wait";$.fn.waitForMedia=function(allLoadedCallback){function allLoaded($container){$container.trigger("all-loaded"+_ns),"function"==typeof allLoadedCallback&&allLoadedCallback.call($container[0])}
return this.each(function(){var $container=$(this),$img=$container.find("img[src]"),count=$img.length,loaded=0,imageLoaded=function(){$(this).trigger("loaded"+_ns).off("load"+_ns).off("error"+_ns),++loaded===count&&allLoaded($container)};if(0===count)return void allLoaded($container);$img.each(function(){this.complete?imageLoaded.call(this):$(this).on("load"+_ns+" error"+_ns,imageLoaded)})})}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/img",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer=""
;return buffer+='id="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,buffer="";return buffer+='class="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program5(depth0,data){var stack1,buffer="";return buffer+='height="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.height,
typeof stack1===functionType?stack1.apply(depth0):stack1))+'" '}function program7(depth0,data){var stack1,buffer="";return buffer+='width="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.width,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" '}function program9(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program11(depth0,data){var stack1,buffer=""
;return buffer+="height: "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.height,typeof stack1===functionType?stack1.apply(depth0):stack1))+"px; "}function program13(depth0,data){var stack1,buffer="";return buffer+="width: "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.width,typeof stack1===functionType?stack1.apply(depth0):stack1))+"px; "}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this
;return buffer+='<img \n    data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" \n    data-qti-class="img" \n    src="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.src,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" \n    alt="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.alt,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" \n    ',
stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.id),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.height),{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),
(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.width),{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n    style="',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.height),{
hash:{},inverse:self.noop,fn:self.program(11,program11,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.width),{hash:{},inverse:self.noop,fn:self.program(13,program13,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='"\n    />'})}),define("taoQtiItem/qtiCommonRenderer/renderers/Img",["core/promise","ui/waitForMedia","tpl!taoQtiItem/qtiCommonRenderer/tpl/img","taoQtiItem/qtiCommonRenderer/helpers/container"],function(Promise,waitForMedia,tpl,containerHelper){"use strict";return{qtiClass:"img",template:tpl,
getContainer:containerHelper.get,render:function(img,data){return new Promise(function(resolve,reject){containerHelper.get(img).waitForMedia(resolve)})}}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/include",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper;return(helper=helpers.body)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.body,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),stack1||0===stack1?stack1:""})}),
define("taoQtiItem/qtiCommonRenderer/renderers/Include",["tpl!taoQtiItem/qtiCommonRenderer/tpl/include"],function(tpl){"use strict";return{qtiClass:"include",template:tpl}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/associateInteraction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+='id="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,buffer=""
;return buffer+=" "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))}function program5(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program7(depth0,data){var stack1,helper;return(helper=helpers.prompt)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.prompt,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data
}):helper),stack1||0===stack1?stack1:""}function program9(depth0,data){var stack1;return stack1=typeof depth0===functionType?depth0.apply(depth0):depth0,stack1||0===stack1?stack1:""}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this,blockHelperMissing=helpers.blockHelperMissing;return buffer+="<div\n    ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.id),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),
(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n    class="qti-interaction qti-blockInteraction qti-associateInteraction',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='"\n    data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"\n    data-qti-class="associateInteraction"\n    ',
stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n>\n    ",stack1=helpers.if.call(depth0,depth0&&depth0.prompt,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n    <div class="instruction-container"></div>\n    <ul class="choice-area clearfix  none block-listing solid horizontal source">\n        ',options={hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data},
(helper=helpers.choices)?stack1=helper.call(depth0,options):(helper=depth0&&depth0.choices,stack1=typeof helper===functionType?helper.call(depth0,options):helper),helpers.choices||(stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data})),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n    </ul>\n    <ul class="result-area none target clearfix">\n    </ul>\n    <div class="notification-container"></div>\n</div>'})}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/associateInteraction.pair",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){
function program1(depth0,data){return"incomplete-pair"}function program3(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<li class="',stack1=helpers.if.call(depth0,depth0&&depth0.empty,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),
(stack1||0===stack1)&&(buffer+=stack1),buffer+='"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='>\n    <div class="target lft"></div>\n    <div class="target rgt"></div>\n</li>'})}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/instruction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,
stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<div id="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" class="small feedback-info item-instruction"',
stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='>\n    <span class="icon-info icon"></span><span class="instruction-message">',(helper=helpers.message)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.message,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n</div>"})}),
define("taoQtiItem/qtiCommonRenderer/helpers/instructions/Instruction",["lodash","taoQtiItem/qtiItem/helper/util","tpl!taoQtiItem/qtiCommonRenderer/tpl/instruction"],function(_,util,instructionTpl){var _notificationLevels=["info","warning","error","success"],Instruction=function(interaction,message,callback){this.interaction=interaction,this.defaultMessage=message||"",this.currentMessage="",this.level="info",this.serial=util.buildSerial("instruction_"),this.callback=callback,this.$dom=null,this.state=!1};return Instruction.isValidLevel=function(level){return _.indexOf(_notificationLevels,level)>=0},Instruction.prototype.setState=function(state){
this.state=state},Instruction.prototype.checkState=function(state){return this.state===state},Instruction.prototype.getId=function(){return this.serial},Instruction.prototype.create=function($container){$container.append(instructionTpl({message:this.defaultMessage,serial:this.serial})),this.$dom=$container.find("#"+this.serial)},Instruction.prototype.update=function(options){var level=options&&options.level?options.level:"",message=options&&options.message?options.message:"",timeout=options&&options.timeout?options.timeout:0,start=options&&"function"==typeof options.start?options.start:null,stop=options&&"function"==typeof options.stop?options.stop:null
;if(level&&Instruction.isValidLevel(level)&&(this.$dom.removeClass("feedback-"+this.level).addClass("feedback-"+level),this.$dom.find(".icon").removeClass("icon-"+this.level).addClass("icon-"+level),this.level=level),message&&(this.$dom.find(".instruction-message").html(message),this.currentMessage=message),timeout){var _this=this;start&&start.call(_this),_this.timer=setTimeout(function(){stop&&stop.call(_this),_this.timer=null},timeout)}},Instruction.prototype.setLevel=function(level,timeout){var options={level:level};timeout&&(options.timeout=parseInt(timeout),options.stop=function(){this.setLevel("info")}),this.update(options)},
Instruction.prototype.getLevel=function(){return this.level},Instruction.prototype.setMessage=function(message,timeout){this.update({message:message,timeout:timeout})},Instruction.prototype.reset=function(){this.update({level:"info",message:this.defaultMessage}),this.state=!1},Instruction.prototype.validate=function(data){"function"==typeof this.callback&&this.callback.call(this,data)},Instruction}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/notification",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer=""
;return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;return buffer+='<div class="small feedback-',(helper=helpers.level)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.level,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+' item-notification"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='>\n    <span class="icon-',(helper=helpers.level)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.level,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"></span><span class="feedback-message">',(helper=helpers.message)?stack1=helper.call(depth0,{hash:{},data:data
}):(helper=depth0&&depth0.message,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>\n    <span title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Remove Message",options):helperMissing.call(depth0,"__","Remove Message",options)))+'" class="icon-close close-trigger"></span>\n</div>'})}),
define("taoQtiItem/qtiCommonRenderer/helpers/instructions/instructionManager",["lodash","jquery","i18n","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/instructions/Instruction","tpl!taoQtiItem/qtiCommonRenderer/tpl/notification"],function(_,$,__,containerHelper,Instruction,notifTpl){"use strict";var _instructions={};return{validateInstructions:function(element,data){var serial=element.getSerial();_instructions[serial]&&_.each(_instructions[serial],function(instruction){instruction.validate(data||{})})},appendInstruction:function(element,message,validateCallback){
var serial=element.getSerial(),instruction=new Instruction(element,message,validateCallback);return _instructions[serial]||(_instructions[serial]={}),_instructions[serial][instruction.getId()]=instruction,instruction.create($(".instruction-container",containerHelper.get(element))),instruction},removeInstructions:function(element){_instructions[element.getSerial()]={},containerHelper.get(element).find(".instruction-container").empty()},resetInstructions:function(element){var serial=element.getSerial();_instructions[serial]&&_.each(_instructions[serial],function(instruction){instruction.reset()})},minMaxChoiceInstructions:function(interaction,options){
var msg,self=this,min=options.min||0,max=options.max||0,getResponse=options.getResponse,onError=options.onError||_.noop(),choiceCount=!1!==options.choiceCount&&_.size(interaction.getChoices()),minInstructionSet=!1;if(!_.isFunction(getResponse))throw"invalid parameter getResponse";max>0&&(!1===choiceCount||max<choiceCount)&&(max===min?(minInstructionSet=!0,msg=max<=1?__("You must select exactly %d choice",max):__("You must select exactly %d choices",max),self.appendInstruction(interaction,msg,function(data){getResponse(interaction).length>=max?(this.setLevel("success"),this.checkState("fulfilled")&&this.update({level:"warning",
message:__("Maximum choices reached"),timeout:2e3,start:function(){onError(data)},stop:function(){this.update({level:"success",message:msg})}}),this.setState("fulfilled")):this.reset()})):max>min&&(msg=max<=1?__("You can select maximum %d choice",max):__("You can select maximum %d choices",max),self.appendInstruction(interaction,msg,function(data){getResponse(interaction).length>=max?(this.setLevel("success"),this.setMessage(__("Maximum choices reached")),this.checkState("fulfilled")&&this.update({level:"warning",timeout:2e3,start:function(){onError(data)},stop:function(){this.setLevel("info")}}),this.setState("fulfilled")):this.reset()}))),
!minInstructionSet&&min>0&&(!1===choiceCount||min<choiceCount)&&(msg=min<=1?__("You must select at least %d choice",min):__("You must select at least %d choices",min),self.appendInstruction(interaction,msg,function(){getResponse(interaction).length>=min?this.setLevel("success"):this.reset()}))},appendNotification:function(element,message,level){if(level=level||"info",Instruction.isValidLevel(level)){var $container=containerHelper.get(element);$container.find(".notification-container").prepend(notifTpl({level:level,message:message}));var $notif=$container.find(".item-notification:first"),_remove=function(){$notif.fadeOut()}
;return $notif.find(".close-trigger").on("click",_remove),setTimeout(_remove,2e3),$notif}},removeNotifications:function(element){containerHelper.get(element).find(".item-notification").remove()}}}),define("taoQtiItem/qtiCommonRenderer/helpers/PciPrettyPrint",["lodash"],function(_){"use strict";function printBase(value,withType){var print="",base=value.base;if(withType=void 0===withType||withType,base)return _.forIn(_formatters,function(formatter,baseType){if(void 0!==base[baseType])return print+=withType?"("+baseType+") ":"",print+=formatter(base[baseType]),!1}),print}function printList(value,withType){var print="",list=value.list
;if(withType=void 0===withType||withType,list)return _.forIn(_formatters,function(formatter,baseType){if(void 0!==list[baseType])return print+=withType?"("+baseType+") ":"",print+="[",_.each(list[baseType],function(value){print+=formatter(value)+", "}),_.size(list[baseType])&&(print=print.substring(0,print.length-2)),print+="]",!1}),print}function printRecord(value){return value&&value.record?"(record) "+JSON.stringify(value.record):""}var _formatters={boolean:function(value){return value?"true":"false"},integer:function(value){return value},float:function(value){return value},string:function(value){return""===value?"NULL":'"'+value+'"'},
point:function(value){return"["+value[0]+", "+value[1]+"]"},pair:function(value){return"["+value[0]+", "+value[1]+"]"},directedPair:function(value){return"["+value[0]+", "+value[1]+"]"},duration:function(value){return value},file:function(value){return"binary data"},uri:function(value){return value},intOrIdentifier:function(value){return value},identifier:function(value){return value}};return{printBase:printBase,printList:printList,printRecord:printRecord}}),define("taoQtiItem/qtiCommonRenderer/helpers/PciResponse",["lodash","taoQtiItem/qtiCommonRenderer/helpers/PciPrettyPrint"],function(_,pciPrettyPrint){"use strict";var _qtiModelPciResponseCardinalities={
single:"base",multiple:"list",ordered:"list",record:"record"};return{unserialize:function(response,interaction){var mappedCardinality,ret=[],responseDeclaration=interaction.getResponseDeclaration(),baseType=responseDeclaration.attr("baseType"),cardinality=responseDeclaration.attr("cardinality");if(!_qtiModelPciResponseCardinalities[cardinality])throw"unknown cardinality in the responseDeclaration of the interaction";mappedCardinality=_qtiModelPciResponseCardinalities[cardinality];var responseValues=response[mappedCardinality];if(null===responseValues)ret=[];else{
if(!_.isObject(responseValues))throw"invalid response cardinality, expected "+cardinality+" ("+mappedCardinality+")";if(void 0===responseValues[baseType])throw"invalid response baseType";ret=responseValues[baseType],ret=_.isArray(ret)?ret:[ret]}return ret},serialize:function(responseValues,interaction){if(!_.isArray(responseValues))throw"invalid argument : responseValues must be an Array";var mappedCardinality,response={},responseDeclaration=interaction.getResponseDeclaration(),baseType=responseDeclaration.attr("baseType"),cardinality=responseDeclaration.attr("cardinality");if(responseValues=_.map(responseValues||[],function(v){
return"boolean"===baseType?!0===v||"true"===v:v}),!_qtiModelPciResponseCardinalities[cardinality])throw"unknown cardinality in the responseDeclaration of the interaction";return mappedCardinality=_qtiModelPciResponseCardinalities[cardinality],"base"===mappedCardinality?0===responseValues.length?response.base=null:(response.base={},response.base[baseType]=responseValues[0]):(response[mappedCardinality]={},response[mappedCardinality][baseType]=responseValues),response},isEmpty:function(response){
return null===response||_.isEmpty(response)||null===response.base||_.isArray(response.list)&&_.isEmpty(response.list)||_.isArray(response.record)&&_.isEmpty(response.record)},prettyPrint:function(response){var print="";if(void 0!==response.base)print+=pciPrettyPrint.printBase(response,!0);else if(void 0!==response.list)print+=pciPrettyPrint.printList(response,!0);else{if(void 0===response.record)throw"Not a valid PCI JSON Response";print+=pciPrettyPrint.printRecord(response,!0)}return print}}}),define("util/capitalize",["lodash"],function(_){"use strict";return function(input,allWords){var ucFirst=function(str){
return str.charAt(0).toUpperCase()+str.substr(1)};return _.isString(input)?!1!==allWords&&input.indexOf(" ")>-1?_.map(input.split(" "),ucFirst).join(" "):ucFirst(input):input}}),define("util/adaptSize",["jquery","util/capitalize"],function($,capitalize){"use strict";return function(){var _resize=function($elements,dimensions){$elements.each(function(){for(var dimension in dimensions)dimensions.hasOwnProperty(dimension)&&$(this)[dimension]("auto")}),$elements.each(function(){for(var dimension in dimensions)dimensions.hasOwnProperty(dimension)&&(dimensions[dimension]=Math.max(Math.floor(dimensions[dimension]||0),$(this)["outer"+capitalize(dimension)]()))}),
$elements.css(dimensions)};return{width:function($elements,minWidth){_resize($elements,{width:minWidth})},height:function($elements,minHeight){_resize($elements,{height:minHeight})},both:function($elements,minWidth,minHeight){_resize($elements,{height:minHeight,width:minWidth})}}}()}),define("taoQtiItem/qtiCommonRenderer/helpers/sizeAdapter",["jquery","lodash","util/adaptSize","ui/waitForMedia"],function($,_,adaptSize,waitForMedia){"use strict";return{adaptSize:function(target){var $elements,$container;switch(!0){case void 0!==target.$container:$elements=target.$container.find(".add-option, .result-area .target, .choice-area .qti-choice"),
$container=target.$container;break;default:$elements=target,$container=$($elements).first().parent()}$container.waitForMedia(function(){adaptSize.height($elements),document.addEventListener("load",function(e){"stylesheet"===e.target.rel&&adaptSize.height($elements)},!0)})}}}),
define("taoQtiItem/qtiCommonRenderer/renderers/interactions/AssociateInteraction",["jquery","lodash","i18n","core/promise","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/associateInteraction","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/associateInteraction.pair","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/instructions/instructionManager","taoQtiItem/qtiCommonRenderer/helpers/PciResponse","taoQtiItem/qtiCommonRenderer/helpers/sizeAdapter","interact","ui/interactUtils"],function($,_,__,Promise,tpl,pairTpl,containerHelper,instructionMgr,pciResponse,sizeAdapter,interact,interactUtils){"use strict"
;var setChoice=function(interaction,$choice,$target){var $container=containerHelper.get(interaction),choiceSerial=$choice.data("serial"),usage=$choice.data("usage")||0,choice=interaction.getChoice(choiceSerial);if(!choiceSerial)throw"empty choice serial";usage++,$choice.data("usage",usage);var _setChoice=function(){$target.data("serial",choiceSerial).html($choice.html()).addClass("filled"),!interaction.responseMappingMode&&choice.attr("matchMax")&&usage>=choice.attr("matchMax")&&$choice.addClass("deactivated")};if($target.siblings("div").hasClass("filled")){
var $resultArea=$(".result-area",$container),$pair=$target.parent(),thisPairSerial=[$target.siblings("div").data("serial"),choiceSerial],$otherRepeatedPair=$();$resultArea.children().not($pair).each(function(){var $otherPair=$(this).children(".filled");if(2===$otherPair.length){var otherPairSerial=[$($otherPair[0]).data("serial"),$($otherPair[1]).data("serial")];if(2===_.intersection(thisPairSerial,otherPairSerial).length)return $otherRepeatedPair=$otherPair,!1}}),0===$otherRepeatedPair.length?(_setChoice(),containerHelper.triggerResponseChangeEvent(interaction,{type:"added",$pair:$pair,choices:thisPairSerial}),
instructionMgr.validateInstructions(interaction,{choice:$choice,target:$target}),(interaction.responseMappingMode||0===parseInt(interaction.attr("maxAssociations")))&&($pair.removeClass("incomplete-pair"),$resultArea.children(".incomplete-pair").length||($resultArea.append(pairTpl({empty:!0})),$resultArea.children(".incomplete-pair").fadeIn(600,function(){$(this).show()})))):($otherRepeatedPair.css("border","1px solid orange"),$target.html(__("identical pair already exists")).css({color:"orange",border:"1px solid orange"}),setTimeout(function(){$otherRepeatedPair.removeAttr("style"),$target.empty().css({color:"",border:""})},2e3))}else _setChoice()
},unsetChoice=function(interaction,$filledChoice,animate,triggerChange){var $container=containerHelper.get(interaction),choiceSerial=$filledChoice.data("serial"),$choice=$container.find(".choice-area [data-serial="+choiceSerial+"]"),usage=$choice.data("usage")||0,$parent=$filledChoice.parent(),$sibling=$container.find(".choice-area [data-serial="+$filledChoice.siblings(".target").data("serial")+"]");usage--,$choice.data("usage",usage).removeClass("deactivated"),$filledChoice.removeClass("filled").removeData("serial").empty(),interaction.swapping||(!1!==triggerChange&&(containerHelper.triggerResponseChangeEvent(interaction,{type:"removed",
$pair:$filledChoice.parent()}),instructionMgr.validateInstructions(interaction,{choice:$choice})),$sibling.data("usage",$sibling.data("usage")-1).removeClass("deactivated"),$choice.siblings("div").hasClass("filled")||0!==parseInt(interaction.attr("maxAssociations"))&&!interaction.responseMappingMode||$parent.hasClass("incomplete-pair")||(animate?$parent.addClass("removing").fadeOut(500,function(){$(this).remove()}):$parent.remove()))},getChoice=function(interaction,identifier){var $container=containerHelper.get(interaction),choice=interaction.getChoiceByIdentifier(identifier)
;if(!choice)throw new Error("cannot find a choice with the identifier : "+identifier);return $(".choice-area [data-serial="+choice.getSerial()+"]",$container)},renderEmptyPairs=function(interaction){var $container=containerHelper.get(interaction),max=parseInt(interaction.attr("maxAssociations")),$resultArea=$(".result-area",$container);if(interaction.responseMappingMode||0===max)$resultArea.append(pairTpl({empty:!0})),$resultArea.children(".incomplete-pair").show();else for(var i=0;i<max;i++)$resultArea.append(pairTpl())},render=function(interaction){var self=this;return new Promise(function(resolve,reject){function _iFrameDragFix(draggableSelector,target){
interactUtils.iFrameDragFixOn(function(){var $activeDrop=$(resultSelector+".dropzone");$activeDrop.length&&interact(resultSelector).fire({type:"drop",target:$activeDrop.eq(0),relatedTarget:target}),$activeDrop=$(choiceSelector+".dropzone"),$activeDrop.length&&interact(choiceSelector+".empty").fire({type:"drop",target:$activeDrop.eq(0),relatedTarget:target}),interact(draggableSelector).fire({type:"dragend",target:target})})}var isDragAndDropEnabled,dragOptions,dropOptions,$container=containerHelper.get(interaction),$choiceArea=$container.find(".choice-area"),$resultArea=$container.find(".result-area"),$activeChoice=null,$bin=$("<span>",{
class:"icon-undo remove-choice",title:__("remove")}),choiceSelector=$choiceArea.selector+" >li",resultSelector=$resultArea.selector+" >li>div",binSelector=$container.selector+" .remove-choice",_getChoice=function(serial){return $choiceArea.find("[data-serial="+serial+"]")},_setChoice=function($choice,$target){setChoice(interaction,$choice,$target),sizeAdapter.adaptSize($(".result-area .target, .choice-area .qti-choice",containerHelper.get(interaction)))},_resetSelection=function(){$activeChoice&&($resultArea.find(".remove-choice").remove(),$activeChoice.removeClass("active"),$container.find(".empty").removeClass("empty"),$activeChoice=null)
},_unsetChoice=function($choice){unsetChoice(interaction,$choice,!0),sizeAdapter.adaptSize($(".result-area .target, .choice-area .qti-choice",containerHelper.get(interaction)))},_isInsertionMode=function(){return $activeChoice&&$activeChoice.data("identifier")},_isModeEditing=function(){return $activeChoice&&!$activeChoice.data("identifier")},_handleChoiceActivate=function($target){$target.hasClass("deactivated")||(_isModeEditing()?(interaction.swapping=!0,_unsetChoice($activeChoice),_setChoice($target,$activeChoice),_resetSelection(),interaction.swapping=!1):$target.hasClass("active")?_resetSelection():_activateChoice($target))
},_activateChoice=function($choice){_resetSelection(),$activeChoice=$choice,$choice.addClass("active"),$resultArea.find(">li>.target").addClass("empty")},_handleResultActivate=function($target){var choiceSerial,targetSerial=$target.data("serial");_isInsertionMode()?(choiceSerial=$activeChoice.data("serial"),targetSerial!==choiceSerial&&($target.hasClass("filled")&&(interaction.swapping=!0),targetSerial&&_unsetChoice($target),_setChoice($activeChoice,$target),interaction.swapping=!1),_resetSelection()):_isModeEditing()?(choiceSerial=$activeChoice.data("serial"),
targetSerial!==choiceSerial&&(($target.hasClass("filled")||$activeChoice.siblings("div")[0]===$target[0])&&(interaction.swapping=!0),_unsetChoice($activeChoice),targetSerial&&(_unsetChoice($target),_setChoice(_getChoice(targetSerial),$activeChoice)),_setChoice(_getChoice(choiceSerial),$target),interaction.swapping=!1),_resetSelection()):targetSerial&&(_activateResult($target),$target.append($bin))},_activateResult=function($target){var targetSerial=$target.data("serial");$activeChoice=$target,$activeChoice.addClass("active"),$resultArea.find(">li>.target").filter(function(){return $(this).data("serial")!==targetSerial}).addClass("empty"),
$choiceArea.find(">li:not(.deactivated)").filter(function(){return $(this).data("serial")!==targetSerial}).addClass("empty")};interact($container.selector).on("tap",function(e){$(e.currentTarget).closest(".qti-item").hasClass("prevent-click-handler")||_resetSelection()}),interact($choiceArea.selector+" >li").on("tap",function(e){var $target=$(e.currentTarget);$target.closest(".qti-item").hasClass("prevent-click-handler")||(e.stopPropagation(),_handleChoiceActivate($target),e.preventDefault())}),interact($resultArea.selector+" >li>div").on("tap",function(e){var $target=$(e.currentTarget)
;$target.closest(".qti-item").hasClass("prevent-click-handler")||(e.stopPropagation(),_handleResultActivate($target),e.preventDefault())}),interact(binSelector).on("tap",function(e){$(e.currentTarget).closest(".qti-item").hasClass("prevent-click-handler")||(e.stopPropagation(),_unsetChoice($activeChoice),_resetSelection(),e.preventDefault())}),interaction.responseMappingMode||_setInstructions(interaction),self.getOption&&self.getOption("enableDragAndDrop")&&self.getOption("enableDragAndDrop").associate&&(isDragAndDropEnabled=self.getOption("enableDragAndDrop").associate),isDragAndDropEnabled&&(dragOptions={inertia:!1,autoScroll:!0,restrict:{
restriction:".qti-interaction",endOnly:!1,elementRect:{top:0,left:0,bottom:1,right:1}}},interact(choiceSelector+":not(.deactivated)").draggable(_.defaults({onstart:function(e){var $target=$(e.target);$target.addClass("dragged"),_activateChoice($target),_iFrameDragFix(choiceSelector+":not(.deactivated)",e.target)},onmove:function(e){interactUtils.moveElement(e.target,e.dx,e.dy)},onend:function(e){var $target=$(e.target);$target.removeClass("dragged"),_resetSelection(),interactUtils.restoreOriginalPosition($target),interactUtils.iFrameDragFixOff()}},dragOptions)).styleCursor(!1),interact(resultSelector+".filled").draggable(_.defaults({onstart:function(e){
var $target=$(e.target);$target.addClass("dragged"),_resetSelection(),_activateResult($target),_iFrameDragFix(resultSelector+".filled",e.target)},onmove:function(e){interactUtils.moveElement(e.target,e.dx,e.dy)},onend:function(e){var $target=$(e.target);$target.removeClass("dragged"),interactUtils.restoreOriginalPosition($target),$activeChoice&&_unsetChoice($activeChoice),_resetSelection(),interactUtils.iFrameDragFixOff()}},dragOptions)).styleCursor(!1),dropOptions={overlap:.15,ondragenter:function(e){$(e.target).addClass("dropzone"),$(e.relatedTarget).addClass("droppable")},ondragleave:function(e){$(e.target).removeClass("dropzone"),
$(e.relatedTarget).removeClass("droppable")}},interact(resultSelector).dropzone(_.defaults({ondrop:function(e){this.ondragleave(e),_handleResultActivate($(e.target))}},dropOptions)),interact(choiceSelector+".empty").dropzone(_.defaults({ondrop:function(e){this.ondragleave(e),_handleChoiceActivate($(e.target))}},dropOptions))),renderEmptyPairs(interaction),sizeAdapter.adaptSize($(".result-area .target, .choice-area .qti-choice",$container)),resolve()})},_setInstructions=function(interaction){var min=parseInt(interaction.attr("minAssociations"),10),max=parseInt(interaction.attr("maxAssociations"),10)
;if(0===min)0===max&&instructionMgr.appendInstruction(interaction,__("You may make as many association pairs as you want."));else{0===max&&instructionMgr.appendInstruction(interaction,__("The maximum number of association is unlimited."));var msg=__("You need to make")+" ";msg+=min>1?__("at least")+" "+min+" "+__("association pairs"):__("one association pair"),instructionMgr.appendInstruction(interaction,msg,function(){_getRawResponse(interaction).length>=min?this.setLevel("success"):this.reset()})}},resetResponse=function(interaction){var $container=containerHelper.get(interaction);$container.find(".result-area .active").each(function(){
interactUtils.tapOn(this)}),$(".result-area>li>div",$container).each(function(){unsetChoice(interaction,$(this),!1,!1)}),containerHelper.triggerResponseChangeEvent(interaction),instructionMgr.validateInstructions(interaction)},_setPairs=function(interaction,pairs){var $container=containerHelper.get(interaction),addedPairs=0,$emptyPair=$(".result-area>li:first",$container);return pairs&&"single"===interaction.getResponseDeclaration().attr("cardinality")&&pairs.length&&(pairs=[pairs]),_.each(pairs,function(pair){if(!$emptyPair.length)return!1;var $divs=$emptyPair.children("div");setChoice(interaction,getChoice(interaction,pair[0]),$($divs[0])),
setChoice(interaction,getChoice(interaction,pair[1]),$($divs[1])),addedPairs++,$emptyPair=$emptyPair.next("li")}),addedPairs},setResponse=function(interaction,response){_setPairs(interaction,pciResponse.unserialize(response,interaction))},_getRawResponse=function(interaction){var response=[],$container=containerHelper.get(interaction);return $(".result-area>li",$container).each(function(){var pair=[];$(this).find("div").each(function(){var serial=$(this).data("serial");serial&&pair.push(interaction.getChoice(serial).id())}),2===pair.length&&response.push(pair)}),response},getResponse=function(interaction){
return pciResponse.serialize(_getRawResponse(interaction),interaction)},destroy=function(interaction){var $container=containerHelper.get(interaction);interact($container.selector).unset(),interact($container.find(".choice-area").selector+" >li").unset(),interact($container.find(".result-area").selector+" >li>div").unset(),interact($container.find(".remove-choice").selector).unset(),instructionMgr.removeInstructions(interaction),$(".result-area",$container).empty(),containerHelper.reset(interaction)},setState=function(interaction,state){var $container;_.isObject(state)&&(state.response&&(interaction.resetResponse(),interaction.setResponse(state.response)),
_.isArray(state.order)&&state.order.length===_.size(interaction.getChoices())&&($container=containerHelper.get(interaction),$(".choice-area .qti-choice",$container).sort(function(a,b){var aIndex=_.indexOf(state.order,$(a).data("identifier")),bIndex=_.indexOf(state.order,$(b).data("identifier"));return aIndex>bIndex?1:aIndex<bIndex?-1:0}).detach().appendTo($(".choice-area",$container))))},getState=function(interaction){var $container,state={},response=interaction.getResponse();return response&&(state.response=response),!0===interaction.attr("shuffle")&&($container=containerHelper.get(interaction),state.order=[],
$(".choice-area .qti-choice",$container).each(function(){state.order.push($(this).data("identifier"))})),state};return{qtiClass:"associateInteraction",template:tpl,render:render,getContainer:containerHelper.get,setResponse:setResponse,getResponse:getResponse,resetResponse:resetResponse,destroy:destroy,setState:setState,getState:getState,renderEmptyPairs:renderEmptyPairs}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/choiceInteraction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer=""
;return buffer+='id="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,buffer="";return buffer+=" "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))}function program5(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],
typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program7(depth0,data){var stack1,helper;return(helper=helpers.prompt)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.prompt,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),stack1||0===stack1?stack1:""}function program9(depth0,data){return" horizontal"}function program11(depth0,data){var stack1,helper;return(helper=helpers.listStyle)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.listStyle,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),stack1||0===stack1?stack1:""}
function program13(depth0,data){var stack1;return stack1=typeof depth0===functionType?depth0.apply(depth0):depth0,stack1||0===stack1?stack1:""}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this,blockHelperMissing=helpers.blockHelperMissing;return buffer+="<div\n  ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.id),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+='\n  class="qti-interaction qti-blockInteraction qti-choiceInteraction',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='"\n  data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"\n  data-qti-class="choiceInteraction"\n  ',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,
null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n>\n  ",stack1=helpers.if.call(depth0,depth0&&depth0.prompt,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n  <div class="instruction-container"></div>\n  <ol class="plain block-listing solid choice-area',stack1=helpers.if.call(depth0,depth0&&depth0.horizontal,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=" ",
stack1=helpers.if.call(depth0,depth0&&depth0.listStyle,{hash:{},inverse:self.noop,fn:self.program(11,program11,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='">\n      ',options={hash:{},inverse:self.noop,fn:self.program(13,program13,data),data:data},(helper=helpers.choices)?stack1=helper.call(depth0,options):(helper=depth0&&depth0.choices,stack1=typeof helper===functionType?helper.call(depth0,options):helper),helpers.choices||(stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(13,program13,data),data:data})),(stack1||0===stack1)&&(buffer+=stack1),
buffer+='\n  </ol>\n  <div class="notification-container"></div>\n</div>'})}),define("taoQtiItem/qtiCommonRenderer/renderers/interactions/ChoiceInteraction",["lodash","jquery","i18n","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/choiceInteraction","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/instructions/instructionManager","taoQtiItem/qtiCommonRenderer/helpers/PciResponse","taoQtiItem/qtiCommonRenderer/helpers/sizeAdapter"],function(_,$,__,tpl,containerHelper,instructionMgr,pciResponse,sizeAdapter){"use strict";var _triggerInput=function($choiceBox,state){
var $input=$choiceBox.find("input:radio,input:checkbox").not("[disabled]").not(".disabled"),$choiceBoxes=$choiceBox.add($choiceBox.siblings());$input.length&&(_.isBoolean(state)||(state=!$input.prop("checked")),$input.prop("checked",state),$input.trigger("change"),$choiceBoxes.removeClass("user-selected"),$choiceBoxes.find("input:checked").not("[disabled]").not(".disabled").parents(".qti-choice").addClass("user-selected"))},_pseudoLabel=function(interaction,$container){var inputSelector=".qti-choice input:radio:not([disabled]):not(.disabled), .qti-choice input:checkbox:not([disabled]):not(.disabled)";$container.off(".commonRenderer"),
$container.on("keydown.commonRenderer.keyNavigation",inputSelector,function(e){var $qtiChoice=$(this).closest(".qti-choice"),keyCode=e.keyCode?e.keyCode:e.charCode;38===keyCode||37===keyCode?(e.preventDefault(),e.stopPropagation(),$qtiChoice.prev(".qti-choice").find("input:radio,input:checkbox").not("[disabled]").not(".disabled").focus()):40!==keyCode&&39!==keyCode||(e.preventDefault(),e.stopPropagation(),$qtiChoice.next(".qti-choice").find("input:radio,input:checkbox").not("[disabled]").not(".disabled").focus())}).on("keyup.commonRenderer.keyNavigation",inputSelector,function(e){var keyCode=e.keyCode?e.keyCode:e.charCode
;32!==keyCode&&13!==keyCode||(e.preventDefault(),e.stopPropagation(),_triggerInput($(this).closest(".qti-choice")))}),$container.on("click.commonRenderer",".qti-choice",function(e){var state,$choiceBox=$(this),eliminator=e.target.dataset&&e.target.dataset.eliminable,input=this.querySelector(".real-label > input");e.originalEvent&&$(e.originalEvent.target).is("input")||$choiceBox.closest(".qti-item").hasClass("prevent-click-handler")||(e.preventDefault(),e.stopPropagation(),_.isUndefined(eliminator)||(state=!1,"trigger"===eliminator&&this.classList.toggle("eliminated")),_triggerInput($choiceBox,state),
this.classList.contains("eliminated")?input.setAttribute("disabled","disabled"):input.removeAttribute("disabled"),instructionMgr.validateInstructions(interaction,{choice:$choiceBox}),containerHelper.triggerResponseChangeEvent(interaction))})},_getRawResponse=function(interaction){var values=[],$container=containerHelper.get(interaction);return $(".real-label > input[name=response-"+interaction.getSerial()+"]:checked",$container).each(function(){values.push($(this).val())}),values},_setInstructions=function(interaction){
var msg,min=interaction.attr("minChoices"),max=interaction.attr("maxChoices"),choiceCount=_.size(interaction.getChoices()),minInstructionSet=!1,highlightInvalidInput=function($choice){var $input=$choice.find(".real-label > input"),$li=$choice.css("color","#BA122B"),$icon=$choice.find(".real-label > span").css("color","#BA122B").addClass("cross error"),timeout=interaction.data("__instructionTimeout");timeout&&clearTimeout(timeout),timeout=setTimeout(function(){$input.prop("checked",!1),$li.removeAttr("style"),$icon.removeAttr("style").removeClass("cross"),$li.toggleClass("user-selected",!1),containerHelper.triggerResponseChangeEvent(interaction)},150),
interaction.data("__instructionTimeout",timeout)};max>1&&max<choiceCount&&(max===min?(minInstructionSet=!0,msg=__("You must select exactly %s choices",max),instructionMgr.appendInstruction(interaction,msg,function(data){_getRawResponse(interaction).length>=max?(this.setLevel("success"),this.checkState("fulfilled")&&this.update({level:"warning",message:__("Maximum choices reached"),timeout:2e3,start:function(){data&&data.choice&&highlightInvalidInput(data.choice)},stop:function(){this.update({level:"success",message:msg})}}),this.setState("fulfilled")):this.reset()
})):max>min&&(msg=1===max?__("You can select maximum of 1 choice"):__("You can select maximum of %s choices",max),instructionMgr.appendInstruction(interaction,msg,function(data){_getRawResponse(interaction).length>=max?(this.setMessage(__("Maximum choices reached")),this.checkState("fulfilled")&&this.update({level:"warning",timeout:2e3,start:function(){data&&data.choice&&highlightInvalidInput(data.choice)},stop:function(){this.setLevel("info")}}),this.setState("fulfilled")):this.reset()}))),!minInstructionSet&&min>0&&min<choiceCount&&(msg=1===min?__("You must select at least 1 choice"):__("You must select at least %s choices",min),
instructionMgr.appendInstruction(interaction,msg,function(){_getRawResponse(interaction).length>=min?this.setLevel("success"):this.reset()}))},render=function(interaction){var $container=containerHelper.get(interaction);_pseudoLabel(interaction,$container),_setInstructions(interaction),"horizontal"===interaction.attr("orientation")&&sizeAdapter.adaptSize($(".add-option, .result-area .target, .choice-area .qti-choice",$container))},resetResponse=function(interaction){var $container=containerHelper.get(interaction);$(".real-label > input",$container).prop("checked",!1)},setResponse=function(interaction,response){var $container=containerHelper.get(interaction)
;try{_.forEach(pciResponse.unserialize(response,interaction),function(identifier){$container.find('.real-label > input[value="'+identifier+'"]').prop("checked",!0).closest(".qti-choice").toggleClass("user-selected",!0)}),instructionMgr.validateInstructions(interaction)}catch(e){throw new Error("wrong response format in argument : "+e)}},getResponse=function(interaction){return pciResponse.serialize(_getRawResponse(interaction),interaction)},isEliminable=function(interaction){return/\beliminable\b/.test(interaction.attr("class"))},getCustomData=function(interaction,data){var listStyles=(interaction.attr("class")||"").match(/\blist-style-[\w-]+/)||[]
;return _.merge(data||{},{horizontal:"horizontal"===interaction.attr("orientation"),listStyle:listStyles.pop(),eliminable:isEliminable(interaction)})},destroy=function(interaction){var $container=containerHelper.get(interaction),timeout=interaction.data("__instructionTimeout");timeout&&clearTimeout(timeout),$container.off(".commonRenderer"),$(document).off(".commonRenderer"),instructionMgr.removeInstructions(interaction),containerHelper.reset(interaction)},setState=function(interaction,state){var $container;_.isObject(state)&&(state.response&&(interaction.resetResponse(),interaction.setResponse(state.response)),$container=containerHelper.get(interaction),
_.isArray(state.order)&&state.order.length===_.size(interaction.getChoices())&&$(".qti-simpleChoice",$container).sort(function(a,b){var aIndex=_.indexOf(state.order,$(a).data("identifier")),bIndex=_.indexOf(state.order,$(b).data("identifier"));return aIndex>bIndex?1:aIndex<bIndex?-1:0}).detach().appendTo($(".choice-area",$container)),isEliminable(interaction)&&_.isArray(state.eliminated)&&state.eliminated.length&&_.forEach(state.eliminated,function(identifier){$container.find(".qti-simpleChoice[data-identifier="+identifier+"]").addClass("eliminated")}))},getState=function(interaction){
var $container=containerHelper.get(interaction),state={},response=interaction.getResponse();return response&&(state.response=response),!0===interaction.attr("shuffle")&&(state.order=[],$(".qti-simpleChoice",$container).each(function(){state.order.push($(this).data("identifier"))})),isEliminable(interaction)&&(state.eliminated=[],$container.find(".qti-simpleChoice.eliminated").each(function(){state.eliminated.push($(this).data("identifier"))})),state};return{qtiClass:"choiceInteraction",template:tpl,getData:getCustomData,render:render,getContainer:containerHelper.get,setResponse:setResponse,getResponse:getResponse,resetResponse:resetResponse,destroy:destroy,
setState:setState,getState:getState}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/endAttemptInteraction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this
;return buffer+='<a class="qti-interaction qti-inlineInteraction qti-endAttemptInteraction btn small btn-info"\n        data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" \n        data-qti-class="endAttemptInteraction"\n        value="false"\n        tabindex="0"\n        ',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),
(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n        "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.title,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\n</a>"})}),define("taoQtiItem/qtiCommonRenderer/renderers/interactions/EndAttemptInteraction",["lodash","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/endAttemptInteraction","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/PciResponse","i18n"],function(_,tpl,containerHelper,pciResponse,__){"use strict";function render(interaction,options){var $container=containerHelper.get(interaction)
;$container.on("click.commonRenderer",function(e){$(e.currentTarget).closest(".qti-item").hasClass("prevent-click-handler")||($container.val(!0),containerHelper.triggerResponseChangeEvent(interaction),$container.trigger("endattempt",[interaction.attr("responseIdentifier")]))})}function setResponse(interaction,response){_setVal(interaction,pciResponse.unserialize(response,interaction)[0])}function getResponse(interaction){var val=containerHelper.get(interaction).val();return val=val&&"false"!==val&&"0"!==val,pciResponse.serialize([val],interaction)}function resetResponse(interaction){_setVal(interaction,!1)}function setState(interaction,state){
_.isObject(state)&&state.response&&(interaction.resetResponse(),interaction.setResponse(state.response))}function getState(interaction){var state={},response=interaction.getResponse();return response&&(state.response=response),state}function _setVal(interaction,val){containerHelper.get(interaction).val(val).change()}function destroy(interaction){containerHelper.get(interaction).off(".commonRenderer")}function getCustomData(interaction,data){return data.attributes.title||(data.attributes.title=__("End Attempt")),data}return{qtiClass:"endAttemptInteraction",template:tpl,getData:getCustomData,render:render,getContainer:containerHelper.get,
setResponse:setResponse,getResponse:getResponse,resetResponse:resetResponse,destroy:destroy,setState:setState,getState:getState}}),define("util/strLimiter",[],function(){"use strict";return{limitByWordCount:function(str,maxWordCount){for(var textArr=str.match(/(([\S]+)|([\s]+))/g),newText=/\s+/.test(textArr[0])?textArr.shift():"";maxWordCount&&textArr.length;)newText+=textArr.shift(),textArr.length&&(newText+=textArr.shift()),maxWordCount--;return newText=newText.replace(/\s+$/,"")},limitByCharCount:function(str,maxCharCount){return str.substr(0,maxCharCount)}}}),
define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/extendedTextInteraction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+='id="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,buffer="";return buffer+=" "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))}
function program5(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program7(depth0,data){var stack1,helper;return(helper=helpers.prompt)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.prompt,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),stack1||0===stack1?stack1:""}function program9(depth0,data){var stack1,helper,options,buffer="";return buffer+="\n        ",helper=helpers.equal||depth0&&depth0.equal,options={
hash:{},inverse:self.program(14,program14,data),fn:self.program(10,program10,data),data:data},stack1=helper?helper.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.format),"xhtml",options):helperMissing.call(depth0,"equal",(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.format),"xhtml",options),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        {!-- If there's an expected length or a max length --}}\n        ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.expectedLength),{hash:{},inverse:self.noop,fn:self.program(18,program18,data),
data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        ",stack1=helpers.if.call(depth0,depth0&&depth0.maxLength,{hash:{},inverse:self.noop,fn:self.program(20,program20,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        \n        ",stack1=helpers.if.call(depth0,depth0&&depth0.maxWords,{hash:{},inverse:self.noop,fn:self.program(22,program22,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    "}function program10(depth0,data){var stack1,buffer="";return buffer+="\n            ",stack1=helpers.each.call(depth0,depth0&&depth0.maxStringLoop,{hash:{},inverse:self.noop,fn:self.program(11,program11,data),
data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        "}function program11(depth0,data){var stack1,buffer="";return buffer+='\n                <div class="text-container text-'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.format,typeof stack1===functionType?stack1.apply(depth0):stack1))+" solid",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(12,program12,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" name="'+escapeExpression((stack1=depth0&&depth0.attributes,
stack1=null==stack1||!1===stack1?stack1:stack1.identifier,typeof stack1===functionType?stack1.apply(depth0):stack1))+"_"+escapeExpression(typeof depth0===functionType?depth0.apply(depth0):depth0)+'" contenteditable></div>\n            '}function program12(depth0,data){return" attributes.class"}function program14(depth0,data){var stack1,buffer="";return buffer+="\n            ",stack1=helpers.each.call(depth0,depth0&&depth0.maxStringLoop,{hash:{},inverse:self.noop,fn:self.program(15,program15,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        "}function program15(depth0,data){var stack1,buffer=""
;return buffer+='\n                <textarea class="text-container text-'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.format,typeof stack1===functionType?stack1.apply(depth0):stack1))+" solid",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(12,program12,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" name="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.identifier,
typeof stack1===functionType?stack1.apply(depth0):stack1))+"_"+escapeExpression(typeof depth0===functionType?depth0.apply(depth0):depth0)+'" ',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.patternMask),{hash:{},inverse:self.noop,fn:self.program(16,program16,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="></textarea>\n            "}function program16(depth0,data){var stack1,buffer="";return buffer+='pattern="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.patternMask,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}
function program18(depth0,data){var stack1,helper,options,buffer="";return buffer+='\n            <div class="text-counter">\n                <span class="count-chars">0</span> '+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"of",options):helperMissing.call(depth0,"__","of",options)))+" "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.expectedLength,typeof stack1===functionType?stack1.apply(depth0):stack1))+" "+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"chars",options):helperMissing.call(depth0,"__","chars",options)))+" "+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"recommanded",options):helperMissing.call(depth0,"__","recommanded",options)))+".\n            </div>\n        "}function program20(depth0,data){var stack1,helper,options,buffer="";return buffer+='\n            <div class="text-counter">\n                <span class="count-chars">0</span> '+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"of",options):helperMissing.call(depth0,"__","of",options)))+" ",(helper=helpers.maxLength)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.maxLength,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+" "+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"chars",options):helperMissing.call(depth0,"__","chars",options)))+" "+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"maximum",options):helperMissing.call(depth0,"__","maximum",options)))+".\n            </div>\n        "}function program22(depth0,data){var stack1,helper,options,buffer="";return buffer+='\n            <div class="text-counter">\n                <span class="count-words">0</span> '+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"of",options):helperMissing.call(depth0,"__","of",options)))+" ",(helper=helpers.maxWords)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.maxWords,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data
}):helper),buffer+=escapeExpression(stack1)+" "+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"words",options):helperMissing.call(depth0,"__","words",options)))+" "+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"maximum",options):helperMissing.call(depth0,"__","maximum",options)))+".\n            </div>\n        "}function program24(depth0,data){var stack1,helper,options,buffer="";return buffer+="\n        ",helper=helpers.equal||depth0&&depth0.equal,options={hash:{},inverse:self.program(27,program27,data),
fn:self.program(25,program25,data),data:data},stack1=helper?helper.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.format),depth0&&depth0.xhtml,options):helperMissing.call(depth0,"equal",(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.format),depth0&&depth0.xhtml,options),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        \n        ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.expectedLength),{hash:{},inverse:self.noop,fn:self.program(29,program29,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        ",
stack1=helpers.if.call(depth0,depth0&&depth0.maxLength,{hash:{},inverse:self.noop,fn:self.program(20,program20,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        \n        ",stack1=helpers.if.call(depth0,depth0&&depth0.maxWords,{hash:{},inverse:self.noop,fn:self.program(22,program22,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    "}function program25(depth0,data){var stack1,buffer="";return buffer+='\n            <div class="text-container text-'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.format,
typeof stack1===functionType?stack1.apply(depth0):stack1))+" solid",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(12,program12,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" contenteditable></div>\n        '}function program27(depth0,data){var stack1,buffer="";return buffer+='\n            <textarea class="text-container text-'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.format,typeof stack1===functionType?stack1.apply(depth0):stack1))+" solid",
stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(12,program12,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" ',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.patternMask),{hash:{},inverse:self.noop,fn:self.program(16,program16,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="></textarea>\n        "}function program29(depth0,data){var stack1,helper,options,buffer=""
;return buffer+='\n            <div class="text-counter">\n                <span class="count-chars">0</span> '+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"of",options):helperMissing.call(depth0,"__","of",options)))+" "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.expectedLength,typeof stack1===functionType?stack1.apply(depth0):stack1))+" "+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"chars",options):helperMissing.call(depth0,"__","chars",options)))+" "+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"recommended",options):helperMissing.call(depth0,"__","recommended",options)))+".\n            </div>\n        "}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;return buffer+="<div ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,
null==stack1||!1===stack1?stack1:stack1.id),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=' class="qti-interaction qti-blockInteraction qti-extendedTextInteraction',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data
}):helper),buffer+=escapeExpression(stack1)+'" data-qti-class="extendedTextInteraction"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n    ",stack1=helpers.if.call(depth0,depth0&&depth0.prompt,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n    <div class="instruction-container"></div>\n    ',stack1=helpers.if.call(depth0,depth0&&depth0.multiple,{hash:{},inverse:self.program(24,program24,data),
fn:self.program(9,program9,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</div>"})}),define("ui/ckeditor/dtdHandler",["lodash"],function(_){"use strict";return function(){function _normalizeElement(element){if(_.isObject(element)&&!_.isArray(element)){if("nodeName"in element)return element.nodeName.toLowerCase();if(0 in element&&"nodeName"in element[0])return element[0].nodeName.toLowerCase()}else if(_.isString(element))return element.toLowerCase();throw new Error("Unknown element "+element)}var dtdMode="html",dtds={},setMode=function(mode){if("xhtml"===mode.toLowerCase()&&(mode="html"),
!_.contains(["html","qti"],mode))throw new Error("Unknown mode "+mode);return dtdMode=mode,this},html5Only=["article","aside","bdi","command","datalist","details","dialog","figcaption","figure","footer","header","keygen","main","mark","meter","nav","output","progress","rp","rt","ruby","section","summary","time","wbr","hgroup"],getParentsOf=function(child){var element,parents=[];child=_normalizeElement(child);for(element in dtds[dtdMode])dtds[dtdMode].hasOwnProperty(element)&&0!==element.indexOf("$")&&child in dtds[dtdMode][element]&&parents.push(element);return parents},getChildrenOf=function(parent){return parent=_normalizeElement(parent),
parent in dtds[dtdMode]?_.keys(dtds[dtdMode][parent]):[]},isChildOf=function(child,of){return _.contains(getChildrenOf(of),_normalizeElement(child))},isParentOf=function(parent,of){return _.contains(getParentsOf(of),_normalizeElement(parent))},getDtd=function(){return dtds[dtdMode]},getMode=function(){return dtdMode};return dtds.html=function(){var dtd,X=_.extend,Y=function(source,removed){var i,name,substracted=_.cloneDeep(source);for(i=1;i<arguments.length;i++){removed=arguments[i];for(name in removed)delete substracted[name]}return substracted},P={},F={},PF={a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,
datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,var:1,video:1,wbr:1},FO={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},M={command:1,link:1,meta:1,noscript:1,script:1,style:1},E={},T={"#":1},DP={acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1},DFO={center:1,dir:1,noframes:1}
;return X(P,PF,T,DP),X(F,FO,P,DFO),dtd={a:Y(P,{a:1,button:1}),abbr:P,address:F,area:E,article:X({style:1},F),aside:X({style:1},F),audio:X({source:1,track:1},F),b:P,base:E,bdi:P,bdo:P,blockquote:F,body:F,br:E,button:Y(P,{a:1,button:1}),canvas:P,caption:F,cite:P,code:P,col:E,colgroup:{col:1},command:E,datalist:X({option:1},P),dd:F,del:P,details:X({summary:1},F),dfn:P,div:X({style:1},F),dl:{dt:1,dd:1},dt:F,em:P,embed:E,fieldset:X({legend:1},F),figcaption:F,figure:X({figcaption:1},F),footer:F,form:F,h1:P,h2:P,h3:P,h4:P,h5:P,h6:P,head:X({title:1,base:1},M),header:F,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:E,html:X({head:1,body:1},F,M),i:P,iframe:T,img:E,input:E,
ins:P,kbd:P,keygen:E,label:P,legend:P,li:F,link:E,map:F,mark:P,menu:X({li:1},F),meta:E,meter:Y(P,{meter:1}),nav:F,noscript:X({link:1,meta:1,style:1},P),object:X({param:1},P),ol:{li:1},optgroup:{option:1},option:T,output:P,p:P,param:E,pre:P,progress:Y(P,{progress:1}),q:P,rp:P,rt:P,ruby:X({rp:1,rt:1},P),s:P,samp:P,script:T,section:X({style:1},F),select:{optgroup:1,option:1},small:P,source:E,span:P,strong:P,style:T,sub:P,summary:P,sup:P,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:F,textarea:T,tfoot:{tr:1},th:F,thead:{tr:1},time:Y(P,{time:1}),title:T,tr:{th:1,td:1},track:E,u:P,ul:{li:1},var:P,video:X({source:1,track:1},F),wbr:E,
acronym:P,applet:X({param:1},F),basefont:E,big:P,center:F,dialog:E,dir:{li:1},font:P,isindex:E,noframes:F,strike:P,tt:P},X(dtd,{$block:X({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},FO,DFO),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,nav:1,p:1,pre:1,section:1,table:1},$empty:{area:1,base:1,basefont:1,
br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:P,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:X({body:1,head:1,html:1},dtd.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,
time:1,tt:1,u:1,var:1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}}),dtd}(),dtds.qti=function(){for(var element,listCnt,child,actCnt,action,tmp,intersection,actions=["remove","add"],actLnt=actions.length,overrides={pre:{add:[],remove:["img","object","big","small","sub","sup"]},table:{remove:["col"]}
},qtiDtd=_.cloneDeep(dtds.html),h5Len=html5Only.length;h5Len--;)delete qtiDtd[html5Only[h5Len]];for(element in qtiDtd)qtiDtd.hasOwnProperty(element)&&(intersection=_.intersection(_.keys(qtiDtd[element]),html5Only),intersection.length&&(overrides[element]||(overrides[element]={remove:[]}),overrides[element].remove=overrides[element].remove.concat(intersection)));for(element in overrides)if(overrides.hasOwnProperty(element)&&qtiDtd.hasOwnProperty(element))for(actCnt=0;actCnt<actLnt;actCnt++)if((action=actions[actCnt])in overrides[element])if(listCnt=overrides[element][action].length,
"remove"!==action||"all"!==overrides[element][action])for(;listCnt--;)child=overrides[element][action][listCnt],tmp=_.cloneDeep(qtiDtd[element]),"remove"===action?(delete tmp[child],qtiDtd[element]=tmp):"add"===action&&void 0!==qtiDtd[child]&&(tmp[child]=1,qtiDtd[element]=tmp[child]);else qtiDtd[element]={};return qtiDtd}(),{getDtd:getDtd,getChildrenOf:getChildrenOf,getParentsOf:getParentsOf,isChildOf:isChildOf,isParentOf:isParentOf,getMode:getMode,setMode:setMode}}()}),define("ui/ckeditor/ckConfigurator",["jquery","lodash","ckeditor","ui/ckeditor/dtdHandler"],function($,_,ckeditor,dtdHandler){"use strict"
;var originalConfig=_.cloneDeep(window.CKEDITOR.config);return function(){var toolbarPresets={inline:[{name:"basicstyles",items:["Bold","Italic","Subscript","Superscript"]},{name:"insert",items:["SpecialChar","TaoQtiTable","TaoTooltip"]},{name:"links",items:["Link"]}],flow:[{name:"basicstyles",items:["Bold","Italic","Subscript","Superscript"]},{name:"insert",items:["SpecialChar","TaoQtiTable","TaoTooltip"]},{name:"links",items:["Link"]}],block:[{name:"basicstyles",items:["Bold","Italic","Subscript","Superscript"]},{name:"insert",items:["Image","SpecialChar","TaoQtiTable","TaoTooltip"]},{name:"links",items:["Link"]},{name:"styles",items:["Format"]},{
name:"paragraph",items:["NumberedList","BulletedList","-","Blockquote","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]}],extendedText:[{name:"basicstyles",items:["Bold","Italic","Underline","Subscript","Superscript"]},{name:"insert",items:["SpecialChar","TaoTab","TaoUnTab"]},{name:"paragraph",items:["NumberedList","BulletedList"]},{name:"clipboard",items:["Cut","Copy","Paste"]},{name:"history",items:["Undo","Redo"]},{name:"textcolor",items:["TextColor"]},{name:"font",items:["Font"]},{name:"fontsize",items:["FontSize"]}],htmlField:[{name:"basicstyles",items:["Bold","Italic","Strike","Underline"]},{name:"exponent",items:["Subscript","Superscript"]
},{name:"fontstyles",items:["TextColor","Font","FontSize"]},{name:"paragraph",items:["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]},{name:"indent",items:["TaoTab","TaoUnTab"]},{name:"history",items:["Undo","Redo"]},{name:"list",items:["NumberedList","BulletedList"]},{name:"insert",items:["Link","SpecialChar"]}]},ckConfig={disableAutoInline:!0,entities:!1,entities_processNumerical:!0,autoParagraph:!1,extraPlugins:"confighelper",floatSpaceDockedOffsetY:0,forcePasteAsPlainText:!0,skin:"tao",language:"en",removePlugins:"",linkShowAdvancedTab:!1,justifyClasses:["txt-lft","txt-ctr","txt-rgt","txt-jty"],linkShowTargetTab:!1,coreStyles_underline:{
element:"span",attributes:{class:"txt-underline"}},coreStyles_highlight:{element:"span",attributes:{class:"txt-highlight"}},
specialChars:["!","&quot;","#","$","%","&amp;","'","(",")","*","+","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";",["&lt;","Less than"],["&le;","Less than or equal to"],"&asymp;","=","&ne;",["&ge;","Greater than or equal to"],["&gt;","Greater than"],"?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","&euro;","&lsquo;","&rsquo;","&ldquo;","&rdquo;","&ndash;","&mdash;","&iexcl;","&cent;","&pound;","&curren;","&yen;","&brvbar;","&sect;","&uml;","&copy;","&ordf;","&laquo;","&not;","&reg;","&macr;","&deg;","&sup2;","&sup3;","&acute;","&micro;","&para;","&middot;","&cedil;","&sup1;","&ordm;","&raquo;","&frac14;","&frac12;","&frac34;","&iquest;","&Agrave;","&Aacute;","&Acirc;","&Atilde;","&Auml;","&Aring;","&AElig;","&Ccedil;","&Egrave;","&Eacute;","&Ecirc;","&Euml;","&Igrave;","&Iacute;","&Icirc;","&Iuml;","&ETH;","&Ntilde;","&Ograve;","&Oacute;","&Ocirc;","&Otilde;","&Ouml;","&times;","&Oslash;","&Ugrave;","&Uacute;","&Ucirc;","&Uuml;","&Yacute;","&THORN;","&szlig;","&agrave;","&aacute;","&acirc;","&atilde;","&auml;","&aring;","&aelig;","&ccedil;","&egrave;","&eacute;","&ecirc;","&euml;","&igrave;","&iacute;","&icirc;","&iuml;","&eth;","&ntilde;","&ograve;","&oacute;","&ocirc;","&otilde;","&ouml;","&divide;","&oslash;","&ugrave;","&uacute;","&ucirc;","&uuml;","&yacute;","&thorn;","&yuml;","&OElig;","&oelig;","&#372;","&#374","&#373","&#375;","&sbquo;","&#8219;","&bdquo;","&hellip;","&trade;","&#9658;","&bull;","&rarr;","&rArr;","&hArr;","&diams;","&asymp;"],
disableNativeTableHandles:!0},_updatePlugins=function(ckConfig,positionedPlugins){var itCnt,itLen,method,plugin,index,separator,idxItem,numToReplace,stringVal,i,tbCnt=ckConfig.toolbar.length,stringVals={};for(positionedPlugins=positionedPlugins||{},ckConfig.extraPlugins=function(positionedPluginArr,extraPlugins){for(var pluginIndex=positionedPluginArr.length,extraPluginArr=extraPlugins.split(",");pluginIndex--;)positionedPluginArr[pluginIndex]=positionedPluginArr[pluginIndex].toLowerCase();return extraPluginArr=_.compact(_.union(extraPluginArr,positionedPluginArr)),extraPluginArr.join(",")}(_.keys(positionedPlugins),ckConfig.extraPlugins),
i=0;i<tbCnt;i++)_.isString(ckConfig.toolbar[i])&&(stringVals[i]=ckConfig.toolbar[i],ckConfig.toolbar[i]={items:[]});for(plugin in positionedPlugins){for(method=function(pluginProps){for(var propIndex=pluginProps.length;propIndex--;)if(0===pluginProps[propIndex].indexOf("insert")||"replace"===pluginProps[propIndex])return pluginProps[propIndex];throw new Error("Missing key insertBefore | insertAfter | replace in positionedPlugins")}(_.keys(positionedPlugins[plugin])),idxItem=positionedPlugins[plugin][method].toLowerCase(),separator=positionedPlugins[plugin].separator||!1,index=-1;tbCnt--;){for(itLen=ckConfig.toolbar[tbCnt].items.length,
itCnt=0;itCnt<itLen;itCnt++)if(ckConfig.toolbar[tbCnt].items[itCnt].toLowerCase()===idxItem){index=itCnt;break}if(index>-1){numToReplace="replace"===method?1:0,"insertAfter"===method&&index++,separator&&(ckConfig.toolbar[tbCnt].items.splice(index,numToReplace,"-"),index++),ckConfig.toolbar[tbCnt].items.splice(index,numToReplace,plugin);break}}tbCnt=ckConfig.toolbar.length}for(stringVal in stringVals)ckConfig.toolbar[stringVal]=stringVals[stringVal]},_switchDtd=function(dtdMode){dtdHandler.setMode(dtdMode),window.CKEDITOR.dtd=dtdHandler.getDtd()},getConfig=function(editor,toolbarType,options){var toolbar,toolbars,config,dtdMode,positionedPlugins={}
;if("reset"===toolbarType)return originalConfig;options=options||{},options.resourcemgr=options.resourcemgr||{},toolbars=_.clone(toolbarPresets,!0),dtdMode=options.dtdMode||"html","qti"!==dtdMode&&0!==toolbarType.indexOf("qti")||(toolbarType=toolbarType.slice(3).toLowerCase(),ckConfig.allowedContent=!0,ckConfig.autoParagraph=!1,dtdMode="qti"),"qti"===dtdMode&&(options.qtiMedia&&(positionedPlugins.TaoQtiMedia={insertAfter:"SpecialChar"}),options.qtiImage&&(positionedPlugins.TaoQtiImage={insertAfter:"SpecialChar"}),options.qtiInclude&&(positionedPlugins.TaoQtiInclude={insertAfter:"SpecialChar"}),options.underline&&(positionedPlugins.TaoUnderline={
insertAfter:"Italic"}),options.highlight&&(options.underline?positionedPlugins.TaoHighlight={insertAfter:"TaoUnderline"}:positionedPlugins.TaoHighlight={insertAfter:"Italic"}),options.mathJax&&(positionedPlugins.TaoQtiMaths={insertAfter:"SpecialChar"})),options.toolbar&&(toolbars[toolbarType]=_.clone(options.toolbar));for(toolbar in toolbars)toolbars.hasOwnProperty(toolbar)&&(ckConfig["toolbar_"+toolbar]=toolbars[toolbar]);return void 0!==toolbars[toolbarType]&&(ckConfig.toolbar=toolbars[toolbarType]),void 0!==options.positionedPlugins&&(options.positionedPlugins={}),
!1!==options.positionedPlugins&&(positionedPlugins=_.assign(positionedPlugins,_.clone(options.positionedPlugins)),_updatePlugins(ckConfig,positionedPlugins)),config=_.assign({},_.cloneDeep(originalConfig),ckConfig,_.omit(options,["qtiImage","qtiInclude","underline","highlight","mathJax","toolbar","positionedPlugins"])),editor.on("focus",function(){_switchDtd(dtdMode)}),editor.on("instanceReady",function(e){$(e.editor.element.$).removeAttr("title")}),window.CKEDITOR.on("dialogDefinition",function(e){var linkTypes,wanted,linkIndex;if("link"===e.data.name){for(linkTypes=e.data.definition.getContents("info").get("linkType").items,
linkIndex=linkTypes.length;linkIndex--;)"anchor"===linkTypes[linkIndex][1]||(wanted=linkIndex);linkTypes.splice(wanted+1,1)}}),config};return _switchDtd("qti"),{getConfig:getConfig}}()}),define("taoQtiItem/qtiCommonRenderer/helpers/ckConfigurator",["ui/ckeditor/ckConfigurator"],function(ckConfigurator){"use strict";return{getConfig:function(editor,toolbarType,options){return options=options||{},options.underline=!0,ckConfigurator.getConfig(editor,toolbarType,options)}}}),define("taoQtiItem/qtiCommonRenderer/helpers/patternMask",[],function(){"use strict"
;var regexChar=/\^\[\\s\\S\]\{\d+\,(\d+)\}\$/,regexWords=/\^\(\?\:\(\?\:\[\^\\s\\:\\!\\\?\\\;\\\…\\\€\]\+\)\[\\s\\:\\!\\\?\\;\\\…\\\€\]\*\)\{\d+\,(\d+)\}\$/;return{parsePattern:function(pattern,type){if(void 0===pattern||null===pattern)return null;if("words"===type){var result=pattern.match(regexWords);return null!==result&&result.length>1?result[1]:null}if("chars"===type){var result=pattern.match(regexChar);return null!==result&&result.length>1?result[1]:null}return null},createMaxWordPattern:function(max){return"^(?:(?:[^\\s\\:\\!\\?\\;\\…\\€]+)[\\s\\:\\!\\?\\;\\…\\€]*){0,"+max.toString()+"}$"},createMaxCharPattern:function(max){
return"^[\\s\\S]{0,"+max.toString()+"}$"}}}),define("taoQtiItem/qtiCommonRenderer/renderers/interactions/ExtendedTextInteraction",["jquery","lodash","i18n","core/promise","util/strLimiter","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/extendedTextInteraction","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/instructions/instructionManager","ckeditor","taoQtiItem/qtiCommonRenderer/helpers/ckConfigurator","taoQtiItem/qtiCommonRenderer/helpers/patternMask","ui/tooltip"],function($,_,__,Promise,strLimiter,tpl,containerHelper,instructionMgr,ckEditor,ckConfigurator,patternMaskHelper,tooltip){"use strict"
;var render=function(interaction){return new Promise(function(resolve,reject){var $el,expectedLength,minStrings,patternMask,placeholderType,editor,isThemeLoaded,_styleUpdater,themeLoaded,_getNumStrings,$container=containerHelper.get(interaction),multiple=_isMultiple(interaction),limiter=inputLimiter(interaction),placeholderText=interaction.attr("placeholderText"),ckOptions={extraPlugins:"onchange",language:"en",defaultLanguage:"en",resize_enabled:!0,secure:"https:"===location.protocol,forceCustomDomain:!0};multiple?($el=$container.find("input"),minStrings=interaction.attr("minStrings"),expectedLength=interaction.attr("expectedLength"),
patternMask=interaction.attr("patternMask"),minStrings&&(_getNumStrings=function($element){var num=0;return $element.each(function(){""!==$(this).val()&&num++}),num},(minStrings=parseInt(minStrings,10))>0&&$el.on("blur.commonRenderer",function(){setTimeout(function(){!$el.is(":focus")&&_getNumStrings($el)<minStrings&&instructionMgr.appendNotification(interaction,__("The minimum number of answers is ")+" : "+minStrings,"warning")},100)})),expectedLength&&(expectedLength=parseInt(expectedLength,10))>0&&$el.each(function(){$(this).css("width",expectedLength+"em")}),patternMask&&$el.each(function(){_setPattern($(this),patternMask)}),
placeholderText&&(placeholderType="first","multiple"===placeholderType?$el.each(function(){$(this).attr("placeholder",placeholderText)}):"first"===placeholderType&&$el.first().attr("placeholder",placeholderText)),resolve()):($el=$container.find("textarea"),placeholderText&&$el.attr("placeholder",placeholderText),"xhtml"===_getFormat(interaction)?(isThemeLoaded=!1,_styleUpdater=function(){var qtiItemStyle,$editorBody,qtiItem;editor.document&&(qtiItem=$(".qti-item").get(0),qtiItemStyle=qtiItem.currentStyle||window.getComputedStyle(qtiItem),$editorBody=$(editor.document.$&&editor.document.$.body?editor.document.$.body:editor.document.getBody().$),
$editorBody.css({"background-color":"transparent",color:qtiItemStyle.color}))},themeLoaded=function(){isThemeLoaded=!0,_styleUpdater()},editor=_setUpCKEditor(interaction,ckOptions),editor||reject("Unable to instantiate ckEditor"),editor.on("instanceReady",function(){_styleUpdater(),editor.container&&editor.container.$&&$(editor.container.$).addClass("no-key-navigation"),_.delay(resolve,300)}),"ready"!==editor.status&&"loaded"!==editor.status||_.defer(resolve),editor.on("configLoaded",function(){editor.config=ckConfigurator.getConfig(editor,"extendedText",ckOptions),limiter.enabled&&limiter.listenTextInput()}),editor.on("change",function(){
containerHelper.triggerResponseChangeEvent(interaction,{})}),$(document).on("themechange.themeloader",themeLoaded)):($el.on("keyup.commonRenderer change.commonRenderer",function(){containerHelper.triggerResponseChangeEvent(interaction,{})}),limiter.enabled&&limiter.listenTextInput(),resolve()))})},resetResponse=function(interaction){"xhtml"===_getFormat(interaction)?_getCKEditor(interaction).setData(""):containerHelper.get(interaction).find("input, textarea").val("")},setResponse=function(interaction,response){var baseType=interaction.getResponseDeclaration().attr("baseType")
;if(response.base&&void 0!==response.base[baseType])setText(interaction,response.base[baseType]);else{if(!response.list||!response.list[baseType])throw new Error("wrong response format in argument.");for(var i in response.list[baseType]){var serial=void 0===response.list.serial?"":response.list.serial[i];!function(identifier,value){interaction.getContainer().find("#"+identifier).val(value)}(serial+"_"+i,response.list[baseType][i])}}},getResponse=function(interaction){
var $container=containerHelper.get(interaction),attributes=interaction.getAttributes(),responseDeclaration=interaction.getResponseDeclaration(),baseType=responseDeclaration.attr("baseType"),numericBase=attributes.base||10,multiple=!(!attributes.maxStrings||"multiple"!==responseDeclaration.attr("cardinality")&&"ordered"!==responseDeclaration.attr("cardinality")),ret=multiple?{list:{}}:{base:{}};if(multiple){var values=[];$container.find("input").each(function(i){var $el=$(this);attributes.placeholderText&&$el.val()===attributes.placeholderText?values[i]="":"integer"===baseType?(values[i]=parseInt($el.val(),numericBase),
values[i]=isNaN(values[i])?"":values[i]):"float"===baseType?(values[i]=parseFloat($el.val()),values[i]=isNaN(values[i])?"":values[i]):"string"===baseType&&(values[i]=$el.val())}),ret.list[baseType]=values}else{var value="";attributes.placeholderText&&_getTextareaValue(interaction)===attributes.placeholderText?value="":"integer"===baseType?value=parseInt(_getTextareaValue(interaction),numericBase):"float"===baseType?value=parseFloat(_getTextareaValue(interaction)):"string"===baseType&&(value=_getTextareaValue(interaction,!0)),ret.base[baseType]=isNaN(value)&&"number"==typeof value?"":value}return ret},inputLimiter=function(interaction){
var patternRegEx,$textarea,$charsCounter,$wordsCounter,maxWords,maxLength,$container=containerHelper.get(interaction),expectedLength=interaction.attr("expectedLength"),expectedLines=interaction.attr("expectedLines"),patternMask=interaction.attr("patternMask"),enabled=!1;return(expectedLength||expectedLines||patternMask)&&(enabled=!0,$textarea=$(".text-container",$container),$charsCounter=$(".count-chars",$container),$wordsCounter=$(".count-words",$container),""!==patternMask&&(maxWords=patternMaskHelper.parsePattern(patternMask,"words"),maxLength=patternMaskHelper.parsePattern(patternMask,"chars"),maxWords=_.isNaN(maxWords)?void 0:maxWords,
(maxLength=_.isNaN(maxLength)?void 0:maxLength)||maxWords||(patternRegEx=new RegExp(patternMask)))),{enabled:enabled,listenTextInput:function(){var cke,self=this,ignoreKeyCodes=[8,16,17,46,37,38,39,40,35,36,1114177,3342401,1114181,3342405,2228232,2228261,4456485,2228262,2228263,4456487,2228264,1114120,1114177,1114202,1114200],triggerKeyCodes=[32,13,2228237],invalidToolip=tooltip.error($container,__("This is not a valid answer"),{position:"bottom",trigger:"manual"}),patternHandler=function(e){var newValue,isCke="xhtml"===_getFormat(interaction);if(patternRegEx){if(!(newValue=isCke?e.getData():e.currentTarget.value))return!1;_.debounce(function(){
patternRegEx.test(newValue)?($container.removeClass("invalid"),invalidToolip.dispose()):($container.addClass("invalid"),$container.show(),invalidToolip.show(),containerHelper.triggerResponseChangeEvent(interaction))},400)()}},keyLimitHandler=function(e){var keyCode=e&&e.data?e.data.keyCode:e.which;if(!_.contains(ignoreKeyCodes,keyCode)&&(maxWords&&self.getWordsCount()>=maxWords&&_.contains(triggerKeyCodes,keyCode)||maxLength&&self.getCharsCount()>=maxLength))return e.cancel?e.cancel():(e.preventDefault(),e.stopImmediatePropagation()),!1;_.defer(function(){self.updateCounter()})},nonKeyLimitHandler=function(e){
var newValue,oldValue=_getTextareaValue(interaction),isCke="xhtml"===_getFormat(interaction);if(newValue=isCke?e.data.dataValue:e.originalEvent.clipboardData?e.originalEvent.clipboardData.getData("text"):e.originalEvent.dataTransfer.getData("text")||e.originalEvent.dataTransfer.getData("text/plain")||"",e.cancel?e.cancel():(e.preventDefault(),e.stopImmediatePropagation()),!newValue)return!1;_.isNull(maxWords)?_.isNull(maxLength)||(newValue=strLimiter.limitByCharCount(newValue,maxLength-self.getCharsCount())):newValue=strLimiter.limitByWordCount(newValue,maxWords-self.getWordsCount()),
isCke?_getCKEditor(interaction).insertText(newValue):containerHelper.get(interaction).find("textarea").val(oldValue+newValue),_.defer(function(){self.updateCounter()})};"xhtml"===_getFormat(interaction)?(cke=_getCKEditor(interaction),cke.on("key",keyLimitHandler),cke.on("paste",nonKeyLimitHandler)):$textarea.on("keyup.commonRenderer",patternHandler).on("keydown.commonRenderer",keyLimitHandler).on("paste.commonRenderer drop.commonRenderer",nonKeyLimitHandler)},getWordsCount:function(){var value=_getTextareaValue(interaction)||"";return _.isEmpty(value)?0:value.trim().replace(/\s+/gi," ").split(" ").length},getCharsCount:function(){
return(_getTextareaValue(interaction)||"").length},updateCounter:function(){$charsCounter.text(this.getCharsCount()),$wordsCounter.text(this.getWordsCount())}}},_getTextareaValue=function(interaction,raw){return"xhtml"===_getFormat(interaction)?_ckEditorData(interaction,raw):containerHelper.get(interaction).find("textarea").val()},_setPattern=function($element,pattern){var patt=new RegExp(pattern);$element.on("keyup.commonRenderer",function(){$element.removeClass("field-error"),patt.test($element.val())||$element.addClass("field-error")})},_isMultiple=function(interaction){
var attributes=interaction.getAttributes(),response=interaction.getResponseDeclaration();return!(!attributes.maxStrings||"multiple"!==response.attr("cardinality")&&"ordered"!==response.attr("cardinality"))},_setUpCKEditor=function(interaction,options){var $container=containerHelper.get(interaction),editor=ckEditor.replace($container.find(".text-container")[0],options||{});if(editor)return $container.data("editor",editor.name),editor},_destroyCkEditor=function(interaction){var editor,$container=containerHelper.get(interaction),name=$container.data("editor");name&&(editor=ckEditor.instances[name]),editor&&(editor.destroy(),$container.removeData("editor"))
},_getCKEditor=function(interaction){var $container=containerHelper.get(interaction),name=$container.data("editor");return ckEditor.instances[name]},_ckEditorData=function(interaction,raw){var editor=_getCKEditor(interaction),data=editor&&editor.getData()||"";return raw||(data=_stripTags(data)),data},_stripTags=function(str){var tempNode=document.createElement("div");return tempNode.innerHTML=str,tempNode.textContent},_getFormat=function(interaction){var format=interaction.attr("format");return _.contains(["plain","xhtml","preformatted"],format)?format:"plain"},enable=function(interaction){var editor,$container=containerHelper.get(interaction)
;$container.find("input, textarea").removeAttr("disabled"),"xhtml"===_getFormat(interaction)&&(editor=_getCKEditor(interaction))&&("ready"===editor.status?editor.setReadOnly(!1):editor.readOnly=!1)},disable=function(interaction){var editor,$container=containerHelper.get(interaction);$container.find("input, textarea").attr("disabled","disabled"),"xhtml"===_getFormat(interaction)&&(editor=_getCKEditor(interaction))&&("ready"===editor.status?editor.setReadOnly(!0):editor.readOnly=!0)},clearText=function(interaction){setText(interaction,"")},setText=function(interaction,text){var limiter=inputLimiter(interaction);if("xhtml"===_getFormat(interaction))try{
_getCKEditor(interaction).setData(text,function(){limiter.enabled&&limiter.updateCounter()})}catch(e){console.error("setText error",e)}else containerHelper.get(interaction).find("textarea").val(text),limiter.enabled&&limiter.updateCounter()},destroy=function(interaction){var $container=containerHelper.get(interaction),$el=$container.find("input, textarea");"xhtml"===_getFormat(interaction)&&_destroyCkEditor(interaction),$el.off(".commonRenderer"),$(document).off(".commonRenderer"),instructionMgr.removeInstructions(interaction),containerHelper.reset(interaction)},setState=function(interaction,state){if(_.isObject(state)&&state.response)try{
interaction.setResponse(state.response)}catch(e){throw interaction.resetResponse(),e}},getState=function(interaction){var state={},response=interaction.getResponse();return response&&(state.response=response),state},getCustomData=function(interaction,data){var pattern=interaction.attr("patternMask"),maxWords=parseInt(patternMaskHelper.parsePattern(pattern,"words")),maxLength=parseInt(patternMaskHelper.parsePattern(pattern,"chars")),expectedLength=parseInt(interaction.attr("expectedLines"),10);return _.merge(data||{},{maxWords:isNaN(maxWords)?void 0:maxWords,maxLength:isNaN(maxLength)?void 0:maxLength,attributes:isNaN(expectedLength)?void 0:{
expectedLength:72*expectedLength}})};return{qtiClass:"extendedTextInteraction",template:tpl,render:render,getContainer:containerHelper.get,setResponse:setResponse,getResponse:getResponse,getData:getCustomData,resetResponse:resetResponse,destroy:destroy,getState:getState,setState:setState,enable:enable,disable:disable,clearText:clearText,setText:setText}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/gapMatchInteraction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+='id="'+escapeExpression((stack1=depth0&&depth0.attributes,
stack1=null==stack1||!1===stack1?stack1:stack1.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,buffer="";return buffer+=" "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))}function program5(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program7(depth0,data){var stack1,helper
;return(helper=helpers.prompt)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.prompt,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),stack1||0===stack1?stack1:""}function program9(depth0,data){var stack1;return stack1=typeof depth0===functionType?depth0.apply(depth0):depth0,stack1||0===stack1?stack1:""}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this,blockHelperMissing=helpers.blockHelperMissing;return buffer+="<div ",
stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.id),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=' class="qti-interaction qti-blockInteraction qti-gapMatchInteraction',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-qti-class="gapMatchInteraction"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n    ",stack1=helpers.if.call(depth0,depth0&&depth0.prompt,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n    <ul class="choice-area none block-listing solid horizontal source">\n        ',
options={hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data},(helper=helpers.choices)?stack1=helper.call(depth0,options):(helper=depth0&&depth0.choices,stack1=typeof helper===functionType?helper.call(depth0,options):helper),helpers.choices||(stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data})),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n    </ul>\n    <div class="instruction-container"></div>\n    <div class="qti-flow-container">',(helper=helpers.body)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.body,
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="</div>\n</div>"})}),define("taoQtiItem/qtiCommonRenderer/renderers/interactions/GapMatchInteraction",["lodash","i18n","jquery","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/gapMatchInteraction","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/instructions/instructionManager","taoQtiItem/qtiCommonRenderer/helpers/PciResponse","interact","ui/interactUtils"],function(_,__,$,tpl,containerHelper,instructionMgr,pciResponse,interact,interactUtils){"use strict"
;var _choiceUsages={},setChoice=function(interaction,$choice,$target){var choiceSerial=$choice.data("serial"),choice=interaction.getChoice(choiceSerial);_choiceUsages[choiceSerial]||(_choiceUsages[choiceSerial]=0),_choiceUsages[choiceSerial]++,$target.data("serial",choiceSerial).html($choice.html()).addClass("filled"),!interaction.responseMappingMode&&choice.attr("matchMax")&&_choiceUsages[choiceSerial]>=choice.attr("matchMax")&&$choice.attr("class","deactivated"),containerHelper.triggerResponseChangeEvent(interaction)},unsetChoice=function(interaction,$choice){var serial=$choice.data("serial")
;containerHelper.get(interaction).find(".choice-area [data-serial="+serial+"]").removeClass().addClass("qti-choice"),_choiceUsages[serial]--,$choice.removeClass("filled").removeData("serial").empty(),interaction.swapping||containerHelper.triggerResponseChangeEvent(interaction)},getChoice=function(interaction,identifier){var $container=containerHelper.get(interaction);return $(".choice-area [data-identifier="+identifier+"]",$container)},getGap=function(interaction,identifier){var $container=containerHelper.get(interaction);return $(".qti-flow-container [data-identifier="+identifier+"]",$container)},render=function(interaction){
function _iFrameDragFix(draggableSelector,target){interactUtils.iFrameDragFixOn(function(){$activeDrop&&interact(gapSelector).fire({type:"drop",target:$activeDrop.eq(0),relatedTarget:target}),interact(draggableSelector).fire({type:"dragend",target:target})})}function _handleChoiceSelect($target){$activeChoice&&$target.hasClass("active")||$target.hasClass("deactivated")||(_resetSelection(),$activeChoice=$target.addClass("active"),$(gapSelector).addClass("empty"))}function _handleFilledGapSelect($target){$activeChoice=$target,$(gapSelector).addClass("active")}function _handleGapSelect($target){var choiceSerial,targetSerial
;_isInsertionMode()?(choiceSerial=$activeChoice.data("serial"),targetSerial=$target.data("serial"),targetSerial!==choiceSerial&&(targetSerial&&_unsetChoice($target),_setChoice($activeChoice,$target)),$activeChoice.removeClass("active"),$container.find(".empty").removeClass("empty"),$activeChoice=null):_isModeEditing()?(choiceSerial=$activeChoice.data("serial"),targetSerial=$target.data("serial"),targetSerial!==choiceSerial&&(_unsetChoice($activeChoice),targetSerial&&(_unsetChoice($target),_setChoice(_getChoice(targetSerial),$activeChoice)),_setChoice(_getChoice(choiceSerial),$target)),
_resetSelection()):$target.data("serial")&&$target.hasClass("filled")&&(targetSerial=$target.data("serial"),$activeChoice=$target,$activeChoice.addClass("active"),$flowContainer.find(">li>div").filter(function(){return $target.data("serial")!==targetSerial}).addClass("empty"),$choiceArea.find(">li:not(.deactivated)").filter(function(){return $target.data("serial")!==targetSerial}).addClass("empty"),$target.append($bin))}var isDragAndDropEnabled,dragOptions,$container=containerHelper.get(interaction),$choiceArea=$container.find(".choice-area"),$flowContainer=$container.find(".qti-flow-container"),$activeChoice=null,$activeDrop=null,$bin=$("<span>",{
class:"icon-undo remove-choice",title:__("remove")}),choiceSelector=$choiceArea.selector+" .qti-choice",gapSelector=$flowContainer.selector+" .gapmatch-content",filledGapSelector=gapSelector+".filled",binSelector=$container.selector+" .remove-choice",_getChoice=function(serial){return $choiceArea.find("[data-serial="+serial+"]")},_setChoice=function($choice,$target){return setChoice(interaction,$choice,$target)},_resetSelection=function(){$activeChoice&&($flowContainer.find(".remove-choice").remove(),$activeChoice.removeClass("deactivated active"),$container.find(".empty").removeClass("empty"),$activeChoice=null)},_unsetChoice=function($choice){
return unsetChoice(interaction,$choice)},_isInsertionMode=function(){return $activeChoice&&!$activeChoice.hasClass("filled")},_isModeEditing=function(){return $activeChoice&&$activeChoice.hasClass("filled")};this.getOption&&this.getOption("enableDragAndDrop")&&this.getOption("enableDragAndDrop").gapMatch&&(isDragAndDropEnabled=this.getOption("enableDragAndDrop").gapMatch),isDragAndDropEnabled&&(dragOptions={inertia:!1,autoScroll:!0,restrict:{restriction:".qti-interaction",endOnly:!1,elementRect:{top:0,left:0,bottom:1,right:1}}},interact(choiceSelector).draggable(_.assign({},dragOptions,{onstart:function(e){var $target=$(e.target);$target.addClass("dragged"),
_handleChoiceSelect($target),_iFrameDragFix(choiceSelector,e.target)},onmove:function(e){interactUtils.moveElement(e.target,e.dx,e.dy)},onend:function(e){var $target=$(e.target);$target.removeClass("dragged"),interactUtils.restoreOriginalPosition($target),interactUtils.iFrameDragFixOff()}})).styleCursor(!1),interact(filledGapSelector).draggable(_.assign({},dragOptions,{onstart:function(e){var $target=$(e.target);$target.addClass("dragged"),_handleFilledGapSelect($target),_iFrameDragFix(filledGapSelector,e.target)},onmove:function(e){interactUtils.moveElement(e.target,e.dx,e.dy)},onend:function(e){var $target=$(e.target);$target.removeClass("dragged"),
interactUtils.restoreOriginalPosition($target),$activeChoice&&(_unsetChoice($activeChoice),_resetSelection()),interactUtils.iFrameDragFixOff()}})).styleCursor(!1),interact(gapSelector).dropzone({overlap:.05,ondragenter:function(e){var $target=$(e.target),$dragged=$(e.relatedTarget);$activeDrop=$target,$target.addClass("dropzone"),$dragged.addClass("droppable")},ondrop:function(e){_handleGapSelect($(e.target)),this.ondragleave(e)},ondragleave:function(e){var $target=$(e.target),$dragged=$(e.relatedTarget);$target.removeClass("dropzone"),$dragged.removeClass("droppable"),$activeDrop=null}})),interact($container.selector).on("tap",function(e){
e.stopPropagation(),_resetSelection()}),interact(choiceSelector).on("tap",function(e){e.stopPropagation(),_handleChoiceSelect($(e.currentTarget)),e.preventDefault()}),interact(gapSelector).on("tap",function(e){e.stopPropagation(),_handleGapSelect($(e.currentTarget)),e.preventDefault()}),interact(binSelector).on("tap",function(e){e.stopPropagation(),_unsetChoice($activeChoice),_resetSelection(),e.preventDefault()})},resetResponse=function(interaction){var $container=containerHelper.get(interaction);$(".gapmatch-content.active",$container).removeClass("active"),$(".gapmatch-content",$container).each(function(){unsetChoice(interaction,$(this))})
},_setPairs=function(interaction,pairs){_.each(pairs,function(pair){pair&&setChoice(interaction,getChoice(interaction,pair[0]),getGap(interaction,pair[1]).find(".gapmatch-content"))})},setResponse=function(interaction,response){resetResponse(interaction),_setPairs(interaction,pciResponse.unserialize(response,interaction))},_getRawResponse=function(interaction){var response=[],$container=containerHelper.get(interaction);return $(".gapmatch-content",$container).each(function(){var choiceSerial=$(this).data("serial"),pair=[];choiceSerial&&pair.push(interaction.getChoice(choiceSerial).attr("identifier")),pair.push($(this).data("identifier")),
2===pair.length&&response.push(pair)}),response},getResponse=function(interaction){return pciResponse.serialize(_getRawResponse(interaction),interaction)},destroy=function(interaction){var $container=containerHelper.get(interaction);interact($container.selector).unset(),interact($container.find(".choice-area").selector+" .qti-choice").unset(),interact($container.find(".qti-flow-container").selector+" .gapmatch-content").unset(),interact($container.find(".remove-choice").selector).unset(),$container.find(".gapmatch-content").empty(),$container.find(".active").removeClass("active"),$container.find(".remove-choice").remove(),
$container.find(".empty").removeClass("empty"),containerHelper.reset(interaction)},setState=function(interaction,state){var $container;_.isObject(state)&&(state.response&&(interaction.resetResponse(),interaction.setResponse(state.response)),_.isArray(state.order)&&state.order.length===_.size(interaction.getChoices())&&($container=containerHelper.get(interaction),$(".choice-area .qti-choice",$container).sort(function(a,b){var aIndex=_.indexOf(state.order,$(a).data("identifier")),bIndex=_.indexOf(state.order,$(b).data("identifier"));return aIndex>bIndex?1:aIndex<bIndex?-1:0}).detach().appendTo($(".choice-area",$container))))},getState=function(interaction){
var $container,state={},response=interaction.getResponse();return response&&(state.response=response),!0===interaction.attr("shuffle")&&($container=containerHelper.get(interaction),state.order=[],$(".choice-area .qti-choice",$container).each(function(){state.order.push($(this).data("identifier"))})),state};return{qtiClass:"gapMatchInteraction",template:tpl,render:render,getContainer:containerHelper.get,setResponse:setResponse,getResponse:getResponse,resetResponse:resetResponse,destroy:destroy,setState:setState,getState:getState}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/graphicAssociateInteraction",["handlebars"],function(hb){
return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+='id="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,buffer="";return buffer+=" "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))}function program5(depth0,data){var stack1,buffer=""
;return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program7(depth0,data){var stack1,helper;return(helper=helpers.prompt)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.prompt,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),stack1||0===stack1?stack1:""}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this
;return buffer+="<div ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.id),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=' class="qti-interaction qti-blockInteraction qti-graphicInteraction qti-graphicAssociateInteraction clearfix',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{
hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n    ",stack1=helpers.if.call(depth0,depth0&&depth0.prompt,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+='\n    <div class="instruction-container"></div>\n    <div class="image-editor solid">\n        <div id=\'graphic-paper-',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'\' class="main-image-box"></div>\n    </div>\n</div>'})}),function(glob){var current_event,stop,has="hasOwnProperty",separator=/[\.\/]/,fun=function(){},numsort=function(a,b){return a-b},events={n:{}},eve=function(name,scope){name=String(name)
;var l,oldstop=stop,args=Array.prototype.slice.call(arguments,2),listeners=eve.listeners(name),z=0,indexed=[],queue={},out=[],ce=current_event;current_event=name,stop=0;for(var i=0,ii=listeners.length;i<ii;i++)"zIndex"in listeners[i]&&(indexed.push(listeners[i].zIndex),listeners[i].zIndex<0&&(queue[listeners[i].zIndex]=listeners[i]));for(indexed.sort(numsort);indexed[z]<0;)if(l=queue[indexed[z++]],out.push(l.apply(scope,args)),stop)return stop=oldstop,out;for(i=0;i<ii;i++)if("zIndex"in(l=listeners[i]))if(l.zIndex==indexed[z]){if(out.push(l.apply(scope,args)),stop)break;do{if(z++,l=queue[indexed[z]],l&&out.push(l.apply(scope,args)),stop)break}while(l)
}else queue[l.zIndex]=l;else if(out.push(l.apply(scope,args)),stop)break;return stop=oldstop,current_event=ce,out.length?out:null};eve._events=events,eve.listeners=function(name){var item,items,k,i,ii,j,jj,nes,names=name.split(separator),e=events,es=[e],out=[];for(i=0,ii=names.length;i<ii;i++){for(nes=[],j=0,jj=es.length;j<jj;j++)for(e=es[j].n,items=[e[names[i]],e["*"]],k=2;k--;)(item=items[k])&&(nes.push(item),out=out.concat(item.f||[]));es=nes}return out},eve.on=function(name,f){if(name=String(name),"function"!=typeof f)return function(){};for(var names=name.split(separator),e=events,i=0,ii=names.length;i<ii;i++)e=e.n,
e=e.hasOwnProperty(names[i])&&e[names[i]]||(e[names[i]]={n:{}});for(e.f=e.f||[],i=0,ii=e.f.length;i<ii;i++)if(e.f[i]==f)return fun;return e.f.push(f),function(zIndex){+zIndex==+zIndex&&(f.zIndex=+zIndex)}},eve.f=function(event){var attrs=[].slice.call(arguments,1);return function(){eve.apply(null,[event,null].concat(attrs).concat([].slice.call(arguments,0)))}},eve.stop=function(){stop=1},eve.nt=function(subname){return subname?new RegExp("(?:\\.|\\/|^)"+subname+"(?:\\.|\\/|$)").test(current_event):current_event},eve.nts=function(){return current_event.split(separator)},eve.off=eve.unbind=function(name,f){if(!name)return void(eve._events=events={n:{}})
;var e,key,splice,i,ii,j,jj,names=name.split(separator),cur=[events];for(i=0,ii=names.length;i<ii;i++)for(j=0;j<cur.length;j+=splice.length-2){if(splice=[j,1],e=cur[j].n,"*"!=names[i])e[names[i]]&&splice.push(e[names[i]]);else for(key in e)e[has](key)&&splice.push(e[key]);cur.splice.apply(cur,splice)}for(i=0,ii=cur.length;i<ii;i++)for(e=cur[i];e.n;){if(f){if(e.f){for(j=0,jj=e.f.length;j<jj;j++)if(e.f[j]==f){e.f.splice(j,1);break}!e.f.length&&delete e.f}for(key in e.n)if(e.n[has](key)&&e.n[key].f){var funcs=e.n[key].f;for(j=0,jj=funcs.length;j<jj;j++)if(funcs[j]==f){funcs.splice(j,1);break}!funcs.length&&delete e.n[key].f}}else{delete e.f
;for(key in e.n)e.n[has](key)&&e.n[key].f&&delete e.n[key].f}e=e.n}},eve.once=function(name,f){var f2=function(){return eve.unbind(name,f2),f.apply(this,arguments)};return eve.on(name,f2)},eve.version="0.4.2",eve.toString=function(){return"You are running Eve 0.4.2"},"undefined"!=typeof module&&module.exports?module.exports=eve:void 0!==define?define("eve",[],function(){return eve}):glob.eve=eve}(window||this),function(glob,factory){"function"==typeof define&&define.amd?define("raphael",["eve"],function(eve){return factory(glob,eve)}):factory(glob,glob.eve||"function"==typeof require&&require("eve"))}(this,function(window,eve){function R(first){
if(R.is(first,"function"))return loaded?first():eve.on("raphael.DOMload",first);if(R.is(first,array))return R._engine.create[apply](R,first.splice(0,3+R.is(first[0],nu))).add(first);var args=Array.prototype.slice.call(arguments,0);if(R.is(args[args.length-1],"function")){var f=args.pop();return loaded?f.call(R._engine.create[apply](R,args)):eve.on("raphael.DOMload",function(){f.call(R._engine.create[apply](R,args))})}return R._engine.create[apply](R,arguments)}function clone(obj){if("function"==typeof obj||Object(obj)!==obj)return obj;var res=new obj.constructor;for(var key in obj)obj[has](key)&&(res[key]=clone(obj[key]));return res}
function repush(array,item){for(var i=0,ii=array.length;i<ii;i++)if(array[i]===item)return array.push(array.splice(i,1)[0])}function cacher(f,scope,postprocessor){function newf(){var arg=Array.prototype.slice.call(arguments,0),args=arg.join("␀"),cache=newf.cache=newf.cache||{},count=newf.count=newf.count||[];return cache[has](args)?(repush(count,args),postprocessor?postprocessor(cache[args]):cache[args]):(count.length>=1e3&&delete cache[count.shift()],count.push(args),cache[args]=f[apply](scope,arg),postprocessor?postprocessor(cache[args]):cache[args])}return newf}function clrToString(){return this.hex}function catmullRom2bezier(crp,z){
for(var d=[],i=0,iLen=crp.length;iLen-2*!z>i;i+=2){var p=[{x:+crp[i-2],y:+crp[i-1]},{x:+crp[i],y:+crp[i+1]},{x:+crp[i+2],y:+crp[i+3]},{x:+crp[i+4],y:+crp[i+5]}];z?i?iLen-4==i?p[3]={x:+crp[0],y:+crp[1]}:iLen-2==i&&(p[2]={x:+crp[0],y:+crp[1]},p[3]={x:+crp[2],y:+crp[3]}):p[0]={x:+crp[iLen-2],y:+crp[iLen-1]}:iLen-4==i?p[3]=p[2]:i||(p[0]={x:+crp[i],y:+crp[i+1]}),d.push(["C",(-p[0].x+6*p[1].x+p[2].x)/6,(-p[0].y+6*p[1].y+p[2].y)/6,(p[1].x+6*p[2].x-p[3].x)/6,(p[1].y+6*p[2].y-p[3].y)/6,p[2].x,p[2].y])}return d}function base3(t,p1,p2,p3,p4){return t*(t*(-3*p1+9*p2-9*p3+3*p4)+6*p1-12*p2+6*p3)-3*p1+3*p2}function bezlen(x1,y1,x2,y2,x3,y3,x4,y4,z){null==z&&(z=1),
z=z>1?1:z<0?0:z;for(var z2=z/2,Tvalues=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Cvalues=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],sum=0,i=0;i<12;i++){var ct=z2*Tvalues[i]+z2,xbase=base3(ct,x1,x2,x3,x4),ybase=base3(ct,y1,y2,y3,y4),comb=xbase*xbase+ybase*ybase;sum+=Cvalues[i]*math.sqrt(comb)}return z2*sum}function getTatLen(x1,y1,x2,y2,x3,y3,x4,y4,ll){if(!(ll<0||bezlen(x1,y1,x2,y2,x3,y3,x4,y4)<ll)){var l,step=.5,t2=1-step;for(l=bezlen(x1,y1,x2,y2,x3,y3,x4,y4,t2);abs(l-ll)>.01;)step/=2,t2+=(l<ll?1:-1)*step,l=bezlen(x1,y1,x2,y2,x3,y3,x4,y4,t2);return t2}}
function intersect(x1,y1,x2,y2,x3,y3,x4,y4){if(!(mmax(x1,x2)<mmin(x3,x4)||mmin(x1,x2)>mmax(x3,x4)||mmax(y1,y2)<mmin(y3,y4)||mmin(y1,y2)>mmax(y3,y4))){var nx=(x1*y2-y1*x2)*(x3-x4)-(x1-x2)*(x3*y4-y3*x4),ny=(x1*y2-y1*x2)*(y3-y4)-(y1-y2)*(x3*y4-y3*x4),denominator=(x1-x2)*(y3-y4)-(y1-y2)*(x3-x4);if(denominator){var px=nx/denominator,py=ny/denominator,px2=+px.toFixed(2),py2=+py.toFixed(2);if(!(px2<+mmin(x1,x2).toFixed(2)||px2>+mmax(x1,x2).toFixed(2)||px2<+mmin(x3,x4).toFixed(2)||px2>+mmax(x3,x4).toFixed(2)||py2<+mmin(y1,y2).toFixed(2)||py2>+mmax(y1,y2).toFixed(2)||py2<+mmin(y3,y4).toFixed(2)||py2>+mmax(y3,y4).toFixed(2)))return{x:px,y:py}}}}
function interHelper(bez1,bez2,justCount){var bbox1=R.bezierBBox(bez1),bbox2=R.bezierBBox(bez2);if(!R.isBBoxIntersect(bbox1,bbox2))return justCount?0:[];for(var l1=bezlen.apply(0,bez1),l2=bezlen.apply(0,bez2),n1=mmax(~~(l1/5),1),n2=mmax(~~(l2/5),1),dots1=[],dots2=[],xy={},res=justCount?0:[],i=0;i<n1+1;i++){var p=R.findDotsAtSegment.apply(R,bez1.concat(i/n1));dots1.push({x:p.x,y:p.y,t:i/n1})}for(i=0;i<n2+1;i++)p=R.findDotsAtSegment.apply(R,bez2.concat(i/n2)),dots2.push({x:p.x,y:p.y,t:i/n2});for(i=0;i<n1;i++)for(var j=0;j<n2;j++){
var di=dots1[i],di1=dots1[i+1],dj=dots2[j],dj1=dots2[j+1],ci=abs(di1.x-di.x)<.001?"y":"x",cj=abs(dj1.x-dj.x)<.001?"y":"x",is=intersect(di.x,di.y,di1.x,di1.y,dj.x,dj.y,dj1.x,dj1.y);if(is){if(xy[is.x.toFixed(4)]==is.y.toFixed(4))continue;xy[is.x.toFixed(4)]=is.y.toFixed(4);var t1=di.t+abs((is[ci]-di[ci])/(di1[ci]-di[ci]))*(di1.t-di.t),t2=dj.t+abs((is[cj]-dj[cj])/(dj1[cj]-dj[cj]))*(dj1.t-dj.t);t1>=0&&t1<=1.001&&t2>=0&&t2<=1.001&&(justCount?res++:res.push({x:is.x,y:is.y,t1:mmin(t1,1),t2:mmin(t2,1)}))}}return res}function interPathHelper(path1,path2,justCount){path1=R._path2curve(path1),path2=R._path2curve(path2)
;for(var x1,y1,x2,y2,x1m,y1m,x2m,y2m,bez1,bez2,res=justCount?0:[],i=0,ii=path1.length;i<ii;i++){var pi=path1[i];if("M"==pi[0])x1=x1m=pi[1],y1=y1m=pi[2];else{"C"==pi[0]?(bez1=[x1,y1].concat(pi.slice(1)),x1=bez1[6],y1=bez1[7]):(bez1=[x1,y1,x1,y1,x1m,y1m,x1m,y1m],x1=x1m,y1=y1m);for(var j=0,jj=path2.length;j<jj;j++){var pj=path2[j];if("M"==pj[0])x2=x2m=pj[1],y2=y2m=pj[2];else{"C"==pj[0]?(bez2=[x2,y2].concat(pj.slice(1)),x2=bez2[6],y2=bez2[7]):(bez2=[x2,y2,x2,y2,x2m,y2m,x2m,y2m],x2=x2m,y2=y2m);var intr=interHelper(bez1,bez2,justCount);if(justCount)res+=intr;else{for(var k=0,kk=intr.length;k<kk;k++)intr[k].segment1=i,intr[k].segment2=j,intr[k].bez1=bez1,
intr[k].bez2=bez2;res=res.concat(intr)}}}}}return res}function Matrix(a,b,c,d,e,f){null!=a?(this.a=+a,this.b=+b,this.c=+c,this.d=+d,this.e=+e,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function x_y_w_h(){return this.x+S+this.y+S+this.width+" × "+this.height}function CubicBezierAtTime(t,p1x,p1y,p2x,p2y,duration){function sampleCurveX(t){return((ax*t+bx)*t+cx)*t}function solveCurveX(x,epsilon){var t0,t1,t2,x2,d2,i;for(t2=x,i=0;i<8;i++){if(x2=sampleCurveX(t2)-x,abs(x2)<epsilon)return t2;if(d2=(3*ax*t2+2*bx)*t2+cx,abs(d2)<1e-6)break;t2-=x2/d2}if(t0=0,t1=1,(t2=x)<t0)return t0;if(t2>t1)return t1;for(;t0<t1;){if(x2=sampleCurveX(t2),
abs(x2-x)<epsilon)return t2;x>x2?t0=t2:t1=t2,t2=(t1-t0)/2+t0}return t2}var cx=3*p1x,bx=3*(p2x-p1x)-cx,ax=1-cx-bx,cy=3*p1y,by=3*(p2y-p1y)-cy,ay=1-cy-by;return function(x,epsilon){var t=solveCurveX(x,epsilon);return((ay*t+by)*t+cy)*t}(t,1/(200*duration))}function Animation(anim,ms){var percents=[],newAnim={};if(this.ms=ms,this.times=1,anim){for(var attr in anim)anim[has](attr)&&(newAnim[toFloat(attr)]=anim[attr],percents.push(toFloat(attr)));percents.sort(sortByNumber)}this.anim=newAnim,this.top=percents[percents.length-1],this.percents=percents}function runAnimation(anim,element,percent,status,totalOrigin,times){percent=toFloat(percent)
;var params,isInAnim,isInAnimSet,next,prev,timestamp,ms=anim.ms,from={},to={},diff={};if(status)for(i=0,ii=animationElements.length;i<ii;i++){var e=animationElements[i];if(e.el.id==element.id&&e.anim==anim){e.percent!=percent?(animationElements.splice(i,1),isInAnimSet=1):isInAnim=e,element.attr(e.totalOrigin);break}}else status=+to;for(var i=0,ii=anim.percents.length;i<ii;i++){if(anim.percents[i]==percent||anim.percents[i]>status*anim.top){percent=anim.percents[i],prev=anim.percents[i-1]||0,ms=ms/anim.top*(percent-prev),next=anim.percents[i+1],params=anim.anim[percent];break}status&&element.attr(anim.anim[anim.percents[i]])}if(params){
if(isInAnim)isInAnim.initstatus=status,isInAnim.start=new Date-isInAnim.ms*status;else{for(var attr in params)if(params[has](attr)&&(availableAnimAttrs[has](attr)||element.paper.customAttributes[has](attr)))switch(from[attr]=element.attr(attr),null==from[attr]&&(from[attr]=availableAttrs[attr]),to[attr]=params[attr],availableAnimAttrs[attr]){case nu:diff[attr]=(to[attr]-from[attr])/ms;break;case"colour":from[attr]=R.getRGB(from[attr]);var toColour=R.getRGB(to[attr]);diff[attr]={r:(toColour.r-from[attr].r)/ms,g:(toColour.g-from[attr].g)/ms,b:(toColour.b-from[attr].b)/ms};break;case"path":var pathes=path2curve(from[attr],to[attr]),toPath=pathes[1]
;for(from[attr]=pathes[0],diff[attr]=[],i=0,ii=from[attr].length;i<ii;i++){diff[attr][i]=[0];for(var j=1,jj=from[attr][i].length;j<jj;j++)diff[attr][i][j]=(toPath[i][j]-from[attr][i][j])/ms}break;case"transform":var _=element._,eq=equaliseTransform(_[attr],to[attr]);if(eq)for(from[attr]=eq.from,to[attr]=eq.to,diff[attr]=[],diff[attr].real=!0,i=0,ii=from[attr].length;i<ii;i++)for(diff[attr][i]=[from[attr][i][0]],j=1,jj=from[attr][i].length;j<jj;j++)diff[attr][i][j]=(to[attr][i][j]-from[attr][i][j])/ms;else{var m=element.matrix||new Matrix,to2={_:{transform:_.transform},getBBox:function(){return element.getBBox(1)}};from[attr]=[m.a,m.b,m.c,m.d,m.e,m.f],
extractTransform(to2,to[attr]),to[attr]=to2._.transform,diff[attr]=[(to2.matrix.a-m.a)/ms,(to2.matrix.b-m.b)/ms,(to2.matrix.c-m.c)/ms,(to2.matrix.d-m.d)/ms,(to2.matrix.e-m.e)/ms,(to2.matrix.f-m.f)/ms]}break;case"csv":var values=Str(params[attr])[split](separator),from2=Str(from[attr])[split](separator);if("clip-rect"==attr)for(from[attr]=from2,diff[attr]=[],i=from2.length;i--;)diff[attr][i]=(values[i]-from[attr][i])/ms;to[attr]=values;break;default:for(values=[][concat](params[attr]),from2=[][concat](from[attr]),diff[attr]=[],i=element.paper.customAttributes[attr].length;i--;)diff[attr][i]=((values[i]||0)-(from2[i]||0))/ms}
var easing=params.easing,easyeasy=R.easing_formulas[easing];if(!easyeasy)if((easyeasy=Str(easing).match(bezierrg))&&5==easyeasy.length){var curve=easyeasy;easyeasy=function(t){return CubicBezierAtTime(t,+curve[1],+curve[2],+curve[3],+curve[4],ms)}}else easyeasy=pipe;if(timestamp=params.start||anim.start||+new Date,e={anim:anim,percent:percent,timestamp:timestamp,start:timestamp+(anim.del||0),status:0,initstatus:status||0,stop:!1,ms:ms,easing:easyeasy,from:from,diff:diff,to:to,el:element,callback:params.callback,prev:prev,next:next,repeat:times||anim.times,origin:element.attr(),totalOrigin:totalOrigin},animationElements.push(e),
status&&!isInAnim&&!isInAnimSet&&(e.stop=!0,e.start=new Date-ms*status,1==animationElements.length))return animation();isInAnimSet&&(e.start=new Date-e.ms*status),1==animationElements.length&&requestAnimFrame(animation)}eve("raphael.anim.start."+element.id,element,anim)}}function stopAnimation(paper){for(var i=0;i<animationElements.length;i++)animationElements[i].el.paper==paper&&animationElements.splice(i--,1)}R.version="2.1.2",R.eve=eve;var loaded,paperproto,separator=/[, ]+/,elements={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},formatrg=/\{(\d+)\}/g,has="hasOwnProperty",g={doc:document,win:window},oldRaphael={
was:Object.prototype[has].call(g.win,"Raphael"),is:g.win.Raphael},Paper=function(){this.ca=this.customAttributes={}},apply="apply",concat="concat",supportsTouch="ontouchstart"in g.win||g.win.DocumentTouch&&g.doc instanceof DocumentTouch,E="",S=" ",Str=String,split="split",events="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[split](S),touchMap={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"
},lowerCase=Str.prototype.toLowerCase,math=Math,mmax=math.max,mmin=math.min,abs=math.abs,pow=math.pow,PI=math.PI,nu="number",array="array",objectToString=Object.prototype.toString,colourRegExp=(R._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),isnan={NaN:1,Infinity:1,"-Infinity":1
},bezierrg=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,round=math.round,toFloat=parseFloat,toInt=parseInt,upperCase=Str.prototype.toUpperCase,availableAttrs=R._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,
"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},availableAnimAttrs=R._availableAnimAttrs={blur:nu,"clip-rect":"csv",cx:nu,cy:nu,fill:"colour","fill-opacity":nu,"font-size":nu,height:nu,opacity:nu,path:"path",r:nu,rx:nu,ry:nu,stroke:"colour","stroke-opacity":nu,"stroke-width":nu,transform:"transform",width:nu,x:nu,y:nu
},commaSpaces=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,hsrg={hs:1,rg:1
},p2s=/,?([achlmqrstvxz]),?/gi,pathCommand=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,tCommand=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,pathValues=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,eldata=(R._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,
{}),sortByNumber=function(a,b){return toFloat(a)-toFloat(b)},fun=function(){},pipe=function(x){return x},rectPath=R._rectPath=function(x,y,w,h,r){return r?[["M",x+r,y],["l",w-2*r,0],["a",r,r,0,0,1,r,r],["l",0,h-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-w,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-h],["a",r,r,0,0,1,r,-r],["z"]]:[["M",x,y],["l",w,0],["l",0,h],["l",-w,0],["z"]]},ellipsePath=function(x,y,rx,ry){return null==ry&&(ry=rx),[["M",x,y],["m",0,-ry],["a",rx,ry,0,1,1,0,2*ry],["a",rx,ry,0,1,1,0,-2*ry],["z"]]},getPath=R._getPath={path:function(el){return el.attr("path")},circle:function(el){var a=el.attrs;return ellipsePath(a.cx,a.cy,a.r)},ellipse:function(el){
var a=el.attrs;return ellipsePath(a.cx,a.cy,a.rx,a.ry)},rect:function(el){var a=el.attrs;return rectPath(a.x,a.y,a.width,a.height,a.r)},image:function(el){var a=el.attrs;return rectPath(a.x,a.y,a.width,a.height)},text:function(el){var bbox=el._getBBox();return rectPath(bbox.x,bbox.y,bbox.width,bbox.height)},set:function(el){var bbox=el._getBBox();return rectPath(bbox.x,bbox.y,bbox.width,bbox.height)}},mapPath=R.mapPath=function(path,matrix){if(!matrix)return path;var x,y,i,j,ii,jj,pathi;for(path=path2curve(path),i=0,ii=path.length;i<ii;i++)for(pathi=path[i],j=1,jj=pathi.length;j<jj;j+=2)x=matrix.x(pathi[j],pathi[j+1]),y=matrix.y(pathi[j],pathi[j+1]),
pathi[j]=x,pathi[j+1]=y;return path};if(R._g=g,R.type=g.win.SVGAngle||g.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==R.type){var b,d=g.doc.createElement("div");if(d.innerHTML='<v:shape adj="1"/>',b=d.firstChild,b.style.behavior="url(#default#VML)",!b||"object"!=typeof b.adj)return R.type=E;d=null}R.svg=!(R.vml="VML"==R.type),R._Paper=Paper,R.fn=paperproto=Paper.prototype=R.prototype,R._id=0,R._oid=0,R.is=function(o,type){return type=lowerCase.call(type),
"finite"==type?!isnan[has](+o):"array"==type?o instanceof Array:"null"==type&&null===o||type==typeof o&&null!==o||"object"==type&&o===Object(o)||"array"==type&&Array.isArray&&Array.isArray(o)||objectToString.call(o).slice(8,-1).toLowerCase()==type},R.angle=function(x1,y1,x2,y2,x3,y3){if(null==x3){var x=x1-x2,y=y1-y2;return x||y?(180+180*math.atan2(-y,-x)/PI+360)%360:0}return R.angle(x1,y1,x3,y3)-R.angle(x2,y2,x3,y3)},R.rad=function(deg){return deg%360*PI/180},R.deg=function(rad){return 180*rad/PI%360},R.snapTo=function(values,value,tolerance){if(tolerance=R.is(tolerance,"finite")?tolerance:10,R.is(values,array)){
for(var i=values.length;i--;)if(abs(values[i]-value)<=tolerance)return values[i]}else{values=+values;var rem=value%values;if(rem<tolerance)return value-rem;if(rem>values-tolerance)return value-rem+values}return value};R.createUUID=function(uuidRegEx,uuidReplacer){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(uuidRegEx,uuidReplacer).toUpperCase()}}(/[xy]/g,function(c){var r=16*math.random()|0;return("x"==c?r:3&r|8).toString(16)});R.setWindow=function(newwin){eve("raphael.setWindow",R,g.win,newwin),g.win=newwin,g.doc=g.win.document,R._engine.initWin&&R._engine.initWin(g.win)};var toHex=function(color){if(R.vml){
var bod,trim=/^\s+|\s+$/g;try{var docum=new ActiveXObject("htmlfile");docum.write("<body>"),docum.close(),bod=docum.body}catch(e){bod=createPopup().document.body}var range=bod.createTextRange();toHex=cacher(function(color){try{bod.style.color=Str(color).replace(trim,E);var value=range.queryCommandValue("ForeColor");return value=(255&value)<<16|65280&value|(16711680&value)>>>16,"#"+("000000"+value.toString(16)).slice(-6)}catch(e){return"none"}})}else{var i=g.doc.createElement("i");i.title="Raphaël Colour Picker",i.style.display="none",g.doc.body.appendChild(i),toHex=cacher(function(color){var computedStyle;return i.style.color=color,
computedStyle=g.doc.defaultView.getComputedStyle(i,E),computedStyle?computedStyle.getPropertyValue("color"):color})}return toHex(color)},hsbtoString=function(){return"hsb("+[this.h,this.s,this.b]+")"},hsltoString=function(){return"hsl("+[this.h,this.s,this.l]+")"},rgbtoString=function(){return this.hex},prepareRGB=function(r,g,b){if(null==g&&R.is(r,"object")&&"r"in r&&"g"in r&&"b"in r&&(b=r.b,g=r.g,r=r.r),null==g&&R.is(r,"string")){var clr=R.getRGB(r);r=clr.r,g=clr.g,b=clr.b}return(r>1||g>1||b>1)&&(r/=255,g/=255,b/=255),[r,g,b]},packageRGB=function(r,g,b,o){r*=255,g*=255,b*=255;var rgb={r:r,g:g,b:b,hex:R.rgb(r,g,b),toString:rgbtoString}
;return R.is(o,"finite")&&(rgb.opacity=o),rgb};R.color=function(clr){var rgb;return R.is(clr,"object")&&"h"in clr&&"s"in clr&&"b"in clr?(rgb=R.hsb2rgb(clr),clr.r=rgb.r,clr.g=rgb.g,clr.b=rgb.b,clr.hex=rgb.hex):R.is(clr,"object")&&"h"in clr&&"s"in clr&&"l"in clr?(rgb=R.hsl2rgb(clr),clr.r=rgb.r,clr.g=rgb.g,clr.b=rgb.b,clr.hex=rgb.hex):(R.is(clr,"string")&&(clr=R.getRGB(clr)),R.is(clr,"object")&&"r"in clr&&"g"in clr&&"b"in clr?(rgb=R.rgb2hsl(clr),clr.h=rgb.h,clr.s=rgb.s,clr.l=rgb.l,rgb=R.rgb2hsb(clr),clr.v=rgb.b):(clr={hex:"none"},clr.r=clr.g=clr.b=clr.h=clr.s=clr.v=clr.l=-1)),clr.toString=rgbtoString,clr},R.hsb2rgb=function(h,s,v,o){
this.is(h,"object")&&"h"in h&&"s"in h&&"b"in h&&(v=h.b,s=h.s,h=h.h,o=h.o),h*=360;var R,G,B,X,C;return h=h%360/60,C=v*s,X=C*(1-abs(h%2-1)),R=G=B=v-C,h=~~h,R+=[C,X,0,0,X,C][h],G+=[X,C,C,X,0,0][h],B+=[0,0,X,C,C,X][h],packageRGB(R,G,B,o)},R.hsl2rgb=function(h,s,l,o){this.is(h,"object")&&"h"in h&&"s"in h&&"l"in h&&(l=h.l,s=h.s,h=h.h),(h>1||s>1||l>1)&&(h/=360,s/=100,l/=100),h*=360;var R,G,B,X,C;return h=h%360/60,C=2*s*(l<.5?l:1-l),X=C*(1-abs(h%2-1)),R=G=B=l-C/2,h=~~h,R+=[C,X,0,0,X,C][h],G+=[X,C,C,X,0,0][h],B+=[0,0,X,C,C,X][h],packageRGB(R,G,B,o)},R.rgb2hsb=function(r,g,b){b=prepareRGB(r,g,b),r=b[0],g=b[1],b=b[2];var H,S,V,C;return V=mmax(r,g,b),C=V-mmin(r,g,b),
H=0==C?null:V==r?(g-b)/C:V==g?(b-r)/C+2:(r-g)/C+4,H=(H+360)%6*60/360,S=0==C?0:C/V,{h:H,s:S,b:V,toString:hsbtoString}},R.rgb2hsl=function(r,g,b){b=prepareRGB(r,g,b),r=b[0],g=b[1],b=b[2];var H,S,L,M,m,C;return M=mmax(r,g,b),m=mmin(r,g,b),C=M-m,H=0==C?null:M==r?(g-b)/C:M==g?(b-r)/C+2:(r-g)/C+4,H=(H+360)%6*60/360,L=(M+m)/2,S=0==C?0:L<.5?C/(2*L):C/(2-2*L),{h:H,s:S,l:L,toString:hsltoString}},R._path2string=function(){return this.join(",").replace(p2s,"$1")};R._preload=function(src,f){var img=g.doc.createElement("img");img.style.cssText="position:absolute;left:-9999em;top:-9999em",img.onload=function(){f.call(this),this.onload=null,g.doc.body.removeChild(this)},
img.onerror=function(){g.doc.body.removeChild(this)},g.doc.body.appendChild(img),img.src=src};R.getRGB=cacher(function(colour){if(!colour||(colour=Str(colour)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:clrToString};if("none"==colour)return{r:-1,g:-1,b:-1,hex:"none",toString:clrToString};!(hsrg[has](colour.toLowerCase().substring(0,2))||"#"==colour.charAt())&&(colour=toHex(colour));var red,green,blue,opacity,t,values,rgb=colour.match(colourRegExp);return rgb?(rgb[2]&&(blue=toInt(rgb[2].substring(5),16),green=toInt(rgb[2].substring(3,5),16),red=toInt(rgb[2].substring(1,3),16)),rgb[3]&&(blue=toInt((t=rgb[3].charAt(3))+t,16),
green=toInt((t=rgb[3].charAt(2))+t,16),red=toInt((t=rgb[3].charAt(1))+t,16)),rgb[4]&&(values=rgb[4][split](commaSpaces),red=toFloat(values[0]),"%"==values[0].slice(-1)&&(red*=2.55),green=toFloat(values[1]),"%"==values[1].slice(-1)&&(green*=2.55),blue=toFloat(values[2]),"%"==values[2].slice(-1)&&(blue*=2.55),"rgba"==rgb[1].toLowerCase().slice(0,4)&&(opacity=toFloat(values[3])),values[3]&&"%"==values[3].slice(-1)&&(opacity/=100)),rgb[5]?(values=rgb[5][split](commaSpaces),red=toFloat(values[0]),"%"==values[0].slice(-1)&&(red*=2.55),green=toFloat(values[1]),"%"==values[1].slice(-1)&&(green*=2.55),blue=toFloat(values[2]),"%"==values[2].slice(-1)&&(blue*=2.55),
("deg"==values[0].slice(-3)||"°"==values[0].slice(-1))&&(red/=360),"hsba"==rgb[1].toLowerCase().slice(0,4)&&(opacity=toFloat(values[3])),values[3]&&"%"==values[3].slice(-1)&&(opacity/=100),R.hsb2rgb(red,green,blue,opacity)):rgb[6]?(values=rgb[6][split](commaSpaces),red=toFloat(values[0]),"%"==values[0].slice(-1)&&(red*=2.55),green=toFloat(values[1]),"%"==values[1].slice(-1)&&(green*=2.55),blue=toFloat(values[2]),"%"==values[2].slice(-1)&&(blue*=2.55),("deg"==values[0].slice(-3)||"°"==values[0].slice(-1))&&(red/=360),"hsla"==rgb[1].toLowerCase().slice(0,4)&&(opacity=toFloat(values[3])),values[3]&&"%"==values[3].slice(-1)&&(opacity/=100),
R.hsl2rgb(red,green,blue,opacity)):(rgb={r:red,g:green,b:blue,toString:clrToString},rgb.hex="#"+(16777216|blue|green<<8|red<<16).toString(16).slice(1),R.is(opacity,"finite")&&(rgb.opacity=opacity),rgb)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:clrToString}},R),R.hsb=cacher(function(h,s,b){return R.hsb2rgb(h,s,b).hex}),R.hsl=cacher(function(h,s,l){return R.hsl2rgb(h,s,l).hex}),R.rgb=cacher(function(r,g,b){return"#"+(16777216|b|g<<8|r<<16).toString(16).slice(1)}),R.getColor=function(value){var start=this.getColor.start=this.getColor.start||{h:0,s:1,b:value||.75},rgb=this.hsb2rgb(start.h,start.s,start.b);return start.h+=.075,start.h>1&&(start.h=0,
start.s-=.2,start.s<=0&&(this.getColor.start={h:0,s:1,b:start.b})),rgb.hex},R.getColor.reset=function(){delete this.start},R.parsePathString=function(pathString){if(!pathString)return null;var pth=paths(pathString);if(pth.arr)return pathClone(pth.arr);var paramCounts={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},data=[];return R.is(pathString,array)&&R.is(pathString[0],array)&&(data=pathClone(pathString)),data.length||Str(pathString).replace(pathCommand,function(a,b,c){var params=[],name=b.toLowerCase();if(c.replace(pathValues,function(a,b){b&&params.push(+b)}),"m"==name&&params.length>2&&(data.push([b][concat](params.splice(0,2))),name="l",
b="m"==b?"l":"L"),"r"==name)data.push([b][concat](params));else for(;params.length>=paramCounts[name]&&(data.push([b][concat](params.splice(0,paramCounts[name]))),paramCounts[name]););}),data.toString=R._path2string,pth.arr=pathClone(data),data},R.parseTransformString=cacher(function(TString){if(!TString)return null;var data=[];return R.is(TString,array)&&R.is(TString[0],array)&&(data=pathClone(TString)),data.length||Str(TString).replace(tCommand,function(a,b,c){var params=[];lowerCase.call(b);c.replace(pathValues,function(a,b){b&&params.push(+b)}),data.push([b][concat](params))}),data.toString=R._path2string,data});var paths=function(ps){
var p=paths.ps=paths.ps||{};return p[ps]?p[ps].sleep=100:p[ps]={sleep:100},setTimeout(function(){for(var key in p)p[has](key)&&key!=ps&&!--p[key].sleep&&delete p[key]}),p[ps]};R.findDotsAtSegment=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t){var t1=1-t,t13=pow(t1,3),t12=pow(t1,2),t2=t*t,t3=t2*t,x=t13*p1x+3*t12*t*c1x+3*t1*t*t*c2x+t3*p2x,y=t13*p1y+3*t12*t*c1y+3*t1*t*t*c2y+t3*p2y,mx=p1x+2*t*(c1x-p1x)+t2*(c2x-2*c1x+p1x),my=p1y+2*t*(c1y-p1y)+t2*(c2y-2*c1y+p1y),nx=c1x+2*t*(c2x-c1x)+t2*(p2x-2*c2x+c1x),ny=c1y+2*t*(c2y-c1y)+t2*(p2y-2*c2y+c1y),ax=t1*p1x+t*c1x,ay=t1*p1y+t*c1y,cx=t1*c2x+t*p2x,cy=t1*c2y+t*p2y,alpha=90-180*math.atan2(mx-nx,my-ny)/PI
;return(mx>nx||my<ny)&&(alpha+=180),{x:x,y:y,m:{x:mx,y:my},n:{x:nx,y:ny},start:{x:ax,y:ay},end:{x:cx,y:cy},alpha:alpha}},R.bezierBBox=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y){R.is(p1x,"array")||(p1x=[p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y]);var bbox=curveDim.apply(null,p1x);return{x:bbox.min.x,y:bbox.min.y,x2:bbox.max.x,y2:bbox.max.y,width:bbox.max.x-bbox.min.x,height:bbox.max.y-bbox.min.y}},R.isPointInsideBBox=function(bbox,x,y){return x>=bbox.x&&x<=bbox.x2&&y>=bbox.y&&y<=bbox.y2},R.isBBoxIntersect=function(bbox1,bbox2){var i=R.isPointInsideBBox
;return i(bbox2,bbox1.x,bbox1.y)||i(bbox2,bbox1.x2,bbox1.y)||i(bbox2,bbox1.x,bbox1.y2)||i(bbox2,bbox1.x2,bbox1.y2)||i(bbox1,bbox2.x,bbox2.y)||i(bbox1,bbox2.x2,bbox2.y)||i(bbox1,bbox2.x,bbox2.y2)||i(bbox1,bbox2.x2,bbox2.y2)||(bbox1.x<bbox2.x2&&bbox1.x>bbox2.x||bbox2.x<bbox1.x2&&bbox2.x>bbox1.x)&&(bbox1.y<bbox2.y2&&bbox1.y>bbox2.y||bbox2.y<bbox1.y2&&bbox2.y>bbox1.y)},R.pathIntersection=function(path1,path2){return interPathHelper(path1,path2)},R.pathIntersectionNumber=function(path1,path2){return interPathHelper(path1,path2,1)},R.isPointInsidePath=function(path,x,y){var bbox=R.pathBBox(path)
;return R.isPointInsideBBox(bbox,x,y)&&interPathHelper(path,[["M",x,y],["H",bbox.x2+10]],1)%2==1},R._removedFactory=function(methodname){return function(){eve("raphael.log",null,"Raphaël: you are calling to method “"+methodname+"” of removed object",methodname)}};var pathDimensions=R.pathBBox=function(path){var pth=paths(path);if(pth.bbox)return clone(pth.bbox);if(!path)return{x:0,y:0,width:0,height:0,x2:0,y2:0};path=path2curve(path);for(var p,x=0,y=0,X=[],Y=[],i=0,ii=path.length;i<ii;i++)if(p=path[i],"M"==p[0])x=p[1],y=p[2],X.push(x),Y.push(y);else{var dim=curveDim(x,y,p[1],p[2],p[3],p[4],p[5],p[6]);X=X[concat](dim.min.x,dim.max.x),
Y=Y[concat](dim.min.y,dim.max.y),x=p[5],y=p[6]}var xmin=mmin[apply](0,X),ymin=mmin[apply](0,Y),xmax=mmax[apply](0,X),ymax=mmax[apply](0,Y),width=xmax-xmin,height=ymax-ymin,bb={x:xmin,y:ymin,x2:xmax,y2:ymax,width:width,height:height,cx:xmin+width/2,cy:ymin+height/2};return pth.bbox=clone(bb),bb},pathClone=function(pathArray){var res=clone(pathArray);return res.toString=R._path2string,res},pathToRelative=R._pathToRelative=function(pathArray){var pth=paths(pathArray);if(pth.rel)return pathClone(pth.rel);R.is(pathArray,array)&&R.is(pathArray&&pathArray[0],array)||(pathArray=R.parsePathString(pathArray));var res=[],x=0,y=0,mx=0,my=0,start=0
;"M"==pathArray[0][0]&&(x=pathArray[0][1],y=pathArray[0][2],mx=x,my=y,start++,res.push(["M",x,y]));for(var i=start,ii=pathArray.length;i<ii;i++){var r=res[i]=[],pa=pathArray[i];if(pa[0]!=lowerCase.call(pa[0]))switch(r[0]=lowerCase.call(pa[0]),r[0]){case"a":r[1]=pa[1],r[2]=pa[2],r[3]=pa[3],r[4]=pa[4],r[5]=pa[5],r[6]=+(pa[6]-x).toFixed(3),r[7]=+(pa[7]-y).toFixed(3);break;case"v":r[1]=+(pa[1]-y).toFixed(3);break;case"m":mx=pa[1],my=pa[2];default:for(var j=1,jj=pa.length;j<jj;j++)r[j]=+(pa[j]-(j%2?x:y)).toFixed(3)}else{r=res[i]=[],"m"==pa[0]&&(mx=pa[1]+x,my=pa[2]+y);for(var k=0,kk=pa.length;k<kk;k++)res[i][k]=pa[k]}var len=res[i].length;switch(res[i][0]){
case"z":x=mx,y=my;break;case"h":x+=+res[i][len-1];break;case"v":y+=+res[i][len-1];break;default:x+=+res[i][len-2],y+=+res[i][len-1]}}return res.toString=R._path2string,pth.rel=pathClone(res),res},pathToAbsolute=R._pathToAbsolute=function(pathArray){var pth=paths(pathArray);if(pth.abs)return pathClone(pth.abs);if(R.is(pathArray,array)&&R.is(pathArray&&pathArray[0],array)||(pathArray=R.parsePathString(pathArray)),!pathArray||!pathArray.length)return[["M",0,0]];var res=[],x=0,y=0,mx=0,my=0,start=0;"M"==pathArray[0][0]&&(x=+pathArray[0][1],y=+pathArray[0][2],mx=x,my=y,start++,res[0]=["M",x,y])
;for(var r,pa,crz=3==pathArray.length&&"M"==pathArray[0][0]&&"R"==pathArray[1][0].toUpperCase()&&"Z"==pathArray[2][0].toUpperCase(),i=start,ii=pathArray.length;i<ii;i++){if(res.push(r=[]),pa=pathArray[i],pa[0]!=upperCase.call(pa[0]))switch(r[0]=upperCase.call(pa[0]),r[0]){case"A":r[1]=pa[1],r[2]=pa[2],r[3]=pa[3],r[4]=pa[4],r[5]=pa[5],r[6]=+(pa[6]+x),r[7]=+(pa[7]+y);break;case"V":r[1]=+pa[1]+y;break;case"H":r[1]=+pa[1]+x;break;case"R":for(var dots=[x,y][concat](pa.slice(1)),j=2,jj=dots.length;j<jj;j++)dots[j]=+dots[j]+x,dots[++j]=+dots[j]+y;res.pop(),res=res[concat](catmullRom2bezier(dots,crz));break;case"M":mx=+pa[1]+x,my=+pa[2]+y;default:for(j=1,
jj=pa.length;j<jj;j++)r[j]=+pa[j]+(j%2?x:y)}else if("R"==pa[0])dots=[x,y][concat](pa.slice(1)),res.pop(),res=res[concat](catmullRom2bezier(dots,crz)),r=["R"][concat](pa.slice(-2));else for(var k=0,kk=pa.length;k<kk;k++)r[k]=pa[k];switch(r[0]){case"Z":x=mx,y=my;break;case"H":x=r[1];break;case"V":y=r[1];break;case"M":mx=r[r.length-2],my=r[r.length-1];default:x=r[r.length-2],y=r[r.length-1]}}return res.toString=R._path2string,pth.abs=pathClone(res),res},l2c=function(x1,y1,x2,y2){return[x1,y1,x2,y2,x2,y2]},q2c=function(x1,y1,ax,ay,x2,y2){return[1/3*x1+2/3*ax,1/3*y1+2/3*ay,1/3*x2+2/3*ax,1/3*y2+2/3*ay,x2,y2]
},a2c=function(x1,y1,rx,ry,angle,large_arc_flag,sweep_flag,x2,y2,recursive){var xy,_120=120*PI/180,rad=PI/180*(+angle||0),res=[],rotate=cacher(function(x,y,rad){return{x:x*math.cos(rad)-y*math.sin(rad),y:x*math.sin(rad)+y*math.cos(rad)}});if(recursive)f1=recursive[0],f2=recursive[1],cx=recursive[2],cy=recursive[3];else{xy=rotate(x1,y1,-rad),x1=xy.x,y1=xy.y,xy=rotate(x2,y2,-rad),x2=xy.x,y2=xy.y;var x=(math.cos(PI/180*angle),math.sin(PI/180*angle),(x1-x2)/2),y=(y1-y2)/2,h=x*x/(rx*rx)+y*y/(ry*ry);h>1&&(h=math.sqrt(h),rx*=h,ry*=h)
;var rx2=rx*rx,ry2=ry*ry,k=(large_arc_flag==sweep_flag?-1:1)*math.sqrt(abs((rx2*ry2-rx2*y*y-ry2*x*x)/(rx2*y*y+ry2*x*x))),cx=k*rx*y/ry+(x1+x2)/2,cy=k*-ry*x/rx+(y1+y2)/2,f1=math.asin(((y1-cy)/ry).toFixed(9)),f2=math.asin(((y2-cy)/ry).toFixed(9));f1=x1<cx?PI-f1:f1,f2=x2<cx?PI-f2:f2,f1<0&&(f1=2*PI+f1),f2<0&&(f2=2*PI+f2),sweep_flag&&f1>f2&&(f1-=2*PI),!sweep_flag&&f2>f1&&(f2-=2*PI)}var df=f2-f1;if(abs(df)>_120){var f2old=f2,x2old=x2,y2old=y2;f2=f1+_120*(sweep_flag&&f2>f1?1:-1),x2=cx+rx*math.cos(f2),y2=cy+ry*math.sin(f2),res=a2c(x2,y2,rx,ry,angle,0,sweep_flag,x2old,y2old,[f2,f2old,cx,cy])}df=f2-f1
;var c1=math.cos(f1),s1=math.sin(f1),c2=math.cos(f2),s2=math.sin(f2),t=math.tan(df/4),hx=4/3*rx*t,hy=4/3*ry*t,m1=[x1,y1],m2=[x1+hx*s1,y1-hy*c1],m3=[x2+hx*s2,y2-hy*c2],m4=[x2,y2];if(m2[0]=2*m1[0]-m2[0],m2[1]=2*m1[1]-m2[1],recursive)return[m2,m3,m4][concat](res);res=[m2,m3,m4][concat](res).join()[split](",");for(var newres=[],i=0,ii=res.length;i<ii;i++)newres[i]=i%2?rotate(res[i-1],res[i],rad).y:rotate(res[i],res[i+1],rad).x;return newres},findDotAtSegment=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t){var t1=1-t;return{x:pow(t1,3)*p1x+3*pow(t1,2)*t*c1x+3*t1*t*t*c2x+pow(t,3)*p2x,y:pow(t1,3)*p1y+3*pow(t1,2)*t*c1y+3*t1*t*t*c2y+pow(t,3)*p2y}
},curveDim=cacher(function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y){var dot,a=c2x-2*c1x+p1x-(p2x-2*c2x+c1x),b=2*(c1x-p1x)-2*(c2x-c1x),c=p1x-c1x,t1=(-b+math.sqrt(b*b-4*a*c))/2/a,t2=(-b-math.sqrt(b*b-4*a*c))/2/a,y=[p1y,p2y],x=[p1x,p2x];return abs(t1)>"1e12"&&(t1=.5),abs(t2)>"1e12"&&(t2=.5),t1>0&&t1<1&&(dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t1),x.push(dot.x),y.push(dot.y)),t2>0&&t2<1&&(dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t2),x.push(dot.x),y.push(dot.y)),a=c2y-2*c1y+p1y-(p2y-2*c2y+c1y),b=2*(c1y-p1y)-2*(c2y-c1y),c=p1y-c1y,t1=(-b+math.sqrt(b*b-4*a*c))/2/a,t2=(-b-math.sqrt(b*b-4*a*c))/2/a,abs(t1)>"1e12"&&(t1=.5),abs(t2)>"1e12"&&(t2=.5),
t1>0&&t1<1&&(dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t1),x.push(dot.x),y.push(dot.y)),t2>0&&t2<1&&(dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t2),x.push(dot.x),y.push(dot.y)),{min:{x:mmin[apply](0,x),y:mmin[apply](0,y)},max:{x:mmax[apply](0,x),y:mmax[apply](0,y)}}}),path2curve=R._path2curve=cacher(function(path,path2){var pth=!path2&&paths(path);if(!path2&&pth.curve)return pathClone(pth.curve);for(var p=pathToAbsolute(path),p2=path2&&pathToAbsolute(path2),attrs={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},attrs2={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},processPath=(function(path,d,pcom){var nx,ny,tq={T:1,Q:1}
;if(!path)return["C",d.x,d.y,d.x,d.y,d.x,d.y];switch(!(path[0]in tq)&&(d.qx=d.qy=null),path[0]){case"M":d.X=path[1],d.Y=path[2];break;case"A":path=["C"][concat](a2c[apply](0,[d.x,d.y][concat](path.slice(1))));break;case"S":"C"==pcom||"S"==pcom?(nx=2*d.x-d.bx,ny=2*d.y-d.by):(nx=d.x,ny=d.y),path=["C",nx,ny][concat](path.slice(1));break;case"T":"Q"==pcom||"T"==pcom?(d.qx=2*d.x-d.qx,d.qy=2*d.y-d.qy):(d.qx=d.x,d.qy=d.y),path=["C"][concat](q2c(d.x,d.y,d.qx,d.qy,path[1],path[2]));break;case"Q":d.qx=path[1],d.qy=path[2],path=["C"][concat](q2c(d.x,d.y,path[1],path[2],path[3],path[4]));break;case"L":path=["C"][concat](l2c(d.x,d.y,path[1],path[2]));break;case"H":
path=["C"][concat](l2c(d.x,d.y,path[1],d.y));break;case"V":path=["C"][concat](l2c(d.x,d.y,d.x,path[1]));break;case"Z":path=["C"][concat](l2c(d.x,d.y,d.X,d.Y))}return path}),fixArc=function(pp,i){if(pp[i].length>7){pp[i].shift();for(var pi=pp[i];pi.length;)pp.splice(i++,0,["C"][concat](pi.splice(0,6)));pp.splice(i,1),ii=mmax(p.length,p2&&p2.length||0)}},fixM=function(path1,path2,a1,a2,i){path1&&path2&&"M"==path1[i][0]&&"M"!=path2[i][0]&&(path2.splice(i,0,["M",a2.x,a2.y]),a1.bx=0,a1.by=0,a1.x=path1[i][1],a1.y=path1[i][2],ii=mmax(p.length,p2&&p2.length||0))},i=0,ii=mmax(p.length,p2&&p2.length||0);i<ii;i++){p[i]=processPath(p[i],attrs),fixArc(p,i),
p2&&(p2[i]=processPath(p2[i],attrs2)),p2&&fixArc(p2,i),fixM(p,p2,attrs,attrs2,i),fixM(p2,p,attrs2,attrs,i);var seg=p[i],seg2=p2&&p2[i],seglen=seg.length,seg2len=p2&&seg2.length;attrs.x=seg[seglen-2],attrs.y=seg[seglen-1],attrs.bx=toFloat(seg[seglen-4])||attrs.x,attrs.by=toFloat(seg[seglen-3])||attrs.y,attrs2.bx=p2&&(toFloat(seg2[seg2len-4])||attrs2.x),attrs2.by=p2&&(toFloat(seg2[seg2len-3])||attrs2.y),attrs2.x=p2&&seg2[seg2len-2],attrs2.y=p2&&seg2[seg2len-1]}return p2||(pth.curve=pathClone(p)),p2?[p,p2]:p},null,pathClone),tear=(R._parseDots=cacher(function(gradient){for(var dots=[],i=0,ii=gradient.length;i<ii;i++){
var dot={},par=gradient[i].match(/^([^:]*):?([\d\.]*)/);if(dot.color=R.getRGB(par[1]),dot.color.error)return null;dot.color=dot.color.hex,par[2]&&(dot.offset=par[2]+"%"),dots.push(dot)}for(i=1,ii=dots.length-1;i<ii;i++)if(!dots[i].offset){for(var start=toFloat(dots[i-1].offset||0),end=0,j=i+1;j<ii;j++)if(dots[j].offset){end=dots[j].offset;break}end||(end=100,j=ii),end=toFloat(end);for(var d=(end-start)/(j-i+1);i<j;i++)start+=d,dots[i].offset=start+"%"}return dots}),R._tear=function(el,paper){el==paper.top&&(paper.top=el.prev),el==paper.bottom&&(paper.bottom=el.next),el.next&&(el.next.prev=el.prev),el.prev&&(el.prev.next=el.next)
}),toMatrix=(R._tofront=function(el,paper){paper.top!==el&&(tear(el,paper),el.next=null,el.prev=paper.top,paper.top.next=el,paper.top=el)},R._toback=function(el,paper){paper.bottom!==el&&(tear(el,paper),el.next=paper.bottom,el.prev=null,paper.bottom.prev=el,paper.bottom=el)},R._insertafter=function(el,el2,paper){tear(el,paper),el2==paper.top&&(paper.top=el),el2.next&&(el2.next.prev=el),el.next=el2.next,el.prev=el2,el2.next=el},R._insertbefore=function(el,el2,paper){tear(el,paper),el2==paper.bottom&&(paper.bottom=el),el2.prev&&(el2.prev.next=el),el.prev=el2.prev,el2.prev=el,el.next=el2},R.toMatrix=function(path,transform){var bb=pathDimensions(path),el={_:{
transform:E},getBBox:function(){return bb}};return extractTransform(el,transform),el.matrix}),extractTransform=(R.transformPath=function(path,transform){return mapPath(path,toMatrix(path,transform))},R._extractTransform=function(el,tstr){if(null==tstr)return el._.transform;tstr=Str(tstr).replace(/\.{3}|\u2026/g,el._.transform||E);var tdata=R.parseTransformString(tstr),deg=0,dx=0,dy=0,sx=1,sy=1,_=el._,m=new Matrix;if(_.transform=tdata||[],tdata)for(var i=0,ii=tdata.length;i<ii;i++){var x1,y1,x2,y2,bb,t=tdata[i],tlen=t.length,command=Str(t[0]).toLowerCase(),absolute=t[0]!=command,inver=absolute?m.invert():0;"t"==command&&3==tlen?absolute?(x1=inver.x(0,0),
y1=inver.y(0,0),x2=inver.x(t[1],t[2]),y2=inver.y(t[1],t[2]),m.translate(x2-x1,y2-y1)):m.translate(t[1],t[2]):"r"==command?2==tlen?(bb=bb||el.getBBox(1),m.rotate(t[1],bb.x+bb.width/2,bb.y+bb.height/2),deg+=t[1]):4==tlen&&(absolute?(x2=inver.x(t[2],t[3]),y2=inver.y(t[2],t[3]),m.rotate(t[1],x2,y2)):m.rotate(t[1],t[2],t[3]),deg+=t[1]):"s"==command?2==tlen||3==tlen?(bb=bb||el.getBBox(1),m.scale(t[1],t[tlen-1],bb.x+bb.width/2,bb.y+bb.height/2),sx*=t[1],sy*=t[tlen-1]):5==tlen&&(absolute?(x2=inver.x(t[3],t[4]),y2=inver.y(t[3],t[4]),m.scale(t[1],t[2],x2,y2)):m.scale(t[1],t[2],t[3],t[4]),sx*=t[1],sy*=t[2]):"m"==command&&7==tlen&&m.add(t[1],t[2],t[3],t[4],t[5],t[6]),
_.dirtyT=1,el.matrix=m}el.matrix=m,_.sx=sx,_.sy=sy,_.deg=deg,_.dx=dx=m.e,_.dy=dy=m.f,1==sx&&1==sy&&!deg&&_.bbox?(_.bbox.x+=+dx,_.bbox.y+=+dy):_.dirtyT=1}),getEmpty=function(item){var l=item[0];switch(l.toLowerCase()){case"t":return[l,0,0];case"m":return[l,1,0,0,1,0,0];case"r":return 4==item.length?[l,0,item[2],item[3]]:[l,0];case"s":return 5==item.length?[l,1,1,item[3],item[4]]:3==item.length?[l,1,1]:[l,1]}},equaliseTransform=R._equaliseTransform=function(t1,t2){t2=Str(t2).replace(/\.{3}|\u2026/g,t1),t1=R.parseTransformString(t1)||[],t2=R.parseTransformString(t2)||[];for(var j,jj,tt1,tt2,maxlength=mmax(t1.length,t2.length),from=[],to=[],i=0;i<maxlength;i++){
if(tt1=t1[i]||getEmpty(t2[i]),tt2=t2[i]||getEmpty(tt1),tt1[0]!=tt2[0]||"r"==tt1[0].toLowerCase()&&(tt1[2]!=tt2[2]||tt1[3]!=tt2[3])||"s"==tt1[0].toLowerCase()&&(tt1[3]!=tt2[3]||tt1[4]!=tt2[4]))return;for(from[i]=[],to[i]=[],j=0,jj=mmax(tt1.length,tt2.length);j<jj;j++)j in tt1&&(from[i][j]=tt1[j]),j in tt2&&(to[i][j]=tt2[j])}return{from:from,to:to}};R._getContainer=function(x,y,w,h){var container;if(null!=(container=null!=h||R.is(x,"object")?x:g.doc.getElementById(x)))return container.tagName?null==y?{container:container,width:container.style.pixelWidth||container.offsetWidth,height:container.style.pixelHeight||container.offsetHeight}:{container:container,
width:y,height:w}:{container:1,x:x,y:y,width:w,height:h}},R.pathToRelative=pathToRelative,R._engine={},R.path2curve=path2curve,R.matrix=function(a,b,c,d,e,f){return new Matrix(a,b,c,d,e,f)},function(matrixproto){function norm(a){return a[0]*a[0]+a[1]*a[1]}function normalize(a){var mag=math.sqrt(norm(a));a[0]&&(a[0]/=mag),a[1]&&(a[1]/=mag)}matrixproto.add=function(a,b,c,d,e,f){var x,y,z,res,out=[[],[],[]],m=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],matrix=[[a,c,e],[b,d,f],[0,0,1]];for(a&&a instanceof Matrix&&(matrix=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]),x=0;x<3;x++)for(y=0;y<3;y++){for(res=0,z=0;z<3;z++)res+=m[x][z]*matrix[z][y];out[x][y]=res}
this.a=out[0][0],this.b=out[1][0],this.c=out[0][1],this.d=out[1][1],this.e=out[0][2],this.f=out[1][2]},matrixproto.invert=function(){var me=this,x=me.a*me.d-me.b*me.c;return new Matrix(me.d/x,-me.b/x,-me.c/x,me.a/x,(me.c*me.f-me.d*me.e)/x,(me.b*me.e-me.a*me.f)/x)},matrixproto.clone=function(){return new Matrix(this.a,this.b,this.c,this.d,this.e,this.f)},matrixproto.translate=function(x,y){this.add(1,0,0,1,x,y)},matrixproto.scale=function(x,y,cx,cy){null==y&&(y=x),(cx||cy)&&this.add(1,0,0,1,cx,cy),this.add(x,0,0,y,0,0),(cx||cy)&&this.add(1,0,0,1,-cx,-cy)},matrixproto.rotate=function(a,x,y){a=R.rad(a),x=x||0,y=y||0
;var cos=+math.cos(a).toFixed(9),sin=+math.sin(a).toFixed(9);this.add(cos,sin,-sin,cos,x,y),this.add(1,0,0,1,-x,-y)},matrixproto.x=function(x,y){return x*this.a+y*this.c+this.e},matrixproto.y=function(x,y){return x*this.b+y*this.d+this.f},matrixproto.get=function(i){return+this[Str.fromCharCode(97+i)].toFixed(4)},matrixproto.toString=function(){return R.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},matrixproto.toFilter=function(){
return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},matrixproto.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},matrixproto.split=function(){var out={};out.dx=this.e,out.dy=this.f;var row=[[this.a,this.c],[this.b,this.d]];out.scalex=math.sqrt(norm(row[0])),normalize(row[0]),out.shear=row[0][0]*row[1][0]+row[0][1]*row[1][1],row[1]=[row[1][0]-row[0][0]*out.shear,row[1][1]-row[0][1]*out.shear],out.scaley=math.sqrt(norm(row[1])),normalize(row[1]),out.shear/=out.scaley;var sin=-row[0][1],cos=row[1][1]
;return cos<0?(out.rotate=R.deg(math.acos(cos)),sin<0&&(out.rotate=360-out.rotate)):out.rotate=R.deg(math.asin(sin)),out.isSimple=!(+out.shear.toFixed(9)||out.scalex.toFixed(9)!=out.scaley.toFixed(9)&&out.rotate),out.isSuperSimple=!+out.shear.toFixed(9)&&out.scalex.toFixed(9)==out.scaley.toFixed(9)&&!out.rotate,out.noRotation=!+out.shear.toFixed(9)&&!out.rotate,out},matrixproto.toTransformString=function(shorter){var s=shorter||this[split]();return s.isSimple?(s.scalex=+s.scalex.toFixed(4),s.scaley=+s.scaley.toFixed(4),s.rotate=+s.rotate.toFixed(4),
(s.dx||s.dy?"t"+[s.dx,s.dy]:E)+(1!=s.scalex||1!=s.scaley?"s"+[s.scalex,s.scaley,0,0]:E)+(s.rotate?"r"+[s.rotate,0,0]:E)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(Matrix.prototype);var version=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&(version&&version[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&version&&version[1]<8?paperproto.safari=function(){var rect=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){rect.remove()})}:paperproto.safari=fun
;for(var preventDefault=function(){this.returnValue=!1},preventTouch=function(){return this.originalEvent.preventDefault()},stopPropagation=function(){this.cancelBubble=!0},stopTouch=function(){return this.originalEvent.stopPropagation()},getEventPosition=function(e){var scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft;return{x:e.clientX+scrollX,y:e.clientY+scrollY}},addEvent=function(){return g.doc.addEventListener?function(obj,type,fn,element){var f=function(e){var pos=getEventPosition(e);return fn.call(element,e,pos.x,pos.y)};if(obj.addEventListener(type,f,!1),
supportsTouch&&touchMap[type]){var _f=function(e){for(var pos=getEventPosition(e),olde=e,i=0,ii=e.targetTouches&&e.targetTouches.length;i<ii;i++)if(e.targetTouches[i].target==obj){e=e.targetTouches[i],e.originalEvent=olde,e.preventDefault=preventTouch,e.stopPropagation=stopTouch;break}return fn.call(element,e,pos.x,pos.y)};obj.addEventListener(touchMap[type],_f,!1)}return function(){return obj.removeEventListener(type,f,!1),supportsTouch&&touchMap[type]&&obj.removeEventListener(touchMap[type],f,!1),!0}}:g.doc.attachEvent?function(obj,type,fn,element){var f=function(e){e=e||g.win.event
;var scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,x=e.clientX+scrollX,y=e.clientY+scrollY;return e.preventDefault=e.preventDefault||preventDefault,e.stopPropagation=e.stopPropagation||stopPropagation,fn.call(element,e,x,y)};return obj.attachEvent("on"+type,f),function(){return obj.detachEvent("on"+type,f),!0}}:void 0}(),drag=[],dragMove=function(e){for(var dragi,x=e.clientX,y=e.clientY,scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,j=drag.length;j--;){if(dragi=drag[j],supportsTouch&&e.touches){
for(var touch,i=e.touches.length;i--;)if(touch=e.touches[i],touch.identifier==dragi.el._drag.id){x=touch.clientX,y=touch.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var o,node=dragi.el.node,next=node.nextSibling,parent=node.parentNode,display=node.style.display;g.win.opera&&parent.removeChild(node),node.style.display="none",o=dragi.el.paper.getElementByPoint(x,y),node.style.display=display,g.win.opera&&(next?parent.insertBefore(node,next):parent.appendChild(node)),o&&eve("raphael.drag.over."+dragi.el.id,dragi.el,o),x+=scrollX,y+=scrollY,
eve("raphael.drag.move."+dragi.el.id,dragi.move_scope||dragi.el,x-dragi.el._drag.x,y-dragi.el._drag.y,x,y,e)}},dragUp=function(e){R.unmousemove(dragMove).unmouseup(dragUp);for(var dragi,i=drag.length;i--;)dragi=drag[i],dragi.el._drag={},eve("raphael.drag.end."+dragi.el.id,dragi.end_scope||dragi.start_scope||dragi.move_scope||dragi.el,e);drag=[]},elproto=R.el={},i=events.length;i--;)!function(eventName){R[eventName]=elproto[eventName]=function(fn,scope){return R.is(fn,"function")&&(this.events=this.events||[],this.events.push({name:eventName,f:fn,unbind:addEvent(this.shape||this.node||g.doc,eventName,fn,scope||this)})),this},
R["un"+eventName]=elproto["un"+eventName]=function(fn){for(var events=this.events||[],l=events.length;l--;)events[l].name!=eventName||!R.is(fn,"undefined")&&events[l].f!=fn||(events[l].unbind(),events.splice(l,1),!events.length&&delete this.events);return this}}(events[i]);elproto.data=function(key,value){var data=eldata[this.id]=eldata[this.id]||{};if(0==arguments.length)return data;if(1==arguments.length){if(R.is(key,"object")){for(var i in key)key[has](i)&&this.data(i,key[i]);return this}return eve("raphael.data.get."+this.id,this,data[key],key),data[key]}return data[key]=value,eve("raphael.data.set."+this.id,this,value,key),this},
elproto.removeData=function(key){return null==key?eldata[this.id]={}:eldata[this.id]&&delete eldata[this.id][key],this},elproto.getData=function(){return clone(eldata[this.id]||{})},elproto.hover=function(f_in,f_out,scope_in,scope_out){return this.mouseover(f_in,scope_in).mouseout(f_out,scope_out||scope_in)},elproto.unhover=function(f_in,f_out){return this.unmouseover(f_in).unmouseout(f_out)};var draggable=[];elproto.drag=function(onmove,onstart,onend,move_scope,start_scope,end_scope){function start(e){(e.originalEvent||e).preventDefault()
;var x=e.clientX,y=e.clientY,scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft;if(this._drag.id=e.identifier,supportsTouch&&e.touches)for(var touch,i=e.touches.length;i--;)if(touch=e.touches[i],this._drag.id=touch.identifier,touch.identifier==this._drag.id){x=touch.clientX,y=touch.clientY;break}this._drag.x=x+scrollX,this._drag.y=y+scrollY,!drag.length&&R.mousemove(dragMove).mouseup(dragUp),drag.push({el:this,move_scope:move_scope,start_scope:start_scope,end_scope:end_scope}),onstart&&eve.on("raphael.drag.start."+this.id,onstart),onmove&&eve.on("raphael.drag.move."+this.id,onmove),
onend&&eve.on("raphael.drag.end."+this.id,onend),eve("raphael.drag.start."+this.id,start_scope||move_scope||this,e.clientX+scrollX,e.clientY+scrollY,e)}return this._drag={},draggable.push({el:this,start:start}),this.mousedown(start),this},elproto.onDragOver=function(f){f?eve.on("raphael.drag.over."+this.id,f):eve.unbind("raphael.drag.over."+this.id)},elproto.undrag=function(){for(var i=draggable.length;i--;)draggable[i].el==this&&(this.unmousedown(draggable[i].start),draggable.splice(i,1),eve.unbind("raphael.drag.*."+this.id));!draggable.length&&R.unmousemove(dragMove).unmouseup(dragUp),drag=[]},paperproto.circle=function(x,y,r){
var out=R._engine.circle(this,x||0,y||0,r||0);return this.__set__&&this.__set__.push(out),out},paperproto.rect=function(x,y,w,h,r){var out=R._engine.rect(this,x||0,y||0,w||0,h||0,r||0);return this.__set__&&this.__set__.push(out),out},paperproto.ellipse=function(x,y,rx,ry){var out=R._engine.ellipse(this,x||0,y||0,rx||0,ry||0);return this.__set__&&this.__set__.push(out),out},paperproto.path=function(pathString){pathString&&!R.is(pathString,"string")&&!R.is(pathString[0],array)&&(pathString+=E);var out=R._engine.path(R.format[apply](R,arguments),this);return this.__set__&&this.__set__.push(out),out},paperproto.image=function(src,x,y,w,h){
var out=R._engine.image(this,src||"about:blank",x||0,y||0,w||0,h||0);return this.__set__&&this.__set__.push(out),out},paperproto.text=function(x,y,text){var out=R._engine.text(this,x||0,y||0,Str(text));return this.__set__&&this.__set__.push(out),out},paperproto.set=function(itemsArray){!R.is(itemsArray,"array")&&(itemsArray=Array.prototype.splice.call(arguments,0,arguments.length));var out=new Set(itemsArray);return this.__set__&&this.__set__.push(out),out.paper=this,out.type="set",out},paperproto.setStart=function(set){this.__set__=set||this.set()},paperproto.setFinish=function(set){var out=this.__set__;return delete this.__set__,out},
paperproto.setSize=function(width,height){return R._engine.setSize.call(this,width,height)},paperproto.setViewBox=function(x,y,w,h,fit){return R._engine.setViewBox.call(this,x,y,w,h,fit)},paperproto.top=paperproto.bottom=null,paperproto.raphael=R;var getOffset=function(elem){var box=elem.getBoundingClientRect(),doc=elem.ownerDocument,body=doc.body,docElem=doc.documentElement,clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0;return{y:box.top+(g.win.pageYOffset||docElem.scrollTop||body.scrollTop)-clientTop,x:box.left+(g.win.pageXOffset||docElem.scrollLeft||body.scrollLeft)-clientLeft}}
;paperproto.getElementByPoint=function(x,y){var paper=this,svg=paper.canvas,target=g.doc.elementFromPoint(x,y);if(g.win.opera&&"svg"==target.tagName){var so=getOffset(svg),sr=svg.createSVGRect();sr.x=x-so.x,sr.y=y-so.y,sr.width=sr.height=1;var hits=svg.getIntersectionList(sr,null);hits.length&&(target=hits[hits.length-1])}if(!target)return null;for(;target.parentNode&&target!=svg.parentNode&&!target.raphael;)target=target.parentNode;return target==paper.canvas.parentNode&&(target=svg),target=target&&target.raphael?paper.getById(target.raphaelid):null},paperproto.getElementsByBBox=function(bbox){var set=this.set();return this.forEach(function(el){
R.isBBoxIntersect(el.getBBox(),bbox)&&set.push(el)}),set},paperproto.getById=function(id){for(var bot=this.bottom;bot;){if(bot.id==id)return bot;bot=bot.next}return null},paperproto.forEach=function(callback,thisArg){for(var bot=this.bottom;bot;){if(!1===callback.call(thisArg,bot))return this;bot=bot.next}return this},paperproto.getElementsByPoint=function(x,y){var set=this.set();return this.forEach(function(el){el.isPointInside(x,y)&&set.push(el)}),set},elproto.isPointInside=function(x,y){var rp=this.realPath=getPath[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(rp=R.transformPath(rp,this.attr("transform"))),
R.isPointInsidePath(rp,x,y)},elproto.getBBox=function(isWithoutTransform){if(this.removed)return{};var _=this._;return isWithoutTransform?(!_.dirty&&_.bboxwt||(this.realPath=getPath[this.type](this),_.bboxwt=pathDimensions(this.realPath),_.bboxwt.toString=x_y_w_h,_.dirty=0),_.bboxwt):((_.dirty||_.dirtyT||!_.bbox)&&(!_.dirty&&this.realPath||(_.bboxwt=0,this.realPath=getPath[this.type](this)),_.bbox=pathDimensions(mapPath(this.realPath,this.matrix)),_.bbox.toString=x_y_w_h,_.dirty=_.dirtyT=0),_.bbox)},elproto.clone=function(){if(this.removed)return null;var out=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(out),out},
elproto.glow=function(glow){if("text"==this.type)return null;glow=glow||{};var s={width:(glow.width||10)+(+this.attr("stroke-width")||1),fill:glow.fill||!1,opacity:glow.opacity||.5,offsetx:glow.offsetx||0,offsety:glow.offsety||0,color:glow.color||"#000"},c=s.width/2,r=this.paper,out=r.set(),path=this.realPath||getPath[this.type](this);path=this.matrix?mapPath(path,this.matrix):path;for(var i=1;i<c+1;i++)out.push(r.path(path).attr({stroke:s.color,fill:s.fill?s.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(s.width/c*i).toFixed(3),opacity:+(s.opacity/c).toFixed(3)}));return out.insertBefore(this).translate(s.offsetx,s.offsety)
};var getPointAtSegmentLength=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,length){return null==length?bezlen(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y):R.findDotsAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,getTatLen(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,length))},getLengthFactory=function(istotal,subpath){return function(path,length,onlystart){path=path2curve(path);for(var x,y,p,l,point,sp="",subpaths={},len=0,i=0,ii=path.length;i<ii;i++){if(p=path[i],"M"==p[0])x=+p[1],y=+p[2];else{if(l=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6]),len+l>length){if(subpath&&!subpaths.start){if(point=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6],length-len),
sp+=["C"+point.start.x,point.start.y,point.m.x,point.m.y,point.x,point.y],onlystart)return sp;subpaths.start=sp,sp=["M"+point.x,point.y+"C"+point.n.x,point.n.y,point.end.x,point.end.y,p[5],p[6]].join(),len+=l,x=+p[5],y=+p[6];continue}if(!istotal&&!subpath)return point=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6],length-len),{x:point.x,y:point.y,alpha:point.alpha}}len+=l,x=+p[5],y=+p[6]}sp+=p.shift()+p}return subpaths.end=sp,point=istotal?len:subpath?subpaths:R.findDotsAtSegment(x,y,p[0],p[1],p[2],p[3],p[4],p[5],1),point.alpha&&(point={x:point.x,y:point.y,alpha:point.alpha}),point}
},getTotalLength=getLengthFactory(1),getPointAtLength=getLengthFactory(),getSubpathsAtLength=getLengthFactory(0,1);R.getTotalLength=getTotalLength,R.getPointAtLength=getPointAtLength,R.getSubpath=function(path,from,to){if(this.getTotalLength(path)-to<1e-6)return getSubpathsAtLength(path,from).end;var a=getSubpathsAtLength(path,to,1);return from?getSubpathsAtLength(a,from).end:a},elproto.getTotalLength=function(){var path=this.getPath();if(path)return this.node.getTotalLength?this.node.getTotalLength():getTotalLength(path)},elproto.getPointAtLength=function(length){var path=this.getPath();if(path)return getPointAtLength(path,length)},
elproto.getPath=function(){var path,getPath=R._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return getPath&&(path=getPath(this)),path},elproto.getSubpath=function(from,to){var path=this.getPath();if(path)return R.getSubpath(path,from,to)};var ef=R.easing_formulas={linear:function(n){return n},"<":function(n){return pow(n,1.7)},">":function(n){return pow(n,.48)},"<>":function(n){var q=.48-n/1.04,Q=math.sqrt(.1734+q*q),x=Q-q,X=pow(abs(x),1/3)*(x<0?-1:1),y=-Q-q,Y=pow(abs(y),1/3)*(y<0?-1:1),t=X+Y+.5;return 3*(1-t)*t*t+t*t*t},backIn:function(n){var s=1.70158;return n*n*((s+1)*n-s)},backOut:function(n){n-=1;var s=1.70158;return n*n*((s+1)*n+s)+1},
elastic:function(n){return n==!!n?n:pow(2,-10*n)*math.sin(2*PI*(n-.075)/.3)+1},bounce:function(n){var l,s=7.5625,p=2.75;return n<1/p?l=s*n*n:n<2/p?(n-=1.5/p,l=s*n*n+.75):n<2.5/p?(n-=2.25/p,l=s*n*n+.9375):(n-=2.625/p,l=s*n*n+.984375),l}};ef.easeIn=ef["ease-in"]=ef["<"],ef.easeOut=ef["ease-out"]=ef[">"],ef.easeInOut=ef["ease-in-out"]=ef["<>"],ef["back-in"]=ef.backIn,ef["back-out"]=ef.backOut;var animationElements=[],requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,16)},animation=function(){
for(var Now=+new Date,l=0;l<animationElements.length;l++){var e=animationElements[l];if(!e.el.removed&&!e.paused){var now,key,time=Now-e.start,ms=e.ms,easing=e.easing,from=e.from,diff=e.diff,to=e.to,that=(e.t,e.el),set={},init={};if(e.initstatus?(time=(e.initstatus*e.anim.top-e.prev)/(e.percent-e.prev)*ms,e.status=e.initstatus,delete e.initstatus,e.stop&&animationElements.splice(l--,1)):e.status=(e.prev+(e.percent-e.prev)*(time/ms))/e.anim.top,!(time<0))if(time<ms){var pos=easing(time/ms);for(var attr in from)if(from[has](attr)){switch(availableAnimAttrs[attr]){case nu:now=+from[attr]+pos*ms*diff[attr];break;case"colour":
now="rgb("+[upto255(round(from[attr].r+pos*ms*diff[attr].r)),upto255(round(from[attr].g+pos*ms*diff[attr].g)),upto255(round(from[attr].b+pos*ms*diff[attr].b))].join(",")+")";break;case"path":now=[];for(var i=0,ii=from[attr].length;i<ii;i++){now[i]=[from[attr][i][0]];for(var j=1,jj=from[attr][i].length;j<jj;j++)now[i][j]=+from[attr][i][j]+pos*ms*diff[attr][i][j];now[i]=now[i].join(S)}now=now.join(S);break;case"transform":if(diff[attr].real)for(now=[],i=0,ii=from[attr].length;i<ii;i++)for(now[i]=[from[attr][i][0]],j=1,jj=from[attr][i].length;j<jj;j++)now[i][j]=from[attr][i][j]+pos*ms*diff[attr][i][j];else{var get=function(i){
return+from[attr][i]+pos*ms*diff[attr][i]};now=[["m",get(0),get(1),get(2),get(3),get(4),get(5)]]}break;case"csv":if("clip-rect"==attr)for(now=[],i=4;i--;)now[i]=+from[attr][i]+pos*ms*diff[attr][i];break;default:var from2=[][concat](from[attr]);for(now=[],i=that.paper.customAttributes[attr].length;i--;)now[i]=+from2[i]+pos*ms*diff[attr][i]}set[attr]=now}that.attr(set),function(id,that,anim){setTimeout(function(){eve("raphael.anim.frame."+id,that,anim)})}(that.id,that,e.anim)}else{if(function(f,el,a){setTimeout(function(){eve("raphael.anim.frame."+el.id,el,a),eve("raphael.anim.finish."+el.id,el,a),R.is(f,"function")&&f.call(el)})}(e.callback,that,e.anim),
that.attr(to),animationElements.splice(l--,1),e.repeat>1&&!e.next){for(key in to)to[has](key)&&(init[key]=e.totalOrigin[key]);e.el.attr(init),runAnimation(e.anim,e.el,e.anim.percents[0],null,e.totalOrigin,e.repeat-1)}e.next&&!e.stop&&runAnimation(e.anim,e.el,e.next,null,e.totalOrigin,e.repeat)}}}R.svg&&that&&that.paper&&that.paper.safari(),animationElements.length&&requestAnimFrame(animation)},upto255=function(color){return color>255?255:color<0?0:color};elproto.animateWith=function(el,anim,params,ms,easing,callback){var element=this;if(element.removed)return callback&&callback.call(element),element
;var a=params instanceof Animation?params:R.animation(params,ms,easing,callback);runAnimation(a,element,a.percents[0],null,element.attr());for(var i=0,ii=animationElements.length;i<ii;i++)if(animationElements[i].anim==anim&&animationElements[i].el==el){animationElements[ii-1].start=animationElements[i].start;break}return element},elproto.onAnimation=function(f){return f?eve.on("raphael.anim.frame."+this.id,f):eve.unbind("raphael.anim.frame."+this.id),this},Animation.prototype.delay=function(delay){var a=new Animation(this.anim,this.ms);return a.times=this.times,a.del=+delay||0,a},Animation.prototype.repeat=function(times){
var a=new Animation(this.anim,this.ms);return a.del=this.del,a.times=math.floor(mmax(times,0))||1,a},R.animation=function(params,ms,easing,callback){if(params instanceof Animation)return params;!R.is(easing,"function")&&easing||(callback=callback||easing||null,easing=null),params=Object(params),ms=+ms||0;var json,attr,p={};for(attr in params)params[has](attr)&&toFloat(attr)!=attr&&toFloat(attr)+"%"!=attr&&(json=!0,p[attr]=params[attr]);return json?(easing&&(p.easing=easing),callback&&(p.callback=callback),new Animation({100:p},ms)):new Animation(params,ms)},elproto.animate=function(params,ms,easing,callback){var element=this
;if(element.removed)return callback&&callback.call(element),element;var anim=params instanceof Animation?params:R.animation(params,ms,easing,callback);return runAnimation(anim,element,anim.percents[0],null,element.attr()),element},elproto.setTime=function(anim,value){return anim&&null!=value&&this.status(anim,mmin(value,anim.ms)/anim.ms),this},elproto.status=function(anim,value){var len,e,out=[],i=0;if(null!=value)return runAnimation(anim,this,-1,mmin(value,1)),this;for(len=animationElements.length;i<len;i++)if(e=animationElements[i],e.el.id==this.id&&(!anim||e.anim==anim)){if(anim)return e.status;out.push({anim:e.anim,status:e.status})}return anim?0:out},
elproto.pause=function(anim){for(var i=0;i<animationElements.length;i++)animationElements[i].el.id!=this.id||anim&&animationElements[i].anim!=anim||!1!==eve("raphael.anim.pause."+this.id,this,animationElements[i].anim)&&(animationElements[i].paused=!0);return this},elproto.resume=function(anim){for(var i=0;i<animationElements.length;i++)if(animationElements[i].el.id==this.id&&(!anim||animationElements[i].anim==anim)){var e=animationElements[i];!1!==eve("raphael.anim.resume."+this.id,this,e.anim)&&(delete e.paused,this.status(e.anim,e.status))}return this},elproto.stop=function(anim){
for(var i=0;i<animationElements.length;i++)animationElements[i].el.id!=this.id||anim&&animationElements[i].anim!=anim||!1!==eve("raphael.anim.stop."+this.id,this,animationElements[i].anim)&&animationElements.splice(i--,1);return this},eve.on("raphael.remove",stopAnimation),eve.on("raphael.clear",stopAnimation),elproto.toString=function(){return"Raphaël’s object"};var Set=function(items){if(this.items=[],this.length=0,this.type="set",items)for(var i=0,ii=items.length;i<ii;i++)!items[i]||items[i].constructor!=elproto.constructor&&items[i].constructor!=Set||(this[this.items.length]=this.items[this.items.length]=items[i],this.length++)},setproto=Set.prototype
;setproto.push=function(){for(var item,len,i=0,ii=arguments.length;i<ii;i++)!(item=arguments[i])||item.constructor!=elproto.constructor&&item.constructor!=Set||(len=this.items.length,this[len]=this.items[len]=item,this.length++);return this},setproto.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},setproto.forEach=function(callback,thisArg){for(var i=0,ii=this.items.length;i<ii;i++)if(!1===callback.call(thisArg,this.items[i],i))return this;return this};for(var method in elproto)elproto[has](method)&&(setproto[method]=function(methodname){return function(){var arg=arguments;return this.forEach(function(el){
el[methodname][apply](el,arg)})}}(method));return setproto.attr=function(name,value){if(name&&R.is(name,array)&&R.is(name[0],"object"))for(var j=0,jj=name.length;j<jj;j++)this.items[j].attr(name[j]);else for(var i=0,ii=this.items.length;i<ii;i++)this.items[i].attr(name,value);return this},setproto.clear=function(){for(;this.length;)this.pop()},setproto.splice=function(index,count,insertion){index=index<0?mmax(this.length+index,0):index,count=mmax(0,mmin(this.length-index,count));var i,tail=[],todel=[],args=[];for(i=2;i<arguments.length;i++)args.push(arguments[i]);for(i=0;i<count;i++)todel.push(this[index+i])
;for(;i<this.length-index;i++)tail.push(this[index+i]);var arglen=args.length;for(i=0;i<arglen+tail.length;i++)this.items[index+i]=this[index+i]=i<arglen?args[i]:tail[i-arglen];for(i=this.items.length=this.length-=count-arglen;this[i];)delete this[i++];return new Set(todel)},setproto.exclude=function(el){for(var i=0,ii=this.length;i<ii;i++)if(this[i]==el)return this.splice(i,1),!0},setproto.animate=function(params,ms,easing,callback){(R.is(easing,"function")||!easing)&&(callback=easing||null);var item,collector,len=this.items.length,i=len,set=this;if(!len)return this;callback&&(collector=function(){!--len&&callback.call(set)}),
easing=R.is(easing,"string")?easing:collector;var anim=R.animation(params,ms,easing,collector);for(item=this.items[--i].animate(anim);i--;)this.items[i]&&!this.items[i].removed&&this.items[i].animateWith(item,anim,anim),this.items[i]&&!this.items[i].removed||len--;return this},setproto.insertAfter=function(el){for(var i=this.items.length;i--;)this.items[i].insertAfter(el);return this},setproto.getBBox=function(){for(var x=[],y=[],x2=[],y2=[],i=this.items.length;i--;)if(!this.items[i].removed){var box=this.items[i].getBBox();x.push(box.x),y.push(box.y),x2.push(box.x+box.width),y2.push(box.y+box.height)}return x=mmin[apply](0,x),y=mmin[apply](0,y),
x2=mmax[apply](0,x2),y2=mmax[apply](0,y2),{x:x,y:y,x2:x2,y2:y2,width:x2-x,height:y2-y}},setproto.clone=function(s){s=this.paper.set();for(var i=0,ii=this.items.length;i<ii;i++)s.push(this.items[i].clone());return s},setproto.toString=function(){return"Raphaël‘s set"},setproto.glow=function(glowConfig){var ret=this.paper.set();return this.forEach(function(shape,index){var g=shape.glow(glowConfig);null!=g&&g.forEach(function(shape2,index2){ret.push(shape2)})}),ret},setproto.isPointInside=function(x,y){var isPointInside=!1;return this.forEach(function(el){if(el.isPointInside(x,y))return isPointInside=!0,!1}),isPointInside},R.registerFont=function(font){
if(!font.face)return font;this.fonts=this.fonts||{};var fontcopy={w:font.w,face:{},glyphs:{}},family=font.face["font-family"];for(var prop in font.face)font.face[has](prop)&&(fontcopy.face[prop]=font.face[prop]);if(this.fonts[family]?this.fonts[family].push(fontcopy):this.fonts[family]=[fontcopy],!font.svg){fontcopy.face["units-per-em"]=toInt(font.face["units-per-em"],10);for(var glyph in font.glyphs)if(font.glyphs[has](glyph)){var path=font.glyphs[glyph];if(fontcopy.glyphs[glyph]={w:path.w,k:{},d:path.d&&"M"+path.d.replace(/[mlcxtrv]/g,function(command){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[command]||"M"})+"z"},
path.k)for(var k in path.k)path[has](k)&&(fontcopy.glyphs[glyph].k[k]=path.k[k])}}return font},paperproto.getFont=function(family,weight,style,stretch){if(stretch=stretch||"normal",style=style||"normal",weight=+weight||{normal:400,bold:700,lighter:300,bolder:800}[weight]||400,R.fonts){var font=R.fonts[family];if(!font){var name=new RegExp("(^|\\s)"+family.replace(/[^\w\d\s+!~.:_-]/g,E)+"(\\s|$)","i");for(var fontName in R.fonts)if(R.fonts[has](fontName)&&name.test(fontName)){font=R.fonts[fontName];break}}var thefont;if(font)for(var i=0,ii=font.length;i<ii&&(thefont=font[i],
thefont.face["font-weight"]!=weight||thefont.face["font-style"]!=style&&thefont.face["font-style"]||thefont.face["font-stretch"]!=stretch);i++);return thefont}},paperproto.print=function(x,y,string,font,size,origin,letter_spacing,line_spacing){origin=origin||"middle",letter_spacing=mmax(mmin(letter_spacing||0,1),-1),line_spacing=mmax(mmin(line_spacing||1,3),1);var scale,letters=Str(string)[split](E),shift=0,notfirst=0,path=E;if(R.is(font,"string")&&(font=this.getFont(font)),font){scale=(size||16)/font.face["units-per-em"]
;for(var bb=font.face.bbox[split](separator),top=+bb[0],lineHeight=bb[3]-bb[1],shifty=0,height=+bb[1]+("baseline"==origin?lineHeight+ +font.face.descent:lineHeight/2),i=0,ii=letters.length;i<ii;i++){if("\n"==letters[i])shift=0,curr=0,notfirst=0,shifty+=lineHeight*line_spacing;else{var prev=notfirst&&font.glyphs[letters[i-1]]||{},curr=font.glyphs[letters[i]];shift+=notfirst?(prev.w||font.w)+(prev.k&&prev.k[letters[i]]||0)+font.w*letter_spacing:0,notfirst=1}curr&&curr.d&&(path+=R.transformPath(curr.d,["t",shift*scale,shifty*scale,"s",scale,scale,top,height,"t",(x-top)/scale,(y-height)/scale]))}}return this.path(path).attr({fill:"#000",stroke:"none"})},
paperproto.add=function(json){if(R.is(json,"array"))for(var j,res=this.set(),i=0,ii=json.length;i<ii;i++)j=json[i]||{},elements[has](j.type)&&res.push(this[j.type]().attr(j));return res},R.format=function(token,params){var args=R.is(params,array)?[0][concat](params):arguments;return token&&R.is(token,"string")&&args.length-1&&(token=token.replace(formatrg,function(str,i){return null==args[++i]?E:args[i]})),token||E},R.fullfill=function(){var tokenRegex=/\{([^\}]+)\}/g,objNotationRegex=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,replacer=function(all,key,obj){var res=obj
;return key.replace(objNotationRegex,function(all,name,quote,quotedName,isFunc){name=name||quotedName,res&&(name in res&&(res=res[name]),"function"==typeof res&&isFunc&&(res=res()))}),res=(null==res||res==obj?all:res)+""};return function(str,obj){return String(str).replace(tokenRegex,function(all,key){return replacer(all,key,obj)})}}(),R.ninja=function(){return oldRaphael.was?g.win.Raphael=oldRaphael.is:delete Raphael,R},R.st=setproto,function(doc,loaded,f){function isLoaded(){/in/.test(doc.readyState)?setTimeout(isLoaded,9):R.eve("raphael.DOMload")}null==doc.readyState&&doc.addEventListener&&(doc.addEventListener("DOMContentLoaded",f=function(){
doc.removeEventListener("DOMContentLoaded",f,!1),doc.readyState="complete"},!1),doc.readyState="loading"),isLoaded()}(document),eve.on("raphael.DOMload",function(){loaded=!0}),function(){if(R.svg){var has="hasOwnProperty",Str=String,toFloat=parseFloat,toInt=parseInt,math=Math,mmax=math.max,abs=math.abs,pow=math.pow,separator=/[, ]+/,eve=R.eve,E="",S=" ",xlink="http://www.w3.org/1999/xlink",markers={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},markerCounter={};R.toString=function(){
return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var $=function(el,attr){if(attr){"string"==typeof el&&(el=$(el));for(var key in attr)attr[has](key)&&("xlink:"==key.substring(0,6)?el.setAttributeNS(xlink,key.substring(6),Str(attr[key])):el.setAttribute(key,Str(attr[key])))}else el=R._g.doc.createElementNS("http://www.w3.org/2000/svg",el),el.style&&(el.style.webkitTapHighlightColor="rgba(0,0,0,0)");return el},addGradientFill=function(element,gradient){var type="linear",id=element.id+gradient,fx=.5,fy=.5,o=element.node,SVG=element.paper,s=o.style,el=R._g.doc.getElementById(id);if(!el){
if(gradient=Str(gradient).replace(R._radial_gradient,function(all,_fx,_fy){if(type="radial",_fx&&_fy){fx=toFloat(_fx),fy=toFloat(_fy);var dir=2*(fy>.5)-1;pow(fx-.5,2)+pow(fy-.5,2)>.25&&(fy=math.sqrt(.25-pow(fx-.5,2))*dir+.5)&&.5!=fy&&(fy=fy.toFixed(5)-1e-5*dir)}return E}),gradient=gradient.split(/\s*\-\s*/),"linear"==type){var angle=gradient.shift();if(angle=-toFloat(angle),isNaN(angle))return null;var vector=[0,0,math.cos(R.rad(angle)),math.sin(R.rad(angle))],max=1/(mmax(abs(vector[2]),abs(vector[3]))||1);vector[2]*=max,vector[3]*=max,vector[2]<0&&(vector[0]=-vector[2],vector[2]=0),vector[3]<0&&(vector[1]=-vector[3],vector[3]=0)}
var dots=R._parseDots(gradient);if(!dots)return null;if(id=id.replace(/[\(\)\s,\xb0#]/g,"_"),element.gradient&&id!=element.gradient.id&&(SVG.defs.removeChild(element.gradient),delete element.gradient),!element.gradient){el=$(type+"Gradient",{id:id}),element.gradient=el,$(el,"radial"==type?{fx:fx,fy:fy}:{x1:vector[0],y1:vector[1],x2:vector[2],y2:vector[3],gradientTransform:element.matrix.invert()}),SVG.defs.appendChild(el);for(var i=0,ii=dots.length;i<ii;i++)el.appendChild($("stop",{offset:dots[i].offset?dots[i].offset:i?"100%":"0%","stop-color":dots[i].color||"#fff"}))}}return $(o,{fill:"url(#"+id+")",opacity:1,"fill-opacity":1}),s.fill=E,s.opacity=1,
s.fillOpacity=1,1},updatePosition=function(o){var bbox=o.getBBox(1);$(o.pattern,{patternTransform:o.matrix.invert()+" translate("+bbox.x+","+bbox.y+")"})},addArrow=function(o,value,isEnd){if("path"==o.type){for(var from,to,dx,refX,attr,values=Str(value).toLowerCase().split("-"),p=o.paper,se=isEnd?"end":"start",node=o.node,attrs=o.attrs,stroke=attrs["stroke-width"],i=values.length,type="classic",w=3,h=3,t=5;i--;)switch(values[i]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":type=values[i];break;case"wide":h=5;break;case"narrow":h=2;break;case"long":w=5;break;case"short":w=2}if("open"==type?(w+=2,h+=2,t+=2,dx=1,refX=isEnd?4:1,attr={
fill:"none",stroke:attrs.stroke}):(refX=dx=w/2,attr={fill:attrs.stroke,stroke:"none"}),o._.arrows?isEnd?(o._.arrows.endPath&&markerCounter[o._.arrows.endPath]--,o._.arrows.endMarker&&markerCounter[o._.arrows.endMarker]--):(o._.arrows.startPath&&markerCounter[o._.arrows.startPath]--,o._.arrows.startMarker&&markerCounter[o._.arrows.startMarker]--):o._.arrows={},"none"!=type){var pathId="raphael-marker-"+type,markerId="raphael-marker-"+se+type+w+h;R._g.doc.getElementById(pathId)?markerCounter[pathId]++:(p.defs.appendChild($($("path"),{"stroke-linecap":"round",d:markers[type],id:pathId})),markerCounter[pathId]=1);var use,marker=R._g.doc.getElementById(markerId)
;marker?(markerCounter[markerId]++,use=marker.getElementsByTagName("use")[0]):(marker=$($("marker"),{id:markerId,markerHeight:h,markerWidth:w,orient:"auto",refX:refX,refY:h/2}),use=$($("use"),{"xlink:href":"#"+pathId,transform:(isEnd?"rotate(180 "+w/2+" "+h/2+") ":E)+"scale("+w/t+","+h/t+")","stroke-width":(1/((w/t+h/t)/2)).toFixed(4)}),marker.appendChild(use),p.defs.appendChild(marker),markerCounter[markerId]=1),$(use,attr);var delta=dx*("diamond"!=type&&"oval"!=type);isEnd?(from=o._.arrows.startdx*stroke||0,to=R.getTotalLength(attrs.path)-delta*stroke):(from=delta*stroke,to=R.getTotalLength(attrs.path)-(o._.arrows.enddx*stroke||0)),attr={},
attr["marker-"+se]="url(#"+markerId+")",(to||from)&&(attr.d=R.getSubpath(attrs.path,from,to)),$(node,attr),o._.arrows[se+"Path"]=pathId,o._.arrows[se+"Marker"]=markerId,o._.arrows[se+"dx"]=delta,o._.arrows[se+"Type"]=type,o._.arrows[se+"String"]=value}else isEnd?(from=o._.arrows.startdx*stroke||0,to=R.getTotalLength(attrs.path)-from):(from=0,to=R.getTotalLength(attrs.path)-(o._.arrows.enddx*stroke||0)),o._.arrows[se+"Path"]&&$(node,{d:R.getSubpath(attrs.path,from,to)}),delete o._.arrows[se+"Path"],delete o._.arrows[se+"Marker"],delete o._.arrows[se+"dx"],delete o._.arrows[se+"Type"],delete o._.arrows[se+"String"]
;for(attr in markerCounter)if(markerCounter[has](attr)&&!markerCounter[attr]){var item=R._g.doc.getElementById(attr);item&&item.parentNode.removeChild(item)}}},dasharray={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},addDashes=function(o,value,params){if(value=dasharray[Str(value).toLowerCase()]){for(var width=o.attrs["stroke-width"]||"1",butt={round:width,square:width,butt:0}[o.attrs["stroke-linecap"]||params["stroke-linecap"]]||0,dashes=[],i=value.length;i--;)dashes[i]=value[i]*width+(i%2?1:-1)*butt;$(o.node,{"stroke-dasharray":dashes.join(",")})
}},setFillAndStroke=function(o,params){var node=o.node,attrs=o.attrs,vis=node.style.visibility;node.style.visibility="hidden";for(var att in params)if(params[has](att)){if(!R._availableAttrs[has](att))continue;var value=params[att];switch(attrs[att]=value,att){case"blur":o.blur(value);break;case"title":var title=node.getElementsByTagName("title");if(title.length&&(title=title[0]))title.firstChild.nodeValue=value;else{title=$("title");var val=R._g.doc.createTextNode(value);title.appendChild(val),node.appendChild(title)}break;case"href":case"target":var pn=node.parentNode;if("a"!=pn.tagName.toLowerCase()){var hl=$("a");pn.insertBefore(hl,node),
hl.appendChild(node),pn=hl}"target"==att?pn.setAttributeNS(xlink,"show","blank"==value?"new":value):pn.setAttributeNS(xlink,att,value);break;case"cursor":node.style.cursor=value;break;case"transform":o.transform(value);break;case"arrow-start":addArrow(o,value);break;case"arrow-end":addArrow(o,value,1);break;case"clip-rect":var rect=Str(value).split(separator);if(4==rect.length){o.clip&&o.clip.parentNode.parentNode.removeChild(o.clip.parentNode);var el=$("clipPath"),rc=$("rect");el.id=R.createUUID(),$(rc,{x:rect[0],y:rect[1],width:rect[2],height:rect[3]}),el.appendChild(rc),o.paper.defs.appendChild(el),$(node,{"clip-path":"url(#"+el.id+")"}),o.clip=rc}
if(!value){var path=node.getAttribute("clip-path");if(path){var clip=R._g.doc.getElementById(path.replace(/(^url\(#|\)$)/g,E));clip&&clip.parentNode.removeChild(clip),$(node,{"clip-path":E}),delete o.clip}}break;case"path":"path"==o.type&&($(node,{d:value?attrs.path=R._pathToAbsolute(value):"M0,0"}),o._.dirty=1,o._.arrows&&("startString"in o._.arrows&&addArrow(o,o._.arrows.startString),"endString"in o._.arrows&&addArrow(o,o._.arrows.endString,1)));break;case"width":if(node.setAttribute(att,value),o._.dirty=1,!attrs.fx)break;att="x",value=attrs.x;case"x":attrs.fx&&(value=-attrs.x-(attrs.width||0));case"rx":if("rx"==att&&"rect"==o.type)break;case"cx":
node.setAttribute(att,value),o.pattern&&updatePosition(o),o._.dirty=1;break;case"height":if(node.setAttribute(att,value),o._.dirty=1,!attrs.fy)break;att="y",value=attrs.y;case"y":attrs.fy&&(value=-attrs.y-(attrs.height||0));case"ry":if("ry"==att&&"rect"==o.type)break;case"cy":node.setAttribute(att,value),o.pattern&&updatePosition(o),o._.dirty=1;break;case"r":"rect"==o.type?$(node,{rx:value,ry:value}):node.setAttribute(att,value),o._.dirty=1;break;case"src":"image"==o.type&&node.setAttributeNS(xlink,"href",value);break;case"stroke-width":1==o._.sx&&1==o._.sy||(value/=mmax(abs(o._.sx),abs(o._.sy))||1),o.paper._vbSize&&(value*=o.paper._vbSize),
node.setAttribute(att,value),attrs["stroke-dasharray"]&&addDashes(o,attrs["stroke-dasharray"],params),o._.arrows&&("startString"in o._.arrows&&addArrow(o,o._.arrows.startString),"endString"in o._.arrows&&addArrow(o,o._.arrows.endString,1));break;case"stroke-dasharray":addDashes(o,value,params);break;case"fill":var isURL=Str(value).match(R._ISURL);if(isURL){el=$("pattern");var ig=$("image");el.id=R.createUUID(),$(el,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),$(ig,{x:0,y:0,"xlink:href":isURL[1]}),el.appendChild(ig),function(el){R._preload(isURL[1],function(){var w=this.offsetWidth,h=this.offsetHeight;$(el,{width:w,height:h}),$(ig,{width:w,
height:h}),o.paper.safari()})}(el),o.paper.defs.appendChild(el),$(node,{fill:"url(#"+el.id+")"}),o.pattern=el,o.pattern&&updatePosition(o);break}var clr=R.getRGB(value);if(clr.error){if(("circle"==o.type||"ellipse"==o.type||"r"!=Str(value).charAt())&&addGradientFill(o,value)){if("opacity"in attrs||"fill-opacity"in attrs){var gradient=R._g.doc.getElementById(node.getAttribute("fill").replace(/^url\(#|\)$/g,E));if(gradient){var stops=gradient.getElementsByTagName("stop");$(stops[stops.length-1],{"stop-opacity":("opacity"in attrs?attrs.opacity:1)*("fill-opacity"in attrs?attrs["fill-opacity"]:1)})}}attrs.gradient=value,attrs.fill="none";break}
}else delete params.gradient,delete attrs.gradient,!R.is(attrs.opacity,"undefined")&&R.is(params.opacity,"undefined")&&$(node,{opacity:attrs.opacity}),!R.is(attrs["fill-opacity"],"undefined")&&R.is(params["fill-opacity"],"undefined")&&$(node,{"fill-opacity":attrs["fill-opacity"]});clr[has]("opacity")&&$(node,{"fill-opacity":clr.opacity>1?clr.opacity/100:clr.opacity});case"stroke":clr=R.getRGB(value),node.setAttribute(att,clr.hex),"stroke"==att&&clr[has]("opacity")&&$(node,{"stroke-opacity":clr.opacity>1?clr.opacity/100:clr.opacity}),"stroke"==att&&o._.arrows&&("startString"in o._.arrows&&addArrow(o,o._.arrows.startString),
"endString"in o._.arrows&&addArrow(o,o._.arrows.endString,1));break;case"gradient":("circle"==o.type||"ellipse"==o.type||"r"!=Str(value).charAt())&&addGradientFill(o,value);break;case"opacity":attrs.gradient&&!attrs[has]("stroke-opacity")&&$(node,{"stroke-opacity":value>1?value/100:value});case"fill-opacity":if(attrs.gradient){gradient=R._g.doc.getElementById(node.getAttribute("fill").replace(/^url\(#|\)$/g,E)),gradient&&(stops=gradient.getElementsByTagName("stop"),$(stops[stops.length-1],{"stop-opacity":value}));break}default:"font-size"==att&&(value=toInt(value,10)+"px");var cssrule=att.replace(/(\-.)/g,function(w){return w.substring(1).toUpperCase()})
;node.style[cssrule]=value,o._.dirty=1,node.setAttribute(att,value)}}tuneText(o,params),node.style.visibility=vis},tuneText=function(el,params){if("text"==el.type&&(params[has]("text")||params[has]("font")||params[has]("font-size")||params[has]("x")||params[has]("y"))){var a=el.attrs,node=el.node,computedStyle=node.firstChild?R._g.doc.defaultView.getComputedStyle(node.firstChild,E):void 0,fontSize=computedStyle?toInt(computedStyle.getPropertyValue("font-size"),10):10;if(params[has]("text")){for(a.text=params.text;node.firstChild;)node.removeChild(node.firstChild)
;for(var tspan,texts=Str(params.text).split("\n"),tspans=[],i=0,ii=texts.length;i<ii;i++)tspan=$("tspan"),i&&$(tspan,{dy:1.2*fontSize,x:a.x}),tspan.appendChild(R._g.doc.createTextNode(texts[i])),node.appendChild(tspan),tspans[i]=tspan}else for(tspans=node.getElementsByTagName("tspan"),i=0,ii=tspans.length;i<ii;i++)i?$(tspans[i],{dy:1.2*fontSize,x:a.x}):$(tspans[0],{dy:0});$(node,{x:a.x,y:a.y}),el._.dirty=1;var bb=el._getBBox(),dif=a.y-(bb.y+bb.height/2);dif&&R.is(dif,"finite")&&$(tspans[0],{dy:dif})}},Element=function(node,svg){this[0]=this.node=node,node.raphael=!0,this.id=R._oid++,node.raphaelid=this.id,this.matrix=R.matrix(),this.realPath=null,
this.paper=svg,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!svg.bottom&&(svg.bottom=this),this.prev=svg.top,svg.top&&(svg.top.next=this),svg.top=this,this.next=null},elproto=R.el;Element.prototype=elproto,elproto.constructor=Element,R._engine.path=function(pathString,SVG){var el=$("path");SVG.canvas&&SVG.canvas.appendChild(el);var p=new Element(el,SVG);return p.type="path",setFillAndStroke(p,{fill:"none",stroke:"#000",path:pathString}),p},elproto.rotate=function(deg,cx,cy){if(this.removed)return this;if(deg=Str(deg).split(separator),deg.length-1&&(cx=toFloat(deg[1]),cy=toFloat(deg[2])),deg=toFloat(deg[0]),
null==cy&&(cx=cy),null==cx||null==cy){var bbox=this.getBBox(1);cx=bbox.x+bbox.width/2,cy=bbox.y+bbox.height/2}return this.transform(this._.transform.concat([["r",deg,cx,cy]])),this},elproto.scale=function(sx,sy,cx,cy){if(this.removed)return this;if(sx=Str(sx).split(separator),sx.length-1&&(sy=toFloat(sx[1]),cx=toFloat(sx[2]),cy=toFloat(sx[3])),sx=toFloat(sx[0]),null==sy&&(sy=sx),null==cy&&(cx=cy),null==cx||null==cy)var bbox=this.getBBox(1);return cx=null==cx?bbox.x+bbox.width/2:cx,cy=null==cy?bbox.y+bbox.height/2:cy,this.transform(this._.transform.concat([["s",sx,sy,cx,cy]])),this},elproto.translate=function(dx,dy){
return this.removed?this:(dx=Str(dx).split(separator),dx.length-1&&(dy=toFloat(dx[1])),dx=toFloat(dx[0])||0,dy=+dy||0,this.transform(this._.transform.concat([["t",dx,dy]])),this)},elproto.transform=function(tstr){var _=this._;if(null==tstr)return _.transform;if(R._extractTransform(this,tstr),this.clip&&$(this.clip,{transform:this.matrix.invert()}),this.pattern&&updatePosition(this),this.node&&$(this.node,{transform:this.matrix}),1!=_.sx||1!=_.sy){var sw=this.attrs[has]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":sw})}return this},elproto.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},
elproto.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},elproto.remove=function(){if(!this.removed&&this.node.parentNode){var paper=this.paper;paper.__set__&&paper.__set__.exclude(this),eve.unbind("raphael.*.*."+this.id),this.gradient&&paper.defs.removeChild(this.gradient),R._tear(this,paper),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var i in this)this[i]="function"==typeof this[i]?R._removedFactory(i):null;this.removed=!0}},elproto._getBBox=function(){if("none"==this.node.style.display){this.show()
;var hide=!0}var bbox={};try{bbox=this.node.getBBox()}catch(e){}finally{bbox=bbox||{}}return hide&&this.hide(),bbox},elproto.attr=function(name,value){if(this.removed)return this;if(null==name){var res={};for(var a in this.attrs)this.attrs[has](a)&&(res[a]=this.attrs[a]);return res.gradient&&"none"==res.fill&&(res.fill=res.gradient)&&delete res.gradient,res.transform=this._.transform,res}if(null==value&&R.is(name,"string")){if("fill"==name&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==name)return this._.transform;for(var names=name.split(separator),out={},i=0,ii=names.length;i<ii;i++)name=names[i],
name in this.attrs?out[name]=this.attrs[name]:R.is(this.paper.customAttributes[name],"function")?out[name]=this.paper.customAttributes[name].def:out[name]=R._availableAttrs[name];return ii-1?out:out[names[0]]}if(null==value&&R.is(name,"array")){for(out={},i=0,ii=name.length;i<ii;i++)out[name[i]]=this.attr(name[i]);return out}if(null!=value){var params={};params[name]=value}else null!=name&&R.is(name,"object")&&(params=name);for(var key in params)eve("raphael.attr."+key+"."+this.id,this,params[key]);for(key in this.paper.customAttributes)if(this.paper.customAttributes[has](key)&&params[has](key)&&R.is(this.paper.customAttributes[key],"function")){
var par=this.paper.customAttributes[key].apply(this,[].concat(params[key]));this.attrs[key]=params[key];for(var subkey in par)par[has](subkey)&&(params[subkey]=par[subkey])}return setFillAndStroke(this,params),this},elproto.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var svg=this.paper;return svg.top!=this&&R._tofront(this,svg),this},elproto.toBack=function(){if(this.removed)return this;var parent=this.node.parentNode
;"a"==parent.tagName.toLowerCase()?parent.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):parent.firstChild!=this.node&&parent.insertBefore(this.node,this.node.parentNode.firstChild),R._toback(this,this.paper);this.paper;return this},elproto.insertAfter=function(element){if(this.removed)return this;var node=element.node||element[element.length-1].node;return node.nextSibling?node.parentNode.insertBefore(this.node,node.nextSibling):node.parentNode.appendChild(this.node),R._insertafter(this,element,this.paper),this},elproto.insertBefore=function(element){if(this.removed)return this;var node=element.node||element[0].node
;return node.parentNode.insertBefore(this.node,node),R._insertbefore(this,element,this.paper),this},elproto.blur=function(size){var t=this;if(0!=+size){var fltr=$("filter"),blur=$("feGaussianBlur");t.attrs.blur=size,fltr.id=R.createUUID(),$(blur,{stdDeviation:+size||1.5}),fltr.appendChild(blur),t.paper.defs.appendChild(fltr),t._blur=fltr,$(t.node,{filter:"url(#"+fltr.id+")"})}else t._blur&&(t._blur.parentNode.removeChild(t._blur),delete t._blur,delete t.attrs.blur),t.node.removeAttribute("filter");return t},R._engine.circle=function(svg,x,y,r){var el=$("circle");svg.canvas&&svg.canvas.appendChild(el);var res=new Element(el,svg);return res.attrs={cx:x,cy:y,
r:r,fill:"none",stroke:"#000"},res.type="circle",$(el,res.attrs),res},R._engine.rect=function(svg,x,y,w,h,r){var el=$("rect");svg.canvas&&svg.canvas.appendChild(el);var res=new Element(el,svg);return res.attrs={x:x,y:y,width:w,height:h,r:r||0,rx:r||0,ry:r||0,fill:"none",stroke:"#000"},res.type="rect",$(el,res.attrs),res},R._engine.ellipse=function(svg,x,y,rx,ry){var el=$("ellipse");svg.canvas&&svg.canvas.appendChild(el);var res=new Element(el,svg);return res.attrs={cx:x,cy:y,rx:rx,ry:ry,fill:"none",stroke:"#000"},res.type="ellipse",$(el,res.attrs),res},R._engine.image=function(svg,src,x,y,w,h){var el=$("image");$(el,{x:x,y:y,width:w,height:h,
preserveAspectRatio:"none"}),el.setAttributeNS(xlink,"href",src),svg.canvas&&svg.canvas.appendChild(el);var res=new Element(el,svg);return res.attrs={x:x,y:y,width:w,height:h,src:src},res.type="image",res},R._engine.text=function(svg,x,y,text){var el=$("text");svg.canvas&&svg.canvas.appendChild(el);var res=new Element(el,svg);return res.attrs={x:x,y:y,"text-anchor":"middle",text:text,font:R._availableAttrs.font,stroke:"none",fill:"#000"},res.type="text",setFillAndStroke(res,res.attrs),res},R._engine.setSize=function(width,height){return this.width=width||this.width,this.height=height||this.height,this.canvas.setAttribute("width",this.width),
this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},R._engine.create=function(){var con=R._getContainer.apply(0,arguments),container=con&&con.container,x=con.x,y=con.y,width=con.width,height=con.height;if(!container)throw new Error("SVG container not found.");var isFloating,cnvs=$("svg"),css="overflow:hidden;";return x=x||0,y=y||0,width=width||512,height=height||342,$(cnvs,{height:height,version:1.1,width:width,xmlns:"http://www.w3.org/2000/svg"}),1==container?(cnvs.style.cssText=css+"position:absolute;left:"+x+"px;top:"+y+"px",R._g.doc.body.appendChild(cnvs),
isFloating=1):(cnvs.style.cssText=css+"position:relative",container.firstChild?container.insertBefore(cnvs,container.firstChild):container.appendChild(cnvs)),container=new R._Paper,container.width=width,container.height=height,container.canvas=cnvs,container.clear(),container._left=container._top=0,isFloating&&(container.renderfix=function(){}),container.renderfix(),container},R._engine.setViewBox=function(x,y,w,h,fit){eve("raphael.setViewBox",this,this._viewBox,[x,y,w,h,fit]);var vb,sw,size=mmax(w/this.width,h/this.height),top=this.top,aspectRatio=fit?"xMidYMid meet":"xMinYMin";for(null==x?(this._vbSize&&(size=1),delete this._vbSize,
vb="0 0 "+this.width+S+this.height):(this._vbSize=size,vb=x+S+y+S+w+S+h),$(this.canvas,{viewBox:vb,preserveAspectRatio:aspectRatio});size&&top;)sw="stroke-width"in top.attrs?top.attrs["stroke-width"]:1,top.attr({"stroke-width":sw}),top._.dirty=1,top._.dirtyT=1,top=top.prev;return this._viewBox=[x,y,w,h,!!fit],this},R.prototype.renderfix=function(){var pos,cnvs=this.canvas,s=cnvs.style;try{pos=cnvs.getScreenCTM()||cnvs.createSVGMatrix()}catch(e){pos=cnvs.createSVGMatrix()}var left=-pos.e%1,top=-pos.f%1;(left||top)&&(left&&(this._left=(this._left+left)%1,s.left=this._left+"px"),top&&(this._top=(this._top+top)%1,s.top=this._top+"px"))},
R.prototype.clear=function(){R.eve("raphael.clear",this);for(var c=this.canvas;c.firstChild;)c.removeChild(c.firstChild);this.bottom=this.top=null,(this.desc=$("desc")).appendChild(R._g.doc.createTextNode("Created with Raphaël "+R.version)),c.appendChild(this.desc),c.appendChild(this.defs=$("defs"))},R.prototype.remove=function(){eve("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var i in this)this[i]="function"==typeof this[i]?R._removedFactory(i):null};var setproto=R.st;for(var method in elproto)elproto[has](method)&&!setproto[has](method)&&(setproto[method]=function(methodname){return function(){
var arg=arguments;return this.forEach(function(el){el[methodname].apply(el,arg)})}}(method))}}(),function(){if(R.vml){var has="hasOwnProperty",Str=String,toFloat=parseFloat,math=Math,round=math.round,mmax=math.max,mmin=math.min,abs=math.abs,separator=/[, ]+/,eve=R.eve,S=" ",E="",map={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bites=/([clmz]),?([^clmz]*)/gi,blurregexp=/ progid:\S+Blur\([^\)]+\)/g,val=/-?[^,\s-]+/g,cssDot="position:absolute;left:0;top:0;width:1px;height:1px",zoom=21600,pathTypes={path:1,rect:1,image:1},ovalTypes={circle:1,ellipse:1},path2vml=function(path){var total=/[ahqstv]/gi,command=R._pathToAbsolute
;if(Str(path).match(total)&&(command=R._path2curve),total=/[clmz]/g,command==R._pathToAbsolute&&!Str(path).match(total)){var res=Str(path).replace(bites,function(all,command,args){var vals=[],isMove="m"==command.toLowerCase(),res=map[command];return args.replace(val,function(value){isMove&&2==vals.length&&(res+=vals+map["m"==command?"l":"L"],vals=[]),vals.push(round(value*zoom))}),res+vals});return res}var p,r,pa=command(path);res=[];for(var i=0,ii=pa.length;i<ii;i++){p=pa[i],r=pa[i][0].toLowerCase(),"z"==r&&(r="x");for(var j=1,jj=p.length;j<jj;j++)r+=round(p[j]*zoom)+(j!=jj-1?",":E);res.push(r)}return res.join(S)},compensation=function(deg,dx,dy){
var m=R.matrix();return m.rotate(-deg,.5,.5),{dx:m.x(dx,dy),dy:m.y(dx,dy)}},setCoords=function(p,sx,sy,dx,dy,deg){var _=p._,m=p.matrix,fillpos=_.fillpos,o=p.node,s=o.style,y=1,flip="",kx=zoom/sx,ky=zoom/sy;if(s.visibility="hidden",sx&&sy){if(o.coordsize=abs(kx)+S+abs(ky),s.rotation=deg*(sx*sy<0?-1:1),deg){var c=compensation(deg,dx,dy);dx=c.dx,dy=c.dy}if(sx<0&&(flip+="x"),sy<0&&(flip+=" y")&&(y=-1),s.flip=flip,o.coordorigin=dx*-kx+S+dy*-ky,fillpos||_.fillsize){var fill=o.getElementsByTagName("fill");fill=fill&&fill[0],o.removeChild(fill),fillpos&&(c=compensation(deg,m.x(fillpos[0],fillpos[1]),m.y(fillpos[0],fillpos[1])),fill.position=c.dx*y+S+c.dy*y),
_.fillsize&&(fill.size=_.fillsize[0]*abs(sx)+S+_.fillsize[1]*abs(sy)),o.appendChild(fill)}s.visibility="visible"}};R.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var addArrow=function(o,value,isEnd){for(var values=Str(value).toLowerCase().split("-"),se=isEnd?"end":"start",i=values.length,type="classic",w="medium",h="medium";i--;)switch(values[i]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":type=values[i];break;case"wide":case"narrow":h=values[i];break;case"long":case"short":w=values[i]}var stroke=o.node.getElementsByTagName("stroke")[0]
;stroke[se+"arrow"]=type,stroke[se+"arrowlength"]=w,stroke[se+"arrowwidth"]=h},setFillAndStroke=function(o,params){o.attrs=o.attrs||{};var node=o.node,a=o.attrs,s=node.style,newpath=pathTypes[o.type]&&(params.x!=a.x||params.y!=a.y||params.width!=a.width||params.height!=a.height||params.cx!=a.cx||params.cy!=a.cy||params.rx!=a.rx||params.ry!=a.ry||params.r!=a.r),isOval=ovalTypes[o.type]&&(a.cx!=params.cx||a.cy!=params.cy||a.r!=params.r||a.rx!=params.rx||a.ry!=params.ry),res=o;for(var par in params)params[has](par)&&(a[par]=params[par]);if(newpath&&(a.path=R._getPath[o.type](o),o._.dirty=1),params.href&&(node.href=params.href),
params.title&&(node.title=params.title),params.target&&(node.target=params.target),params.cursor&&(s.cursor=params.cursor),"blur"in params&&o.blur(params.blur),(params.path&&"path"==o.type||newpath)&&(node.path=path2vml(~Str(a.path).toLowerCase().indexOf("r")?R._pathToAbsolute(a.path):a.path),"image"==o.type&&(o._.fillpos=[a.x,a.y],o._.fillsize=[a.width,a.height],setCoords(o,1,1,0,0,0))),"transform"in params&&o.transform(params.transform),isOval){var cx=+a.cx,cy=+a.cy,rx=+a.rx||+a.r||0,ry=+a.ry||+a.r||0;node.path=R.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",round((cx-rx)*zoom),round((cy-ry)*zoom),round((cx+rx)*zoom),round((cy+ry)*zoom),round(cx*zoom)),
o._.dirty=1}if("clip-rect"in params){var rect=Str(params["clip-rect"]).split(separator);if(4==rect.length){rect[2]=+rect[2]+ +rect[0],rect[3]=+rect[3]+ +rect[1];var div=node.clipRect||R._g.doc.createElement("div"),dstyle=div.style;dstyle.clip=R.format("rect({1}px {2}px {3}px {0}px)",rect),node.clipRect||(dstyle.position="absolute",dstyle.top=0,dstyle.left=0,dstyle.width=o.paper.width+"px",dstyle.height=o.paper.height+"px",node.parentNode.insertBefore(div,node),div.appendChild(node),node.clipRect=div)}params["clip-rect"]||node.clipRect&&(node.clipRect.style.clip="auto")}if(o.textpath){var textpathStyle=o.textpath.style
;params.font&&(textpathStyle.font=params.font),params["font-family"]&&(textpathStyle.fontFamily='"'+params["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,E)+'"'),params["font-size"]&&(textpathStyle.fontSize=params["font-size"]),params["font-weight"]&&(textpathStyle.fontWeight=params["font-weight"]),params["font-style"]&&(textpathStyle.fontStyle=params["font-style"])}if("arrow-start"in params&&addArrow(res,params["arrow-start"]),"arrow-end"in params&&addArrow(res,params["arrow-end"],1),
null!=params.opacity||null!=params["stroke-width"]||null!=params.fill||null!=params.src||null!=params.stroke||null!=params["stroke-width"]||null!=params["stroke-opacity"]||null!=params["fill-opacity"]||null!=params["stroke-dasharray"]||null!=params["stroke-miterlimit"]||null!=params["stroke-linejoin"]||null!=params["stroke-linecap"]){var fill=node.getElementsByTagName("fill");if(fill=fill&&fill[0],!fill&&(fill=createNode("fill")),"image"==o.type&&params.src&&(fill.src=params.src),params.fill&&(fill.on=!0),null!=fill.on&&"none"!=params.fill&&null!==params.fill||(fill.on=!1),fill.on&&params.fill){var isURL=Str(params.fill).match(R._ISURL);if(isURL){
fill.parentNode==node&&node.removeChild(fill),fill.rotate=!0,fill.src=isURL[1],fill.type="tile";var bbox=o.getBBox(1);fill.position=bbox.x+S+bbox.y,o._.fillpos=[bbox.x,bbox.y],R._preload(isURL[1],function(){o._.fillsize=[this.offsetWidth,this.offsetHeight]})}else fill.color=R.getRGB(params.fill).hex,fill.src=E,fill.type="solid",R.getRGB(params.fill).error&&(res.type in{circle:1,ellipse:1}||"r"!=Str(params.fill).charAt())&&addGradientFill(res,params.fill,fill)&&(a.fill="none",a.gradient=params.fill,fill.rotate=!1)}if("fill-opacity"in params||"opacity"in params){var opacity=((+a["fill-opacity"]+1||2)-1)*((+a.opacity+1||2)-1)*((+R.getRGB(params.fill).o+1||2)-1)
;opacity=mmin(mmax(opacity,0),1),fill.opacity=opacity,fill.src&&(fill.color="none")}node.appendChild(fill);var stroke=node.getElementsByTagName("stroke")&&node.getElementsByTagName("stroke")[0],newstroke=!1;!stroke&&(newstroke=stroke=createNode("stroke")),(params.stroke&&"none"!=params.stroke||params["stroke-width"]||null!=params["stroke-opacity"]||params["stroke-dasharray"]||params["stroke-miterlimit"]||params["stroke-linejoin"]||params["stroke-linecap"])&&(stroke.on=!0),("none"==params.stroke||null===params.stroke||null==stroke.on||0==params.stroke||0==params["stroke-width"])&&(stroke.on=!1);var strokeColor=R.getRGB(params.stroke)
;stroke.on&&params.stroke&&(stroke.color=strokeColor.hex),opacity=((+a["stroke-opacity"]+1||2)-1)*((+a.opacity+1||2)-1)*((+strokeColor.o+1||2)-1);var width=.75*(toFloat(params["stroke-width"])||1);if(opacity=mmin(mmax(opacity,0),1),null==params["stroke-width"]&&(width=a["stroke-width"]),params["stroke-width"]&&(stroke.weight=width),width&&width<1&&(opacity*=width)&&(stroke.weight=1),stroke.opacity=opacity,params["stroke-linejoin"]&&(stroke.joinstyle=params["stroke-linejoin"]||"miter"),stroke.miterlimit=params["stroke-miterlimit"]||8,
params["stroke-linecap"]&&(stroke.endcap="butt"==params["stroke-linecap"]?"flat":"square"==params["stroke-linecap"]?"square":"round"),"stroke-dasharray"in params){var dasharray={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};stroke.dashstyle=dasharray[has](params["stroke-dasharray"])?dasharray[params["stroke-dasharray"]]:E}newstroke&&node.appendChild(stroke)}if("text"==res.type){res.paper.canvas.style.display=E;var span=res.paper.span,fontSize=a.font&&a.font.match(/\d+(?:\.\d*)?(?=px)/);s=span.style,a.font&&(s.font=a.font),
a["font-family"]&&(s.fontFamily=a["font-family"]),a["font-weight"]&&(s.fontWeight=a["font-weight"]),a["font-style"]&&(s.fontStyle=a["font-style"]),fontSize=toFloat(a["font-size"]||fontSize&&fontSize[0])||10,s.fontSize=100*fontSize+"px",res.textpath.string&&(span.innerHTML=Str(res.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var brect=span.getBoundingClientRect();res.W=a.w=(brect.right-brect.left)/100,res.H=a.h=(brect.bottom-brect.top)/100,res.X=a.x,res.Y=a.y+res.H/2,("x"in params||"y"in params)&&(res.path.v=R.format("m{0},{1}l{2},{1}",round(a.x*zoom),round(a.y*zoom),round(a.x*zoom)+1))
;for(var dirtyattrs=["x","y","text","font","font-family","font-weight","font-style","font-size"],d=0,dd=dirtyattrs.length;d<dd;d++)if(dirtyattrs[d]in params){res._.dirty=1;break}switch(a["text-anchor"]){case"start":res.textpath.style["v-text-align"]="left",res.bbx=res.W/2;break;case"end":res.textpath.style["v-text-align"]="right",res.bbx=-res.W/2;break;default:res.textpath.style["v-text-align"]="center",res.bbx=0}res.textpath.style["v-text-kern"]=!0}},addGradientFill=function(o,gradient,fill){o.attrs=o.attrs||{};var pow=(o.attrs,Math.pow),type="linear",fxfy=".5 .5";if(o.attrs.gradient=gradient,
gradient=Str(gradient).replace(R._radial_gradient,function(all,fx,fy){return type="radial",fx&&fy&&(fx=toFloat(fx),fy=toFloat(fy),pow(fx-.5,2)+pow(fy-.5,2)>.25&&(fy=math.sqrt(.25-pow(fx-.5,2))*(2*(fy>.5)-1)+.5),fxfy=fx+S+fy),E}),gradient=gradient.split(/\s*\-\s*/),"linear"==type){var angle=gradient.shift();if(angle=-toFloat(angle),isNaN(angle))return null}var dots=R._parseDots(gradient);if(!dots)return null;if(o=o.shape||o.node,dots.length){o.removeChild(fill),fill.on=!0,fill.method="none",fill.color=dots[0].color,fill.color2=dots[dots.length-1].color;for(var clrs=[],i=0,ii=dots.length;i<ii;i++)dots[i].offset&&clrs.push(dots[i].offset+S+dots[i].color)
;fill.colors=clrs.length?clrs.join():"0% "+fill.color,"radial"==type?(fill.type="gradientTitle",fill.focus="100%",fill.focussize="0 0",fill.focusposition=fxfy,fill.angle=0):(fill.type="gradient",fill.angle=(270-angle)%360),o.appendChild(fill)}return 1},Element=function(node,vml){this[0]=this.node=node,node.raphael=!0,this.id=R._oid++,node.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=vml,this.matrix=R.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!vml.bottom&&(vml.bottom=this),this.prev=vml.top,vml.top&&(vml.top.next=this),vml.top=this,this.next=null},elproto=R.el;Element.prototype=elproto,
elproto.constructor=Element,elproto.transform=function(tstr){if(null==tstr)return this._.transform;var oldt,vbs=this.paper._viewBoxShift,vbt=vbs?"s"+[vbs.scale,vbs.scale]+"-1-1t"+[vbs.dx,vbs.dy]:E;vbs&&(oldt=tstr=Str(tstr).replace(/\.{3}|\u2026/g,this._.transform||E)),R._extractTransform(this,vbt+tstr);var split,matrix=this.matrix.clone(),skew=this.skew,o=this.node,isGrad=~Str(this.attrs.fill).indexOf("-"),isPatt=!Str(this.attrs.fill).indexOf("url(");if(matrix.translate(1,1),isPatt||isGrad||"image"==this.type)if(skew.matrix="1 0 0 1",skew.offset="0 0",split=matrix.split(),isGrad&&split.noRotation||!split.isSimple){o.style.filter=matrix.toFilter()
;var bb=this.getBBox(),bbt=this.getBBox(1),dx=bb.x-bbt.x,dy=bb.y-bbt.y;o.coordorigin=dx*-zoom+S+dy*-zoom,setCoords(this,1,1,dx,dy,0)}else o.style.filter=E,setCoords(this,split.scalex,split.scaley,split.dx,split.dy,split.rotate);else o.style.filter=E,skew.matrix=Str(matrix),skew.offset=matrix.offset();return oldt&&(this._.transform=oldt),this},elproto.rotate=function(deg,cx,cy){if(this.removed)return this;if(null!=deg){if(deg=Str(deg).split(separator),deg.length-1&&(cx=toFloat(deg[1]),cy=toFloat(deg[2])),deg=toFloat(deg[0]),null==cy&&(cx=cy),null==cx||null==cy){var bbox=this.getBBox(1);cx=bbox.x+bbox.width/2,cy=bbox.y+bbox.height/2}return this._.dirtyT=1,
this.transform(this._.transform.concat([["r",deg,cx,cy]])),this}},elproto.translate=function(dx,dy){return this.removed?this:(dx=Str(dx).split(separator),dx.length-1&&(dy=toFloat(dx[1])),dx=toFloat(dx[0])||0,dy=+dy||0,this._.bbox&&(this._.bbox.x+=dx,this._.bbox.y+=dy),this.transform(this._.transform.concat([["t",dx,dy]])),this)},elproto.scale=function(sx,sy,cx,cy){if(this.removed)return this;if(sx=Str(sx).split(separator),sx.length-1&&(sy=toFloat(sx[1]),cx=toFloat(sx[2]),cy=toFloat(sx[3]),isNaN(cx)&&(cx=null),isNaN(cy)&&(cy=null)),sx=toFloat(sx[0]),null==sy&&(sy=sx),null==cy&&(cx=cy),null==cx||null==cy)var bbox=this.getBBox(1)
;return cx=null==cx?bbox.x+bbox.width/2:cx,cy=null==cy?bbox.y+bbox.height/2:cy,this.transform(this._.transform.concat([["s",sx,sy,cx,cy]])),this._.dirtyT=1,this},elproto.hide=function(){return!this.removed&&(this.node.style.display="none"),this},elproto.show=function(){return!this.removed&&(this.node.style.display=E),this},elproto._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},elproto.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),R.eve.unbind("raphael.*.*."+this.id),R._tear(this,this.paper),
this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var i in this)this[i]="function"==typeof this[i]?R._removedFactory(i):null;this.removed=!0}},elproto.attr=function(name,value){if(this.removed)return this;if(null==name){var res={};for(var a in this.attrs)this.attrs[has](a)&&(res[a]=this.attrs[a]);return res.gradient&&"none"==res.fill&&(res.fill=res.gradient)&&delete res.gradient,res.transform=this._.transform,res}if(null==value&&R.is(name,"string")){if("fill"==name&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient
;for(var names=name.split(separator),out={},i=0,ii=names.length;i<ii;i++)name=names[i],name in this.attrs?out[name]=this.attrs[name]:R.is(this.paper.customAttributes[name],"function")?out[name]=this.paper.customAttributes[name].def:out[name]=R._availableAttrs[name];return ii-1?out:out[names[0]]}if(this.attrs&&null==value&&R.is(name,"array")){for(out={},i=0,ii=name.length;i<ii;i++)out[name[i]]=this.attr(name[i]);return out}var params;null!=value&&(params={},params[name]=value),null==value&&R.is(name,"object")&&(params=name);for(var key in params)eve("raphael.attr."+key+"."+this.id,this,params[key]);if(params){
for(key in this.paper.customAttributes)if(this.paper.customAttributes[has](key)&&params[has](key)&&R.is(this.paper.customAttributes[key],"function")){var par=this.paper.customAttributes[key].apply(this,[].concat(params[key]));this.attrs[key]=params[key];for(var subkey in par)par[has](subkey)&&(params[subkey]=par[subkey])}params.text&&"text"==this.type&&(this.textpath.string=params.text),setFillAndStroke(this,params)}return this},elproto.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&R._tofront(this,this.paper),this},elproto.toBack=function(){
return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),R._toback(this,this.paper)),this)},elproto.insertAfter=function(element){return this.removed?this:(element.constructor==R.st.constructor&&(element=element[element.length-1]),element.node.nextSibling?element.node.parentNode.insertBefore(this.node,element.node.nextSibling):element.node.parentNode.appendChild(this.node),R._insertafter(this,element,this.paper),this)},elproto.insertBefore=function(element){return this.removed?this:(element.constructor==R.st.constructor&&(element=element[0]),
element.node.parentNode.insertBefore(this.node,element.node),R._insertbefore(this,element,this.paper),this)},elproto.blur=function(size){var s=this.node.runtimeStyle,f=s.filter;return f=f.replace(blurregexp,E),0!=+size?(this.attrs.blur=size,s.filter=f+S+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+size||1.5)+")",s.margin=R.format("-{0}px 0 0 -{0}px",round(+size||1.5))):(s.filter=f,s.margin=0,delete this.attrs.blur),this},R._engine.path=function(pathString,vml){var el=createNode("shape");el.style.cssText=cssDot,el.coordsize=zoom+S+zoom,el.coordorigin=vml.coordorigin;var p=new Element(el,vml),attr={fill:"none",stroke:"#000"}
;pathString&&(attr.path=pathString),p.type="path",p.path=[],p.Path=E,setFillAndStroke(p,attr),vml.canvas.appendChild(el);var skew=createNode("skew");return skew.on=!0,el.appendChild(skew),p.skew=skew,p.transform(E),p},R._engine.rect=function(vml,x,y,w,h,r){var path=R._rectPath(x,y,w,h,r),res=vml.path(path),a=res.attrs;return res.X=a.x=x,res.Y=a.y=y,res.W=a.width=w,res.H=a.height=h,a.r=r,a.path=path,res.type="rect",res},R._engine.ellipse=function(vml,x,y,rx,ry){var res=vml.path();res.attrs;return res.X=x-rx,res.Y=y-ry,res.W=2*rx,res.H=2*ry,res.type="ellipse",setFillAndStroke(res,{cx:x,cy:y,rx:rx,ry:ry}),res},R._engine.circle=function(vml,x,y,r){
var res=vml.path();res.attrs;return res.X=x-r,res.Y=y-r,res.W=res.H=2*r,res.type="circle",setFillAndStroke(res,{cx:x,cy:y,r:r}),res},R._engine.image=function(vml,src,x,y,w,h){var path=R._rectPath(x,y,w,h),res=vml.path(path).attr({stroke:"none"}),a=res.attrs,node=res.node,fill=node.getElementsByTagName("fill")[0];return a.src=src,res.X=a.x=x,res.Y=a.y=y,res.W=a.width=w,res.H=a.height=h,a.path=path,res.type="image",fill.parentNode==node&&node.removeChild(fill),fill.rotate=!0,fill.src=src,fill.type="tile",res._.fillpos=[x,y],res._.fillsize=[w,h],node.appendChild(fill),setCoords(res,1,1,0,0,0),res},R._engine.text=function(vml,x,y,text){
var el=createNode("shape"),path=createNode("path"),o=createNode("textpath");x=x||0,y=y||0,text=text||"",path.v=R.format("m{0},{1}l{2},{1}",round(x*zoom),round(y*zoom),round(x*zoom)+1),path.textpathok=!0,o.string=Str(text),o.on=!0,el.style.cssText=cssDot,el.coordsize=zoom+S+zoom,el.coordorigin="0 0";var p=new Element(el,vml),attr={fill:"#000",stroke:"none",font:R._availableAttrs.font,text:text};p.shape=el,p.path=path,p.textpath=o,p.type="text",p.attrs.text=Str(text),p.attrs.x=x,p.attrs.y=y,p.attrs.w=1,p.attrs.h=1,setFillAndStroke(p,attr),el.appendChild(o),el.appendChild(path),vml.canvas.appendChild(el);var skew=createNode("skew");return skew.on=!0,
el.appendChild(skew),p.skew=skew,p.transform(E),p},R._engine.setSize=function(width,height){var cs=this.canvas.style;return this.width=width,this.height=height,width==+width&&(width+="px"),height==+height&&(height+="px"),cs.width=width,cs.height=height,cs.clip="rect(0 "+width+" "+height+" 0)",this._viewBox&&R._engine.setViewBox.apply(this,this._viewBox),this},R._engine.setViewBox=function(x,y,w,h,fit){R.eve("raphael.setViewBox",this,this._viewBox,[x,y,w,h,fit]);var H,W,width=this.width,height=this.height,size=1/mmax(w/width,h/height);return fit&&(H=height/h,W=width/w,w*H<width&&(x-=(width-w*H)/2/H),h*W<height&&(y-=(height-h*W)/2/W)),
this._viewBox=[x,y,w,h,!!fit],this._viewBoxShift={dx:-x,dy:-y,scale:size},this.forEach(function(el){el.transform("...")}),this};var createNode;R._engine.initWin=function(win){var doc=win.document;doc.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!doc.namespaces.rvml&&doc.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),createNode=function(tagName){return doc.createElement("<rvml:"+tagName+' class="rvml">')}}catch(e){createNode=function(tagName){return doc.createElement("<"+tagName+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},R._engine.initWin(R._g.win),R._engine.create=function(){
var con=R._getContainer.apply(0,arguments),container=con.container,height=con.height,width=con.width,x=con.x,y=con.y;if(!container)throw new Error("VML container not found.");var res=new R._Paper,c=res.canvas=R._g.doc.createElement("div"),cs=c.style;return x=x||0,y=y||0,width=width||512,height=height||342,res.width=width,res.height=height,width==+width&&(width+="px"),height==+height&&(height+="px"),res.coordsize=216e5+S+216e5,res.coordorigin="0 0",res.span=R._g.doc.createElement("span"),res.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",c.appendChild(res.span),
cs.cssText=R.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",width,height),1==container?(R._g.doc.body.appendChild(c),cs.left=x+"px",cs.top=y+"px",cs.position="absolute"):container.firstChild?container.insertBefore(c,container.firstChild):container.appendChild(c),res.renderfix=function(){},res},R.prototype.clear=function(){R.eve("raphael.clear",this),this.canvas.innerHTML=E,this.span=R._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),
this.bottom=this.top=null},R.prototype.remove=function(){R.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var i in this)this[i]="function"==typeof this[i]?R._removedFactory(i):null;return!0};var setproto=R.st;for(var method in elproto)elproto[has](method)&&!setproto[has](method)&&(setproto[method]=function(methodname){return function(){var arg=arguments;return this.forEach(function(el){el[methodname].apply(el,arg)})}}(method))}}(),oldRaphael.was?g.win.Raphael=R:Raphael=R,"object"==typeof exports&&(module.exports=R),R}),define("scale.raphael",["jquery","raphael"],function($,Raphael){return function(container,width,height){
var wrapper=container.style?container:document.getElementById(container);wrapper.style.position||(wrapper.style.position="relative"),wrapper.style.width=width+"px",wrapper.style.height=height+"px";var nestedWrapper;"VML"===Raphael.type?(wrapper.innerHTML="<rvml:group style='position : absolute; width: 1000px; height: 1000px; top: 0px; left: 0px' coordsize='1000,1000' class='rvml'></rvml:group>",nestedWrapper=$(".rvml",$(wrapper))[0]):(wrapper.innerHTML="<div class='svggroup'></div>",nestedWrapper=$(".svggroup",$(wrapper))[0]);var vmlDiv,paper=new Raphael(nestedWrapper,width,height)
;return"SVG"===Raphael.type?paper.canvas.setAttribute("viewBox","0 0 "+width+" "+height):vmlDiv=wrapper.getElementsByTagName("div")[0],paper.changeSize=function(w,h,center,clipping){clipping=!clipping;var ratioW=w/width,ratioH=h/height,scale=ratioW<ratioH?ratioW:ratioH,newHeight=parseInt(height*scale),newWidth=parseInt(width*scale);if("VML"===Raphael.type){var txt=document.getElementsByTagName("textpath");for(var i in txt){var curr=txt[i];if(curr.style){if(!curr._fontSize){var mod=curr.style.font.split("px");curr._fontSize=parseInt(mod[0]),curr._font=mod[1]}curr.style.font=curr._fontSize*scale+"px"+curr._font}}var newSize
;newSize=newWidth<newHeight?1e3*newWidth/width:1e3*newHeight/height,newSize=parseInt(newSize),nestedWrapper.style.width=newSize+"px",nestedWrapper.style.height=newSize+"px",clipping&&(nestedWrapper.style.left=parseInt((w-newWidth)/2)+"px",nestedWrapper.style.top=parseInt((h-newHeight)/2)+"px"),vmlDiv.style.overflow="visible"}clipping&&(newWidth=w,newHeight=h),wrapper.style.width=newWidth+"px",wrapper.style.height=newHeight+"px",paper.setSize(newWidth,newHeight),center&&(wrapper.style.position="absolute",wrapper.style.left=parseInt((w-newWidth)/2)+"px",wrapper.style.top=parseInt((h-newHeight)/2)+"px")},paper.scaleAll=function(amount){
paper.changeSize(width*amount,height*amount)},paper.changeSize(width,height),paper.w=width,paper.h=height,paper}}),define("json!taoQtiItem/qtiCommonRenderer/renderers/graphic-style.json",function(){return{basic:{stroke:"#8D949E","stroke-width":2,"stroke-dasharray":"","stroke-linejoin":"round",fill:"#cccccc","fill-opacity":.5,cursor:"pointer"},hover:{stroke:"#3E7DA7",fill:"#0E5D91","fill-opacity":.3},selectable:{"stroke-dasharray":"-",stroke:"#3E7DA7",fill:"#cccccc","fill-opacity":.5},active:{stroke:"#3E7DA7","stroke-dasharray":"",fill:"#0E5D91","fill-opacity":.5},error:{stroke:"#C74155","stroke-dasharray":"","fill-opacity":.5,fill:"#661728"},success:{
stroke:"#C74155","stroke-dasharray":"",fill:"#0E914B","fill-opacity":.5},layer:{fill:"#ffffff",opacity:0,cursor:"pointer"},creator:{"fill-opacity":.5,stroke:"#3E7DA7","stroke-dasharray":"",fill:"#0E5D91",cursor:"pointer"},"imageset-rect-stroke":{fill:"#ffffff",stroke:"#666666","stroke-width":1,"stroke-linejoin":"round",cursor:"pointer"},"imageset-rect-no-stroke":{fill:"#ffffff",stroke:"#ffffff","stroke-width":2,"stroke-linejoin":"round",cursor:"pointer"},"imageset-img":{cursor:"pointer"},"order-text":{fill:"#ffffff",stroke:"#000000","stroke-width":.7,"font-family":"sans-serif","font-weight":"bold","font-size":22,cursor:"pointer"},"score-text-default":{
stroke:"#444444","stroke-width":.5,"font-family":"sans-serif","font-weight":"normal","font-size":20,cursor:"pointer"},"score-text":{stroke:"#000000","stroke-width":.5,"font-family":"sans-serif","font-weight":"normal","font-size":20,cursor:"pointer"},"small-text":{stroke:"#000000","stroke-width":.5,"font-family":"sans-serif","font-weight":"normal","font-size":16,cursor:"pointer"},"layer-pos-text":{stroke:"#333","stroke-width":.5,"font-family":"sans-serif","font-weight":"normal","font-size":14},target:{
path:"m 18,8.4143672 -1.882582,0 C 15.801891,4.9747852 13.071059,2.2344961 9.63508,1.9026738 L 9.63508,0 8.2305176,0 l 0,1.9026387 C 4.7947148,2.2343027 2.0637246,4.9746621 1.7481973,8.4143672 l -1.7481973,0 0,1.4045625 1.754877,0 c 0.3460429,3.4066753 3.0632871,6.1119843 6.4756406,6.4413813 l 0,1.739689 1.4045624,0 0,-1.739725 c 3.412547,-0.329537 6.129633,-3.034793 6.475641,-6.4413453 l 1.889279,0 z m -8.36492,6.5188648 0,-4.064673 -1.4045624,0 0,4.063882 C 5.5511016,14.612555 3.4232695,12.494619 3.0864551,9.8189297 l 4.0449512,0 0,-1.4045625 -4.0546368,0 C 3.3788672,5.6984941 5.5228887,3.5393379 8.2305176,3.2161113 l 0,3.9153125 1.4045624,0 0,-3.9160859 c 2.711162,0.3203965 4.858576,2.4808887 5.160955,5.1990293 l -3.927441,0 0,1.4045625 3.917773,0 C 14.449289,12.496957 12.318363,14.616158 9.63508,14.933232 z",
fill:"#0E914B",width:1,"stroke-width":0,cursor:"pointer"},"target-hover":{fill:"#3E7DA7","fill-opacity":1},"target-success":{fill:"#0E914B","fill-opacity":1},assoc:{"stroke-width":2,"stroke-linecap":"round",cursor:"pointer"},"assoc-layer":{"stroke-width":12,cursor:"pointer","stroke-opacity":0},"assoc-bullet":{fill:"#000000"},close:{
path:"m 8.9997236,18.000001 c -4.9703918,0 -8.99972284217367,-4.02901 -8.99972284217367,-9 C 7.5782633e-7,4.029011 4.0293108,9.8531742e-7 8.9997236,9.8531742e-7 13.970691,9.8531742e-7 18.000001,4.029011 18.000001,9.000001 c 0,4.97099 -4.02931,9 -9.0002774,9 z m 0.0045,-16.37151 c -4.06191,0 -7.35492,3.29635 -7.35492,7.36251 0,4.06562 3.292989,7.36255 7.35492,7.36255 4.0630384,0 7.3554334,-3.29693 7.3554334,-7.36255 0,-4.06614 -3.292969,-7.36251 -7.3554334,-7.36251 v 0 z m 3.1314894,9.31167 -1.953823,-1.94014 1.953843,-1.94018 c 0.08964,-0.089 0.134622,-0.19099 0.135073,-0.30584 4.31e-4,-0.11488 -0.04383,-0.21712 -0.132838,-0.30681 l -0.54267,-0.54685 c -0.08898,-0.0897 -0.190903,-0.13473 -0.305719,-0.13514 -0.114837,-4.4e-4 -0.217064,0.0439 -0.306703,0.1329 l -1.9623724,1.94865 -1.962395,-1.94865 c -0.08964,-0.089 -0.191845,-0.13336 -0.306702,-0.1329 -0.114837,4.3e-4 -0.216736,0.0455 -0.305719,0.13514 l -0.54265,0.54685 c -0.08902,0.0897 -0.133269,0.19193 -0.132838,0.30681 4.3e-4,0.11485 0.04543,0.21681 0.135073,0.30584 l 1.953823,1.94018 -1.953782,1.94014 c -0.0896,0.089 -0.134684,0.19094 -0.135114,0.3058 -4.31e-4,0.11486 0.04386,0.21716 0.132838,0.30681 l 0.542671,0.54687 c 0.08896,0.0897 0.190923,0.13467 0.305718,0.13516 0.114857,3.9e-4 0.217105,-0.0439 0.306724,-0.13288 l 1.962332,-1.94863 1.9623324,1.94863 c 0.08962,0.089 0.191886,0.13323 0.306744,0.13288 0.114836,-4.5e-4 0.216736,-0.0455 0.305698,-0.13516 l 0.542691,-0.54687 c 0.089,-0.0897 0.133227,-0.19193 0.132838,-0.30681 -3.9e-4,-0.1149 -0.0455,-0.21683 -0.135073,-0.3058 z",
fill:"#0E5D91",width:1,opacity:0,"stroke-width":0,cursor:"pointer"},"close-bg":{fill:"#ffffff",stroke:"none",cursor:"pointer",opacity:0},"touch-circle":{fill:"none",stroke:"#3E7DA7","stroke-width":2}}}),define("taoQtiItem/qtiCommonRenderer/helpers/Graphic",["jquery","lodash","raphael","scale.raphael","json!taoQtiItem/qtiCommonRenderer/renderers/graphic-style.json"],function($,_,raphael,scaleRaphael,gstyle){"use strict";var shapeMap={default:"rect",poly:"path"},coordsValidator={rect:4,ellipse:4,circle:3,poly:6,default:0},qti2raphCoordsMapper={rect:function(coords){return[coords[0],coords[1],coords[2]-coords[0],coords[3]-coords[1]]},default:function(paper){
return[0,0,paper.width,paper.height]},poly:function(coords){var a,size=coords.length;for(coords[0]!==coords[size-2]&&coords[1]!==coords[size-1]&&(coords.push(coords[0]),coords.push(coords[1])),coords[0]="M"+coords[0],a=1;a<size;a++)a%2==0&&(coords[a]="L"+coords[a]);return[coords.join(" ")]}},raph2qtiCoordsMapper={rect:function(attr){return[attr.x,attr.y,attr.x+attr.width,attr.y+attr.height]},circle:function(attr){return[attr.cx,attr.cy,attr.r]},ellipse:function(attr){return[attr.cx,attr.cy,attr.rx,attr.ry]},default:function(attr){return this.rect(attr)},path:function(attr){var i,poly=[]
;if(_.isArray(attr.path))for(i=1;i<attr.path.length;i++)3===attr.path[i].length&&(poly.push(attr.path[i][1]),poly.push(attr.path[i][2]));return poly}};return{_style:gstyle,setStyle:function(element,name){element&&gstyle[name]&&element.attr(gstyle[name])},responsivePaper:function(id,serial,options){function resizePaper(e,givenWidth){var diff,maxWidth,containerWidth,containerHeight,factor;e&&e.stopPropagation(),diff=$editor.outerWidth()-$editor.width()+($container.outerWidth()-$container.width())+1,maxWidth=$body.width(),
((containerWidth=$container.innerWidth())>0||givenWidth>0)&&(givenWidth<containerWidth&&givenWidth<maxWidth?containerWidth=givenWidth-diff:containerWidth>maxWidth?containerWidth=maxWidth-diff:containerWidth-=diff,factor=containerWidth/imgWidth,containerHeight=imgHeight*factor,containerWidth>0&&paper.changeSize(containerWidth,containerHeight,!1,!1),"function"==typeof options.resize&&options.resize(containerWidth,factor),$container.trigger("resized.qti-widget"))}
var paper,image,$container=options.container||$("#"+id).parent(),$editor=$(".image-editor",$container),$body=$container.closest(".qti-itemBody"),resizer=_.throttle(resizePaper,10),imgWidth=options.width||$container.innerWidth(),imgHeight=options.height||$container.innerHeight();return paper=scaleRaphael(id,imgWidth,imgHeight),image=paper.image(options.img,0,0,imgWidth,imgHeight),image.id=options.imgId||image.id,paper.setViewBox(0,0,imgWidth,imgHeight),resizer(),$(image.node).attr("externalResourcesRequired","true").on("load",resizer),"SVG"===raphael.type?($(window).on("resize.qti-widget."+serial,resizer),$container.on("resize.qti-widget."+serial,resizer),
$(document).on("customcssloaded.styleeditor",resizer)):($container.find(".main-image-box").width(imgWidth),"function"==typeof options.resize&&options.resize(imgWidth,1)),paper},createElement:function(paper,type,coords,options){var element,self=this,shaper=shapeMap[type]?paper[shapeMap[type]]:paper[type],shapeCoords=!1!==options.qtiCoords?self.raphaelCoords(paper,type,coords):coords;if("function"!=typeof shaper)throw new Error("Unable to find method "+type+" on paper");return(element=shaper.apply(paper,shapeCoords))&&(options.id&&(element.id=options.id),options.title&&element.attr("title",options.title),element.attr(gstyle[options.style||"basic"]).toFront(),
$(element.node).removeAttr("stroke-dasharray"),!1!==options.hover&&element.hover(function(){element.flashing||self.updateElementState(this,"hover")},function(){element.flashing||self.updateElementState(this,this.active?"active":this.selectable?"selectable":"basic")}),!1!==options.touchEffect&&element.touchstart(function(){self.createTouchCircle(paper,element.getBBox())})),element},createTarget:function(paper,options){var baseSize,count,factor,half,hover,layer,point,self,tBBox,targetSize,x,y,target;return options=options||{},self=this,point=options.point||{x:0,y:0},factor=0!==paper.w?paper.width/paper.w:1,hover=void 0===options.hover||!!options.hover,
baseSize=18,half=baseSize/2,x=point.x-half,y=point.y-half,targetSize=0!==factor?2/factor:2,target=paper.path(gstyle.target.path).transform("t"+x+","+y+"s"+targetSize).attr(gstyle.target).attr("title",_("Click again to remove")),options.id?target.id=options.id:(count=0,paper.forEach(function(element){element.data("target")&&count++}),target.id="target-"+count),tBBox=target.getBBox(),layer=paper.rect(tBBox.x,tBBox.y,tBBox.width,tBBox.height).attr(gstyle.layer).click(function(){var id=target.id,p=this.data("point");_.isFunction(options.select)&&options.select(target,p,this),_.isFunction(options.remove)&&(this.remove(),target.remove(),options.remove(id,p))}),
hover&&layer.hover(function(){target.flashing||self.setStyle(target,"target-hover")},function(){target.flashing||self.setStyle(target,"target-success")}),layer.id="layer-"+target.id,layer.data("point",point),target.data("target",point),_.isFunction(options.create)&&options.create(target),target},raphaelCoords:function(paper,type,coords){var shapeCoords;if(_.isString(coords)&&(coords=_.map(coords.split(","),function(coord){return parseInt(coord,10)})),!_.isArray(coords)||coords.length<coordsValidator[type])throw new Error("Invalid coords "+JSON.stringify(coords)+"  for type "+type);switch(type){case"rect":shapeCoords=qti2raphCoordsMapper.rect(coords);break
;case"default":shapeCoords=qti2raphCoordsMapper.default.call(null,paper);break;case"poly":shapeCoords=qti2raphCoordsMapper.poly(coords);break;default:shapeCoords=coords}return shapeCoords},qtiCoords:function(element){var mapper=raph2qtiCoordsMapper[element.type],result="";return _.isFunction(mapper)&&(result=_.map(mapper.call(raph2qtiCoordsMapper,element.attr()),function(coord){return _.parseInt(coord)}).join(",")),result},createTouchCircle:function(paper,bbox){var radius=bbox.width>bbox.height?bbox.width:bbox.height,tCircle=paper.circle(bbox.x+bbox.width/2,bbox.y+bbox.height/2,radius);tCircle.attr(gstyle["touch-circle"]),_.defer(function(){tCircle.animate({
r:radius+5,opacity:.7},300,function(){tCircle.remove()})})},createText:function(paper,options){var fontSize,scaledFontSize,text,top=options.top||0,left=options.left||0,content=options.content||"",style=options.style||"small-text",title=options.title||"",factor=1;return paper.width&&paper.w&&(factor=paper.width/paper.w),text=paper.text(left,top,content).toFront(),options.id&&(text.id=options.id),options.hide&&text.hide(),text.attr(gstyle[style]),void 0!==factor&&1!==factor&&(fontSize=parseInt(text.attr("font-size"),10),scaledFontSize=Math.floor(fontSize/factor)+1,text.attr("font-size",scaledFontSize)),title&&this.updateTitle(text,title),text},
createShapeText:function(paper,shape,options){var self=this,bbox=shape.getBBox(),text=this.createText(paper,_.merge({left:bbox.x+bbox.width/2,top:bbox.y+bbox.height/2},options));return options.shapeClick&&text.click(function(){self.trigger(shape,"click")}),text},createBorderedImage:function(paper,options){
var padding=options.padding>=0?options.padding:6,halfPad=padding/2,rx=options.left,ry=options.top,rw=options.width+padding,rh=options.height+padding,ix=options.left+halfPad,iy=options.top+halfPad,iw=options.width,ih=options.height,set=paper.set(),rect=paper.rect(rx,ry,rw,rh).attr(options.border?gstyle["imageset-rect-stroke"]:gstyle["imageset-rect-no-stroke"]),image=paper.image(options.url,ix,iy,iw,ih).attr(gstyle["imageset-img"]);return options.shadow&&set.push(rect.glow({width:2,offsetx:1,offsety:1})),set.push(rect,image),set.move=function(x,y,duration){var animation=raphael.animation({x:x,y:y},duration||400),elt=rect.animate(animation)
;return image.animateWith(elt,animation,{x:x+halfPad,y:y+halfPad},duration||400),set},set},updateElementState:function(element,state,title){element&&element.animate&&(element.animate(gstyle[state],200,"linear",function(){element.attr(gstyle[state]),$(element.node).removeAttr("stroke-dasharray")}),title&&this.updateTitle(element,title))},updateTitle:function(element,title){element&&element.node&&(_.forEach(element.node.children,function(child){"title"===child.nodeName.toLowerCase()&&element.node.removeChild(child)}),element.attr("title",title))},highlightError:function(element,restoredState){var self=this;element&&(element.flashing=!0,
self.updateElementState(element,"error"),_.delay(function(){self.updateElementState(element,restoredState||"basic"),element.flashing=!1},800))},trigger:function(element,event){var evt=_.where(element.events,{name:event});evt.length&&evt[0]&&"function"==typeof evt[0].f&&evt[0].f.apply(element,Array.prototype.slice.call(arguments,2))},getPoint:function(event,paper,$container){var point=this.clickPoint($container,event),rect=$container.get(0).getBoundingClientRect(),factor=paper.w/rect.width;return point.x=Math.round(point.x*factor),point.y=Math.round(point.y*factor),point},position:function($container,paper){
var pw=parseInt(paper.w||paper.width,10),cw=parseInt($container.width(),10),ph=parseInt(paper.w||paper.width,10);return{left:(cw-pw)/2,top:(parseInt($container.height(),10)-ph)/2}},clickPoint:function($container,event){var x,y,offset=$container.offset();return event.pageX||event.pageY?(x=event.pageX-offset.left,y=event.pageY-offset.top):(event.clientX||event.clientY)&&(x=event.clientX+document.body.scrollLeft+document.documentElement.scrollLeft-offset.left,y=event.clientY+document.body.scrollTop+document.documentElement.scrollTop-offset.top),{x:x,y:y}}}}),
define("taoQtiItem/qtiCommonRenderer/renderers/interactions/GraphicAssociateInteraction",["jquery","lodash","i18n","core/promise","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/graphicAssociateInteraction","taoQtiItem/qtiCommonRenderer/helpers/Graphic","taoQtiItem/qtiCommonRenderer/helpers/PciResponse","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/instructions/instructionManager"],function($,_,__,Promise,tpl,graphic,pciResponse,containerHelper,instructionMgr){"use strict";var render=function(interaction){var self=this;return new Promise(function(resolve,reject){
var $container=containerHelper.get(interaction),background=interaction.object.attributes;$(".main-image-box",$container);interaction._vsets=[],$container.off("resized.qti-widget.resolve").one("resized.qti-widget.resolve",resolve),interaction.paper=graphic.responsivePaper("graphic-paper-"+interaction.serial,interaction.serial,{width:background.width,height:background.height,img:self.resolveUrl(background.data),imgId:"bg-image-"+interaction.serial,container:$container}),_.forEach(interaction.getChoices(),_.partial(_renderChoice,interaction)),_paperUnSelect(interaction),instructionMgr.minMaxChoiceInstructions(interaction,{
min:interaction.attr("minAssociations"),max:interaction.attr("maxAssociations"),getResponse:_getRawResponse,onError:function(data){data&&data.target&&graphic.highlightError(data.target)}})})},_renderChoice=function(interaction,choice){var shape=choice.attr("shape"),coords=choice.attr("coords"),maxAssociations=interaction.attr("maxAssociations");graphic.createElement(interaction.paper,shape,coords,{id:choice.serial,title:__("Select this area to start an association")}).data("max",choice.attr("matchMax")).data("matching",0).removeData("assocs").click(function(){var active,assocs,self=this
;if(maxAssociations>0&&_getRawResponse(interaction).length>=maxAssociations)return _shapesUnSelectable(interaction),void instructionMgr.validateInstructions(interaction,{choice:choice,target:this});this.selectable?(active=_getActiveElement(interaction),active&&(active.data("matching",active.data("matching")+1),this.data("matching",this.data("matching")+1),assocs=active.data("assocs")||[],assocs.push(choice.id()),active.data("assocs",assocs),_createPath(interaction,active,this,function(){active.data("matching",active.data("matching")-1),self.data("matching",self.data("matching")-1),active.data("assocs",_.remove(active.data("assocs")||[],choice.id())),
containerHelper.triggerResponseChangeEvent(interaction),instructionMgr.validateInstructions(interaction,{choice:choice,target:self})})),_shapesUnSelectable(interaction)):this.active?(graphic.updateElementState(this,"basic",__("Select another area to complete the association")),this.active=!1,_shapesUnSelectable(interaction)):_isMatchable(this)&&(graphic.updateElementState(this,"active",__("Select this area to start an association")),this.active=!0,_shapesSelectable(interaction,this)),containerHelper.triggerResponseChangeEvent(interaction),instructionMgr.validateInstructions(interaction,{choice:choice,target:this})})},_paperUnSelect=function(interaction){
var $container=containerHelper.get(interaction),image=interaction.paper.getById("bg-image-"+interaction.serial);image&&image.click(function(){_shapesUnSelectable(interaction),$container.trigger("unselect.graphicassociate")})},_getActiveElement=function(interaction){var active;return _.forEach(interaction.getChoices(),function(choice){var element=interaction.paper.getById(choice.serial);if(element&&!0===element.active)return active=element,!1}),active},_createPath=function(interaction,srcElement,destElement,onRemove){function showCloser(){closerBg.toFront().animate({opacity:.8},300).click(removeSet),closer.toFront().animate({opacity:1},300).click(removeSet)}
function hideCloser(){closerBg&&closerBg.type&&(closerBg.animate({opacity:0},300,function(){closerBg.toBack()}).unclick(),closer.animate({opacity:0},300,function(){closer.toBack()}).unclick())}function removeSet(){_.invoke(vset,"remove"),interaction._vsets=_.without(interaction._vsets,vset),"function"==typeof onRemove&&onRemove()}
var $container=containerHelper.get(interaction),vset=[],src=srcElement.getBBox(),sx=src.x+src.width/2,sy=src.y+src.height/2,dest=destElement.getBBox(),dx=dest.x+dest.width/2,dy=dest.y+dest.height/2,srcBullet=interaction.paper.circle(sx,sy,3).attr(graphic._style["assoc-bullet"]),destBullet=interaction.paper.circle(dx,dy,3).attr(graphic._style["assoc-bullet"]),path=interaction.paper.path("M"+sx+","+sy+"L"+sx+","+sy).attr(graphic._style.assoc).animate({path:"M"+sx+","+sy+"L"+dx+","+dy
},300),layer=interaction.paper.path("M"+sx+","+sy+"L"+dx+","+dy).attr(graphic._style["assoc-layer"]),midPath=layer.getPointAtLength(layer.getTotalLength()/2),closerBg=interaction.paper.circle(midPath.x,midPath.y,9).attr(graphic._style["close-bg"]).toBack(),closer=interaction.paper.path(graphic._style.close.path).attr(graphic._style.close).transform("T"+(midPath.x-9)+","+(midPath.y-9)).attr("title",_("Click again to remove")).toBack();srcElement.toFront(),destElement.toFront(),vset=[srcBullet,path,destBullet,layer,closerBg,closer],interaction._vsets.push(vset),_.invoke(vset,"data","assoc-path",!0),layer.click(function(){
0===closer.attrs.opacity?showCloser():hideCloser()}),$container.on("unselect.graphicassociate",function(){hideCloser()})},_shapesSelectable=function(interaction,active){var assocs=active.data("assocs")||[];_.forEach(interaction.getChoices(),function(choice){var element;_.contains(assocs,choice.id())||(element=interaction.paper.getById(choice.serial),!element.active&&element.id!==active.id&&_isMatchable(element,active)&&(element.selectable=!0,graphic.updateElementState(element,"selectable")))})},_shapesUnSelectable=function(interaction){_.forEach(interaction.getChoices(),function(choice){var element=interaction.paper.getById(choice.serial)
;element&&(element.selectable=!1,element.active=!1,graphic.updateElementState(element,"basic"))})},_isMatchable=function(element){var matching,matchMax,matchable=!1;return element&&(matchMax=element.data("max")||0,matching=element.data("matching")||0,matchable=0===matchMax||matchMax>matching),matchable},_getRawResponse=function(interaction){var responses=[];return _.forEach(interaction.getChoices(),function(choice){var element=interaction.paper.getById(choice.serial),assocs=element.data("assocs");element&&assocs&&(responses=responses.concat(_.map(assocs,function(id){return[choice.id(),id]})))}),responses},setResponse=function(interaction,response){
var responseValues;if(response&&interaction.paper){try{responseValues=pciResponse.unserialize(response,interaction)}catch(e){}if(_.isArray(responseValues)){var map=_.transform(interaction.getChoices(),function(res,choice){res[choice.id()]=interaction.paper.getById(choice.serial)});_.forEach(responseValues,function(responseValue){var el1,el2;_.isArray(responseValue)&&2===responseValue.length&&(el1=map[responseValue[0]],el2=map[responseValue[1]],el1&&el2&&(graphic.trigger(el1,"click"),graphic.trigger(el2,"click")))})}}},resetResponse=function(interaction){var toRemove=[];_.forEach(interaction.getChoices(),function(choice){
var element=interaction.paper.getById(choice.serial);element&&element.data({max:choice.attr("matchMax"),matching:0,assocs:[]})}),interaction.paper.forEach(function(elt){elt.data("assoc-path")&&toRemove.push(elt)}),_.invoke(toRemove,"remove")},getResponse=function(interaction){_getRawResponse(interaction);return pciResponse.serialize(_getRawResponse(interaction),interaction)},destroy=function(interaction){var $container;interaction.paper&&($container=containerHelper.get(interaction),$(window).off("resize.qti-widget."+interaction.serial),$container.off("resize.qti-widget."+interaction.serial),interaction.paper.clear(),
instructionMgr.removeInstructions(interaction),$container.off(".graphicassociate"),$(".main-image-box",$container).empty().removeAttr("style"),$(".image-editor",$container).removeAttr("style"),$("ul",$container).empty()),containerHelper.reset(interaction)},setState=function(interaction,state){_.isObject(state)&&state.response&&(interaction.resetResponse(),interaction.setResponse(state.response))},getState=function(interaction){var state={},response=interaction.getResponse();return response&&(state.response=response),state};return{qtiClass:"graphicAssociateInteraction",template:tpl,render:render,getContainer:containerHelper.get,setResponse:setResponse,
getResponse:getResponse,resetResponse:resetResponse,destroy:destroy,setState:setState,getState:getState}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/graphicGapMatchInteraction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+='id="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,buffer="";return buffer+=" "+escapeExpression((stack1=depth0&&depth0.attributes,
stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))}function program5(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program7(depth0,data){var stack1,helper;return(helper=helpers.prompt)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.prompt,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),stack1||0===stack1?stack1:""}function program9(depth0,data){
var stack1;return stack1=typeof depth0===functionType?depth0.apply(depth0):depth0,stack1||0===stack1?stack1:""}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this,blockHelperMissing=helpers.blockHelperMissing;return buffer+="<div ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.id),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+=' class="qti-interaction qti-blockInteraction qti-graphicInteraction qti-graphicGapMatchInteraction clearfix',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,
null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n    ",stack1=helpers.if.call(depth0,depth0&&depth0.prompt,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n    <div class="instruction-container"></div>\n    <div class="image-editor solid">\n        <div id=\'graphic-paper-',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+'\' class="main-image-box"></div>\n        <div class="clearfix"></div>\n        <ul class="none block-listing horizontal source">\n            ',options={hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data},(helper=helpers.gapImgs)?stack1=helper.call(depth0,options):(helper=depth0&&depth0.gapImgs,stack1=typeof helper===functionType?helper.call(depth0,options):helper),helpers.gapImgs||(stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data})),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        </ul>\n    </div>\n</div>"})}),
define("taoQtiItem/qtiCommonRenderer/renderers/interactions/GraphicGapMatchInteraction",["jquery","lodash","i18n","module","core/promise","core/mouseEvent","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/graphicGapMatchInteraction","taoQtiItem/qtiCommonRenderer/helpers/Graphic","taoQtiItem/qtiCommonRenderer/helpers/PciResponse","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/instructions/instructionManager","interact","ui/interactUtils"],function($,_,__,module,Promise,triggerMouseEvent,tpl,graphic,pciResponse,containerHelper,instructionMgr,interact,interactUtils){"use strict"
;var isDragAndDropEnabled,activeDrop=null,_choiceUsages={},isDirectedPairFlipped=module.config().flipDirectedPair,_isMatchable=function(element){var matching,matchMax,matchable=!1;return element&&(matchMax=element.data("max")||0,matching=element.data("matching")||[],matchable=0===matchMax||matchMax>matching.length),matchable},_shapesSelectable=function(interaction){var tooltip=__("Select the area to add an image");_.forEach(interaction.getChoices(),function(choice){var element=interaction.paper.getById(choice.serial);_isMatchable(element)&&(element.selectable=!0,graphic.setStyle(element,"selectable"),graphic.updateTitle(element,tooltip))}),
_.forEach(interaction.gapFillers,function(gapFiller){gapFiller.forEach(function(element){graphic.updateTitle(element,tooltip)})})},_shapesUnSelectable=function(interaction){_.forEach(interaction.getChoices(),function(choice){var element=interaction.paper.getById(choice.serial);element&&(element.selectable=!1,graphic.setStyle(element,"basic"),graphic.updateTitle(element,__("Select an image first")))}),_.forEach(interaction.gapFillers,function(gapFiller){gapFiller.forEach(function(element){graphic.updateTitle(element,__("Remove"))})})},_paperUnSelect=function(interaction){
var $container=containerHelper.get(interaction),$gapImages=$("ul > li",$container),bgImage=interaction.paper.getById("bg-image-"+interaction.serial);bgImage&&interact(bgImage.node).on("tap",function(){_shapesUnSelectable(interaction),$gapImages.removeClass("active")})},_setChoice=function(interaction,$choice){var matchMax,usages,choiceSerial=$choice.data("serial"),choice=interaction.getGapImg(choiceSerial);_choiceUsages[choiceSerial]||(_choiceUsages[choiceSerial]=0),_choiceUsages[choiceSerial]++,!interaction.responseMappingMode&&choice.attr("matchMax")&&(matchMax=+choice.attr("matchMax"),usages=+_choiceUsages[choiceSerial],
0!==matchMax&&matchMax<=usages&&(interact($choice.get(0)).draggable(!1),$choice.addClass("disabled"),$choice.removeClass("selectable")))},_unsetChoice=function(interaction,$choice){var choiceSerial=$choice.data("serial");_choiceUsages[choiceSerial]--,$choice.removeClass("disabled"),$choice.addClass("selectable"),interact($choice.get(0)).draggable(!0)},_selectShape=function(interaction,element,trackResponse){
var $img,$clone,gapFiller,id,bbox,shapeOffset,activeOffset,matching,currentCount,$container=containerHelper.get(interaction),$gapList=$("ul",$container),$active=$gapList.find(".active:first"),$imageBox=$(".main-image-box",$container),boxOffset=$imageBox.offset();void 0===trackResponse&&(trackResponse=!0),$active.length&&(id=$active.data("identifier"),matching=element.data("matching")||[],matching.push(id),element.data("matching",matching),currentCount=matching.length,$img=$active.find("img"),_shapesUnSelectable(interaction),$gapList.children().removeClass("active"),_setChoice(interaction,$active),$clone=$img.clone(),shapeOffset=$(element.node).offset(),
activeOffset=$active.offset(),$clone.css({position:"absolute",display:"block","z-index":1e4,opacity:.8,top:activeOffset.top-boxOffset.top,left:activeOffset.left-boxOffset.left}),$clone.appendTo($imageBox),$clone.animate({top:shapeOffset.top-boxOffset.top,left:shapeOffset.left-boxOffset.left},200,function(){var gapFillerImage;$clone.remove(),bbox=element.getBBox(),gapFiller=graphic.createBorderedImage(interaction.paper,{url:$img.attr("src"),left:bbox.x+8*(currentCount-1),top:bbox.y+8*(currentCount-1),width:parseInt($img.attr("width"),10),height:parseInt($img.attr("height"),10),padding:0,border:!1,shadow:!0}).data("identifier",id).toFront(),
gapFillerImage=gapFiller[2].node,interact(gapFillerImage).on("tap",function(e){var target=e.currentTarget,rElement=interaction.paper.getById(target.raphaelid);e.preventDefault(),e.stopPropagation(),$gapList.find(".active").length>0?interactUtils.tapOn(element.node):(element.data("matching",_.without(element.data("matching")||[],rElement.data("identifier"))),interaction.gapFillers=_.without(interaction.gapFillers,gapFiller),gapFiller.remove(),_unsetChoice(0,$active),containerHelper.triggerResponseChangeEvent(interaction))}),interaction.gapFillers.push(gapFiller),containerHelper.triggerResponseChangeEvent(interaction)}))
},_renderChoice=function(interaction,choice){function handleShapeSelect(){_isMatchable(rElement)&&!0===rElement.selectable&&_selectShape(interaction,rElement)}var rElement=graphic.createElement(interaction.paper,choice.attr("shape"),choice.attr("coords"),{id:choice.serial,title:__("Select an image first"),hover:!1}).data("max",choice.attr("matchMax")).data("matching",[]);interact(rElement.node).on("tap",function(){handleShapeSelect()}),isDragAndDropEnabled&&interact(rElement.node).dropzone({overlap:.15,ondragenter:function(){_isMatchable(rElement)&&(graphic.setStyle(rElement,"hover"),activeDrop=rElement.node)},ondrop:function(){
_isMatchable(rElement)&&(graphic.setStyle(rElement,"selectable"),handleShapeSelect(),activeDrop=null)},ondragleave:function(){_isMatchable(rElement)&&(graphic.setStyle(rElement,"selectable"),activeDrop=null)}})},_iFrameDragFix=function(draggableSelector,target){interactUtils.iFrameDragFixOn(function(){activeDrop&&interact(activeDrop).fire({type:"drop",target:activeDrop,relatedTarget:target}),interact(draggableSelector).fire({type:"dragend",target:target})})},_renderGapList=function(interaction,$gapList){function toggleActiveGapState($target){$target.hasClass("disabled")||($target.hasClass("active")?_setInactiveGapState($target):_setActiveGapState($target))}
function _setActiveGapState($target){$gapList.children("li").removeClass("active"),$target.addClass("active"),_shapesSelectable(interaction)}function _setInactiveGapState($target){$target.removeClass("active"),_shapesUnSelectable(interaction)}var dragOptions,gapFillersSelector=$gapList.selector+" li";interact(gapFillersSelector).on("tap",function(e){e.stopPropagation(),e.preventDefault(),toggleActiveGapState($(e.currentTarget))}),isDragAndDropEnabled&&(dragOptions={inertia:!1,autoScroll:!0,restrict:{restriction:".qti-interaction",endOnly:!1,elementRect:{top:0,left:0,bottom:1,right:1}}},$(gapFillersSelector).each(function(index,gap){
interact(gap).draggable(_.assign({},dragOptions,{onstart:function(e){var $target=$(e.target);_setActiveGapState($target),$target.addClass("dragged"),_iFrameDragFix(gapFillersSelector,e.target)},onmove:function(e){interactUtils.moveElement(e.target,e.dx,e.dy)},onend:function(e){var $target=$(e.target);_setInactiveGapState($target),$target.removeClass("dragged"),interactUtils.restoreOriginalPosition($target),interactUtils.iFrameDragFixOff()}})).styleCursor(!1)}))},render=function(interaction){var self=this;return new Promise(function(resolve){
var $container=containerHelper.get(interaction),$gapList=$("ul.source",$container),background=interaction.object.attributes;interaction.gapFillers=[],self.getOption&&self.getOption("enableDragAndDrop")&&self.getOption("enableDragAndDrop").graphicGapMatch&&(isDragAndDropEnabled=self.getOption("enableDragAndDrop").graphicGapMatch),$container.off("resized.qti-widget.resolve").one("resized.qti-widget.resolve",resolve),interaction.paper=graphic.responsivePaper("graphic-paper-"+interaction.serial,interaction.serial,{width:background.width,height:background.height,img:self.resolveUrl(background.data),imgId:"bg-image-"+interaction.serial,container:$container,
resize:function(newSize,factor){$gapList.css("max-width",newSize+"px"),1!==factor&&$gapList.find("img").each(function(){var $img=$(this);$img.width($img.attr("width")*factor),$img.height($img.attr("height")*factor)})}}),_.forEach(interaction.getChoices(),_.partial(_renderChoice,interaction)),_renderGapList(interaction,$gapList),_paperUnSelect(interaction)})},_getRawResponse=function(interaction){var pairs=[];return _.forEach(interaction.getChoices(),function(choice){var element=interaction.paper.getById(choice.serial);element&&_.isArray(element.data("matching"))&&_.forEach(element.data("matching"),function(gapImg){
isDirectedPairFlipped?pairs.push([choice.id(),gapImg]):pairs.push([gapImg,choice.id()])})}),_.sortBy(pairs,[0,1])},setResponse=function(interaction,response){var responseValues,$container=containerHelper.get(interaction);if(response&&interaction.paper){try{responseValues=pciResponse.unserialize(response,interaction)}catch(e){responseValues=null}_.isArray(responseValues)&&_.forEach(interaction.getChoices(),function(choice){var element=interaction.paper.getById(choice.serial);element&&_.forEach(responseValues,function(pair){var responseChoice,responseGap;2===pair.length&&(responseChoice=isDirectedPairFlipped?pair[0]:pair[1],
responseGap=isDirectedPairFlipped?pair[1]:pair[0],responseChoice===choice.id()&&($("[data-identifier="+responseGap+"]",$container).addClass("active"),_selectShape(interaction,element,!1)))})})}},resetResponse=function(interaction){_shapesUnSelectable(interaction),_.forEach(interaction.gapFillers,function(gapFiller){interactUtils.tapOn(gapFiller.items[2][0])})},getResponse=function(interaction){var raw=_getRawResponse(interaction);return pciResponse.serialize(raw,interaction)},destroy=function(interaction){var $container;interaction.paper&&($container=containerHelper.get(interaction),$(window).off("resize.qti-widget."+interaction.serial),
$container.off("resize.qti-widget."+interaction.serial),interaction.paper.clear(),instructionMgr.removeInstructions(interaction),$(".main-image-box",$container).empty().removeAttr("style"),$(".image-editor",$container).removeAttr("style"),$("ul",$container).empty(),interact($container.find("ul.source li").selector).unset(),interact($container.find(".main-image-box rect").selector).unset()),containerHelper.reset(interaction)},setState=function(interaction,state){_.isObject(state)&&state.response&&(interaction.resetResponse(),interaction.setResponse(state.response))},getState=function(interaction){var state={},response=interaction.getResponse()
;return response&&(state.response=response),state};return{qtiClass:"graphicGapMatchInteraction",template:tpl,render:render,getContainer:containerHelper.get,setResponse:setResponse,getResponse:getResponse,resetResponse:resetResponse,destroy:destroy,setState:setState,getState:getState,isDirectedPairFlipped:isDirectedPairFlipped}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/graphicOrderInteraction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+='id="'+escapeExpression((stack1=depth0&&depth0.attributes,
stack1=null==stack1||!1===stack1?stack1:stack1.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,buffer="";return buffer+=" "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))}function program5(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program7(depth0,data){var stack1,helper
;return(helper=helpers.prompt)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.prompt,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),stack1||0===stack1?stack1:""}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+="<div ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.id),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+=' class="qti-interaction qti-blockInteraction qti-graphicInteraction qti-graphicOrderInteraction clearfix',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,
null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n    ",stack1=helpers.if.call(depth0,depth0&&depth0.prompt,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n    <div class="instruction-container"></div>\n    <div class="image-editor solid">\n        <div id=\'graphic-paper-',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+'\' class="main-image-box"></div>\n        <div class="clearfix"></div>\n        <ul class="none block-listing horizontal ordinals"></ul>\n    </div>\n</div>'})}),
define("taoQtiItem/qtiCommonRenderer/renderers/interactions/GraphicOrderInteraction",["jquery","lodash","i18n","core/promise","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/graphicOrderInteraction","taoQtiItem/qtiCommonRenderer/helpers/Graphic","taoQtiItem/qtiCommonRenderer/helpers/PciResponse","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/instructions/instructionManager"],function($,_,__,Promise,tpl,graphic,pciResponse,containerHelper,instructionMgr){"use strict";var render=function(interaction){var self=this;return new Promise(function(resolve,reject){
var $container=containerHelper.get(interaction),$orderList=$("ul",$container),background=interaction.object.attributes;$container.off("resized.qti-widget.resolve").one("resized.qti-widget.resolve",resolve),interaction.paper=graphic.responsivePaper("graphic-paper-"+interaction.serial,interaction.serial,{width:background.width,height:background.height,img:self.resolveUrl(background.data),imgId:"bg-image-"+interaction.serial,container:$container}),_renderOrderList(interaction,$orderList),_.forEach(interaction.getChoices(),_.partial(_renderChoice,interaction,$orderList)),instructionMgr.minMaxChoiceInstructions(interaction,{min:interaction.attr("minChoices"),
max:interaction.attr("maxChoices"),getResponse:_getRawResponse,onError:function(data){graphic.highlightError(data.target)}})})},_renderChoice=function(interaction,$orderList,choice){graphic.createElement(interaction.paper,choice.attr("shape"),choice.attr("coords"),{id:choice.serial,title:__("Select this area")}).click(function(e){$(e.currentTarget).closest(".qti-item").hasClass("prevent-click-handler")||(this.active?_unselectShape(interaction.paper,this,$orderList):_selectShape(interaction.paper,this,$orderList),containerHelper.triggerResponseChangeEvent(interaction),instructionMgr.validateInstructions(interaction,{choice:choice}))})
},_renderOrderList=function(interaction,$orderList){var $orderers,size=_.size(interaction.getChoices()),min=interaction.attr("minChoices"),max=interaction.attr("maxChoices");max>0&&max<size?size=max:min>0&&min<size&&(size=min),_.times(size,function(index){var position=index+1,$orderer=$('<li class="selectable" data-number="'+position+'">'+position+"</li>");0===index&&$orderer.addClass("active"),$orderList.append($orderer)}),_createTexts(interaction.paper,size,$orderList),$orderers=$orderList.children("li"),$orderers.click(function(e){e.preventDefault();var $orderer=$(this)
;$orderer.hasClass("active")||$orderer.hasClass("disabled")||($orderers.removeClass("active"),$orderer.addClass("active"))})},_selectShape=function(paper,element,$orderList){var $active=$orderList.find(".active:first");$active.length&&$active.data("number")>0&&(element.data("number",$active.data("number")),element.active=!0,_showText(paper,element),graphic.updateElementState(element,"active"),$active.toggleClass("active disabled").siblings(":not(.disabled)").first().toggleClass("active"))},_unselectShape=function(paper,element,$orderList){var number=element.data("number");element.active=!1,_hideText(paper,element),element.removeData("number"),
graphic.updateElementState(element,"basic"),$orderList.children().removeClass("active").filter("[data-number="+number+"]").removeClass("disabled").addClass("active")},_createTexts=function(paper,size){var texts=[];return _.times(size,function(index){var number=index+1,text=graphic.createText(paper,{id:"text-"+number,content:number,title:__("Remove"),style:"order-text",hide:!0});text.click(function(){paper.forEach(function(element){if(element.data("number")===number&&element.events){var evt=_.where(element.events,{name:"click"});evt.length&&evt[0]&&"function"==typeof evt[0].f&&evt[0].f.call(element)}})}),texts.push(text)}),texts
},_showText=function(paper,element){var transf,bbox=element.getBBox(),text=paper.getById("text-"+element.data("number"));text&&(transf="T"+(bbox.x+bbox.width/2)+","+(bbox.y+bbox.height/2),text.transform(transf).show().toFront())},_hideText=function(paper,element){var text=paper.getById("text-"+element.data("number"));text&&text.hide()},_getRawResponse=function(interaction){var response=[];return _.forEach(interaction.getChoices(),function(choice){var elt=interaction.paper.getById(choice.serial);elt&&elt.data("number")&&response.push({index:elt.data("number"),id:choice.id()})}),_(response).sortBy("index").map("id").value()
},setResponse=function(interaction,response){var responseValues,$container=containerHelper.get(interaction),$orderList=$("ul",$container);if(response&&interaction.paper){try{responseValues=pciResponse.unserialize(response,interaction)}catch(e){}_.isArray(responseValues)&&_.forEach(responseValues,function(responseValue,index){var element,number=index+1,choice=_(interaction.getChoices()).where({attributes:{identifier:responseValue}}).first();choice&&(element=interaction.paper.getById(choice.serial))&&($orderList.children("[data-number="+number+"]").addClass("active"),_selectShape(interaction.paper,element,$orderList))})}},resetResponse=function(interaction){
var $container=containerHelper.get(interaction),$orderList=$("ul",$container);_.forEach(interaction.getChoices(),function(choice){var element=interaction.paper.getById(choice.serial);element&&_unselectShape(interaction.paper,element,$orderList)}),$orderList.children("li").removeClass("active disabled").first().addClass("active")},getResponse=function(interaction){return pciResponse.serialize(_getRawResponse(interaction),interaction)},destroy=function(interaction){var $container;interaction.paper&&($container=containerHelper.get(interaction),$(window).off("resize.qti-widget."+interaction.serial),$container.off("resize.qti-widget."+interaction.serial),
interaction.paper.clear(),instructionMgr.removeInstructions(interaction),$(".main-image-box",$container).empty().removeAttr("style"),$(".image-editor",$container).removeAttr("style"),$("ul",$container).empty()),containerHelper.reset(interaction)},setState=function(interaction,state){_.isObject(state)&&state.response&&(interaction.resetResponse(),interaction.setResponse(state.response))},getState=function(interaction){var state={},response=interaction.getResponse();return response&&(state.response=response),state};return{qtiClass:"graphicOrderInteraction",template:tpl,render:render,getContainer:containerHelper.get,setResponse:setResponse,
getResponse:getResponse,resetResponse:resetResponse,destroy:destroy,setState:setState,getState:getState}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/hotspotInteraction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+='id="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,buffer="";return buffer+=" "+escapeExpression((stack1=depth0&&depth0.attributes,
stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))}function program5(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program7(depth0,data){var stack1,helper;return(helper=helpers.prompt)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.prompt,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),stack1||0===stack1?stack1:""}this.compilerInfo=[4,">= 1.0.0"],
helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+="<div ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.id),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=' class="qti-interaction qti-blockInteraction qti-graphicInteraction qti-hotspotInteraction clearfix',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,
fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n    ",stack1=helpers.if.call(depth0,depth0&&depth0.prompt,{hash:{},inverse:self.noop,
fn:self.program(7,program7,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n    <div class="instruction-container"></div>\n    <div class="image-editor solid">\n        <div id=\'graphic-paper-',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'\' class="main-image-box"></div>\n    </div>\n</div>'})}),
define("taoQtiItem/qtiCommonRenderer/renderers/interactions/HotspotInteraction",["jquery","lodash","i18n","core/promise","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/hotspotInteraction","taoQtiItem/qtiCommonRenderer/helpers/Graphic","taoQtiItem/qtiCommonRenderer/helpers/PciResponse","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/instructions/instructionManager"],function($,_,__,Promise,tpl,graphic,pciResponse,containerHelper,instructionMgr){"use strict";var render=function(interaction){var self=this;return new Promise(function(resolve,reject){
var $container=containerHelper.get(interaction),background=interaction.object.attributes;$container.off("resized.qti-widget.resolve").one("resized.qti-widget.resolve",resolve),interaction.paper=graphic.responsivePaper("graphic-paper-"+interaction.serial,interaction.serial,{width:background.width,height:background.height,img:self.resolveUrl(background.data),container:$container}),_.forEach(interaction.getChoices(),_.partial(_renderChoice,interaction)),instructionMgr.minMaxChoiceInstructions(interaction,{min:interaction.attr("minChoices"),max:interaction.attr("maxChoices"),getResponse:_getRawResponse,onError:function(data){
data.target.active&&(data.target.active=!1,graphic.updateElementState(this,"basic",__("Select this area")),graphic.highlightError(data.target),containerHelper.triggerResponseChangeEvent(interaction),$container.trigger("inactiveChoice.qti-widget",[data.choice,data.target]))}})})},_renderChoice=function(interaction,choice){var $container=containerHelper.get(interaction);graphic.createElement(interaction.paper,choice.attr("shape"),choice.attr("coords"),{id:choice.serial,title:__("Select this area")}).click(function(){this.active?(graphic.updateElementState(this,"basic",__("Select this area")),this.active=!1,
$container.trigger("inactiveChoice.qti-widget",[choice,this])):(graphic.updateElementState(this,"active",__("Click again to remove")),this.active=!0,$container.trigger("activeChoice.qti-widget",[choice,this])),containerHelper.triggerResponseChangeEvent(interaction),instructionMgr.validateInstructions(interaction,{choice:choice,target:this})})},_getRawResponse=function(interaction){return _(interaction.getChoices()).map(function(choice){var rElement=interaction.paper.getById(choice.serial);return!(!rElement||!0!==rElement.active)&&choice.id()}).filter(_.isString).value()},setResponse=function(interaction,response){var responseValues
;if(response&&interaction.paper){try{responseValues=pciResponse.unserialize(response,interaction)}catch(e){}_.isArray(responseValues)&&_.forEach(interaction.getChoices(),function(choice){var rElement;_.contains(responseValues,choice.attributes.identifier)&&(rElement=interaction.paper.getById(choice.serial))&&(rElement.active=!0,graphic.updateElementState(rElement,"active",__("Click again to remove")),instructionMgr.validateInstructions(interaction,{choice:choice,target:rElement}))})}},resetResponse=function(interaction){_.forEach(interaction.getChoices(),function(choice){var element=interaction.paper.getById(choice.serial);element&&(element.active=!1,
graphic.updateElementState(element,"basic"))}),instructionMgr.resetInstructions(interaction)},getResponse=function(interaction){_getRawResponse(interaction);return pciResponse.serialize(_getRawResponse(interaction),interaction)},destroy=function(interaction){var $container;interaction.paper&&($container=containerHelper.get(interaction),$(window).off("resize.qti-widget."+interaction.serial),$container.off("resize.qti-widget."+interaction.serial),interaction.paper.clear(),instructionMgr.removeInstructions(interaction),$(".main-image-box",$container).empty().removeAttr("style"),$(".image-editor",$container).removeAttr("style")),
containerHelper.reset(interaction)},setState=function(interaction,state){_.isObject(state)&&state.response&&(interaction.resetResponse(),interaction.setResponse(state.response))},getState=function(interaction){var state={},response=interaction.getResponse();return response&&(state.response=response),state};return{qtiClass:"hotspotInteraction",template:tpl,render:render,getContainer:containerHelper.get,setResponse:setResponse,getResponse:getResponse,resetResponse:resetResponse,destroy:destroy,setState:setState,getState:getState}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/hottextInteraction",["handlebars"],function(hb){
return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+='id="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,buffer="";return buffer+=" "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))}function program5(depth0,data){var stack1,buffer=""
;return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program7(depth0,data){var stack1,helper;return(helper=helpers.prompt)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.prompt,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),stack1||0===stack1?stack1:""}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this
;return buffer+="<div ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.id),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=' class="qti-interaction qti-blockInteraction qti-hottextInteraction',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data
}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-qti-class="hottextInteraction"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n  ",stack1=helpers.if.call(depth0,depth0&&depth0.prompt,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+='\n  <div class="instruction-container"></div>\n  <div class="qti-flow-container">',(helper=helpers.body)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.body,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="</div>\n</div>"})}),
define("taoQtiItem/qtiCommonRenderer/renderers/interactions/HottextInteraction",["jquery","lodash","i18n","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/hottextInteraction","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/instructions/instructionManager","taoQtiItem/qtiCommonRenderer/helpers/PciResponse"],function($,_,__,tpl,containerHelper,instructionMgr,pciResponse){"use strict";var pseudoLabel=function(interaction){var $container=containerHelper.get(interaction),setChoice=function($choice,interaction){var $inupt=$choice.find("input")
;if($inupt.prop("checked")||$inupt.hasClass("disabled"))$inupt.prop("checked",!1);else{var maxChoices=parseInt(interaction.attr("maxChoices"));(_.values(_getRawResponse(interaction)).length<maxChoices||0===maxChoices)&&$inupt.prop("checked",!0)}containerHelper.triggerResponseChangeEvent(interaction),instructionMgr.validateInstructions(interaction,{choice:$choice})};$(".hottext",$container).on("click",function(e){e.preventDefault(),setChoice($(this),interaction)})},render=function(interaction){pseudoLabel(interaction),instructionMgr.minMaxChoiceInstructions(interaction,{min:interaction.attr("minChoices"),max:interaction.attr("maxChoices"),
getResponse:_getRawResponse,onError:function(data){var $input,$choice,$icon;data.choice&&data.choice.length&&($choice=data.choice.addClass("error"),$input=$choice.find("input"),$icon=$choice.find(" > label > span").addClass("error cross"),setTimeout(function(){$input.prop("checked",!1),$choice.removeClass("error"),$icon.removeClass("error cross")},350))}})},resetResponse=function(interaction){var $container=containerHelper.get(interaction);$("input",$container).prop("checked",!1)},setResponse=function(interaction,response){var $container=containerHelper.get(interaction);try{_.each(pciResponse.unserialize(response,interaction),function(identifier){
$container.find('input[value="'+identifier+'"]').prop("checked",!0)}),instructionMgr.validateInstructions(interaction)}catch(e){throw new Error("wrong response format in argument : "+e)}},_getRawResponse=function(interaction){var values=[],$container=containerHelper.get(interaction);return $("input:checked",$container).each(function(){values.push($(this).val())}),values},getResponse=function(interaction){return pciResponse.serialize(_getRawResponse(interaction),interaction)},destroy=function(interaction){containerHelper.get(interaction).find(".hottext").off("click"),containerHelper.reset(interaction)},setState=function(interaction,state){
_.isObject(state)&&state.response&&(interaction.resetResponse(),interaction.setResponse(state.response))},getState=function(interaction){var state={},response=interaction.getResponse();return response&&(state.response=response),state};return{qtiClass:"hottextInteraction",template:tpl,render:render,getContainer:containerHelper.get,setResponse:setResponse,getResponse:getResponse,resetResponse:resetResponse,destroy:destroy,setState:setState,getState:getState}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/inlineChoiceInteraction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){
function program1(depth0,data){var stack1,buffer="";return buffer+='id="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,buffer="";return buffer+=" "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))}function program5(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],
typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program7(depth0,data){var stack1;return stack1=typeof depth0===functionType?depth0.apply(depth0):depth0,stack1||0===stack1?stack1:""}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this,blockHelperMissing=helpers.blockHelperMissing;return buffer+="<select ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.id),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),
(stack1||0===stack1)&&(buffer+=stack1),buffer+=' class="qti-interaction qti-inlineInteraction qti-inlineChoiceInteraction',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='"\n        data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+'"\n        data-qti-class="inlineChoiceInteraction"\n        data-has-search="false"\n        ',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n>\n    <option></option>                \n    <option value="empty"></option>\n    ',options={hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data},(helper=helpers.choices)?stack1=helper.call(depth0,options):(helper=depth0&&depth0.choices,
stack1=typeof helper===functionType?helper.call(depth0,options):helper),helpers.choices||(stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data})),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</select>"})}),define("select2",["jquery"],function(jQuery){!function(a){void 0===a.fn.each2&&a.extend(a.fn,{each2:function(b){for(var c=a([0]),d=-1,e=this.length;++d<e&&(c.context=c[0]=this[d])&&!1!==b.call(c[0],d,c););return this}})}(jQuery),function(a,b){"use strict";function n(b){var c=a(document.createTextNode(""));b.before(c),c.before(b),c.remove()}function o(a){function b(a){return m[a]||a}
return a.replace(/[^\u0000-\u007E]/g,b)}function p(a,b){for(var c=0,d=b.length;d>c;c+=1)if(r(a,b[c]))return c;return-1}function q(){var b=a(l);b.appendTo("body");var c={width:b.width()-b[0].clientWidth,height:b.height()-b[0].clientHeight};return b.remove(),c}function r(a,c){return a===c||a!==b&&c!==b&&(null!==a&&null!==c&&(a.constructor===String?a+""==c+"":c.constructor===String&&c+""==a+""))}function s(b,c){var d,e,f;if(null===b||b.length<1)return[];for(d=b.split(c),e=0,f=d.length;f>e;e+=1)d[e]=a.trim(d[e]);return d}function t(a){return a.outerWidth(!1)-a.width()}function u(c){var d="keyup-change-value";c.on("keydown",function(){
a.data(c,d)===b&&a.data(c,d,c.val())}),c.on("keyup",function(){var e=a.data(c,d);e!==b&&c.val()!==e&&(a.removeData(c,d),c.trigger("keyup-change"))})}function v(c){c.on("mousemove",function(c){var d=i;(d===b||d.x!==c.pageX||d.y!==c.pageY)&&a(c.target).trigger("mousemove-filtered",c)})}function w(a,c,d){d=d||b;var e;return function(){var b=arguments;window.clearTimeout(e),e=window.setTimeout(function(){c.apply(d,b)},a)}}function x(a,b){var c=w(a,function(a){b.trigger("scroll-debounced",a)});b.on("scroll",function(a){p(a.target,b.get())>=0&&c(a)})}function y(a){a[0]!==document.activeElement&&window.setTimeout(function(){var d,b=a[0],c=a.val().length;a.focus(),
(b.offsetWidth>0||b.offsetHeight>0)&&b===document.activeElement&&(b.setSelectionRange?b.setSelectionRange(c,c):b.createTextRange&&(d=b.createTextRange(),d.collapse(!1),d.select()))},0)}function z(b){b=a(b)[0];var c=0,d=0;if("selectionStart"in b)c=b.selectionStart,d=b.selectionEnd-c;else if("selection"in document){b.focus();var e=document.selection.createRange();d=document.selection.createRange().text.length,e.moveStart("character",-b.value.length),c=e.text.length-d}return{offset:c,length:d}}function A(a){a.preventDefault(),a.stopPropagation()}function B(a){a.preventDefault(),a.stopImmediatePropagation()}function C(b){if(!h){
var c=b[0].currentStyle||window.getComputedStyle(b[0],null);h=a(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:c.fontSize,fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight,letterSpacing:c.letterSpacing,textTransform:c.textTransform,whiteSpace:"nowrap"}),h.attr("class","select2-sizer"),a("body").append(h)}return h.text(b.val()),h.width()}function D(b,c,d){var e,g,f=[];e=a.trim(b.attr("class")),e&&(e=""+e,a(e.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&f.push(this)})),e=a.trim(c.attr("class")),e&&(e=""+e,a(e.split(/\s+/)).each2(function(){
0!==this.indexOf("select2-")&&(g=d(this))&&f.push(g)})),b.attr("class",f.join(" "))}function E(a,b,c,d){var e=o(a.toUpperCase()).indexOf(o(b.toUpperCase())),f=b.length;return 0>e?void c.push(d(a)):(c.push(d(a.substring(0,e))),c.push("<span class='select2-match'>"),c.push(d(a.substring(e,e+f))),c.push("</span>"),void c.push(d(a.substring(e+f,a.length))))}function F(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})}function G(c){var d,e=null,f=c.quietMillis||100,g=c.url,h=this;return function(i){window.clearTimeout(d),d=window.setTimeout(function(){
var d=c.data,f=g,j=c.transport||a.fn.select2.ajaxDefaults.transport,k={type:c.type||"GET",cache:c.cache||!1,jsonpCallback:c.jsonpCallback||b,dataType:c.dataType||"json"},l=a.extend({},a.fn.select2.ajaxDefaults.params,k);d=d?d.call(h,i.term,i.page,i.context):null,f="function"==typeof f?f.call(h,i.term,i.page,i.context):f,e&&"function"==typeof e.abort&&e.abort(),c.params&&(a.isFunction(c.params)?a.extend(l,c.params.call(h)):a.extend(l,c.params)),a.extend(l,{url:f,dataType:c.dataType,data:d,success:function(a){var b=c.results(a,i.page,i);i.callback(b)},error:function(a,b,c){var d={hasError:!0,jqXHR:a,textStatus:b,errorThrown:c};i.callback(d)}}),e=j.call(h,l)
},f)}}function H(b){var d,e,c=b,f=function(a){return""+a.text};a.isArray(c)&&(e=c,c={results:e}),!1===a.isFunction(c)&&(e=c,c=function(){return e});var g=c();return g.text&&(f=g.text,a.isFunction(f)||(d=g.text,f=function(a){return a[d]})),function(b){var g,d=b.term,e={results:[]};return""===d?void b.callback(c()):(g=function(c,e){var h,i;if(c=c[0],c.children){h={};for(i in c)c.hasOwnProperty(i)&&(h[i]=c[i]);h.children=[],a(c.children).each2(function(a,b){g(b,h.children)}),(h.children.length||b.matcher(d,f(h),c))&&e.push(h)}else b.matcher(d,f(c),c)&&e.push(c)},a(c().results).each2(function(a,b){g(b,e.results)}),void b.callback(e))}}function I(c){
var d=a.isFunction(c);return function(e){var f=e.term,g={results:[]},h=d?c(e):c;a.isArray(h)&&(a(h).each(function(){var a=this.text!==b,c=a?this.text:this;(""===f||e.matcher(f,c))&&g.results.push(a?this:{id:this,text:this})}),e.callback(g))}}function J(b,c){if(a.isFunction(b))return!0;if(!b)return!1;if("string"==typeof b)return!0;throw new Error(c+" must be a string, function, or falsy value")}function K(b,c){if(a.isFunction(b)){var d=Array.prototype.slice.call(arguments,2);return b.apply(c,d)}return b}function L(b){var c=0;return a.each(b,function(a,b){b.children?c+=L(b.children):c++}),c}function M(a,c,d,e){var h,i,j,k,l,f=a,g=!1
;if(!e.createSearchChoice||!e.tokenSeparators||e.tokenSeparators.length<1)return b;for(;;){for(i=-1,j=0,k=e.tokenSeparators.length;k>j&&(l=e.tokenSeparators[j],!((i=a.indexOf(l))>=0));j++);if(0>i)break;if(h=a.substring(0,i),a=a.substring(i+l.length),h.length>0&&(h=e.createSearchChoice.call(this,h,c))!==b&&null!==h&&e.id(h)!==b&&null!==e.id(h)){for(g=!1,j=0,k=c.length;k>j;j++)if(r(e.id(h),e.id(c[j]))){g=!0;break}g||d(h)}}return f!==a?a:void 0}function N(){var b=this;a.each(arguments,function(a,c){b[c].remove(),b[c]=null})}function O(b,c){var d=function(){};return d.prototype=new b,d.prototype.constructor=d,d.prototype.parent=b.prototype,
d.prototype=a.extend(d.prototype,c),d}if(window.Select2===b){var c,d,e,f,g,h,j,k,i={x:0,y:0},c={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){switch(a=a.which?a.which:a){case c.LEFT:case c.RIGHT:case c.UP:case c.DOWN:return!0}return!1},isControl:function(a){switch(a.which){case c.SHIFT:case c.CTRL:case c.ALT:return!0}return!!a.metaKey},isFunctionKey:function(a){return(a=a.which?a.which:a)>=112&&123>=a}},l="<div class='select2-measure-scrollbar'></div>",m={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A",
"Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E",
"Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K",
"Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O",
"Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U",
"Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a",
"ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e",
"ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l",
"ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o",
"ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u",
"ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι",
"ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};j=a(document),g=function(){var a=1;return function(){return a++}}(),d=O(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(c){var d,e,f=".select2-results";this.opts=c=this.prepareOpts(c),this.id=c.id,c.element.data("select2")!==b&&null!==c.element.data("select2")&&c.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(c.element.attr("id")||"autogen"+g()),
this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",c.element.attr("title")),this.body=a("body"),D(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",c.element.attr("style")),this.container.css(K(c.containerCss,this.opts.element)),this.container.addClass(K(c.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",A),
this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),D(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(K(c.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",A),this.results=d=this.container.find(f),this.search=e=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",A),v(this.results),this.dropdown.on("mousemove-filtered",f,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",f,this.bind(function(a){
this._touchEvent=!0,this.highlightUnderEvent(a)})),this.dropdown.on("touchmove",f,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",f,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),x(80,this.results),this.dropdown.on("scroll-debounced",f,this.bind(this.loadMoreIfNeeded)),a(this.container).on("change",".select2-input",function(a){a.stopPropagation()}),a(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()}),a.fn.mousewheel&&d.mousewheel(function(a,b,c,e){var f=d.scrollTop();e>0&&0>=f-e?(d.scrollTop(0),
A(a)):0>e&&d.get(0).scrollHeight-d.scrollTop()+e<=d.height()&&(d.scrollTop(d.get(0).scrollHeight-d.height()),A(a))}),u(e),e.on("keyup-change input paste",this.bind(this.updateResults)),e.on("focus",function(){e.addClass("select2-focused")}),e.on("blur",function(){e.removeClass("select2-focused")}),this.dropdown.on("mouseup",f,this.bind(function(b){a(b.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(b),this.selectHighlighted(b))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(a){a.stopPropagation()}),this.nextSearchTerm=b,a.isFunction(this.opts.initSelection)&&(this.initSelection(),
this.monitorSource()),null!==c.maximumInputLength&&this.search.attr("maxlength",c.maximumInputLength);var h=c.element.prop("disabled");h===b&&(h=!1),this.enable(!h);var i=c.element.prop("readonly");i===b&&(i=!1),this.readonly(i),k=k||q(),this.autofocus=c.element.prop("autofocus"),c.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",c.searchInputPlaceholder)},destroy:function(){var a=this.opts.element,c=a.data("select2"),d=this;this.close(),a.length&&a[0].detachEvent&&d._sync&&a.each(function(){this.detachEvent("onpropertychange",d._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),
this.propertyObserver=null),this._sync=null,c!==b&&(c.container.remove(),c.liveRegion.remove(),c.dropdown.remove(),a.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?a.attr({tabindex:this.elementTabIndex}):a.removeAttr("tabindex"),a.show()),N.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(a){return a.is("option")?{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:r(a.attr("locked"),"locked")||r(a.data("locked"),!0)}:a.is("optgroup")?{text:a.attr("label"),children:[],element:a.get(),
css:a.attr("class")}:void 0},prepareOpts:function(c){var d,e,f,h,i=this;if(d=c.element,"select"===d.get(0).tagName.toLowerCase()&&(this.select=e=c.element),e&&a.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in c)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),c=a.extend({},{populateResults:function(d,e,f){var h,j=this.opts.id,k=this.liveRegion;(h=function(d,e,l){var m,n,o,p,q,r,s,t,u,v;d=c.sortResults(d,e,f);var w=[];for(m=0,n=d.length;n>m;m+=1)o=d[m],q=!0===o.disabled,p=!q&&j(o)!==b,r=o.children&&o.children.length>0,s=a("<li></li>"),
s.addClass("select2-results-dept-"+l),s.addClass("select2-result"),s.addClass(p?"select2-result-selectable":"select2-result-unselectable"),q&&s.addClass("select2-disabled"),r&&s.addClass("select2-result-with-children"),s.addClass(i.opts.formatResultCssClass(o)),s.attr("role","presentation"),t=a(document.createElement("div")),t.addClass("select2-result-label"),t.attr("id","select2-result-label-"+g()),t.attr("role","option"),v=c.formatResult(o,t,f,i.opts.escapeMarkup),v!==b&&(t.html(v),s.append(t)),r&&(u=a("<ul></ul>"),u.addClass("select2-result-sub"),h(o.children,u,l+1),s.append(u)),s.data("select2-data",o),w.push(s[0]);e.append(w),
k.text(c.formatMatches(d.length))})(e,d,0)}},a.fn.select2.defaults,c),"function"!=typeof c.id&&(f=c.id,c.id=function(a){return a[f]}),a.isArray(c.element.data("select2Tags"))){if("tags"in c)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+c.element.attr("id");c.tags=c.element.data("select2Tags")}if(e?(c.query=this.bind(function(a){var f,g,h,c={results:[],more:!1},e=a.term;h=function(b,c){var d;b.is("option")?a.matcher(e,b.text(),b)&&c.push(i.optionToData(b)):b.is("optgroup")&&(d=i.optionToData(b),b.children().each2(function(a,b){h(b,d.children)}),d.children.length>0&&c.push(d))},f=d.children(),
this.getPlaceholder()!==b&&f.length>0&&(g=this.getPlaceholderOption())&&(f=f.not(g)),f.each2(function(a,b){h(b,c.results)}),a.callback(c)}),c.id=function(a){return a.id}):"query"in c||("ajax"in c?(h=c.element.data("ajax-url"),h&&h.length>0&&(c.ajax.url=h),c.query=G.call(c.element,c.ajax)):"data"in c?c.query=H(c.data):"tags"in c&&(c.query=I(c.tags),c.createSearchChoice===b&&(c.createSearchChoice=function(b){return{id:a.trim(b),text:a.trim(b)}}),c.initSelection===b&&(c.initSelection=function(b,d){var e=[];a(s(b.val(),c.separator)).each(function(){var b={id:this,text:this},d=c.tags;a.isFunction(d)&&(d=d()),a(d).each(function(){return r(this.id,b.id)?(b=this,
!1):void 0}),e.push(b)}),d(e)}))),"function"!=typeof c.query)throw"query function not defined for Select2 "+c.element.attr("id");if("top"===c.createSearchChoicePosition)c.createSearchChoicePosition=function(a,b){a.unshift(b)};else if("bottom"===c.createSearchChoicePosition)c.createSearchChoicePosition=function(a,b){a.push(b)};else if("function"!=typeof c.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return c},monitorSource:function(){var d,c=this.opts.element,e=this;c.on("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()
})),this._sync=this.bind(function(){var a=c.prop("disabled");a===b&&(a=!1),this.enable(!a);var d=c.prop("readonly");d===b&&(d=!1),this.readonly(d),D(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(K(this.opts.containerCssClass,this.opts.element)),D(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(K(this.opts.dropdownCssClass,this.opts.element))}),c.length&&c[0].attachEvent&&c.each(function(){this.attachEvent("onpropertychange",e._sync)}),
(d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==b&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new d(function(b){a.each(b,e._sync)}),this.propertyObserver.observe(c.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(b){var c=a.Event("select2-selecting",{val:this.id(b),object:b,choice:b});return this.opts.element.trigger(c),!c.isDefaultPrevented()},triggerChange:function(b){b=b||{},b=a.extend({},b,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(b),
this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var a=this._enabled&&!this._readonly,b=!a;return a!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",b),this.close(),this.enabledInterface=a,!0)},enable:function(a){a===b&&(a=!0),this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(a){a===b&&(a=!1),this._readonly!==a&&(this._readonly=a,
this.opts.element.prop("readonly",a),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,u,v,w,x,b=this.dropdown,c=this.container.offset(),d=this.container.outerHeight(!1),e=this.container.outerWidth(!1),f=b.outerHeight(!1),g=a(window),h=g.width(),i=g.height(),j=g.scrollLeft()+h,l=g.scrollTop()+i,m=c.top+d,n=c.left,o=l>=m+f,p=c.top-f>=g.scrollTop(),q=b.outerWidth(!1),r=j>=n+q;b.hasClass("select2-drop-above")?(u=!0,!p&&o&&(v=!0,u=!1)):(u=!1,!o&&p&&(v=!0,u=!0)),v&&(b.hide(),c=this.container.offset(),d=this.container.outerHeight(!1),
e=this.container.outerWidth(!1),f=b.outerHeight(!1),j=g.scrollLeft()+h,l=g.scrollTop()+i,m=c.top+d,n=c.left,q=b.outerWidth(!1),r=j>=n+q,b.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(x=a(".select2-results",b)[0],b.addClass("select2-drop-auto-width"),b.css("width",""),q=b.outerWidth(!1)+(x.scrollHeight===x.clientHeight?0:k.width),q>e?e=q:q=e,f=b.outerHeight(!1),r=j>=n+q):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(t=this.body.offset(),m-=t.top,n-=t.left),r||(n=c.left+this.container.outerWidth(!1)-q),w={left:n,width:e},u?(w.top=c.top-f,w.bottom="auto",this.container.addClass("select2-drop-above"),
b.addClass("select2-drop-above")):(w.top=m,w.bottom="auto",this.container.removeClass("select2-drop-above"),b.removeClass("select2-drop-above")),w=a.extend(w,K(this.opts.dropdownCss,this.opts.element)),b.css(w)},shouldOpen:function(){var b;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(b=a.Event("select2-opening"),this.opts.element.trigger(b),!b.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),j.on("mousemove.select2Event",function(a){i.x=a.pageX,i.y=a.pageY}),!0)},
opening:function(){var f,b=this.containerEventName,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),f=a("#select2-drop-mask"),0==f.length&&(f=a(document.createElement("div")),f.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),f.hide(),f.appendTo(this.body),f.on("mousedown touchstart",function(b){n(f);var d,c=a("#select2-drop");c.length>0&&(d=c.data("select2"),d.opts.selectOnBlur&&d.selectHighlighted({noFocus:!0}),
d.close(),b.preventDefault(),b.stopPropagation())})),this.dropdown.prev()[0]!==f[0]&&this.dropdown.before(f),a("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),f.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var g=this;this.container.parents().add(window).each(function(){a(this).on(d+" "+c+" "+e,function(){g.opened()&&g.positionDropdown()})})},close:function(){if(this.opened()){var b=this.containerEventName,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.container.parents().add(window).each(function(){a(this).off(c).off(d).off(e)}),
this.clearDropdownAlignmentPreference(),a("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),j.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(a.Event("select2-close"))}},externalSearch:function(a){this.open(),this.search.val(a),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return K(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var c,d,e,f,g,h,i,j,b=this.results
;if(!(0>(d=this.highlight()))){if(0==d)return void b.scrollTop(0);c=this.findHighlightableChoices().find(".select2-result-label"),e=a(c[d]),j=(e.offset()||{}).top||0,f=j+e.outerHeight(!0),d===c.length-1&&(i=b.find("li.select2-more-results"),i.length>0&&(f=i.offset().top+i.outerHeight(!0))),g=b.offset().top+b.outerHeight(!0),f>g&&b.scrollTop(b.scrollTop()+(f-g)),0>(h=j-b.offset().top)&&"none"!=e.css("display")&&b.scrollTop(b.scrollTop()+h)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(b){
for(var c=this.findHighlightableChoices(),d=this.highlight();d>-1&&d<c.length;){d+=b;var e=a(c[d]);if(e.hasClass("select2-result-selectable")&&!e.hasClass("select2-disabled")&&!e.hasClass("select2-selected")){this.highlight(d);break}}},highlight:function(b){var d,e,c=this.findHighlightableChoices();return 0===arguments.length?p(c.filter(".select2-highlighted")[0],c.get()):(b>=c.length&&(b=c.length-1),0>b&&(b=0),this.removeHighlight(),d=a(c[b]),d.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",d.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(d.text()),
void((e=d.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(e),choice:e})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(b){var c=a(b.target).closest(".select2-result-selectable");if(c.length>0&&!c.is(".select2-highlighted")){var d=this.findHighlightableChoices();this.highlight(d.index(c))}else 0==c.length&&this.removeHighlight()},loadMoreIfNeeded:function(){
var a=this.results,b=a.find("li.select2-more-results"),d=this.resultsPage+1,e=this,f=this.search.val(),g=this.context;0!==b.length&&b.offset().top-a.offset().top-a.height()<=this.opts.loadMorePadding&&(b.addClass("select2-active"),this.opts.query({element:this.opts.element,term:f,page:d,context:g,matcher:this.opts.matcher,callback:this.bind(function(c){e.opened()&&(e.opts.populateResults.call(this,a,c.results,{term:f,page:d,context:g}),e.postprocessResults(c,!1,!1),!0===c.more?(b.detach().appendTo(a).text(K(e.opts.formatLoadMore,e.opts.element,d+1)),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):b.remove(),e.positionDropdown(),e.resultsPage=d,
e.context=c.context,this.opts.element.trigger({type:"select2-loaded",items:c}))})}))},tokenize:function(){},updateResults:function(c){function m(){d.removeClass("select2-active"),h.positionDropdown(),e.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?h.liveRegion.text(e.text()):h.liveRegion.text(h.opts.formatMatches(e.find(".select2-result-selectable").length))}function n(a){e.html(a),m()}var g,i,l,d=this.search,e=this.results,f=this.opts,h=this,j=d.val(),k=a.data(this.container,"select2-last-term");if((!0===c||!k||!r(j,k))&&(a.data(this.container,"select2-last-term",j),!0===c||!1!==this.showSearchInput&&this.opened())){
l=++this.queryCount;var o=this.getMaximumSelectionSize();if(o>=1&&(g=this.data(),a.isArray(g)&&g.length>=o&&J(f.formatSelectionTooBig,"formatSelectionTooBig")))return void n("<li class='select2-selection-limit'>"+K(f.formatSelectionTooBig,f.element,o)+"</li>");if(d.val().length<f.minimumInputLength)return n(J(f.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+K(f.formatInputTooShort,f.element,d.val(),f.minimumInputLength)+"</li>":""),void(c&&this.showSearch&&this.showSearch(!0))
;if(f.maximumInputLength&&d.val().length>f.maximumInputLength)return void n(J(f.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+K(f.formatInputTooLong,f.element,d.val(),f.maximumInputLength)+"</li>":"");f.formatSearching&&0===this.findHighlightableChoices().length&&n("<li class='select2-searching'>"+K(f.formatSearching,f.element)+"</li>"),d.addClass("select2-active"),this.removeHighlight(),i=this.tokenize(),i!=b&&null!=i&&d.val(i),this.resultsPage=1,f.query({element:f.element,term:d.val(),page:this.resultsPage,context:null,matcher:f.matcher,callback:this.bind(function(g){var i;if(l==this.queryCount){
if(!this.opened())return void this.search.removeClass("select2-active");if(g.hasError!==b&&J(f.formatAjaxError,"formatAjaxError"))return void n("<li class='select2-ajax-error'>"+K(f.formatAjaxError,f.element,g.jqXHR,g.textStatus,g.errorThrown)+"</li>");if(this.context=g.context===b?null:g.context,this.opts.createSearchChoice&&""!==d.val()&&(i=this.opts.createSearchChoice.call(h,d.val(),g.results))!==b&&null!==i&&h.id(i)!==b&&null!==h.id(i)&&0===a(g.results).filter(function(){return r(h.id(this),h.id(i))}).length&&this.opts.createSearchChoicePosition(g.results,i),
0===g.results.length&&J(f.formatNoMatches,"formatNoMatches"))return void n("<li class='select2-no-results'>"+K(f.formatNoMatches,f.element,d.val())+"</li>");e.empty(),h.opts.populateResults.call(this,e,g.results,{term:d.val(),page:this.resultsPage,context:null}),!0===g.more&&J(f.formatLoadMore,"formatLoadMore")&&(e.append("<li class='select2-more-results'>"+f.escapeMarkup(K(f.formatLoadMore,f.element,this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(g,c),m(),this.opts.element.trigger({type:"select2-loaded",items:g})}})})}},cancel:function(){this.close()},blur:function(){
this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){y(this.search)},selectHighlighted:function(a){if(this._touchMoved)return void this.clearTouchMoved();var b=this.highlight(),c=this.results.find(".select2-highlighted"),d=c.closest(".select2-result").data("select2-data");d?(this.highlight(b),this.onSelect(d,a)):a&&a.noFocus&&this.close()},getPlaceholder:function(){var a
;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((a=this.getPlaceholderOption())!==b?a.text():b)},getPlaceholderOption:function(){if(this.select){var c=this.select.children("option").first();if(this.opts.placeholderOption!==b)return"first"===this.opts.placeholderOption&&c||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===a.trim(c.text())&&""===c.val())return c}},initContainerWidth:function(){function c(){var c,d,e,f,g,h;if("off"===this.opts.width)return null
;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((c=this.opts.element.attr("style"))!==b)for(d=c.split(";"),f=0,g=d.length;g>f;f+=1)if(h=d[f].replace(/\s/g,""),null!==(e=h.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&e.length>=1)return e[1];return"resolve"===this.opts.width?(c=this.opts.element.css("width"),c.indexOf("%")>0?c:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return a.isFunction(this.opts.width)?this.opts.width():this.opts.width}var d=c.call(this)
;null!==d&&this.container.css("width",d)}}),e=O(d,{createContainer:function(){return a(document.createElement("div")).attr({class:"select2-container"
}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))
},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var c,d,e;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),c=this.search.get(0),c.createTextRange?(d=c.createTextRange(),d.collapse(!1),d.select()):c.setSelectionRange&&(e=this.search.val().length,c.setSelectionRange(e,e))),""===this.search.val()&&this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.search.select()),
this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(a.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},
destroy:function(){a("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),N.call(this,"selection","focusser")},initContainer:function(){var b,h,d=this.container,e=this.dropdown,f=g();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=b=d.find(".select2-choice"),this.focusser=d.find(".select2-focusser"),b.find(".select2-chosen").attr("id","select2-chosen-"+f),this.focusser.attr("aria-labelledby","select2-chosen-"+f),this.results.attr("id","select2-results-"+f),this.search.attr("aria-owns","select2-results-"+f),
this.focusser.attr("id","s2id_autogen"+f),h=a("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(h.text()).attr("for",this.focusser.attr("id"));var i=this.opts.element.attr("title");this.opts.element.attr("title",i||h.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(a("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&229!=a.keyCode){if(a.which===c.PAGE_UP||a.which===c.PAGE_DOWN)return void A(a);switch(a.which){case c.UP:
case c.DOWN:return this.moveHighlight(a.which===c.UP?-1:1),void A(a);case c.ENTER:return this.selectHighlighted(),void A(a);case c.TAB:return void this.selectHighlighted({noFocus:!0});case c.ESC:return this.cancel(a),void A(a)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&a.which!==c.TAB&&!c.isControl(a)&&!c.isFunctionKey(a)&&a.which!==c.ESC){if(!1===this.opts.openOnEnter&&a.which===c.ENTER)return void A(a)
;if(a.which==c.DOWN||a.which==c.UP||a.which==c.ENTER&&this.opts.openOnEnter){if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return;return this.open(),void A(a)}return a.which==c.DELETE||a.which==c.BACKSPACE?(this.opts.allowClear&&this.clear(),void A(a)):void 0}})),u(this.focusser),this.focusser.on("keyup-change input",this.bind(function(a){if(this.opts.minimumResultsForSearch>=0){if(a.stopPropagation(),this.opened())return;this.open()}})),b.on("mousedown touchstart","abbr",this.bind(function(a){this.isInterfaceEnabled()&&(this.clear(),B(a),this.close(),this.selection.focus())})),b.on("mousedown touchstart",this.bind(function(c){n(b),
this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),A(c)})),e.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),b.on("focus",this.bind(function(a){A(a)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),
this.opts.element.trigger(a.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(b){var c=this.selection.data("select2-data");if(c){var d=a.Event("select2-clearing");if(this.opts.element.trigger(d),d.isDefaultPrevented())return;var e=this.getPlaceholderOption();this.opts.element.val(e?e.val():""),this.selection.find(".select2-chosen").empty(),
this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==b&&(this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var c=this;this.opts.initSelection.call(null,this.opts.element,function(a){a!==b&&null!==a&&(c.updateSelection(a),c.close(),c.setPlaceholder(),c.nextSearchTerm=c.opts.nextSearchTerm(a,c.search.val()))})}},isPlaceholderOptionSelected:function(){var a
;return this.getPlaceholder()!==b&&((a=this.getPlaceholderOption())!==b&&a.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===b||null===this.opts.element.val())},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=a.find("option").filter(function(){return this.selected&&!this.disabled});b(c.optionToData(d))}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=c.val(),f=null;b.query({matcher:function(a,c,d){var g=r(e,b.id(d));return g&&(f=d),g},callback:a.isFunction(d)?function(){d(f)}:a.noop})}),b},
getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===b?b:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&a!==b){if(this.select&&this.getPlaceholderOption()===b)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(a,b,c){var d=0,e=this;if(this.findHighlightableChoices().each2(function(a,b){return r(e.id(b.data("select2-data")),e.opts.element.val())?(d=a,!1):void 0}),
!1!==c&&(!0===b&&d>=0?this.highlight(d):this.highlight(0)),!0===b){var g=this.opts.minimumResultsForSearch;g>=0&&this.showSearch(L(a.results)>=g)}},showSearch:function(b){this.showSearchInput!==b&&(this.showSearchInput=b,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!b),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!b),a(this.dropdown,this.container).toggleClass("select2-with-searchbox",b))},onSelect:function(a,b){if(this.triggerSelect(a)){var c=this.opts.element.val(),d=this.data();this.opts.element.val(this.id(a)),this.updateSelection(a),this.opts.element.trigger({type:"select2-selected",val:this.id(a),
choice:a}),this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val()),this.close(),b&&b.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),r(c,this.id(a))||this.triggerChange({added:a,removed:d})}},updateSelection:function(a){var d,e,c=this.selection.find(".select2-chosen");this.selection.data("select2-data",a),c.empty(),null!==a&&(d=this.opts.formatSelection(a,c,this.opts.escapeMarkup)),d!==b&&c.append(d),e=this.opts.formatSelectionCssClass(a,c),e!==b&&c.addClass(e),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==b&&this.container.addClass("select2-allowclear")},val:function(){
var a,c=!1,d=null,e=this,f=this.data();if(0===arguments.length)return this.opts.element.val();if(a=arguments[0],arguments.length>1&&(c=arguments[1]),this.select)this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(a,b){return d=e.optionToData(b),!1}),this.updateSelection(d),this.setPlaceholder(),c&&this.triggerChange({added:d,removed:f});else{if(!a&&0!==a)return void this.clear(c);if(this.opts.initSelection===b)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(a),this.opts.initSelection(this.opts.element,function(a){e.opts.element.val(a?e.id(a):""),e.updateSelection(a),
e.setPlaceholder(),c&&e.triggerChange({added:a,removed:f})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(a){var c,d=!1;return 0===arguments.length?(c=this.selection.data("select2-data"),c==b&&(c=null),c):(arguments.length>1&&(d=arguments[1]),void(a?(c=this.data(),this.opts.element.val(a?this.id(a):""),this.updateSelection(a),d&&this.triggerChange({added:a,removed:c})):this.clear(d)))}}),f=O(d,{createContainer:function(){return a(document.createElement("div")).attr({class:"select2-container select2-container-multi"
}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=[];a.find("option").filter(function(){return this.selected&&!this.disabled
}).each2(function(a,b){d.push(c.optionToData(b))}),b(d)}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=s(c.val(),b.separator),f=[];b.query({matcher:function(c,d,g){var h=a.grep(e,function(a){return r(a,b.id(g))}).length;return h&&f.push(g),h},callback:a.isFunction(d)?function(){for(var a=[],c=0;c<e.length;c++)for(var g=e[c],h=0;h<f.length;h++){var i=f[h];if(r(g,b.id(i))){a.push(i),f.splice(h,1);break}}d(a)}:a.noop})}),b},selectChoice:function(a){var b=this.container.find(".select2-search-choice-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("select2-search-choice-focus"),
a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",a)))},destroy:function(){a("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),N.call(this,"searchContainer","selection")},initContainer:function(){var d,b=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=d=this.container.find(b);var e=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(){e.search[0].focus(),e.selectChoice(a(this))}),
this.search.attr("id","s2id_autogen"+g()),this.search.prev().text(a("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){++this.keydowns;var b=d.find(".select2-search-choice-focus"),e=b.prev(".select2-search-choice:not(.select2-locked)"),f=b.next(".select2-search-choice:not(.select2-locked)"),g=z(this.search)
;if(b.length&&(a.which==c.LEFT||a.which==c.RIGHT||a.which==c.BACKSPACE||a.which==c.DELETE||a.which==c.ENTER)){var h=b;return a.which==c.LEFT&&e.length?h=e:a.which==c.RIGHT?h=f.length?f:null:a.which===c.BACKSPACE?this.unselect(b.first())&&(this.search.width(10),h=e.length?e:f):a.which==c.DELETE?this.unselect(b.first())&&(this.search.width(10),h=f.length?f:null):a.which==c.ENTER&&(h=null),this.selectChoice(h),A(a),void(h&&h.length||this.open())}if((a.which===c.BACKSPACE&&1==this.keydowns||a.which==c.LEFT)&&0==g.offset&&!g.length)return this.selectChoice(d.find(".select2-search-choice:not(.select2-locked)").last()),void A(a);if(this.selectChoice(null),
this.opened())switch(a.which){case c.UP:case c.DOWN:return this.moveHighlight(a.which===c.UP?-1:1),void A(a);case c.ENTER:return this.selectHighlighted(),void A(a);case c.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case c.ESC:return this.cancel(a),void A(a)}if(a.which!==c.TAB&&!c.isControl(a)&&!c.isFunctionKey(a)&&a.which!==c.BACKSPACE&&a.which!==c.ESC){if(a.which===c.ENTER){if(!1===this.opts.openOnEnter)return;if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return}this.open(),(a.which===c.PAGE_UP||a.which===c.PAGE_DOWN)&&A(a),a.which===c.ENTER&&A(a)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),
this.search.on("blur",this.bind(function(b){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),b.stopImmediatePropagation(),this.opts.element.trigger(a.Event("select2-blur"))})),this.container.on("click",b,this.bind(function(b){this.isInterfaceEnabled()&&(a(b.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.open(),this.focusSearch(),b.preventDefault()))})),
this.container.on("focus",b,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),
this.clearSearch()),this.select||""!==this.opts.element.val()){var c=this;this.opts.initSelection.call(null,this.opts.element,function(a){a!==b&&null!==a&&(c.updateSelection(a),c.close(),c.clearSearch())})}},clearSearch:function(){var a=this.getPlaceholder(),c=this.getMaxSearchWidth();a!==b&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(a).addClass("select2-default"),this.search.width(c>0?c:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),
this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(a.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(b){var c=[],d=[],e=this;a(b).each(function(){p(e.id(this),c)<0&&(c.push(e.id(this)),d.push(this))}),b=d,
this.selection.find(".select2-search-choice").remove(),a(b).each(function(){e.addSelectedChoice(this)}),e.postprocessResults()},tokenize:function(){var a=this.search.val();null!=(a=this.opts.tokenizer.call(this,a,this.data(),this.bind(this.onSelect),this.opts))&&a!=b&&(this.search.val(a),a.length>0&&this.open())},onSelect:function(a,c){this.triggerSelect(a)&&""!==a.text&&(this.addSelectedChoice(a),this.opts.element.trigger({type:"selected",val:this.id(a),choice:a}),this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val()),this.clearSearch(),this.updateResults(),
(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(a,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:a}),c&&c.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(c){
var j,k,d=!c.locked,e=a("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),f=a("<li class='select2-search-choice select2-locked'><div></div></li>"),g=d?e:f,h=this.id(c),i=this.getVal();j=this.opts.formatSelection(c,g.find("div"),this.opts.escapeMarkup),j!=b&&g.find("div").replaceWith("<div>"+j+"</div>"),k=this.opts.formatSelectionCssClass(c,g.find("div")),k!=b&&g.addClass(k),d&&g.find(".select2-search-choice-close").on("mousedown",A).on("click dblclick",this.bind(function(b){this.isInterfaceEnabled()&&(this.unselect(a(b.target)),
this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),A(b),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),g.data("select2-data",c),g.insertBefore(this.searchContainer),i.push(h),this.setVal(i)},unselect:function(b){var d,e,c=this.getVal();if(b=b.closest(".select2-search-choice"),0===b.length)throw"Invalid argument: "+b+". Must be .select2-search-choice";if(d=b.data("select2-data")){var f=a.Event("select2-removing");if(f.val=this.id(d),f.choice=d,
this.opts.element.trigger(f),f.isDefaultPrevented())return!1;for(;(e=p(this.id(d),c))>=0;)c.splice(e,1),this.setVal(c),this.select&&this.postprocessResults();return b.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(d),choice:d}),this.triggerChange({removed:d}),!0}},postprocessResults:function(a,b,c){var d=this.getVal(),e=this.results.find(".select2-result"),f=this.results.find(".select2-result-with-children"),g=this;e.each2(function(a,b){p(g.id(b.data("select2-data")),d)>=0&&(b.addClass("select2-selected"),b.find(".select2-result-selectable").addClass("select2-selected"))}),f.each2(function(a,b){
b.is(".select2-result-selectable")||0!==b.find(".select2-result-selectable:not(.select2-selected)").length||b.addClass("select2-selected")}),-1==this.highlight()&&!1!==c&&g.highlight(0),!this.opts.createSearchChoice&&!e.filter(".select2-result:not(.select2-selected)").length>0&&(!a||a&&!a.more&&0===this.results.find(".select2-no-results").length)&&J(g.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+K(g.opts.formatNoMatches,g.opts.element,g.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-t(this.search)},resizeSearch:function(){var a,b,c,d,e,f=t(this.search);a=C(this.search)+10,
b=this.search.offset().left,c=this.selection.width(),d=this.selection.offset().left,e=c-(b-d)-f,a>e&&(e=c-f),40>e&&(e=c-f),0>=e&&(e=a),this.search.width(Math.floor(e))},getVal:function(){var a;return this.select?(a=this.select.val(),null===a?[]:a):(a=this.opts.element.val(),s(a,this.opts.separator))},setVal:function(b){var c;this.select?this.select.val(b):(c=[],a(b).each(function(){p(this,c)<0&&c.push(this)}),this.opts.element.val(0===c.length?"":c.join(this.opts.separator)))},buildChangeDetails:function(a,b){for(var b=b.slice(0),a=a.slice(0),c=0;c<b.length;c++)for(var d=0;d<a.length;d++)r(this.opts.id(b[c]),this.opts.id(a[d]))&&(b.splice(c,1),c>0&&c--,
a.splice(d,1),d--);return{added:b,removed:a}},val:function(c,d){var e,f=this;if(0===arguments.length)return this.getVal();if(e=this.data(),e.length||(e=[]),!c&&0!==c)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(d&&this.triggerChange({added:this.data(),removed:e}));if(this.setVal(c),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),d&&this.triggerChange(this.buildChangeDetails(e,this.data()));else{if(this.opts.initSelection===b)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(b){var c=a.map(b,f.id);f.setVal(c),
f.updateSelection(b),f.clearSearch(),d&&f.triggerChange(f.buildChangeDetails(e,f.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var b=[],c=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){b.push(c.opts.id(a(this).data("select2-data")))}),this.setVal(b),this.triggerChange()},data:function(b,c){var e,f,d=this
;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return a(this).data("select2-data")}).get():(f=this.data(),b||(b=[]),e=a.map(b,function(a){return d.opts.id(a)}),this.setVal(e),this.updateSelection(b),this.clearSearch(),void(c&&this.triggerChange(this.buildChangeDetails(f,this.data()))))}}),a.fn.select2=function(){var d,e,f,g,h,c=Array.prototype.slice.call(arguments,0),i=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],j=["opened","isFocused","container","dropdown"],k=["val","data"],l={
search:"externalSearch"};return this.each(function(){if(0===c.length||"object"==typeof c[0])d=0===c.length?{}:a.extend({},c[0]),d.element=a(this),"select"===d.element.get(0).tagName.toLowerCase()?h=d.element.prop("multiple"):(h=d.multiple||!1,"tags"in d&&(d.multiple=h=!0)),e=h?new window.Select2.class.multi:new window.Select2.class.single,e.init(d);else{if("string"!=typeof c[0])throw"Invalid arguments to select2 plugin: "+c;if(p(c[0],i)<0)throw"Unknown method: "+c[0];if(g=b,(e=a(this).data("select2"))===b)return;if(f=c[0],"container"===f?g=e.container:"dropdown"===f?g=e.dropdown:(l[f]&&(f=l[f]),g=e[f].apply(e,c.slice(1))),
p(c[0],j)>=0||p(c[0],k)>=0&&1==c.length)return!1}}),g===b?this:g},a.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c,d){var e=[];return E(a.text,c.term,e,d),e.join("")},formatSelection:function(a,c,d){return a?d(a.text):b},sortResults:function(a){return a},formatResultCssClass:function(a){return a.css},formatSelectionCssClass:function(){return b},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a==b?null:a.id},matcher:function(a,b){
return o(""+b).toUpperCase().indexOf(o(""+a).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:M,escapeMarkup:F,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(a){return a},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return b},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(a){return!(("ontouchstart"in window||navigator.msMaxTouchPoints>0)&&a.opts.minimumResultsForSearch<0)}},a.fn.select2.locales=[],a.fn.select2.locales.en={formatMatches:function(a){
return 1===a?"One result is available, press enter to select it.":a+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(){return"Loading failed"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" or more character"+(1==c?"":"s")},formatInputTooLong:function(a,b){var c=a.length-b;return"Please delete "+c+" character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(){return"Loading more results…"},formatSearching:function(){return"Searching…"}},
a.extend(a.fn.select2.defaults,a.fn.select2.locales.en),a.fn.select2.ajaxDefaults={transport:a.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:G,local:H,tags:I},util:{debounce:w,markMatch:E,escapeMarkup:F,stripDiacritics:o},class:{abstract:d,single:e,multi:f}}}}(jQuery)}),
define("taoQtiItem/qtiCommonRenderer/renderers/interactions/InlineChoiceInteraction",["jquery","lodash","i18n","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/inlineChoiceInteraction","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/instructions/instructionManager","taoQtiItem/qtiCommonRenderer/helpers/PciResponse","ui/tooltip","select2"],function($,_,__,tpl,containerHelper,instructionMgr,pciResponse,tooltip){"use strict";var _defaultOptions={allowEmpty:!0,placeholderText:__("select a choice")},render=function(interaction,options){
var choiceTooltip,opts=_.clone(_defaultOptions),required=!!interaction.attr("required"),$container=containerHelper.get(interaction);_.extend(opts,options),opts.allowEmpty&&!required?$container.find("option[value=empty]").text("--- "+__("leave empty")+" ---"):$container.find("option[value=empty]").remove(),$container.select2({width:"element",placeholder:opts.placeholderText,minimumResultsForSearch:-1,dropdownCssClass:"qti-inlineChoiceInteraction-dropdown"});var $el=$container.select2("container");required&&(choiceTooltip=tooltip.warning($el,__("A choice must be selected")),""===$container.val()&&choiceTooltip.show()),$container.on("change",function(e){
if($(e.currentTarget).closest(".qti-item").hasClass("prevent-click-handler")){var $selectedIndex=$(e.currentTarget)[0].options.selectedIndex?$(e.currentTarget)[0].options.selectedIndex:null;$container.find("option").one("click",function(e){e.stopPropagation()}),$container.find("option").eq($selectedIndex).trigger("click")}required&&""!==$container.val()&&choiceTooltip.hide(),containerHelper.triggerResponseChangeEvent(interaction)}).on("select2-open",function(){required&&choiceTooltip.hide()}).on("select2-close",function(){required&&""===$container.val()&&choiceTooltip.show()})},resetResponse=function(interaction){_setVal(interaction,"empty")
},_setVal=function(interaction,choiceIdentifier){containerHelper.get(interaction).val(choiceIdentifier).select2("val",choiceIdentifier)},setResponse=function(interaction,response){_setVal(interaction,pciResponse.unserialize(response,interaction)[0])},_getRawResponse=function(interaction){var value=containerHelper.get(interaction).val();return value&&"empty"!==value?[value]:[]},getResponse=function(interaction){return pciResponse.serialize(_getRawResponse(interaction),interaction)},destroy=function(interaction){var $container=containerHelper.get(interaction);$(document).off(".commonRenderer"),$container.select2("destroy"),
instructionMgr.removeInstructions(interaction),containerHelper.reset(interaction)},setState=function(interaction,state){var $container;_.isObject(state)&&(state.response&&(interaction.resetResponse(),interaction.setResponse(state.response)),_.isArray(state.order)&&state.order.length===_.size(interaction.getChoices())&&($container=containerHelper.get(interaction),$container.select2("disable").select2("close"),$("option[data-identifier]",$container).sort(function(a,b){var aIndex=_.indexOf(state.order,$(a).data("identifier")),bIndex=_.indexOf(state.order,$(b).data("identifier"));return aIndex>bIndex?1:aIndex<bIndex?-1:0}).detach().appendTo($container),
$container.select2("enable")))},getState=function(interaction){var $container,state={},response=interaction.getResponse();return response&&(state.response=response),!0===interaction.attr("shuffle")&&($container=containerHelper.get(interaction),state.order=[],$("option[data-identifier]",$container).each(function(){state.order.push($(this).data("identifier"))})),state};return{qtiClass:"inlineChoiceInteraction",template:tpl,render:render,getContainer:containerHelper.get,setResponse:setResponse,getResponse:getResponse,resetResponse:resetResponse,destroy:destroy,setState:setState,getState:getState}}),
define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/matchInteraction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+='id="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,buffer="";return buffer+=" "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))}
function program5(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program7(depth0,data){var stack1,helper;return(helper=helpers.prompt)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.prompt,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),stack1||0===stack1?stack1:""}function program9(depth0,data){var stack1;return stack1=typeof depth0===functionType?depth0.apply(depth0):depth0,stack1||0===stack1?stack1:""}
function program11(depth0,data,depth1){var stack1,buffer="";return buffer+="\n      <tr>\n        ",stack1=typeof depth0===functionType?depth0.apply(depth0):depth0,(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        ",stack1=helpers.each.call(depth0,depth1&&depth1.matchSet1,{hash:{},inverse:self.noop,fn:self.program(12,program12,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n      </tr>\n      "}function program12(depth0,data){return'\n        <td>\n          <label>\n            <input type="checkbox" >\n            <span class="icon-checkbox cross"></span>\n          </label>\n        </td>\n        '}
this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this,blockHelperMissing=helpers.blockHelperMissing;return buffer+="<div ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.id),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=' class="qti-interaction qti-blockInteraction qti-matchInteraction',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,
null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-qti-class="matchInteraction"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),
(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n  ",stack1=helpers.if.call(depth0,depth0&&depth0.prompt,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n  <div class="instruction-container"></div>\n  <div class="match-interaction-area">\n    <table class="matrix">\n      <thead>\n      <tr>\n        <th> </th>\n        ',options={hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data},(helper=helpers.matchSet1)?stack1=helper.call(depth0,options):(helper=depth0&&depth0.matchSet1,stack1=typeof helper===functionType?helper.call(depth0,options):helper),
helpers.matchSet1||(stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data})),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n      </tr>\n      </thead>\n      <tbody>\n      ",options={hash:{},inverse:self.noop,fn:self.programWithDepth(11,program11,data,depth0),data:data},(helper=helpers.matchSet2)?stack1=helper.call(depth0,options):(helper=depth0&&depth0.matchSet2,stack1=typeof helper===functionType?helper.call(depth0,options):helper),helpers.matchSet2||(stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.programWithDepth(11,program11,data,depth0),data:data})),
(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n      </tbody>\n    </table>\n  </div>\n  <div class="notification-container"></div>\n</div>'})}),define("taoQtiItem/qtiCommonRenderer/renderers/interactions/MatchInteraction",["jquery","lodash","i18n","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/matchInteraction","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/instructions/instructionManager","taoQtiItem/qtiCommonRenderer/helpers/PciResponse"],function($,_,__,tpl,containerHelper,instructionMgr,pciResponse){"use strict";var inWarning=!1,render=function(interaction){var $container=containerHelper.get(interaction)
;_setInstructions(interaction),$container.on("click.commonRenderer","input[type=checkbox]",function(e){_onCheckboxSelected(interaction,e)}),instructionMgr.validateInstructions(interaction)},setResponse=function(interaction,response){var $container=containerHelper.get(interaction);response=_filterResponse(response),void 0!==response.list&&void 0!==response.list.directedPair&&_(response.list.directedPair).forEach(function(directedPair){var x=$("th[data-identifier="+directedPair[0]+"]",$container).index()-1,y=$("th[data-identifier="+directedPair[1]+"]",$container).parent().index()
;$(".matrix > tbody tr",$container).eq(y).find("input[type=checkbox]").eq(x).prop("checked",!0)}),instructionMgr.validateInstructions(interaction)},getResponse=function(interaction){return pciResponse.serialize(_getRawResponse(interaction),interaction)},resetResponse=function(interaction){var $container=containerHelper.get(interaction);$("input[type=checkbox]:checked",$container).each(function(){$(this).prop("checked",!1)}),instructionMgr.validateInstructions(interaction)},_filterResponse=function(response){if(void 0===response.list){if(void 0===response.base)throw"The given response is not compliant with PCI JSON representation."
;if(null===response.base)return{list:{directedPair:[]}};if(void 0===response.base.directedPair)throw"The matchInteraction only accepts directedPair values as responses.";return{list:{directedPair:[response.base.directedPair]}}}if(void 0===response.list.directedPair)throw"The matchInteraction only accept directedPair values as responses.";return response},_getRawResponse=function(interaction){var $container=containerHelper.get(interaction),values=[];return $container.find("input[type=checkbox]:checked").each(function(){values.push(_inferValue(this))}),values},_inferValue=function(element){
var $element=$(element),$container=$element.closest(".match-interaction-area"),y=$element.closest("tr").index(),x=$element.closest("td").index();return[$(".matrix > thead th",$container).eq(x).data("identifier"),$(".matrix > tbody th",$container).eq(y).data("identifier")]},_onCheckboxSelected=function(interaction,e){var choice,currentResponse=_getRawResponse(interaction),maxAssociations=(interaction.attr("minAssociations"),interaction.attr("maxAssociations"));0===maxAssociations&&(maxAssociations=_countChoices(interaction)),_.size(currentResponse)>maxAssociations?(e.preventDefault(),
instructionMgr.validateInstructions(interaction)):!1!==(choice=_maxMatchReached(interaction,e.target))?(e.preventDefault(),instructionMgr.validateInstructions(interaction,choice)):(containerHelper.triggerResponseChangeEvent(interaction,{}),instructionMgr.validateInstructions(interaction))},_maxMatchReached=function(interaction,input){var association=_inferValue(input),overflow=!1;return _(association).forEach(function(identifier){var choice=_getChoiceDefinitionByIdentifier(interaction,identifier),matchMax=(choice.attributes.matchMin,choice.attributes.matchMax),assoc=_countAssociations(interaction,choice);matchMax>0&&assoc>matchMax&&(overflow=choice)}),
overflow},_countAssociations=function(interaction,choice){var rawResponse=_getRawResponse(interaction),count=0;return _(rawResponse).forEach(function(response){response[0]!==choice.attributes.identifier&&response[1]!==choice.attributes.identifier||count++}),count},_countChoices=function(interaction){return containerHelper.get(interaction).find("input[type=checkbox]").length},_getChoiceDefinitionByIdentifier=function(interaction,identifier){return _getRawChoices(interaction)[identifier]},_getRawChoices=function(interaction){var rawChoices={};return _(interaction.choices).forEach(function(matchset){_(matchset).forEach(function(choice){
rawChoices[choice.attributes.identifier]=choice})}),rawChoices},_setInstructions=function(interaction){var msg,minAssociations=interaction.attr("minAssociations"),maxAssociations=interaction.attr("maxAssociations"),choiceCount=_countChoices(interaction);!function(){var onMaxChoicesReached=function(report,msg){!1===inWarning&&(inWarning=!0,report.update({level:"warning",message:__("Maximum number of choices reached."),timeout:2e3,stop:function(){report.update({level:"success",message:msg}),inWarning=!1}}))},onMatchMaxReached=function(interaction,choice,report,msg,level){var $container=containerHelper.get(interaction);if(!1===inWarning){inWarning=!0
;var $choice=$container.find('.qti-simpleAssociableChoice[data-identifier="'+choice.attributes.identifier+'"]'),originalBackgroundColor=$choice.css("background-color"),originalColor=$choice.css("color");report.update({level:"warning",message:__("The highlighted choice cannot be associated more than %d time(s).").replace("%d",choice.attributes.matchMax),timeout:3e3,start:function(){$choice.animate({backgroundColor:"#fff",color:"#ba122b"},250,function(){$choice.animate({backgroundColor:"#ba122b",color:"#fff"},250)})},stop:function(){$choice.animate({backgroundColor:originalBackgroundColor,color:originalColor},500),report.update({level:level,message:msg}),
inWarning=!1}})}};0===minAssociations&&maxAssociations>0?(msg=__("You must select 0 to %d choices.").replace("%d",maxAssociations),instructionMgr.appendInstruction(interaction,msg,function(choice){var responseCount=_.size(_getRawResponse(interaction));choice&&choice.attributes&&choice.attributes.matchMax>0&&_countAssociations(interaction,choice)>choice.attributes.matchMax?onMatchMaxReached(interaction,choice,this,msg,this.getLevel()):responseCount<=maxAssociations?this.setLevel("success"):responseCount>maxAssociations?onMaxChoicesReached(this,msg):this.reset()
})):0===minAssociations&&0===maxAssociations?(msg=__("You must select 0 to %d choices.").replace("%d",choiceCount),instructionMgr.appendInstruction(interaction,msg,function(choice){choice&&choice.attributes&&choice.attributes.matchMax>0&&_countAssociations(interaction,choice)>choice.attributes.matchMax?onMatchMaxReached(interaction,choice,this,msg,this.getLevel()):this.setLevel("success")})):minAssociations>0&&0===maxAssociations?(msg=__("You must select %1$d to %2$d choices."),msg=msg.replace("%1$d",minAssociations),msg=msg.replace("%2$d",choiceCount),instructionMgr.appendInstruction(interaction,msg,function(choice){
var responseCount=_.size(_getRawResponse(interaction));choice&&choice.attributes&&choice.attributes.matchMax>0&&_countAssociations(interaction,choice)>choice.attributes.matchMax?onMatchMaxReached(interaction,choice,this,msg,this.getLevel()):responseCount<minAssociations?this.setLevel("info"):responseCount>choiceCount?onMaxChoicesReached(this,msg):this.setLevel("success")})):minAssociations>0&&maxAssociations>0&&(minAssociations!==maxAssociations?(msg=__("You must select %1$d to %2$d choices."),msg=msg.replace("%1$d",minAssociations),msg=msg.replace("%2$d",maxAssociations)):(msg=__("You must select exactly %d choice(s)."),
msg=msg.replace("%d",minAssociations)),instructionMgr.appendInstruction(interaction,msg,function(choice){var responseCount=_.size(_getRawResponse(interaction));choice&&choice.attributes&&choice.attributes.matchMax>0&&_countAssociations(interaction,choice)>choice.attributes.matchMax?onMatchMaxReached(interaction,choice,this,msg,this.getLevel()):responseCount<minAssociations?this.setLevel("info"):responseCount>maxAssociations?onMaxChoicesReached(this,msg):responseCount>=minAssociations&&responseCount<=maxAssociations&&this.setLevel("success")}))}()},destroy=function(interaction){containerHelper.get(interaction).off(".commonRenderer"),
instructionMgr.removeInstructions(interaction),containerHelper.reset(interaction)},setState=function(interaction,state){var $container;_.isObject(state)&&(_.isArray(state.order)&&2===state.order.length&&($container=containerHelper.get(interaction),$("thead .qti-choice",$container).sort(function(a,b){var aIndex=_.indexOf(state.order[0],$(a).data("identifier")),bIndex=_.indexOf(state.order[0],$(b).data("identifier"));return aIndex>bIndex?1:aIndex<bIndex?-1:0}).detach().appendTo($("thead tr",$container)),$("tbody .qti-choice",$container).sort(function(a,b){
var aIndex=_.indexOf(state.order[1],$(a).data("identifier")),bIndex=_.indexOf(state.order[1],$(b).data("identifier"));return aIndex>bIndex?1:aIndex<bIndex?-1:0}).detach().each(function(index,elt){$(elt).prependTo($("tbody tr",$container).eq(index))})),state.response&&(interaction.resetResponse(),interaction.setResponse(state.response)))},getState=function(interaction){var $container,state={},response=interaction.getResponse();return response&&(state.response=response),!0===interaction.attr("shuffle")&&($container=containerHelper.get(interaction),state.order=[[],[]],$("thead .qti-choice",$container).each(function(){
state.order[0].push($(this).data("identifier"))}),$("tbody .qti-choice",$container).each(function(){state.order[1].push($(this).data("identifier"))})),state};return{qtiClass:"matchInteraction",template:tpl,render:render,getContainer:containerHelper.get,setResponse:setResponse,getResponse:getResponse,resetResponse:resetResponse,destroy:destroy,setState:setState,getState:getState,inferValue:_inferValue}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/mediaInteraction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer=""
;return buffer+='id="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,buffer="";return buffer+=" "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))}function program5(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],
typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program7(depth0,data){var stack1,helper;return(helper=helpers.prompt)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.prompt,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),stack1||0===stack1?stack1:""}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+="<div ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.id),{
hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=' class="qti-interaction qti-blockInteraction qti-mediaInteraction',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"',
stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n    ",stack1=helpers.if.call(depth0,depth0&&depth0.prompt,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n    <div class="instruction-container"></div>\n    <div class="media-container"></div>\n</div>'})}),define("json!core/mimetype/categories.json",function(){return{video:{category:"media",mimes:["application/ogg","video/*"],
extensions:["avi","mp4","ogg","mpeg","flv"]},audio:{category:"media",mimes:["audio/*"],extensions:["mp3","wav","aac"]},image:{category:"media",mimes:["image/*","application/x-gzip"],extensions:["png","jpg","jpeg","gif","svg","svgz","ico"]},flash:{category:"media",mimes:["application/x-shockwave-flash"],extensions:["flv","swf"]},geogebra:{category:"media",mimes:["application/vnd.geogebra.file","application/vnd.geogebra.tool"],extensions:["ggb","ggt"]},rdf:{category:"sources",mimes:["application/rdf+xml"],extensions:["rdf"]},xml:{category:"sources",mimes:["application/xml","application/xml-dtd","text/xml"],extensions:["xml","dtd","qti"]},html:{
category:"sources",mimes:["text/html","text/xhtml","application/xhtml+xml","application/qti+xml"],extensions:["html","htm","html5","xhtml"]},font:{category:"sources",mimes:["application/font-woff"],extensions:["woff","eot","ttf"]},js:{category:"sources",mimes:["application/javascript","application/json","text/javascript"],extensions:["js","json"]},css:{category:"sources",mimes:["text/css"],extensions:["css","sass","scss","less"]},shell:{category:"sources",mimes:["application/x-sh"],extensions:["sh"]},mathml:{category:"sources",mimes:["application/mathml+xml"],extensions:["mathml"]},pdf:{category:"document",mimes:["application/pdf"],extensions:["pdf"]},
office:{category:"document",mimes:["application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/vnd.ms-excel","application/msword"],extensions:["doc","odt","docx","xls","xlsx","ods","ppt","pptx","odp"]},text:{category:["document"],mimes:["text/*"],extensions:["txt","csv"]},archive:{category:"archive",
mimes:["application/zip","application/gzip","application/rar","application/x-7z-compressed","application/x-bzip","application/x-bzip2"],extensions:["zip","gz","bz","bz2","rar","p7z","7z"]},generic:{category:"generic",mimes:["application/octet-stream","application/force-download","application/x-force-download"]}}}),define("json!core/mimetype/extensions.json",function(){return{txt:"text/plain",htm:"text/html",html:"text/html",xhtml:"application/xhtml+xml",php:"text/html",css:"text/css",js:"application/javascript",json:"application/json",xml:"text/xml",rdf:"text/xml",swf:"application/x-shockwave-flash",flv:"video/x-flv",csv:"text/csv",rtx:"text/richtext",
rtf:"text/rtf",png:"image/png",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",gif:"image/gif",bmp:"image/bmp",ico:"image/vnd.microsoft.icon",tiff:"image/tiff",tif:"image/tiff",svg:"image/svg+xml",svgz:"image/svg+xml",zip:"application/zip",rar:"application/x-rar-compressed",exe:"application/x-msdownload",msi:"application/x-msdownload",cab:"application/vnd.ms-cab-compressed",mp3:"audio/mpeg",oga:"audio/ogg",ogg:"audio/ogg",aac:"audio/aac",qt:"video/quicktime",mov:"video/quicktime",mp4:"video/mp4",webm:"video/webm",ogv:"video/ogg",pdf:"application/pdf",psd:"image/vnd.adobe.photoshop",ai:"application/postscript",eps:"application/postscript",
ps:"application/postscript",doc:"application/msword",rtf:"application/rtf",xls:"application/vnd.ms-excel",ppt:"application/vnd.ms-powerpoint",odt:"application/vnd.oasis.opendocument.text",ods:"application/vnd.oasis.opendocument.spreadsheet",woff:"application/x-font-woff",eot:"application/vnd.ms-fontobject",ttf:"application/x-font-ttf"}}),define("core/mimetype",["jquery","lodash","json!core/mimetype/categories.json","json!core/mimetype/extensions.json"],function($,_,categories,extensions){"use strict";function getFileExtension(fileName){var extMatch=fileName.match(/\.([0-9a-z]+)(?:[\?#]|$)/i);if(extMatch&&extMatch.length>1)return extMatch[1]}
var mimetypeHelper={getResourceType:function(url,callback){return $.ajax({type:"HEAD",async:!0,url:url,success:function(message,text,jqXHR){var mime=jqXHR.getResponseHeader("Content-Type");callback&&callback(null,mime)},error:function(jqXHR){var error=jqXHR.status||404;callback&&callback(error)}}),this},getFileType:function(file){var type,ext,mime=file.mime;return mime&&((type=_.findKey(categories,{mimes:[mime]}))||(type=_.findKey(categories,{mimes:[mime.replace(/\/.*$/,"/*")]}))),type||(ext=getFileExtension(file.name))&&(type=_.findKey(categories,{extensions:[ext]})),type},match:function(type,validTypes){
var checkType=type.replace(/^["']+|['"]+$/g,""),starType=checkType.replace(/\/.*$/,"/*");return _.contains(validTypes,checkType)||_.contains(validTypes,starType)},getCategory:function(type){if(categories[type])return categories[type].category},getMimeType:function(file){var ext,type=file.type,category=mimetypeHelper.getFileType({name:file.name,mime:type});return type&&!type.match(/invalid/)&&"generic"!==category?type:(ext=getFileExtension(file.name))&&extensions[ext]?extensions[ext]:type}};return mimetypeHelper}),define("tpl!ui/mediaplayer/tpl/player",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){
function program1(depth0,data){var stack1,buffer="";return buffer+="\n        ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.is,null==stack1||!1===stack1?stack1:stack1.youtube),{hash:{},inverse:self.program(5,program5,data),fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    "}function program2(depth0,data){var stack1,buffer="";return buffer+="\n            ",stack1=helpers.each.call(depth0,depth0&&depth0.sources,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        "}function program3(depth0,data){var stack1,helper,buffer=""
;return buffer+='\n        <div class="media video youtube" data-video-src="',(helper=helpers.src)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.src,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-video-id="',(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-type="youtube"></div>\n            '}function program5(depth0,data){var stack1,helper,options,buffer=""
;return buffer+='\n        <video class="media video" poster="',(helper=helpers.poster)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.poster,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" controls ',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.is,null==stack1||!1===stack1?stack1:stack1.cors),{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n            ",stack1=helpers.each.call(depth0,depth0&&depth0.sources,{hash:{},inverse:self.noop,fn:self.program(8,program8,data),data:data}),
(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n\n            "+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Your browser doesn’t support the video player.",options):helperMissing.call(depth0,"__","Your browser doesn’t support the video player.",options)))+"\n            ",stack1=helpers.if.call(depth0,depth0&&depth0.link,{hash:{},inverse:self.noop,fn:self.program(10,program10,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        </video>\n        "}function program6(depth0,data){return"crossorigin"}function program8(depth0,data){var stack1,helper,buffer=""
;return buffer+='\n            <source src="',(helper=helpers.src)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.src,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" type="',(helper=helpers.type)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.type,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\n            '}function program10(depth0,data){var stack1,helper,options,buffer="";return buffer+='\n            <a href="',(helper=helpers.link)?stack1=helper.call(depth0,{
hash:{},data:data}):(helper=depth0&&depth0.link,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Please download the video and view offline.",options):helperMissing.call(depth0,"__","Please download the video and view offline.",options)))+"</a>\n            "}function program12(depth0,data){var stack1,helper,options,buffer="";return buffer+='\n        <audio class="media audio" controls ',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.is,
null==stack1||!1===stack1?stack1:stack1.cors),{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n            ",stack1=helpers.each.call(depth0,depth0&&depth0.sources,{hash:{},inverse:self.noop,fn:self.program(8,program8,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n\n            "+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Your browser doesn’t support the audio player.",options):helperMissing.call(depth0,"__","Your browser doesn’t support the audio player.",options)))+"\n            ",
stack1=helpers.if.call(depth0,depth0&&depth0.link,{hash:{},inverse:self.noop,fn:self.program(13,program13,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        </audio>\n    "}function program13(depth0,data){var stack1,helper,options,buffer="";return buffer+='\n            <a href="',(helper=helpers.link)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.link,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Please download the track and listen offline.",options):helperMissing.call(depth0,"__","Please download the track and listen offline.",options)))+"</a>\n            "}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;return buffer+='<div class="mediaplayer ',(helper=helpers.type)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.type,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+'">\n    <div class="player">\n    ',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.is,null==stack1||!1===stack1?stack1:stack1.video),{hash:{},inverse:self.program(12,program12,data),fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n        <div class="overlay">\n            <a class="action play" data-control="play"><span class="icon icon-play" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Play",options):helperMissing.call(depth0,"__","Play",options)))+'"></span></a>\n            <a class="action play" data-control="pause"><span class="icon icon-pause" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Pause",options):helperMissing.call(depth0,"__","Pause",options)))+'"></span></a>\n        </div>\n    </div>\n    <div class="controls">\n        <div class="bar">\n            <div class="control actions playback">\n                <a class="action play" data-control="play" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={
hash:{},data:data},helper?helper.call(depth0,"Play",options):helperMissing.call(depth0,"__","Play",options)))+'"><span class="icon icon-play"></span></a>\n                <a class="action play" data-control="pause" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Pause",options):helperMissing.call(depth0,"__","Pause",options)))+'"><span class="icon icon-pause"></span></a>\n            </div>\n            <div class="control seek"><div class="slider"></div></div>\n            <div class="control infos timer">\n                <span class="info time" data-control="time-cur" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Current playback position",options):helperMissing.call(depth0,"__","Current playback position",options)))+'">00:00</span>\n                <span class="info time" data-control="time-end" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Total duration",options):helperMissing.call(depth0,"__","Total duration",options)))+'">00:00</span>\n            </div>\n            <div class="control actions sound">\n                <div class="volume"><div class="slider"></div></div>\n                <a class="action mute" data-control="mute" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Mute",options):helperMissing.call(depth0,"__","Mute",options)))+'"><span class="icon icon-sound"></span></a>\n                <a class="action mute" data-control="unmute" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Restore sound",options):helperMissing.call(depth0,"__","Restore sound",options)))+'"><span class="icon icon-mute"></span></a>\n            </div>\n        </div>\n    </div>\n    <div class="error">\n        <div class="message">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"This media cannot be played!",options):helperMissing.call(depth0,"__","This media cannot be played!",options)))+"</div>\n    </div>\n</div>"})}),define("css!ui/mediaplayer/css/player",[],function(){}),define("nouislider",["jquery"],function($){"use strict";function throwError(message){throw new RangeError("noUiSlider: "+message)}function throwEqualError(F,a,b){(F[a]||F[b])&&F[a]===F[b]&&throwError("(Link) '"+a+"' can't match '"+b+"'.'")}function limit(a){return Math.max(Math.min(a,100),0)}function closest(value,to){return Math.round(value/to)*to}function subRangeRatio(pa,pb){return 100/(pb-pa)}function typeMatch(a,b){
return typeof a==typeof b}function isInstance(a){return a instanceof $||$.zepto&&$.zepto.isZ(a)}function isNumeric(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function asArray(a){return $.isArray(a)?a:[a]}function addClassFor(element,className,duration){element.addClass(className),setTimeout(function(){element.removeClass(className)},duration)}function fromPercentage(range,value){return 100*value/(range[1]-range[0])}function toPercentage(range,value){return fromPercentage(range,range[0]<0?value+Math.abs(range[0]):value-range[0])}function isPercentage(range,value){return value*(range[1]-range[0])/100+range[0]}function toStepping(options,value){
if(value>=options.xVal.slice(-1)[0])return 100;for(var va,vb,pa,pb,j=1;value>=options.xVal[j];)j++;return va=options.xVal[j-1],vb=options.xVal[j],pa=options.xPct[j-1],pb=options.xPct[j],pa+toPercentage([va,vb],value)/subRangeRatio(pa,pb)}function fromStepping(options,value){if(value>=100)return options.xVal.slice(-1)[0];for(var va,vb,pa,pb,j=1;value>=options.xPct[j];)j++;return va=options.xVal[j-1],vb=options.xVal[j],pa=options.xPct[j-1],pb=options.xPct[j],isPercentage([va,vb],(value-pa)*subRangeRatio(pa,pb))}function getStep(options,value){for(var a,b,j=1;value>=options.xPct[j];)j++;return options.snap?(a=options.xPct[j-1],b=options.xPct[j],
value-a>(b-a)/2?b:a):options.xSteps[j-1]?options.xPct[j-1]+closest(value-options.xPct[j-1],options.xSteps[j-1]):value}function fixEvent(e){e.preventDefault();var x,y,touch=0===e.type.indexOf("touch"),mouse=0===e.type.indexOf("mouse"),pointer=0===e.type.indexOf("pointer"),event=e;return 0===e.type.indexOf("MSPointer")&&(pointer=!0),e.originalEvent&&(e=e.originalEvent),touch&&(x=e.changedTouches[0].pageX,y=e.changedTouches[0].pageY),(mouse||pointer)&&(pointer||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),x=e.clientX+window.pageXOffset,y=e.clientY+window.pageYOffset),
event.points=[x,y],event.cursor=mouse,event}function Format(options){void 0===options&&(options={}),"object"!=typeof options&&throwError("(Format) 'format' option must be an object.");var settings={};$(Formatting).each(function(i,val){void 0===options[val]?settings[val]=FormatDefaults[i]:typeMatch(options[val],FormatDefaults[i])?("decimals"===val&&(options[val]<0||options[val]>7)&&throwError("(Format) 'format.decimals' option must be between 0 and 7."),settings[val]=options[val]):throwError("(Format) 'format."+val+"' must be a "+typeof FormatDefaults[i]+".")}),throwEqualError(settings,"mark","thousand"),throwEqualError(settings,"prefix","negative"),
throwEqualError(settings,"prefix","negativeBefore"),this.settings=settings}function Link(entry,update){if(!(this instanceof Link))throw new Error("Link: Don't use Link as a function. Use the 'new' keyword.");if(!entry)throw new RangeError("Link: missing parameters.");this.formatting=entry.format||{},this.update=!update
;var that=this,target=entry.target||function(){},method=entry.method,isTooltip="string"==typeof target&&0===target.indexOf("-tooltip-"),isHidden="string"==typeof target&&0!==target.indexOf("-"),isMethod="function"==typeof target,is$=isInstance(target),isInput=is$&&target.is("input, select, textarea"),methodIsFunction=is$&&"function"==typeof method,methodIsName=is$&&"string"==typeof method&&target[method];if(isTooltip)return this.method=method||"html",void(this.el=$(target.replace("-tooltip-","")||"<div/>")[0]);if(isHidden)return this.method="val",this.el=document.createElement("input"),this.el.name=target,void(this.el.type="hidden")
;if(isMethod)return this.target=!1,void(this.method=target);if(is$){if(method&&(methodIsFunction||methodIsName))return this.target=target,void(this.method=method);if(!method&&isInput)return this.method="val",this.target=target,void this.target.on("change",function(e){var output=function(a,b,c){return[c?a:b,c?b:a]}(null,$(e.target).val(),that.N);that.obj.val(output,{link:that})});if(!method&&!isInput)return this.method="html",void(this.target=target)}throw new RangeError("Link: Invalid Link.")}function testStep(parsed,entry){isNumeric(entry)||throwError("'step' is not numeric."),parsed.xSteps[0]=entry}function testRange(parsed,entry){
("object"!=typeof entry||$.isArray(entry))&&throwError("'range' is not an object."),$.each(entry,function(index,value){var percentage;"number"==typeof value&&(value=[value]),$.isArray(value)||throwError("'range' contains invalid value."),percentage="min"===index?0:"max"===index?100:parseFloat(index),isNumeric(percentage)&&isNumeric(value[0])||throwError("'range' value isn't numeric."),parsed.xPct.push(percentage),parsed.xVal.push(value[0]),percentage?parsed.xSteps.push(!isNaN(value[1])&&value[1]):isNaN(value[1])||(parsed.xSteps[0]=value[1])}),$.each(parsed.xSteps,function(i,n){if(!n)return!0
;parsed.xSteps[i]=fromPercentage([parsed.xVal[i],parsed.xVal[i+1]],n)/subRangeRatio(parsed.xPct[i],parsed.xPct[i+1])})}function testStart(parsed,entry){"number"==typeof entry&&(entry=[entry]),(!$.isArray(entry)||!entry.length||entry.length>2)&&throwError("'start' option is incorrect."),parsed.handles=entry.length,parsed.start=entry}function testSnap(parsed,entry){parsed.snap=entry,"boolean"!=typeof entry&&throwError("'snap' option must be a boolean.")}function testConnect(parsed,entry){
"lower"===entry&&1===parsed.handles?parsed.connect=1:"upper"===entry&&1===parsed.handles?parsed.connect=2:!0===entry&&2===parsed.handles?parsed.connect=3:!1===entry?parsed.connect=0:throwError("'connect' option was doesn't match handle count.")}function testOrientation(parsed,entry){switch(entry){case"horizontal":parsed.ort=0;break;case"vertical":parsed.ort=1;break;default:throwError("'orientation' option is invalid.")}}function testMargin(parsed,entry){parsed.xPct.length>2&&throwError("'margin' option is only supported on linear sliders."),parsed.margin=fromPercentage(parsed.xVal,entry),isNumeric(entry)||throwError("'margin' option must be numeric.")}
function testDirection(parsed,entry){switch(entry){case"ltr":parsed.dir=0;break;case"rtl":parsed.dir=1,parsed.connect=[0,2,1,3][parsed.connect];break;default:throwError("'direction' option was not recognized.")}}function testBehaviour(parsed,entry){"string"!=typeof entry&&throwError("'behaviour' must be a string containing options.");var tap=entry.indexOf("tap")>=0,extend=entry.indexOf("extend")>=0,drag=entry.indexOf("drag")>=0,fixed=entry.indexOf("fixed")>=0,snap=entry.indexOf("snap")>=0;parsed.events={tap:tap||snap,extend:extend,drag:drag,fixed:fixed,snap:snap}}function testSerialization(parsed,entry,sliders){parsed.ser=[entry.lower,entry.upper],
parsed.formatting=new Format(entry.format),$.each(parsed.ser,function(i,a){$.isArray(a)||throwError("'serialization."+(i?"upper":"lower")+"' must be an array."),$.each(a,function(){this instanceof Link||throwError("'serialization."+(i?"upper":"lower")+"' can only contain Link instances."),this.N=i,this.obj=sliders,this.scope=this.scope||sliders,this.formatting=new Format($.extend({},entry.format,this.formatting))})}),parsed.dir&&parsed.handles>1&&parsed.ser.reverse()}function test(options,sliders){var tests,parsed={xPct:[],xVal:[],xSteps:[!1],margin:0};return tests={step:{r:!1,t:testStep},range:{r:!0,t:testRange},start:{r:!0,t:testStart},snap:{r:!1,
t:testSnap},connect:{r:!0,t:testConnect},orientation:{r:!1,t:testOrientation},margin:{r:!1,t:testMargin},direction:{r:!0,t:testDirection},behaviour:{r:!0,t:testBehaviour},serialization:{r:!0,t:testSerialization}},options=$.extend({connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},options),options.serialization=$.extend({lower:[],upper:[],format:{}},options.serialization),$.each(tests,function(name,test){if(void 0===options[name]){if(!test.r)return!0;throwError("'"+name+"' is required.")}test.t(parsed,options[name],sliders)}),parsed.style=parsed.ort?"top":"left",parsed}function addHandle(options,index){
var handle=$("<div><div/></div>").addClass(Classes[2]),additions=["-lower","-upper"];return options.dir&&additions.reverse(),handle.children().addClass(Classes[3]+" "+Classes[3]+additions[index]),handle}function addElement(handle,link){return link.el&&(link=new Link({target:$(link.el).clone().appendTo(handle),method:link.method,format:link.formatting},!0)),link}function addElements(elements,handle,formatting){var index,list=[];for(list.push(new Link({format:formatting},!0)),index=0;index<elements.length;index++)list.push(addElement(handle,elements[index]));return list}function addLinks(options,handles){var index,links=[]
;for(index=0;index<options.handles;index++)links[index]=addElements(options.ser[index],handles[index].children(),options.formatting);return links}function addConnection(connect,target,handles){switch(connect){case 1:target.addClass(Classes[7]),handles[0].addClass(Classes[6]);break;case 3:handles[1].addClass(Classes[6]);case 2:handles[0].addClass(Classes[7]);case 0:target.addClass(Classes[6])}}function addHandles(options,base){var index,handles=[];for(index=0;index<options.handles;index++)handles.push(addHandle(options,index).appendTo(base));return handles}function addSlider(options,target){
return target.addClass([Classes[0],Classes[8+options.dir],Classes[4+options.ort]].join(" ")),$("<div/>").appendTo(target).addClass(Classes[1])}function closure(target,options,originalOptions){function baseSize(){return $Base[["width","height"][options.ort]]()}function fireEvents(events){var index,values=[$Target.val()];for(index=0;index<events.length;index++)$Target.trigger(events[index],values)}function setHandle(handle,to,delimit){var n=handle[0]!==$Handles[0][0]?1:0,lower=$Locations[0]+options.margin,upper=$Locations[1]-options.margin;return delimit&&$Handles.length>1&&(to=n?Math.max(to,lower):Math.min(to,upper)),to<100&&(to=getStep(options,to)),
(to=limit(parseFloat(to.toFixed(7))))===$Locations[n]?1!==$Handles.length&&((to===lower||to===upper)&&0):(handle.css(options.style,to+"%"),handle.is(":first-child")&&handle.toggleClass(Classes[17],to>50),$Locations[n]=to,options.dir&&(to=100-to),$($Serialization[n]).each(function(){this.write(options,to,handle.children(),$Target)}),!0)}function getPositions(a,b,delimit){var c=a+b[0],d=a+b[1];return delimit?(c<0&&(d+=Math.abs(c)),d>100&&(c-=d-100),[limit(c),limit(d)]):[c,d]}function jump(handle,to,instant){instant||addClassFor($Target,Classes[14],300),setHandle(handle,to,!1),fireEvents(["slide","set","change"])}function attach(events,element,callback,data){
return events=events.replace(/\s/g,namespace+" ")+namespace,element.on(events,function(e){var disabled=$Target.attr("disabled");if(disabled=!(void 0===disabled||null===disabled),$Target.hasClass(Classes[14])||disabled)return!1;e=fixEvent(e),e.calcPoint=e.points[options.ort],callback(e,data)})}function move(event,data){var positions,handles=data.handles||$Handles,state=!1,proposal=100*(event.calcPoint-data.start)/baseSize(),h=handles[0][0]!==$Handles[0][0]?1:0;positions=getPositions(proposal,data.positions,handles.length>1),state=setHandle(handles[0],positions[h],1===handles.length),handles.length>1&&(state=setHandle(handles[1],positions[h?0:1],!1)||state),
state&&fireEvents(["slide"])}function end(event){$("."+Classes[15]).removeClass(Classes[15]),event.cursor&&$("body").css("cursor","").off(namespace),doc.off(namespace),$Target.removeClass(Classes[12]),fireEvents(["set","change"])}function start(event,data){1===data.handles.length&&data.handles[0].children().addClass(Classes[15]),event.stopPropagation(),attach(actions.move,doc,move,{start:event.calcPoint,handles:data.handles,positions:[$Locations[0],$Locations[$Handles.length-1]]}),attach(actions.end,doc,end,null),event.cursor&&($("body").css("cursor",$(event.target).css("cursor")),$Handles.length>1&&$Target.addClass(Classes[12]),
$("body").on("selectstart"+namespace,!1))}function tap(event){var to,location=event.calcPoint,total=0;event.stopPropagation(),$.each($Handles,function(){total+=this.offset()[options.style]}),total=location<total/2||1===$Handles.length?0:1,location-=$Base.offset()[options.style],to=100*location/baseSize(),jump($Handles[total],to,options.events.snap),options.events.snap&&start(event,{handles:[$Handles[total]]})}function edge(event){var i=event.calcPoint<$Base.offset()[options.style],to=i?0:100;i=i?0:$Handles.length-1,jump($Handles[i],to,!1)}var $Base,$Serialization,$Handles,$Target=$(target),$Locations=[-1,-1]
;if(!$Target.is(":empty"))throw new Error("Slider was already initialized.");$Base=addSlider(options,$Target),$Handles=addHandles(options,$Base),$Serialization=addLinks(options,$Handles),addConnection(options.connect,$Target,$Handles),function(behaviour){var i,drag;if(!behaviour.fixed)for(i=0;i<$Handles.length;i++)attach(actions.start,$Handles[i].children(),start,{handles:[$Handles[i]]});behaviour.tap&&attach(actions.start,$Base,tap,{handles:$Handles}),behaviour.extend&&($Target.addClass(Classes[16]),behaviour.tap&&attach(actions.start,$Target,edge,{handles:$Handles})),behaviour.drag&&(drag=$Base.find("."+Classes[7]).addClass(Classes[10]),
behaviour.fixed&&(drag=drag.add($Base.children().not(drag).children())),attach(actions.start,drag,start,{handles:$Handles}))}(options.events),target.vSet=function(values,callback,link,update,animate){var i,to;for(options.dir&&options.handles>1&&values.reverse(),animate&&addClassFor($Target,Classes[14],300),i=0;i<($Handles.length>1?3:1);i++)to=link||$Serialization[i%2][0],!1!==(to=to.valueOf(values[i%2]))&&(to=toStepping(options,to),options.dir&&(to=100-to),!0!==setHandle($Handles[i%2],to,!0)&&$($Serialization[i%2]).each(function(){this.write(options,$Locations[i%2],$Handles[i%2].children(),$Target,update)}));return!0===callback&&fireEvents(["set"]),this},
target.vGet=function(){var i,retour=[];for(i=0;i<options.handles;i++)retour[i]=$Serialization[i][0].saved;return 1===retour.length?retour[0]:options.dir&&options.handles>1?retour.reverse():retour},target.destroy=function(){return $.each($Serialization,function(){$.each(this,function(){this.target&&this.target.off(namespace)})}),$(this).off(namespace).removeClass(Classes.join(" ")).empty(),originalOptions},$Target.val(options.start)}function initialize(originalOptions){if(this.length){var options=test(originalOptions,this);return this.each(function(){closure(this,options,originalOptions)})}}function rebuild(options){return this.each(function(){
var values=$(this).val(),originalOptions=this.destroy(),newOptions=$.extend({},originalOptions,options);$(this).noUiSlider(newOptions),originalOptions.start===newOptions.start&&$(this).val(values)})}var doc=$(document),namespace=".nui",$val=$.fn.val,actions=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"
},Classes=["noUi-target","noUi-base","noUi-origin","noUi-handle","noUi-horizontal","noUi-vertical","noUi-background","noUi-connect","noUi-ltr","noUi-rtl","noUi-dragable","","noUi-state-drag","","noUi-state-tap","noUi-active","noUi-extended","noUi-stacking"],Formatting=["decimals","mark","thousand","prefix","postfix","encoder","decoder","negative","negativeBefore"],FormatDefaults=[2,".","","","",function(a){return a},function(a){return a},"-",""];Format.prototype.v=function(a){return this.settings[a]},Format.prototype.to=function(number){function reverse(a){return a.split("").reverse().join("")}number=this.v("encoder")(number)
;var negative="",preNegative="",base="",mark="";return number<0&&(negative=this.v("negative"),preNegative=this.v("negativeBefore")),number=Math.abs(number).toFixed(this.v("decimals")).toString(),number=number.split("."),0===parseFloat(number)&&(number[0]="0"),this.v("thousand")?(base=reverse(number[0]).match(/.{1,3}/g),base=reverse(base.join(reverse(this.v("thousand"))))):base=number[0],this.v("mark")&&number.length>1&&(mark=this.v("mark")+number[1]),preNegative+this.v("prefix")+negative+base+mark+this.v("postfix")},Format.prototype.from=function(input){function esc(s){return s.replace(/[\-\/\\\^$*+?.()|\[\]{}]/g,"\\$&")}var isNeg
;return null!==input&&void 0!==input&&(input=input.toString(),isNeg=input.replace(new RegExp("^"+esc(this.v("negativeBefore"))),""),input!==isNeg?(input=isNeg,isNeg="-"):isNeg="",input=input.replace(new RegExp("^"+esc(this.v("prefix"))),""),this.v.negative&&(isNeg="",input=input.replace(new RegExp("^"+esc(this.v("negative"))),"-")),input=input.replace(new RegExp(esc(this.v("postfix"))+"$"),"").replace(new RegExp(esc(this.v("thousand")),"g"),"").replace(this.v("mark"),"."),input=this.v("decoder")(parseFloat(isNeg+input)),!isNaN(input)&&input)},Link.prototype.write=function(options,value,handle,slider,update){
this.update&&!1===update||(value=fromStepping(options,value),value=this.format(value),this.saved=value,"function"==typeof this.method?this.method.call(this.target[0]||slider[0],value,handle,slider):this.target[this.method](value,handle,slider))},Link.prototype.format=function(a){return this.formatting.to(a)},Link.prototype.valueOf=function(a){return this.formatting.from(a)},$.noUiSlider={Link:Link},$.fn.noUiSlider=function(options,re){return(re?rebuild:initialize).call(this,options)},$.fn.val=function(){var set,link,update,animate,args=Array.prototype.slice.call(arguments,0);return args.length?("object"==typeof args[1]?(set=args[1].set,link=args[1].link,
update=args[1].update,animate=args[1].animate):!0===args[1]&&(set=!0),this.each(function(){$(this).hasClass(Classes[0])?this.vSet(asArray(args[0]),set,link,update,animate):$val.apply($(this),args)})):this.hasClass(Classes[0])?this[0].vGet():$val.apply(this)}}),define("ui/mediaplayer",["jquery","lodash","i18n","async","urlParser","core/eventifier","core/mimetype","core/store","tpl!ui/mediaplayer/tpl/player","css!ui/mediaplayer/css/player","nouislider"],function($,_,__,async,UrlParser,eventifier,mimetype,store,playerTpl){"use strict";var _ns=".mediaplayer",_reYoutube=/([?&\/]v[=\/])([\w-]+)([&\/]?)/,_reAppleMobiles=/ip(hone|od)/i,_slice=[].slice,_defaults={
type:"video/mp4",video:{width:480,height:270,minWidth:200,minHeight:200},audio:{width:400,height:30,minWidth:200,minHeight:36},options:{volume:Math.floor(80),startMuted:!1,maxPlays:0,replayTimeout:0,canPause:!0,canSeek:!0,loop:!1,autoStart:!1}},_mimeTypes={"video/webm":'video/webm; codecs="vp8, vorbis"',"video/mp4":'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',"video/ogg":'video/ogg; codecs="theora, vorbis"',"audio/mpeg":"audio/mpeg;","audio/mp4":'audio/mp4; codecs="mp4a.40.5"',"audio/ogg":'audio/ogg; codecs="vorbis"',"audio/wav":'audio/wav; codecs="1"'},_extractYoutubeId=function(url){var res=_reYoutube.exec(url);return res&&res[2]||url
},_ensureNumber=function(value){return value=parseFloat(value),isFinite(value)?value:0},_leadingZero=function(n,len){for(var value=n.toString();value.length<len;)value="0"+value;return value},_timerFormat=function(time){var seconds=Math.floor(time%60),minutes=Math.floor(time/60)%60,hours=Math.floor(time/3600),parts=[];return hours&&parts.push(hours),parts.push(_leadingZero(minutes,2)),parts.push(_leadingZero(seconds,2)),parts.join(":")},_needTypeAdjust=function(type){return"string"==typeof type&&0===type.indexOf("application")},_getAdjustedType=function(source){var type="video/ogg",url=source&&source.src||source,ext=url&&url.substr(-4)
;return".ogg"!==ext&&".oga"!==ext||(type="audio/ogg"),type},_configToSources=function(config){var sources=config.sources||[],url=config.url;return _.isArray(sources)||(sources=[sources]),url&&(_.isArray(config.url)||(url=[url]),sources=sources.concat(url)),sources},_checkSupport=function(media,mimeType){var support=!!media.canPlayType;return mimeType&&support&&(support=!!media.canPlayType(_mimeTypes[mimeType]||mimeType).replace(/no/,"")),support},_support={canPlay:function(type,mime){if(type)switch(type.toLowerCase()){case"audio":return this.canPlayAudio(mime);case"youtube":case"video":return this.canPlayVideo(mime);default:return!1}
return this.canPlayAudio()&&this.canPlayVideo()},canPlayAudio:function(mime){return this._mediaAudio||(this._mediaAudio=document.createElement("audio")),_checkSupport(this._mediaAudio,mime)},canPlayVideo:function(mime){return this._mediaVideo||(this._mediaVideo=document.createElement("video")),_checkSupport(this._mediaVideo,mime)},canControl:function(){return!_reAppleMobiles.test(navigator.userAgent)}},_youtubeManager={injected:!1,ready:!1,pending:[],add:function(elem,player,options){this.ready?this.create(elem,player,options):(this.pending.push([elem,player,options]),this.injected||this.injectApi())},remove:function(elem,player){var pending=this.pending
;_.forEach(pending,function(args,idx){args&&elem===args[0]&&player===args[1]&&(pending[idx]=null)})},create:function(elem,player,options){var $elem;if(!this.ready)return this.add(elem,player,options);options||(options={}),$elem=$(elem),new window.YT.Player($elem.get(0),{height:$elem.width(),width:$elem.height(),videoId:$elem.data("videoId"),playerVars:{autoplay:0,controls:options.controls?1:0,rel:0,showinfo:0,wmode:"transparent",modestbranding:1,disablekb:1,playsinline:1,enablejsapi:1,origin:location.hostname},events:{onReady:player.onReady.bind(player),onStateChange:player.onStateChange.bind(player)}})},apiReady:function(){var self=this,pending=this.pending
;this.pending=[],this.ready=!0,_.forEach(pending,function(args){args&&self.create.apply(self,args)})},isApiReady:function(){var apiReady=void 0!==window.YT&&void 0!==window.YT.Player;return apiReady&&!this.ready&&_youtubeManager.apiReady(),apiReady},injectApi:function(){var self=this;self.isApiReady()||require(["https://www.youtube.com/iframe_api"],function(){var check=function(){self.isApiReady()||setTimeout(check,100)};check()}),this.injected=!0}},_youtubePlayer=function(mediaplayer){function loopEvents(callback){_.forEach(["onStateChange","onPlaybackQualityChange","onPlaybackRateChange","onError","onApiChange"],callback)}
var $media,media,player,interval,destroyed,initWidth,initHeight;return mediaplayer&&(player={init:function(){return $media=mediaplayer.$media,media=null,destroyed=!1,$media&&_youtubeManager.add($media,this,{controls:mediaplayer.is("nogui")}),!!$media},onReady:function(event){var callbacks=this._callbacks;media=event.target,$media=$(media.getIframe()),this._callbacks=null,destroyed?this.destroy():(initWidth&&initHeight&&this.setSize(initWidth,initHeight),mediaplayer._onReady(),callbacks&&_.forEach(callbacks,function(cb){cb()}))},onStateChange:function(event){if(this.stopPolling(),!destroyed)switch(event.data){case 0:mediaplayer._onEnd();break;case 1:
mediaplayer._onPlay(),this.startPolling();break;case 2:mediaplayer._onPause()}},stopPolling:function(){interval&&(clearInterval(interval),interval=null)},startPolling:function(){interval=setInterval(function(){mediaplayer._onTimeUpdate()},mediaplayerFactory.youtubePolling)},destroy:function(){destroyed=!0,media?(loopEvents(function(ev){media.removeEventListener(ev)}),media.destroy()):_youtubeManager.remove($media,this),this.stopPolling(),$media=null,media=null},getPosition:function(){return media?media.getCurrentTime():0},getDuration:function(){return media?media.getDuration():0},getVolume:function(){var value=0
;return media&&(value=100*media.getVolume()/100+0),value},setVolume:function(value){media&&media.setVolume((parseFloat(value)-0)/100*100)},setSize:function(width,height){$media&&$media.width(width).height(height),media?media.setSize(width,height):(initWidth=width,initHeight=height)},seek:function(value){media&&media.seekTo(parseFloat(value),!0)},play:function(){media&&media.playVideo()},pause:function(){media&&media.pauseVideo()},stop:function(){media&&(media.stopVideo(),mediaplayer._onEnd())},mute:function(state){media&&media[state?"mute":"unMute"]()},isMuted:function(){return!!media&&media.isMuted()},addMedia:function(url){
var id=_extractYoutubeId(url),cb=id&&function(){media.cueVideoById(id)};return!!cb&&(media?cb():(this._callbacks=this._callbacks||[],this._callbacks.push(cb)),!0)},setMedia:function(url){var id=_extractYoutubeId(url),cb=id&&function(){media.loadVideoById(id)};return!!cb&&(media?cb():this._callbacks=[cb],!0)}}),player},_nativePlayer=function(mediaplayer){var $media,media,player,played;return mediaplayer&&(player={init:function(){var mediaElem,result=!1;return $media=mediaplayer.$media,media=null,played=!1,$media&&(mediaElem=$media.get(0),mediaElem&&mediaElem.canPlayType&&(media=mediaElem,result=!0),mediaplayer.is("nogui")||$media.removeAttr("controls"),
$media.on("play"+_ns,function(){played=!0,mediaplayer._onPlay()}).on("pause"+_ns,function(){mediaplayer._onPause()}).on("ended"+_ns,function(){played=!1,mediaplayer._onEnd()}).on("timeupdate"+_ns,function(){mediaplayer._onTimeUpdate()}).on("loadstart",function(){media.networkState===HTMLMediaElement.NETWORK_NO_SOURCE&&mediaplayer._onError()}).on("error"+_ns,function(){media.networkState===HTMLMediaElement.NETWORK_NO_SOURCE?mediaplayer._onError():(mediaplayer._onRecoverError(),media.networkState===HTMLMediaElement.NETWORK_LOADING&&mediaplayer.is("playing")&&mediaplayer.render())}).on("loadedmetadata"+_ns,function(){
mediaplayer.is("error")&&mediaplayer._onRecoverError(),mediaplayer._onReady()})),result},destroy:function(){$media&&$media.off(_ns).attr("controls",""),this.stop(),$media=null,media=null,played=!1},getPosition:function(){return media?media.currentTime:0},getDuration:function(){return media?media.duration:0},getVolume:function(){var value=0;return media&&(value=100*parseFloat(media.volume)+0),value},setVolume:function(value){media&&(media.volume=(parseFloat(value)-0)/100)},setSize:function(width,height){$media&&$media.width(width).height(height)},seek:function(value){media&&(media.currentTime=parseFloat(value),played||this.play())},play:function(){
media&&media.play()},pause:function(){media&&media.pause()},stop:function(){media&&played&&(media.currentTime=media.duration)},mute:function(state){media&&(media.muted=!!state)},isMuted:function(){return!!media&&!!media.muted},addMedia:function(url,type){return type=type||_defaults.type,!(media&&!_checkSupport(media,type))&&(!(!url||!$media)&&($media.append('<source src="'+url+'" type="'+(_mimeTypes[type]||type)+'" />'),!0))},setMedia:function(url,type){return!!$media&&($media.empty(),this.addMedia(url,type))}}),player},_players={audio:_nativePlayer,video:_nativePlayer,youtube:_youtubePlayer},mediaplayer={init:function(config){var self=this
;return this.config=_.omit(config||{},function(value){return void 0===value||null===value}),_.defaults(this.config,_defaults.options),this._setType(this.config.type||_defaults.type),this._reset(),this._updateVolumeFromStore(),this._initEvents(),this._initSources(function(){self.is("youtube")||_.each(self.config.sources,function(source){if(source&&source.type&&0===source.type.indexOf("audio"))return self._setType(source.type),self._initType(),!1}),self.config.renderTo&&_.defer(function(){self.render()})}),this},destroy:function(){return this.trigger("destroy"),this.player&&this.player.destroy(),this.$component&&(this._unbindEvents(),
this._destroySlider(this.$seekSlider),this._destroySlider(this.$volumeSlider),this.$component.remove()),this._reset(),this},render:function(to){var renderTo=to||this.config.renderTo||this.$container;return this.$component&&this.destroy(),this._initState(),this._buildDom(),this._updateDuration(0),this._updatePosition(0),this._bindEvents(),this._playingState(!1,!0),this._initPlayer(),this._initSize(),this.resize(this.config.width,this.config.height),this.config.is.rendered=!0,renderTo&&(this.$container=$(renderTo).append(this.$component)),this.trigger("render",this.$component),this},seek:function(time,internal){
return this._canPlay()&&(this._updatePosition(time,internal),this.execute("seek",this.position),this.is("ready")||(this.autoStartAt=this.position),this.loop=!!this.config.loop),this},play:function(time){return this._canPlay()&&(void 0!==time&&this.seek(time),this.execute("play"),this.is("ready")||(this.autoStart=!0),this.loop=!!this.config.loop,this.timerId&&cancelAnimationFrame(this.timerId)),this},pause:function(time){return this._canPause()&&(void 0!==time&&this.seek(time),this.execute("pause"),this.is("ready")||(this.autoStart=!1)),this},resume:function(){return this._canResume()&&this.play(),this},stop:function(){return this.loop=!1,
this.execute("stop"),this.is("ready")||(this.autoStart=!1),this},restart:function(){return this.play(0),this},rewind:function(){return this.seek(0),this},mute:function(state){return void 0===state&&(state=!0),this.execute("mute",state),this._setState("muted",state),this.is("ready")||(this.startMuted=state),this},unmute:function(){return this.mute(!1),this},setVolume:function(value,internal){return this._updateVolume(value,internal),this.execute("setVolume",this.volume),this},getVolume:function(){return this.volume},getPosition:function(){return this.position},getDuration:function(){return this.duration},getTimesPlayed:function(){return this.timesPlayed},
getType:function(){return this.type},getContainer:function(){var $container;return!this.$container&&this.$component&&($container=this.$component.parent(),$container.length&&(this.$container=$container)),this.$container},getElement:function(){return this.$component},getSources:function(){return this.config.sources.slice()},setSource:function(src,callback){return this._getSource(src,function(source){this.config.sources=[source],this.is("rendered")&&this.player.setMedia(source.src,source.type),callback&&callback.call(this,source)}),this},addSource:function(src,callback){return this._getSource(src,function(source){this.config.sources.push(source),
this.is("rendered")&&this.player.addMedia(source.src,source.type),callback&&callback.call(this,source)}),this},is:function(state){return!!this.config.is[state]},resize:function(width,height){var type=this.is("video")?"video":"audio",defaults=_defaults[type]||_defaults.video;return width=Math.max(defaults.minWidth,width),height=Math.max(defaults.minHeight,height),this.config.width=width,this.config.height=height,this.$component&&(height-=this.$component.outerHeight()-this.$component.height(),width-=this.$component.outerWidth()-this.$component.width(),this.$component.width(width).height(height),this.is("nogui")||(height-=this.$controls.outerHeight())),
this.execute("setSize",width,height),this},enable:function(){return this._fromState("disabled"),this},disable:function(){return this._toState("disabled"),this.trigger("disabled"),this},show:function(){return this._fromState("hidden"),this},hide:function(){return this._toState("hidden"),this},_setType:function(type){-1!==type.indexOf("youtube")?this.type="youtube":0===type.indexOf("audio")?this.type="audio":this.type="video"},_initType:function(){var is=this.config.is;is.youtube="youtube"===this.type,is.video="video"===this.type||"youtube"===this.type,is.audio="audio"===this.type},_getSource:function(src,callback){function done(){
_needTypeAdjust(source.type)&&(source.type=_getAdjustedType(source)),self.is("youtube")&&(source.id=_extractYoutubeId(source.src)),callback.call(self,source)}var source,self=this;source=_.isString(src)?{src:src}:_.clone(src),this.is("youtube")&&!source.type&&(source.type=_defaults.type),source.type?done():mimetype.getResourceType(source.src,function(err,type){err&&(type=_defaults.type),source.type=type,done()})},_initSources:function(callback){var self=this,sources=_configToSources(this.config);this.config.sources=[],async.each(sources,function(source,cb){self.addSource(source,function(src){cb(null,src)})},callback)},_initEvents:function(){var triggerEvent
;eventifier(this),triggerEvent=this.trigger,this.trigger=function(eventName){return this.$component&&this.$component.trigger(eventName+_ns,_slice.call(arguments,1)),triggerEvent.apply(this,arguments)}},_initSize:function(){var type=this.is("video")?"video":"audio",defaults=_defaults[type]||_defaults.video;this.config.width=_.parseInt(this.config.width)||defaults.width,this.config.height=_.parseInt(this.config.height)||defaults.height},_initPlayer:function(){var error,player=_players[this.type];_support.canPlay(this.type)?(_.isFunction(player)&&(this.player=player(this)),error=!this.player||!this.player.init()):error=!0,this._setState("error",error),
this._setState("nogui",!_support.canControl()),this._setState("loading",!0)},_initState:function(){var page,isCORS=!1;this.is("youtube")||(page=new UrlParser(window.location),isCORS=_.some(this.config.sources,function(source){return!page.sameDomain(source.src)})),this._setState("cors",isCORS),this._setState("ready",!1)},_reset:function(){this.config.is={},this._initType(),this.$component=null,this.$container=null,this.$player=null,this.$media=null,this.$controls=null,this.$seek=null,this.$seekSlider=null,this.$sound=null,this.$volume=null,this.$volumeControl=null,this.$volumeSlider=null,this.$position=null,this.$duration=null,this.player=null,
this.duration=0,this.position=0,this.timesPlayed=0,this.volume=this.config.volume,this.autoStart=this.config.autoStart,this.autoStartAt=this.config.autoStartAt,this.startMuted=this.config.startMuted},_buildDom:function(){this.$component=$(playerTpl(this.config)),this.$player=this.$component.find(".player"),this.$media=this.$component.find(".media"),this.$controls=this.$component.find(".controls"),this.$seek=this.$controls.find(".seek .slider"),this.$sound=this.$controls.find(".sound"),this.$volumeControl=this.$controls.find(".volume"),this.$volume=this.$controls.find(".volume .slider"),this.$position=this.$controls.find('[data-control="time-cur"]'),
this.$duration=this.$controls.find('[data-control="time-end"]'),this.$volumeSlider=this._renderSlider(this.$volume,this.volume,0,100,!0)},_renderSlider:function($elt,value,min,max,vertical){var orientation,direction;return vertical?(orientation="vertical",direction="rtl"):(orientation="horizontal",direction="ltr"),$elt.noUiSlider({start:_ensureNumber(value)||0,step:1,connect:"lower",orientation:orientation,direction:direction,animate:!0,range:{min:_ensureNumber(min)||0,max:_ensureNumber(max)||0}})},_destroySlider:function($elt){$elt&&$elt.get(0).destroy()},_bindEvents:function(){var self=this,overing=!1;this.$component.on("contextmenu"+_ns,function(event){
event.preventDefault()}),this.$controls.on("click"+_ns,".action",function(event){var $target=$(event.target),$action=$target.closest(".action"),id=$action.data("control");_.isFunction(self[id])&&self[id]()}),this.$player.on("click"+_ns,function(){self.is("playing")?self.pause():self.play()}),this.$seek.on("change"+_ns,function(event,value){self.seek(value,!0)}),$(document).on("updateVolume"+_ns,function(event,value){self.setVolume(value)}),this.$volume.on("change"+_ns,function(event,value){self.unmute(),$(document).trigger("updateVolume"+_ns,value),self.setVolume(value,!0)}),this.$sound.on("mouseover"+_ns,"a",function(){var position
;overing||self.$volumeControl.hasClass("up")||self.$volumeControl.hasClass("down")||(overing=!0,position=self.$controls[0].getBoundingClientRect(),position&&position.top&&position.top<200?self.$volumeControl.addClass("down"):self.$volumeControl.addClass("up"),self.overingTimer=_.delay(function(){self.$volumeControl&&self.$volumeControl.removeClass("up down"),overing=!1},15e3),self.$volumeControl.one("mouseleave"+_ns,function(){self.$volumeControl.removeClass("up down"),overing=!1}))})},_unbindEvents:function(){this.$component.off(_ns),this.$player.off(_ns),this.$controls.off(_ns),this.$seek.off(_ns),this.$volume.off(_ns),
this.overingTimer&&clearTimeout(this.overingTimer),$(document).off(_ns)},_updateVolumeSlider:function(value){this.$volumeSlider&&this.$volumeSlider.val(value)},_updateVolume:function(value,internal){this.volume=Math.max(0,Math.min(100,parseFloat(value))),this._storeVolume(this.volume),internal||this._updateVolumeSlider(value)},_updatePositionSlider:function(value){this.$seekSlider&&this.$seekSlider.val(value)},_updatePositionLabel:function(value){this.$position&&this.$position.text(_timerFormat(value))},_updatePosition:function(value,internal){this.position=Math.max(0,Math.min(this.duration,parseFloat(value))),
internal||this._updatePositionSlider(this.position),this._updatePositionLabel(this.position)},_updateDurationSlider:function(value){this.$seekSlider&&(this._destroySlider(this.$seekSlider),this.$seekSlider=null),value&&isFinite(value)&&(this.$seekSlider=this._renderSlider(this.$seek,0,0,value),this.$seekSlider.attr("disabled",!this.config.canSeek))},_updateDurationLabel:function(value){this.$duration&&(value&&isFinite(value)?this.$duration.text(_timerFormat(value)).show():this.$duration.hide())},_updateDuration:function(value){this.duration=Math.abs(parseFloat(value)),this._updateDurationSlider(this.duration),this._updateDurationLabel(this.duration)},
_onReady:function(){this._updateDuration(this.player.getDuration()),this._setState("ready",!0),this._setState("canplay",!0),this._setState("canpause",this.config.canPause),this._setState("canseek",this.config.canSeek),this._setState("loading",!1),this.trigger("ready"),this.setVolume(this.volume),this.mute(!!this.startMuted),this.autoStartAt?this.seek(this.autoStartAt):this.autoStart&&this.play()},_storeVolume:function(volume){return store("mediaVolume").then(function(volumeStore){volumeStore.setItem("volume",volume)})},_updateVolumeFromStore:function(){var self=this;return store("mediaVolume").then(function(volumeStore){return volumeStore.getItem("volume")
}).then(function(volume){_.isNumber(volume)&&(self.volume=Math.max(0,Math.min(100,parseFloat(volume))),self.setVolume(self.volume))})},_onError:function(){this._setState("error",!0),this._setState("loading",!1),this.trigger("error")},_onRecoverError:function(){this._setState("error",!1),this.trigger("recovererror")},_onPlay:function(){this._playingState(!0),this.trigger("play")},_onPause:function(){this._playingState(!1),this.trigger("pause")},_onEnd:function(){this.timesPlayed++,this._playingState(!1,!0),this._updatePosition(0),this._playLimitReached()?(this._disableGUI(),
this.trigger("limitreached")):this.loop?this.restart():parseInt(this.config.replayTimeout,10)>0&&(this.replayTimeoutStartMs=(new window.Date).getTime(),this._replayTimeout()),this.trigger("ended")},_onTimeUpdate:function(){this._updatePosition(this.player.getPosition()),this.trigger("update")},_replayTimeout:function(){var nowMs=(new window.Date).getTime(),elapsedSeconds=Math.floor((nowMs-this.replayTimeoutStartMs)/1e3);this.timerId=requestAnimationFrame(this._replayTimeout.bind(this)),elapsedSeconds>=parseInt(this.config.replayTimeout,10)&&(this._disableGUI(),this.disable(),cancelAnimationFrame(this.timerId))},_disableGUI:function(){
this._setState("ready",!1),this._setState("canplay",!1)},_playLimitReached:function(){return this.config.maxPlays&&this.timesPlayed>=this.config.maxPlays},_canPlay:function(){return this.is("ready")&&!this.is("disabled")&&!this.is("hidden")&&!this._playLimitReached()},_canPause:function(){return!!this.config.canPause},_canSeek:function(){return!!this.config.canSeek},_canResume:function(){return this.is("paused")&&this._canPlay()},_setState:function(name,value){return value=!!value,this.config.is[name]=value,this.$component&&this.$component.toggleClass(name,value),this},_fromState:function(stateName){return this._setState(stateName,!1),this.resume(),this},
_toState:function(stateName){return this.pause(),this._setState(stateName,!0),this},_playingState:function(state,ended){return this._setState("playing",!!state),this._setState("paused",!state),this._setState("ended",!!ended),this},execute:function(command){var ctx=this.player,method=ctx&&ctx[command];if(_.isFunction(method))return method.apply(ctx,_slice.call(arguments,1))}},mediaplayerFactory=function(config){return _.clone(mediaplayer).init(config)};return mediaplayerFactory.canPlay=function(type,mime){return _support.canPlay(type,mime)},mediaplayerFactory.canPlayAudio=function(mime){return _support.canPlayAudio(mime)},
mediaplayerFactory.canPlayVideo=function(mime){return _support.canPlayVideo(mime)},mediaplayerFactory.canControl=function(){return _support.canControl()},mediaplayerFactory.youtubePolling=100,mediaplayerFactory}),define("taoQtiItem/qtiCommonRenderer/renderers/interactions/MediaInteraction",["jquery","lodash","i18n","core/promise","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/mediaInteraction","taoQtiItem/qtiCommonRenderer/helpers/PciResponse","taoQtiItem/qtiCommonRenderer/helpers/container","ui/mediaplayer"],function($,_,__,Promise,tpl,pciResponse,containerHelper,mediaplayer){"use strict";var defaults={type:"video/mp4",video:{width:480,height:270},
audio:{width:400,height:30}},render=function(interaction){var self=this;return new Promise(function(resolve){var $container=containerHelper.get(interaction),media=interaction.object,$item=$container.parents(".qti-item"),maxPlays=parseInt(interaction.attr("maxPlays"),10)||0,url=media.attr("data")||"",canBePlayed=function(){var current=parseInt($container.data("timesPlayed"),10);return 0===maxPlays||maxPlays>current},resize=_.debounce(function(){var width,height;interaction.mediaElement&&(height=$container.find(".media-container").height(),width=$container.find(".media-container").width(),interaction.mediaElement.resize(width,height))
},200),initMediaPlayer=function(){interaction.mediaElement||(interaction.mediaElement=mediaplayer({url:url&&self.resolveUrl(url),type:media.attr("type")||defaults.type,canPause:$container.hasClass("pause"),maxPlays:maxPlays,canSeek:!maxPlays,width:media.attr("width"),height:media.attr("height"),volume:100,autoStart:!!interaction.attr("autostart")&&canBePlayed(),loop:!!interaction.attr("loop"),renderTo:$(".media-container",$container)}).on("render",function(){resize(),$(window).off("resize.mediaInteraction").on("resize.mediaInteraction",resize),$item.off("resize.gridEdit").on("resize.gridEdit",resize),$container.trigger("playerrendered")
}).on("ready",function(){$container.trigger("playerready"),canBePlayed()||this.disable(),resolve()}).on("update",_.throttle(function(){containerHelper.triggerResponseChangeEvent(interaction)},1e3)).on("ended",function(){$container.data("timesPlayed",$container.data("timesPlayed")+1),containerHelper.triggerResponseChangeEvent(interaction),canBePlayed()||this.disable()}))};0===_.size(media.attributes)&&(media.attr("type",defaults.type),media.attr("width",$container.innerWidth()),media.attr("height",defaults.video.height),media.attr("data","")),$container.data("timesPlayed")||$container.data("timesPlayed",0),$container.on("responseSet",function(){
initMediaPlayer()}),initMediaPlayer()})},destroy=function(interaction){var $container=containerHelper.get(interaction);interaction.mediaElement&&(interaction.mediaElement.destroy(),interaction.mediaElement=null),$(".instruction-container",$container).empty(),$(".media-container",$container).empty(),$container.removeData("timesPlayed"),$(window).off("resize.video"),containerHelper.reset(interaction)},_getRawResponse=function(interaction){return[containerHelper.get(interaction).data("timesPlayed")||0]},setResponse=function(interaction,response){var responseValues;if(response)try{responseValues=pciResponse.unserialize(response,interaction),
containerHelper.get(interaction).data("timesPlayed",responseValues[0])}catch(e){}},resetResponse=function(interaction){containerHelper.get(interaction).data("timesPlayed",0)},getResponse=function(interaction){return pciResponse.serialize(_getRawResponse(interaction),interaction)},setState=function(interaction,state){var restorePlayerState=function(playerState){playerState&&interaction.mediaElement&&(_.isNumber(playerState.volume)&&interaction.mediaElement.setVolume(playerState.volume),_.isBoolean(playerState.muted)&&(interaction.mediaElement.mute(playerState.muted),interaction.mediaElement.startMuted=playerState.muted),
playerState.position&&playerState.position>0&&(interaction.mediaElement.seek(playerState.position),interaction.attr("autostart")||interaction.mediaElement.pause()))};_.isObject(state)&&(state.response&&(interaction.resetResponse(),interaction.setResponse(state.response)),_.isPlainObject(state.player)&&interaction.mediaElement&&(interaction.mediaElement.is("ready")?restorePlayerState(state.player):interaction.mediaElement.on("ready.state",function(){interaction.mediaElement.off("ready.state"),restorePlayerState(state.player)})))},getState=function(interaction){var state={},response=interaction.getResponse();return response&&(state.response=response),
interaction.mediaElement&&(state.player={position:interaction.mediaElement.getPosition(),muted:interaction.mediaElement.is("muted"),volume:interaction.mediaElement.getVolume()}),state};return{qtiClass:"mediaInteraction",template:tpl,render:render,getContainer:containerHelper.get,setResponse:setResponse,getResponse:getResponse,resetResponse:resetResponse,destroy:destroy,setState:setState,getState:getState}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/orderInteraction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer=""
;return buffer+='id="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){return" qti-horizontal"}function program5(depth0,data){return" qti-vertical"}function program7(depth0,data){var stack1,buffer="";return buffer+=" "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))}function program9(depth0,data){return"horizontal"}function program11(depth0,data){return"vertical"}function program13(depth0,data){
var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program15(depth0,data){var stack1,helper;return(helper=helpers.prompt)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.prompt,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),stack1||0===stack1?stack1:""}function program17(depth0,data){var stack1;return stack1=typeof depth0===functionType?depth0.apply(depth0):depth0,stack1||0===stack1?stack1:""}function program19(depth0,data){
return"icon-down"}function program21(depth0,data){return"icon-right"}function program23(depth0,data){return"icon-up"}function program25(depth0,data){return"icon-left"}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this,blockHelperMissing=helpers.blockHelperMissing;return buffer+="<div ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.id),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+=' class="qti-interaction qti-blockInteraction qti-orderInteraction',stack1=helpers.if.call(depth0,depth0&&depth0.horizontal,{hash:{},inverse:self.program(5,program5,data),fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='"\n     data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"\n     data-qti-class="orderInteraction"\n     data-orientation="',stack1=helpers.if.call(depth0,depth0&&depth0.horizontal,{hash:{},inverse:self.program(11,program11,data),fn:self.program(9,program9,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(13,program13,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n    ",
stack1=helpers.if.call(depth0,depth0&&depth0.prompt,{hash:{},inverse:self.noop,fn:self.program(15,program15,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n    <div class="instruction-container"></div>\n    <div class="order-interaction-area">\n        <ul class="choice-area square source solid block-listing ',stack1=helpers.if.call(depth0,depth0&&depth0.horizontal,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='">\n            ',options={hash:{},inverse:self.noop,fn:self.program(17,program17,data),data:data},
(helper=helpers.choices)?stack1=helper.call(depth0,options):(helper=depth0&&depth0.choices,stack1=typeof helper===functionType?helper.call(depth0,options):helper),helpers.choices||(stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(17,program17,data),data:data})),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n        </ul>\n        <div class="arrow-bar middle">\n            <span class="icon-add-to-selection ',stack1=helpers.if.call(depth0,depth0&&depth0.horizontal,{hash:{},inverse:self.program(21,program21,data),fn:self.program(19,program19,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+='"></span>\n            <span class="icon-remove-from-selection ',stack1=helpers.if.call(depth0,depth0&&depth0.horizontal,{hash:{},inverse:self.program(25,program25,data),fn:self.program(23,program23,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=' inactive"></span>\n        </div>\n        <ul class="drag-container block-listing"></ul>\n        <ul class="result-area decimal target solid block-listing ',stack1=helpers.if.call(depth0,depth0&&depth0.horizontal,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+='">\n        </ul>\n        <div class="arrow-bar">\n            <span class="icon-move-before ',stack1=helpers.if.call(depth0,depth0&&depth0.horizontal,{hash:{},inverse:self.program(23,program23,data),fn:self.program(25,program25,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=' inactive"></span>\n            <span class="icon-move-after ',stack1=helpers.if.call(depth0,depth0&&depth0.horizontal,{hash:{},inverse:self.program(19,program19,data),fn:self.program(21,program21,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+=' inactive"></span>\n        </div>\n    </div>\n    <div class="notification-container"></div>\n</div>'})}),define("taoQtiItem/qtiCommonRenderer/renderers/interactions/OrderInteraction",["lodash","jquery","i18n","core/mouseEvent","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/orderInteraction","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/instructions/instructionManager","taoQtiItem/qtiCommonRenderer/helpers/PciResponse","interact","ui/interactUtils"],function(_,$,__,triggerMouseEvent,tpl,containerHelper,instructionMgr,pciResponse,interact,interactUtils){"use strict";var render=function(interaction){
function _iFrameDragFix(draggableSelector,target){interactUtils.iFrameDragFixOn(function(){_isDropzoneVisible()&&interact($resultArea.selector).fire({type:"drop",target:$dropzoneElement.eq(0),relatedTarget:target}),interact(draggableSelector).fire({type:"dragend",target:target})})}function _isDropzoneVisible(){return $.contains($container.get(0),$dropzoneElement.get(0))}function _insertDropzone($dragged){var insertPosition,draggedMiddle=_getMiddleOf($dragged),previousMiddle={x:0,y:0};$(resultSelector).each(function(index){var currentMiddle=_getMiddleOf($(this));if("horizontal"!==orientation){
if(draggedMiddle.y>previousMiddle.y&&draggedMiddle.y<currentMiddle.y)return insertPosition=index,!1;previousMiddle.y=currentMiddle.y}else{if(draggedMiddle.x>previousMiddle.x&&draggedMiddle.x<currentMiddle.x)return insertPosition=index,!1;previousMiddle.x=currentMiddle.x}}),void 0!==insertPosition?$(resultSelector).eq(insertPosition).before($dropzoneElement):$resultArea.append($dropzoneElement),$dropzoneElement.height($dragged.height()),$dropzoneElement.find("div").text($dragged.text())}function _adjustDropzonePosition($dragged){
var draggedBox=$dragged.get(0).getBoundingClientRect(),$prevResult=$dropzoneElement.prev(".qti-choice"),$nextResult=$dropzoneElement.next(".qti-choice"),prevMiddle=$prevResult.length>0&&_getMiddleOf($prevResult),nextMiddle=$nextResult.length>0&&_getMiddleOf($nextResult);"horizontal"!==orientation?(prevMiddle&&draggedBox.top<prevMiddle.y&&$prevResult.before($dropzoneElement),nextMiddle&&draggedBox.bottom>nextMiddle.y&&$nextResult.after($dropzoneElement)):(prevMiddle&&draggedBox.left<prevMiddle.x&&$prevResult.before($dropzoneElement),nextMiddle&&draggedBox.right>nextMiddle.x&&$nextResult.after($dropzoneElement))}function _getMiddleOf($element){
var elementBox=$element.get(0).getBoundingClientRect();return{x:elementBox.left+elementBox.width/2,y:elementBox.top+elementBox.height/2}}
var isDragAndDropEnabled,dragOptions,$dropzoneElement,$container=containerHelper.get(interaction),$choiceArea=$container.find(".choice-area"),$resultArea=$container.find(".result-area"),$iconAdd=$container.find(".icon-add-to-selection"),$iconRemove=$container.find(".icon-remove-from-selection"),$iconBefore=$container.find(".icon-move-before"),$iconAfter=$container.find(".icon-move-after"),$activeChoice=null,choiceSelector=$choiceArea.selector+" >li:not(.deactivated)",resultSelector=$resultArea.selector+" >li",$dragContainer=$container.find(".drag-container"),orientation=interaction.attr("orientation")?interaction.attr("orientation"):"vertical",_activeControls=function(){
$iconAdd.addClass("inactive"),$iconRemove.removeClass("inactive").addClass("active"),$iconBefore.removeClass("inactive").addClass("active"),$iconAfter.removeClass("inactive").addClass("active")},_resetControls=function(){$iconAdd.removeClass("inactive"),$iconRemove.removeClass("active").addClass("inactive"),$iconBefore.removeClass("active").addClass("inactive"),$iconAfter.removeClass("active").addClass("inactive")},_setSelection=function($choice){$activeChoice&&$activeChoice.removeClass("active"),$activeChoice=$choice,$activeChoice.addClass("active")},_resetSelection=function(){$activeChoice&&($activeChoice.removeClass("active"),$activeChoice=null),
_resetControls()},_addChoiceToSelection=function($target,position){var $results=$(resultSelector);_resetSelection(),void 0!==position&&position<$results.length?$results.eq(position).before($target):$resultArea.append($target),containerHelper.triggerResponseChangeEvent(interaction),instructionMgr.validateInstructions(interaction)},_toggleResultSelection=function($target){$target.hasClass("active")?_resetSelection():(_setSelection($target),_activeControls())},_removeChoice=function(){$activeChoice&&($choiceArea.append($activeChoice),containerHelper.triggerResponseChangeEvent(interaction),instructionMgr.validateInstructions(interaction)),_resetSelection()
},_moveResultBefore=function(){var $prev=$activeChoice.prev();$prev.length&&($prev.before($activeChoice),containerHelper.triggerResponseChangeEvent(interaction))},_moveResultAfter=function(){var $next=$activeChoice.next();$next.length&&($next.after($activeChoice),containerHelper.triggerResponseChangeEvent(interaction))};interact($container.selector).on("tap",function(){_resetSelection()}),interact(choiceSelector).on("tap",function(e){var $target=$(e.currentTarget);$target.closest(".qti-item").hasClass("prevent-click-handler")||(e.stopPropagation(),$iconAdd.addClass("triggered"),setTimeout(function(){$iconAdd.removeClass("triggered")},150),
_addChoiceToSelection($target))}),interact(resultSelector).on("tap",function(e){var $target=$(e.currentTarget);$target.closest(".qti-item").hasClass("prevent-click-handler")||(e.stopPropagation(),_toggleResultSelection($target))}),interact($iconRemove.selector).on("tap",function(e){$(e.currentTarget).closest(".qti-item").hasClass("prevent-click-handler")||(e.stopPropagation(),_removeChoice())}),interact($iconBefore.selector).on("tap",function(e){$(e.currentTarget).closest(".qti-item").hasClass("prevent-click-handler")||(e.stopPropagation(),_moveResultBefore())}),interact($iconAfter.selector).on("tap",function(e){
$(e.currentTarget).closest(".qti-item").hasClass("prevent-click-handler")||(e.stopPropagation(),_moveResultAfter())}),this.getOption&&this.getOption("enableDragAndDrop")&&this.getOption("enableDragAndDrop").order&&(isDragAndDropEnabled=this.getOption("enableDragAndDrop").order),isDragAndDropEnabled&&($dropzoneElement=$("<li>",{class:"dropzone qti-choice"}),$("<div>",{class:"qti-block"}).appendTo($dropzoneElement),dragOptions={inertia:!1,autoScroll:!0,restrict:{restriction:".qti-interaction",endOnly:!1,elementRect:{top:0,left:0,bottom:1,right:1}}},interact(choiceSelector).draggable(_.assign({},dragOptions,{onstart:function(e){$(e.target).addClass("dragged"),
_iFrameDragFix(choiceSelector,e.target)},onmove:function(e){var $target=$(e.target);interactUtils.moveElement(e.target,e.dx,e.dy),_isDropzoneVisible()&&_adjustDropzonePosition($target)},onend:function(e){var $target=$(e.target);$target.removeClass("dragged"),interactUtils.restoreOriginalPosition($target),interactUtils.iFrameDragFixOff()}})).styleCursor(!1),interact(resultSelector).draggable(_.assign({},dragOptions,{onstart:function(e){var $target=$(e.target);$target.addClass("dragged"),_setSelection($target),$dragContainer.show(),$dragContainer.offset($target.offset()),
"horizontal"===orientation?$dragContainer.width($(e.currentTarget).width()):$dragContainer.width($target.parent().width()),$dragContainer.append($target),_iFrameDragFix(resultSelector,e.target)},onmove:function(e){var $target=$(e.target);interactUtils.moveElement(e.target,e.dx,e.dy),_isDropzoneVisible()&&_adjustDropzonePosition($target)},onend:function(e){var $target=$(e.target),hasBeenDroppedInResultArea=$target.parent===$resultArea;$target.removeClass("dragged"),$dragContainer.hide(),hasBeenDroppedInResultArea||_removeChoice(),interactUtils.restoreOriginalPosition($target),interactUtils.iFrameDragFixOff()}})).styleCursor(!1),
interact($resultArea.selector).dropzone({overlap:.5,ondragenter:function(e){var $dragged=$(e.relatedTarget);_insertDropzone($dragged),$dragged.addClass("droppable")},ondrop:function(e){var $dragged=$(e.relatedTarget),dropzoneIndex=$(resultSelector).index($dropzoneElement);this.ondragleave(e),_addChoiceToSelection($dragged,dropzoneIndex),interactUtils.restoreOriginalPosition($dragged)},ondragleave:function(e){var $dragged=$(e.relatedTarget);$dropzoneElement.remove(),$dragged.removeClass("droppable")}})),_setInstructions(interaction),$(document).on("attributeChange.qti-widget.commonRenderer",function(e,data){
data.element.getSerial()===interaction.getSerial()&&("maxChoices"!==data.key&&"minChoices"!==data.key||(instructionMgr.removeInstructions(interaction),_setInstructions(interaction),instructionMgr.validateInstructions(interaction)))}),_freezeSize($container)},_freezeSize=function($container){var $orderArea=$container.find(".order-interaction-area");$orderArea.height($orderArea.height())},_setInstructions=function(interaction){var $container=containerHelper.get(interaction),$choiceArea=$(".choice-area",$container),$resultArea=$(".result-area",$container),min=parseInt(interaction.attr("minChoices"),10),max=parseInt(interaction.attr("maxChoices"),10)
;if(min&&instructionMgr.appendInstruction(interaction,__("You must use at least %d choices",min),function(){$resultArea.find(">li").length>=min?this.setLevel("success"):this.reset()}),max&&max<_.size(interaction.getChoices())){var instructionMax=instructionMgr.appendInstruction(interaction,__("You can use maximum %d choices",max),function(){$resultArea.find(">li").length>=max?($choiceArea.find(">li").addClass("deactivated"),this.setMessage(__("Maximum choices reached"))):($choiceArea.find(">li").removeClass("deactivated"),this.reset())});interact($choiceArea.selector+" >li.deactivated").on("tap",function(e){var $target=$(e.currentTarget)
;$target.addClass("brd-error"),instructionMax.setLevel("warning",2e3),setTimeout(function(){$target.removeClass("brd-error")},150)}),interact($choiceArea.selector+" >li.deactivated").draggable({onstart:function(e){$(e.target).addClass("brd-error"),instructionMax.setLevel("warning")},onend:function(e){$(e.target).removeClass("brd-error"),instructionMax.setLevel("info")}}).styleCursor(!1)}},resetResponse=function(interaction){var $container=containerHelper.get(interaction),initialOrder=_.keys(interaction.getChoices()),$choiceArea=$(".choice-area",$container).append($(".result-area>li",$container)),$choices=$choiceArea.children(".qti-choice")
;$container.find(".qti-choice.active").each(function(){interactUtils.tapOn(this)}),$choices.detach().sort(function(choice1,choice2){return _.indexOf(initialOrder,$(choice1).data("serial"))>_.indexOf(initialOrder,$(choice2).data("serial"))}),$choiceArea.prepend($choices)},setResponse=function(interaction,response){var $container=containerHelper.get(interaction),$choiceArea=$(".choice-area",$container),$resultArea=$(".result-area",$container);if(null===response||_.isEmpty(response))resetResponse(interaction);else try{_.each(pciResponse.unserialize(response,interaction),function(identifier){
$resultArea.append($choiceArea.find("[data-identifier="+identifier+"]"))})}catch(e){throw new Error("wrong response format in argument : "+e)}instructionMgr.validateInstructions(interaction)},_getRawResponse=function(interaction){var $container=containerHelper.get(interaction),response=[];return $(".result-area>li",$container).each(function(){response.push($(this).data("identifier"))}),response},getResponse=function(interaction){return pciResponse.serialize(_getRawResponse(interaction),interaction)},getCustomData=function(interaction,data){return _.merge(data||{},{horizontal:"horizontal"===interaction.attr("orientation")})},destroy=function(interaction){
var $container=containerHelper.get(interaction);[".choice-area >li:not(.deactivated)",".result-area >li",".icon-add-to-selection",".icon-remove-from-selection",".icon-move-before",".icon-move-after"].forEach(function(selector){interact($container.find(selector).selector).unset()}),$(document).off(".commonRenderer"),$container.find(".order-interaction-area").removeAttr("style"),instructionMgr.removeInstructions(interaction),containerHelper.reset(interaction)},setState=function(interaction,state){var $container;_.isObject(state)&&(state.response&&(interaction.resetResponse(),interaction.setResponse(state.response)),
_.isArray(state.order)&&state.order.length===_.size(interaction.getChoices())&&($container=containerHelper.get(interaction),$(".choice-area .qti-choice",$container).sort(function(a,b){var aIndex=_.indexOf(state.order,$(a).data("identifier")),bIndex=_.indexOf(state.order,$(b).data("identifier"));return aIndex>bIndex?1:aIndex<bIndex?-1:0}).detach().appendTo($(".choice-area",$container))))},getState=function(interaction){var $container,state={},response=interaction.getResponse();return response&&(state.response=response),!0===interaction.attr("shuffle")&&($container=containerHelper.get(interaction),state.order=[],
$(".choice-area .qti-choice",$container).each(function(){state.order.push($(this).data("identifier"))})),state};return{qtiClass:"orderInteraction",getData:getCustomData,template:tpl,render:render,getContainer:containerHelper.get,setResponse:setResponse,getResponse:getResponse,resetResponse:resetResponse,destroy:destroy,setState:setState,getState:getState}}),define("qtiCustomInteractionContext",[],function(){"use strict";return window._pciHooks=window._pciHooks||{},{register:function(pciHook){var typeIdentifier="function"==typeof pciHook.getTypeIdentifier?pciHook.getTypeIdentifier():pciHook.typeIdentifier;if(!typeIdentifier)throw new Error("invalid PCI hook")
;window._pciHooks[typeIdentifier]=pciHook},notifyReady:function(pciInstance){},notifyDone:function(pciInstance){},onready:function(customInteraction,state){},ondone:function(customInteraction,response,state,status){},createPciInstance:function(pciTypeIdentifier){if(window._pciHooks[pciTypeIdentifier]){var instance={},proto=window._pciHooks[pciTypeIdentifier];for(var name in proto)"function"==typeof proto[name]?instance[name]=proto[name]:null!==proto[name]&&"object"==typeof proto[name]?instance[name]=proto[name].constructor():instance[name]=proto[name];return instance}throw new Error("no portable custom interaction hook found with the id "+pciTypeIdentifier)}
}}),define("taoQtiItem/qtiCommonRenderer/renderers/interactions/pci/instanciator",["qtiCustomInteractionContext"],function(qtiCustomInteractionContext){"use strict";return{getPci:function(interaction){var pciTypeIdentifier,pci=interaction.data("pci");if(!pci){if(pciTypeIdentifier=interaction.typeIdentifier,!(pci=qtiCustomInteractionContext.createPciInstance(pciTypeIdentifier)))throw new Error("no custom interaction hook found for the type "+pciTypeIdentifier);interaction.data("pci",pci),pci._taoCustomInteraction=interaction}return pci}}}),
define("taoQtiItem/qtiCommonRenderer/renderers/interactions/pci/common",["lodash","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/renderers/interactions/pci/instanciator"],function(_,containerHelper,instanciator){"use strict";return function(runtime){return{getRequiredModules:function(){var requireEntries=[];return runtime.hook&&requireEntries.push(runtime.hook.replace(/\.js$/,"")),_.forEach(runtime.libraries,function(lib){requireEntries.push(lib.replace(/\.js$/,""))}),_.forEach(runtime.stylesheets,function(stylesheet){requireEntries.push("css!"+stylesheet.replace(/\.css$/,""))}),requireEntries},
createInstance:function(interaction,context){var id=interaction.attr("responseIdentifier"),pci=instanciator.getPci(interaction),properties=_.clone(interaction.properties),assetManager=context.assetManager,pciAssetManager={resolve:function(url){var resolved=assetManager.resolveBy("portableElementLocation",url);return resolved===url||_.isUndefined(resolved)?assetManager.resolve(url):resolved}};pci.initialize(id,containerHelper.get(interaction).children().get(0),properties,pciAssetManager)},destroy:function(interaction){return instanciator.getPci(interaction).destroy()},setState:function(interaction,state){
instanciator.getPci(interaction).setSerializedState(state)},getState:function(interaction){return instanciator.getPci(interaction).getSerializedState()}}}}),define("taoQtiItem/qtiCommonRenderer/renderers/interactions/pci/ims",["lodash","core/logger","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/renderers/interactions/pci/instanciator"],function(_,loggerFactory,containerHelper,instanciator){"use strict";var logger=loggerFactory("taoQtiItem/qtiCommonRenderer/renderers/interactions/pci/ims"),pciReadyCallback=function(pci,state){logger.info("pciReadyCallback called on PCI "+pci.typeIdentifier)
},pciDoneCallback=function(pci,response,state,status){logger.info("pciDoneCallback called on PCI "+pci.typeIdentifier)};return function(runtime){return{getRequiredModules:function(){var requireEntries=[];return _.forEach(runtime.modules,function(module,name){requireEntries.push(name)}),requireEntries},createInstance:function(interaction,context){var config,pci=instanciator.getPci(interaction),properties=_.clone(interaction.properties);_.forOwn(properties,function(propVal,propKey){properties[propKey]=_.isArray(propVal)||_.isObject(propVal)?JSON.stringify(propVal):propVal}),config={properties:properties,templateVariables:{},boundTo:context.response||{},
onready:pciReadyCallback,ondone:pciDoneCallback,status:"interacting"},pci.getInstance(containerHelper.get(interaction).get(0),config,context.state)},destroy:function(interaction){instanciator.getPci(interaction).oncompleted()},setState:_.noop,getState:function(interaction){return instanciator.getPci(interaction).getState()}}}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/customInteraction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,
stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<div class="qti-interaction qti-customInteraction" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"',
stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n    ",(helper=helpers.markup)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.markup,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</div>"})}),define("taoQtiItem/qtiCommonRenderer/helpers/PortableElement",["jquery"],function($){"use strict";function fixMarkupMediaSources(html,renderer){return html=html||"",
html.replace(imgSrcPattern,function(substr,$1,$2,$3){return $1+(renderer.resolveUrl($2)||$2)+$3})}var imgSrcPattern=/(<img[^>]*src=["'])([^"']+)(["'])/gi;return{fixMarkupMediaSources:fixMarkupMediaSources}}),
define("taoQtiItem/qtiCommonRenderer/renderers/interactions/PortableCustomInteraction",["lodash","core/promise","core/logger","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/customInteraction","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/PortableElement","taoQtiItem/qtiCommonRenderer/renderers/interactions/pci/instanciator","taoQtiItem/qtiCommonRenderer/renderers/interactions/pci/common","taoQtiItem/qtiCommonRenderer/renderers/interactions/pci/ims","qtiCustomInteractionContext","taoQtiItem/qtiItem/helper/util","taoQtiItem/portableElementRegistry/ciRegistry"],function(_,Promise,loggerFactory,tpl,containerHelper,PortableElement,instanciator,commonPciRenderer,imsPciRenderer,qtiCustomInteractionContext,util,ciRegistry){
"use strict";var _setPciModel=function(interaction,runtime){var pciRenderer;pciRenderer="IMSPCI"===runtime.model?imsPciRenderer(runtime):commonPciRenderer(runtime),interaction.data("pci-model",runtime.model),interaction.data("pci-renderer",pciRenderer)},_getPciRenderer=function(interaction){return interaction.data("pci-renderer")},render=function(interaction,options){var self=this;return options=options||{},new Promise(function(resolve,reject){var state,id=interaction.attr("responseIdentifier"),typeIdentifier=interaction.typeIdentifier,assetManager=self.getAssetManager(),response={};options.state&&options.state[id]&&(state=options.state[id]),response[id]={
base:null},ciRegistry.loadRuntimes({include:[typeIdentifier]}).then(function(){var pciRenderer,runtime=ciRegistry.getRuntime(typeIdentifier);if(!runtime)return reject("The runtime for the pci cannot be found : "+typeIdentifier);_setPciModel(interaction,runtime),pciRenderer=_getPciRenderer(interaction),require(pciRenderer.getRequiredModules(),function(){var pci=instanciator.getPci(interaction);return pci?(pciRenderer.createInstance(interaction,{response:response,state:state,assetManager:assetManager}),_.isFunction(pci.on)&&interaction.onPci("responseChange",function(){containerHelper.triggerResponseChangeEvent(interaction)}),
resolve()):reject('Unable to initialize pci "'+id+'"')},reject)}).catch(function(error){reject('Error loading runtime "'+id+'": '+error)})})},setResponse=function(interaction,response){instanciator.getPci(interaction).setResponse(response)},getResponse=function(interaction){return instanciator.getPci(interaction).getResponse()},resetResponse=function(interaction){instanciator.getPci(interaction).resetResponse()},destroy=function(interaction){return _getPciRenderer(interaction).destroy(interaction)},setState=function(interaction,serializedState){_getPciRenderer(interaction).setState(interaction,serializedState)},getState=function(interaction){
return _getPciRenderer(interaction).getState(interaction)};return{qtiClass:"customInteraction",template:tpl,getData:function(customInteraction,data){var markup=data.markup;return markup=util.removeMarkupNamespaces(markup),markup=PortableElement.fixMarkupMediaSources(markup,this),data.markup=markup,data},render:render,getContainer:containerHelper.get,setResponse:setResponse,getResponse:getResponse,resetResponse:resetResponse,destroy:destroy,getState:getState,setState:setState}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/prompt",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){
function program1(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<div class="qti-prompt-container" data-html-editable-container',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},
inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='>\n    <div class="qti-prompt" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-html-editable>',(helper=helpers.body)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.body,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="</div>\n</div>"})}),
define("taoQtiItem/qtiCommonRenderer/renderers/interactions/Prompt",["tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/prompt","taoQtiItem/qtiCommonRenderer/helpers/container"],function(tpl,containerHelper){"use strict";return{qtiClass:"prompt",template:tpl,getContainer:containerHelper.get}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/selectPointInteraction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+='id="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.id,
typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,buffer="";return buffer+=" "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))}function program5(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program7(depth0,data){var stack1,helper;return(helper=helpers.prompt)?stack1=helper.call(depth0,{hash:{},
data:data}):(helper=depth0&&depth0.prompt,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),stack1||0===stack1?stack1:""}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+="<div ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.id),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+=' class="qti-interaction qti-blockInteraction qti-graphicInteraction qti-selectPointInteraction clearfix',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,
null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n    ",stack1=helpers.if.call(depth0,depth0&&depth0.prompt,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n    <div class="instruction-container"></div>\n    <div class="image-editor solid">\n        <div id=\'graphic-paper-',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+'\' class="main-image-box"></div>\n    </div>\n</div>'})}),define("taoQtiItem/qtiCommonRenderer/renderers/interactions/SelectPointInteraction",["jquery","lodash","i18n","core/promise","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/selectPointInteraction","taoQtiItem/qtiCommonRenderer/helpers/Graphic","taoQtiItem/qtiCommonRenderer/helpers/PciResponse","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/instructions/instructionManager"],function($,_,__,Promise,tpl,graphic,pciResponse,containerHelper,instructionMgr){"use strict";var getRawResponse=function(interaction){
return interaction&&interaction.paper&&_.isArray(interaction.paper.points)?_.map(interaction.paper.points,function(point){return[point.x,point.y]}):[]},addPoint=function(interaction,point){var maxChoices=interaction.attr("maxChoices"),pointChange=function(){containerHelper.triggerResponseChangeEvent(interaction),instructionMgr.validateInstructions(interaction)};maxChoices>0&&getRawResponse(interaction).length>=maxChoices?instructionMgr.validateInstructions(interaction):(_.isArray(interaction.paper.points)||(interaction.paper.points=[]),graphic.createTarget(interaction.paper,{point:point,create:function(target){
interaction.isTouch&&target&&target.getBBox&&graphic.createTouchCircle(interaction.paper,target.getBBox()),interaction.paper.points.push(point),pointChange()},remove:function(){_.remove(interaction.paper.points,point),pointChange()}}))},enableSelection=function(interaction){var $container=containerHelper.get(interaction),$imageBox=$container.find(".main-image-box"),isResponsive=$container.hasClass("responsive"),image=interaction.paper.getById("bg-image-"+interaction.serial);interaction.paper.isTouch=!1,image.touchstart(function(){interaction.paper.isTouch=!0,image.untouchstart()}),image.click(function(event){
addPoint(interaction,graphic.getPoint(event,interaction.paper,$imageBox,isResponsive))})},render=function(interaction){var self=this;return new Promise(function(resolve){var $container=containerHelper.get(interaction),background=interaction.object.attributes;$container.off("resized.qti-widget.resolve").one("resized.qti-widget.resolve",resolve),interaction.paper=graphic.responsivePaper("graphic-paper-"+interaction.serial,interaction.serial,{width:background.width,height:background.height,img:self.resolveUrl(background.data),imgId:"bg-image-"+interaction.serial,container:$container}),enableSelection(interaction),
instructionMgr.minMaxChoiceInstructions(interaction,{min:interaction.attr("minChoices"),max:interaction.attr("maxChoices"),choiceCount:!1,getResponse:getRawResponse,onError:function(data){data&&graphic.highlightError(data.target,"success")}})})},setResponse=function(interaction,response){var responseValues;if(response&&interaction.paper)try{responseValues=pciResponse.unserialize(response,interaction),"single"===interaction.getResponseDeclaration().attr("cardinality")&&(responseValues=[responseValues]),_(responseValues).filter(function(point){return _.isArray(point)&&2===point.length}).forEach(function(point){addPoint(interaction,{x:point[0],y:point[1]})})
}catch(err){return}},resetResponse=function(interaction){interaction&&interaction.paper&&(interaction.paper.points=[],interaction.paper.forEach(function(element){"object"==typeof element.data("point")&&graphic.trigger(element,"click")}))},getResponse=function(interaction){return pciResponse.serialize(getRawResponse(interaction),interaction)},destroy=function(interaction){var $container;interaction.paper&&($container=containerHelper.get(interaction),$(window).off("resize.qti-widget."+interaction.serial),$container.off("resize.qti-widget."+interaction.serial),interaction.paper.clear(),instructionMgr.removeInstructions(interaction),
$(".main-image-box",$container).empty().removeAttr("style"),$(".image-editor",$container).removeAttr("style")),containerHelper.reset(interaction)},setState=function(interaction,state){_.isObject(state)&&state.response&&(interaction.resetResponse(),interaction.setResponse(state.response))},getState=function(interaction){var state={},response=interaction.getResponse();return response&&(state.response=response),state};return{qtiClass:"selectPointInteraction",template:tpl,render:render,getContainer:containerHelper.get,setResponse:setResponse,getResponse:getResponse,resetResponse:resetResponse,destroy:destroy,setState:setState,getState:getState}}),
define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/sliderInteraction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+='id="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,buffer="";return buffer+=" "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))}
function program5(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program7(depth0,data){var stack1,helper;return(helper=helpers.prompt)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.prompt,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),stack1||0===stack1?stack1:""}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{}
;var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+="<div ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.id),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=' class="qti-interaction qti-blockInteraction qti-sliderInteraction',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+='" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-qti-class="sliderInteraction"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=" >\r\n    ",stack1=helpers.if.call(depth0,depth0&&depth0.prompt,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}),
(stack1||0===stack1)&&(buffer+=stack1),buffer+='\r\n    <div class="instruction-container"></div>\r\n</div>'})}),define("taoQtiItem/qtiCommonRenderer/renderers/interactions/SliderInteraction",["jquery","lodash","i18n","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/sliderInteraction","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/instructions/instructionManager","taoQtiItem/qtiCommonRenderer/helpers/PciResponse","nouislider"],function($,_,__,tpl,containerHelper,instructionMgr,pciResponse){"use strict";var _slideTo=function(options){options.sliderCurrentValue.find(".qti-slider-cur-value").text(options.value),
options.sliderValue.val(options.value)},render=function(interaction){var attributes=interaction.getAttributes(),$container=interaction.getContainer(),$el=$("<div />").attr({id:attributes.responseIdentifier+"-qti-slider",class:"qti-slider"}),$sliderLabels=$("<div />").attr({class:"qti-slider-values"}),$sliderCurrentValue=$("<div />").attr({id:attributes.responseIdentifier+"-qti-slider-cur-value",class:"qti-slider-cur-value"}),$sliderValue=$("<input />").attr({type:"hidden",id:attributes.responseIdentifier+"-qti-slider-value"
}),orientation="horizontal",reverse=!(void 0===attributes.reverse||!attributes.reverse),min=parseInt(attributes.lowerBound),max=parseInt(attributes.upperBound),step=void 0!==attributes.step&&attributes.step?parseInt(attributes.step):1,steps=(max-min)/step;$sliderCurrentValue.append('<span class="qti-slider-cur-value-text">'+__("Current value:")+" </span>").append('<span class="qti-slider-cur-value"></span>'),$sliderLabels.append('<span class="slider-min">'+(reverse?max:min)+"</span>").append('<span class="slider-max">'+(reverse?min:max)+"</span>"),interaction.getContainer().append($el).append($sliderLabels).append($sliderCurrentValue).append($sliderValue),
void 0!==attributes.orientation&&$.inArray(attributes.orientation,["horizontal","vertical"])>-1&&(orientation=attributes.orientation);var sliderSize=0;if("horizontal"===orientation)$container.addClass("qti-slider-horizontal");else{sliderSize=20*steps,sliderSize>300&&(sliderSize=300),$container.addClass("qti-slider-vertical"),$el.height(sliderSize+"px"),$sliderLabels.height(sliderSize+"px")}if(void 0!==attributes.stepLabel&&attributes.stepLabel){var middleStep=parseInt(steps/2),leftOffset=100/steps*middleStep,middleValue=reverse?max-middleStep*step:min+middleStep*step
;"horizontal"===orientation?$sliderLabels.find(".slider-min").after('<span class="slider-middle" style="left:'+leftOffset+'%">'+middleValue+"</span>"):$sliderLabels.find(".slider-min").after('<span class="slider-middle" style="top:'+leftOffset+'%">'+middleValue+"</span>")}$el.noUiSlider({start:reverse?max:min,range:{min:min,max:max},step:step,orientation:orientation}).on("slide",function(e){var val=parseInt($(this).val());interaction.attr("reverse")&&(val=max+min-val),val=Math.round(1e3*val)/1e3,_slideTo({value:val,sliderValue:$sliderValue,sliderCurrentValue:$sliderCurrentValue}),containerHelper.triggerResponseChangeEvent(interaction)}),_slideTo({value:min,
sliderValue:$sliderValue,sliderCurrentValue:$sliderCurrentValue})},resetResponse=function(interaction){var attributes=interaction.getAttributes(),$el=$("#"+attributes.responseIdentifier+"-qti-slider"),$sliderValue=$("#"+attributes.responseIdentifier+"-qti-slider-value"),$sliderCurrentValue=$("#"+attributes.responseIdentifier+"-qti-slider-cur-value"),min=parseInt(attributes.lowerBound),max=parseInt(attributes.upperBound),reverse=!(void 0===attributes.reverse||!attributes.reverse),startValue=reverse?max:min;_slideTo({value:min,sliderValue:$sliderValue,sliderCurrentValue:$sliderCurrentValue}),$el.val(startValue)},setResponse=function(interaction,response){
var value,attributes=interaction.getAttributes(),$sliderValue=$("#"+attributes.responseIdentifier+"-qti-slider-value"),$sliderCurrentValue=$("#"+attributes.responseIdentifier+"-qti-slider-cur-value"),$el=$("#"+attributes.responseIdentifier+"-qti-slider"),min=parseInt(attributes.lowerBound),max=parseInt(attributes.upperBound);value=pciResponse.unserialize(response,interaction)[0],_slideTo({value:value,sliderValue:$sliderValue,sliderCurrentValue:$sliderCurrentValue}),$el.val(interaction.attr("reverse")?max+min-value:value)},_getRawResponse=function(interaction){
var value,attributes=interaction.getAttributes(),baseType=interaction.getResponseDeclaration().attr("baseType"),min=parseInt(attributes.lowerBound),$sliderValue=$("#"+attributes.responseIdentifier+"-qti-slider-value");return"integer"===baseType?value=parseInt($sliderValue.val()):"float"===baseType&&(value=parseFloat($sliderValue.val())),isNaN(value)?min:value},getResponse=function(interaction){return pciResponse.serialize([_getRawResponse(interaction)],interaction)},destroy=function(interaction){interaction.getContainer().empty(),containerHelper.reset(interaction)},setState=function(interaction,state){
_.isObject(state)&&state.response&&(interaction.resetResponse(),interaction.setResponse(state.response))},getState=function(interaction){var state={},response=interaction.getResponse();return response&&(state.response=response),state};return{qtiClass:"sliderInteraction",template:tpl,render:render,getContainer:containerHelper.get,setResponse:setResponse,getResponse:getResponse,resetResponse:resetResponse,destroy:destroy,setState:setState,getState:getState}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/textEntryInteraction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){
function program1(depth0,data){var stack1,buffer="";return buffer+='id="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,buffer="";return buffer+=" "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this
;return buffer+="<input ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.id),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=' class="qti-interaction qti-inlineInteraction qti-textEntryInteraction',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data
}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-qti-class="textEntryInteraction" type="text">'})}),define("util/locale",["module","moment"],function(module,moment){"use strict";var configuration=module.config();return{getConfig:function(){return configuration},setConfig:function(config){configuration=config||{}},getDecimalSeparator:function(){return this.getConfig()&&this.getConfig().decimalSeparator?this.getConfig().decimalSeparator:"."},getThousandsSeparator:function(){
return this.getConfig()&&this.getConfig().thousandsSeparator?this.getConfig().thousandsSeparator:""},getDateTimeFormat:function(){return this.getConfig()&&this.getConfig().dateTimeFormat?this.getConfig().dateTimeFormat:"DD/MM/YYYY HH:mm:ss"},parseFloat:function(numStr){var thousandsSeparator=this.getThousandsSeparator(),decimalSeparator=this.getDecimalSeparator();return thousandsSeparator.length&&(numStr=numStr.replace(new RegExp("\\"+thousandsSeparator,"g"),"")),"."!==decimalSeparator&&(numStr=numStr.replace(new RegExp("\\.","g"),"_").replace(new RegExp("\\"+decimalSeparator,"g"),".")),parseFloat(numStr)},parseInt:function(number,numericBase){
var thousandsSeparator=this.getThousandsSeparator();return thousandsSeparator.length&&(number=number.replace(new RegExp("\\"+thousandsSeparator,"g"),"")),parseInt(number,numericBase)},formatDateTime:function(timestamp){return moment(timestamp,"X").format(this.getDateTimeFormat())}}}),
define("taoQtiItem/qtiCommonRenderer/renderers/interactions/TextEntryInteraction",["jquery","lodash","i18n","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/textEntryInteraction","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/instructions/instructionManager","taoQtiItem/qtiCommonRenderer/helpers/PciResponse","taoQtiItem/qtiCommonRenderer/helpers/patternMask","util/locale","ui/tooltip"],function($,_,__,tpl,containerHelper,instructionMgr,pciResponse,patternMaskHelper,locale,tooltip){"use strict";var deleteTooltip=function($input){$input.data("$tooltip")&&($input.data("$tooltip").dispose(),$input.removeData("$tooltip"))
},createTooltip=function($input,theme,message){var textEntryTooltip=tooltip.create($input,message,{theme:theme,trigger:"manual"});$input.data("$tooltip",textEntryTooltip)},render=function(interaction){var expectedLength,updateMaxCharsTooltip,updatePatternMaskTooltip,attributes=interaction.getAttributes(),$input=interaction.getContainer(),patternMask=interaction.attr("patternMask"),maxChars=parseInt(patternMaskHelper.parsePattern(patternMask,"chars"),10);attributes.expectedLength&&(expectedLength=parseInt(attributes.expectedLength)+2,$input.css("width",expectedLength+"ch"),$input.css("min-width",expectedLength+"ch")),
attributes.placeholderText&&$input.attr("placeholder",attributes.placeholderText),maxChars?(updateMaxCharsTooltip=function(){var message,count=$input.val().length;deleteTooltip($input),count>=maxChars?$input.addClass("maxed"):($input.removeClass("maxed"),message=__("%d characters allowed",maxChars),createTooltip($input,"info",message),$input.data("$tooltip").show())},$input.attr("maxlength",maxChars).on("focus.commonRenderer",function(){updateMaxCharsTooltip()}).on("keyup.commonRenderer",function(){updateMaxCharsTooltip(),containerHelper.triggerResponseChangeEvent(interaction)}).on("blur.commonRenderer",function(){deleteTooltip($input)
})):attributes.patternMask?(updatePatternMaskTooltip=function(){var regex=new RegExp(attributes.patternMask);$input.val().length&&regex.test($input.val())?($input.removeClass("invalid"),deleteTooltip($input)):($input.addClass("invalid"),deleteTooltip($input),createTooltip($input,"error",__("This is not a valid answer.")),$input.data("$tooltip").show())},$input.on("focus.commonRenderer",function(){updatePatternMaskTooltip()}).on("keyup.commonRenderer",function(){updatePatternMaskTooltip(),containerHelper.triggerResponseChangeEvent(interaction)}).on("blur.commonRenderer",function(){deleteTooltip($input)})):$input.on("keyup.commonRenderer",function(){
containerHelper.triggerResponseChangeEvent(interaction)})},resetResponse=function(interaction){interaction.getContainer().val("")},setResponse=function(interaction,response){var responseValue;try{responseValue=pciResponse.unserialize(response,interaction)}catch(e){}responseValue&&responseValue.length&&interaction.getContainer().val(responseValue[0])},getResponse=function(interaction){var value,ret={base:{}},$input=interaction.getContainer(),attributes=interaction.getAttributes(),baseType=interaction.getResponseDeclaration().attr("baseType"),numericBase=attributes.base||10
;return $input.hasClass("invalid")||attributes.placeholderText&&$input.val()===attributes.placeholderText?value="":"integer"===baseType?value=locale.parseInt($input.val(),numericBase):"float"===baseType?value=locale.parseFloat($input.val()):"string"===baseType&&(value=$input.val()),ret.base[baseType]=isNaN(value)&&"number"==typeof value?"":value,ret},destroy=function(interaction){$(document).off(".commonRenderer"),containerHelper.get(interaction).off(".commonRenderer"),instructionMgr.removeInstructions(interaction),containerHelper.reset(interaction)},setState=function(interaction,state){_.isObject(state)&&state.response&&(interaction.resetResponse(),
interaction.setResponse(state.response))},getState=function(interaction){var state={},response=interaction.getResponse();return response&&(state.response=response),state};return{qtiClass:"textEntryInteraction",template:tpl,render:render,getContainer:containerHelper.get,setResponse:setResponse,getResponse:getResponse,resetResponse:resetResponse,destroy:destroy,setState:setState,getState:getState}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/uploadInteraction",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer=""
;return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,helper;return(helper=helpers.prompt)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.prompt,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),stack1||0===stack1?stack1:""}function program5(depth0,data){var stack1,helper,buffer="";return buffer+='accept="',(helper=helpers.accept)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.accept,
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;return buffer+='<div class="qti-interaction qti-blockInteraction qti-uploadInteraction" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+'"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n\t",stack1=helpers.if.call(depth0,depth0&&depth0.prompt,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+='\n\t<div class="instruction-container"></div>\n    <div class="file-upload fixed-grid-row lft">\n        <div class="progressbar"></div>\n        <span class="btn-info small col-4"></span>\n        <span class="file-name placeholder col-8 truncate"></span>\n        <input type="file" ',stack1=helpers.if.call(depth0,depth0&&depth0.accept,{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+='/>\n    </div>\n    <div class="file-upload-preview lft visible-file-upload-preview runtime-visible-file-upload-preview">\n        <p class="nopreview">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"No preview available",options):helperMissing.call(depth0,"__","No preview available",options)))+'</p>\n    </div>\n    <div class="file-upload-preview-popup modal">\n        <div class="modal-body">\n        </div>\n    </div>\n</div>'})}),define("taoQtiItem/qtiCommonRenderer/helpers/uploadMime",["lodash","i18n"],function(_,__){"use strict";var uploadMime={getMimeTypes:function(){return[{
mime:"application/zip",label:__("ZIP archive"),equivalent:["application/x-zip-compressed"]},{mime:"text/plain",label:__("Plain text")},{mime:"application/pdf",label:__("PDF file")},{mime:"image/jpeg",label:__("JPEG image")},{mime:"image/png",label:__("PNG image")},{mime:"image/gif",label:__("GIF image")},{mime:"image/svg+xml",label:__("SVG image")},{mime:"audio/mpeg",label:__("MPEG audio"),equivalent:["audio/mp3"]},{mime:"audio/x-ms-wma",label:__("Windows Media audio")},{mime:"audio/x-wav",label:__("WAV audio"),equivalent:["audio/wav"]},{mime:"video/mpeg",label:__("MPEG video")},{mime:"video/mp4",label:__("MP4 video")},{mime:"video/quicktime",
label:__("Quicktime video")},{mime:"video/x-ms-wmv",label:__("Windows Media video")},{mime:"video/x-flv",label:__("Flash video")},{mime:"text/csv",label:__("CSV file")},{mime:"application/msword",label:__("Microsoft Word"),equivalent:["application/vnd.openxmlformats-officedocument.wordprocessingml.document"]},{mime:"application/vnd.ms-excel",label:__("Microsoft Excel"),equivalent:["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]},{mime:"application/vnd.ms-powerpoint",label:__("Microsoft Powerpoint"),equivalent:["application/vnd.openxmlformats-officedocument.presentationml.presentation"]}]},setExpectedTypes:function(interaction,types){
var classes=interaction.attr("class")||"";classes=classes.replace(/x-tao-upload-type-[-_a-zA-Z+.0-9]*/g,"").trim(),interaction.attr("class",classes),interaction.removeAttr("type"),types&&(1===types.length?"any/kind"!==types[0]&&interaction.attr("type",types[0]):interaction.attr("class",_.reduce(types,function(acc,selectedType){return acc+" x-tao-upload-type-"+selectedType.replace("/","_")},classes).trim()))},getExpectedTypes:function(interaction,includeEquivalents){var mimes,classes=interaction.attr("class")||"",types=[],equivalents=[]
;return interaction.attr("type")?types.push(interaction.attr("type")):classes.replace(/x-tao-upload-type-([-_a-zA-Z+.0-9]*)/g,function($0,type){types.push(type.replace("_","/").trim())}),!0===includeEquivalents&&(mimes=uploadMime.getMimeTypes(),_.forEach(types,function(mime){var mimeData=_.find(mimes,{mime:mime});mimeData&&_.isArray(mimeData.equivalent)&&(equivalents=_.union(equivalents,mimeData.equivalent))})),_.union(types,equivalents)}};return uploadMime}),define("iframeNotifier",["jquery","lodash"],function($,_){function hasAccess(windowElt){return!(!window.__knownParent__||!windowElt||windowElt===window)}return{parent:function(eventName,args){
_.defer(function(){if(hasAccess(window.parent)&&window.parent.$){(0,window.parent.$)(window.parent.document).trigger(eventName,args||[])}})},top:function(eventName,args){_.defer(function(){if(hasAccess(window.top)&&window.top.$){(0,window.top.$)(window.top.document).trigger(eventName,args||[])}})}}}),define("ui/documentViewer/viewerFactory",["lodash","core/promise","core/providerRegistry","core/delegator","ui/component"],function(_,Promise,providerRegistry,delegator,component){"use strict";function viewerFactory(documentType,config){var viewer=viewerFactory.getProvider(documentType),documentViewer=component({getType:function(){return this.config.type},
getUrl:function(){return this.config.url}},defaults),delegate=delegator(documentViewer,viewer,{name:documentType+"Viewer",eventifier:!1,wrapper:function(response){return Promise.resolve(response)}});return _.isFunction(viewer.getTemplate)&&documentViewer.setTemplate(viewer.getTemplate()),documentViewer.on("init",function(){var self=this;delegate("init").then(function(){self.trigger("initialized")}).catch(function(err){self.trigger("error",err)})}).on("destroy",function(){var self=this;delegate("unload").then(function(){self.trigger("unloaded")}).catch(function(err){self.trigger("error",err)})}).on("render",function(){var self=this
;delegate("load").then(function(){self.trigger("loaded")}).catch(function(err){self.trigger("error",err)})}).on("setsize",function(width,height){var self=this;delegate("setSize",width,height).then(function(){self.trigger("resized",width,height)}).catch(function(err){self.trigger("error",err)})}).init(config)}var defaults={width:"auto",height:"auto",fitToWidth:!1,allowSearch:!1,caseSensitiveSearch:!1,highlightAllMatches:!1},mandatory=["load"];return providerRegistry(viewerFactory,function(provider){return _.each(mandatory,function(name){if(!_.isFunction(provider[name]))throw new TypeError("The viewer provider MUST implement the "+name+"() method!")}),!0})}),
define("tpl!ui/documentViewer/documentViewer",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{},'<div class="document-viewer"></div>'})}),define("ui/documentViewer",["lodash","ui/component","ui/documentViewer/viewerFactory","tpl!ui/documentViewer/documentViewer"],function(_,component,viewerFactory,documentViewerTpl){"use strict";function documentViewerFactory(config){var documentType,documentUrl,viewer;return component({getType:function(){return documentType||null},getUrl:function(){return documentUrl||null},
getViewer:function(){return viewer||null},load:function(url,type){var self=this;if(_.isEmpty(url)||!_.isString(url))throw new TypeError("You must provide the URL of the document!");if(_.isEmpty(type)||!_.isString(type))throw new TypeError("You must provide a document type!");return viewer&&viewer.destroy(),documentType=type,documentUrl=url,viewer=viewerFactory(documentType,_.merge({type:documentType,url:documentUrl,replace:!0},_.pick(this.config,_.keys(defaults)))).on("loaded",function(){self.trigger("loaded",documentUrl,documentType)}).on("unloaded",function(){self.trigger("unloaded",documentUrl,documentType)}).on("resized",function(width,height){
self.trigger("resized",width,height)}).on("error",function(err){self.trigger("error",err)}),this.trigger("load",documentUrl,documentType),this.is("rendered")&&viewer.render(this.getElement()),this},unload:function(){return viewer&&viewer.destroy(),this.trigger("unload",documentUrl,documentType),viewer=null,documentType=null,documentUrl=null,this}},defaults).setTemplate(documentViewerTpl).on("init",function(){viewer=null,documentType=null,documentUrl=null}).on("destroy",function(){this.unload()}).on("render",function(){viewer&&viewer.render(this.getElement())}).on("setsize",function(width,height){viewer&&viewer.setSize(width,height)}).init(config)}
var defaults={width:"auto",height:"auto",fitToWidth:!1,allowSearch:!1,caseSensitiveSearch:!1,highlightAllMatches:!1};return documentViewerFactory.registerProvider=function(type,provider){return viewerFactory.registerProvider(type,provider),this},documentViewerFactory.clearProviders=function(){return viewerFactory.clearProviders(),this},documentViewerFactory}),define("core/requireIfExists",["core/promise"],function(Promise){"use strict";function requireIfExists(uri){return new Promise(function(resolve){function failed(err){var failedId=err.requireModules&&err.requireModules[0];if(failedId!==uri)throw err;requirejs.undef(failedId),define(failedId,function(){
return null}),require([failedId],resolve)}require([uri],resolve,failed)})}return requireIfExists}),define("tpl!ui/documentViewer/providers/pdfViewer/fallback/viewer",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{},"<iframe ></iframe>"})}),define("ui/documentViewer/providers/pdfViewer/fallback/viewer",["jquery","core/promise","tpl!ui/documentViewer/providers/pdfViewer/fallback/viewer"],function($,Promise,viewerTpl){"use strict";function fallbackViewerFactory($container){var template=viewerTpl(),$viewer=null
;return{load:function(url){return new Promise(function(resolve){$viewer=$container.html(template).find("iframe"),$viewer.one("load.provider",resolve).attr("src",url)})},unload:function(){$container.empty(),$viewer=null},setSize:function(width,height){$viewer&&$viewer.width(width).height(height)}}}return fallbackViewerFactory}),define("ui/documentViewer/providers/pdfViewer/pdfjs/areaBroker",["lodash","core/areaBroker"],function(_,areaBroker){"use strict";var requireAreas=["bar","actions","info","content"];return _.partial(areaBroker,requireAreas)}),define("tpl!ui/documentViewer/providers/pdfViewer/pdfjs/match",["handlebars"],function(hb){
return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",escapeExpression=this.escapeExpression;return buffer+='<span class="highlight ',(helper=helpers.cls)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.cls,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-match="',(helper=helpers.index)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.index,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data
}):helper),buffer+=escapeExpression(stack1)+'">',(helper=helpers.text)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.text,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>"})}),define("ui/documentViewer/providers/pdfViewer/pdfjs/searchEngine",["lodash","tpl!ui/documentViewer/providers/pdfViewer/pdfjs/match"],function(_,matchTpl){"use strict";function normalizeSpecialChars(text){return text.replace(normalizationRegex,function(ch){return charactersToNormalize[ch]})}function findInText(query,text){var index,queryLen=query.length,end=0,matches=[];if(queryLen)do{
index=text.indexOf(query,end),end=index+queryLen,-1!==index&&matches.push([index,end])}while(-1!==index);return matches}function findInDocument(query,contentText,config){var normalizedQuery=normalizeSpecialChars(query);return config.caseSensitive||(normalizedQuery=normalizedQuery.toLowerCase()),_.times(contentText.length,function(pageIndex){var pageContent=normalizeSpecialChars(contentText[pageIndex]);return config.caseSensitive||(pageContent=pageContent.toLowerCase()),findInText(normalizedQuery,pageContent)})}function highlight(text,index,cls){return matchTpl({text:text,index:index,cls:cls}).trim()}function highlightInText(text,start,end,index,cls){
return text.substring(0,start)+highlight(text.substring(start,end),index,cls)+text.substring(end)}function refineMatches(matches,pageContent){var refinedMatches=[],textItems=pageContent.content.items,count=textItems.length,cursor=0,strPos=0;return _.forEach(matches,function(match,index){for(var matchStart=match[0],matchEnd=match[1],position={index:index};cursor<count&&matchStart>=strPos+textItems[cursor].str.length;)strPos+=textItems[cursor].str.length,cursor++;for(position.begin={node:cursor,offset:matchStart-strPos};cursor<count&&matchEnd>strPos+textItems[cursor].str.length;)strPos+=textItems[cursor].str.length,cursor++;position.end={node:cursor,
offset:matchEnd-strPos},refinedMatches.push(position)}),refinedMatches}function renderMatches(matches,pageContent,selectedMatch){var positions=refineMatches(matches,pageContent),matchIndex=positions.length-1,nodes=pageContent.nodes,selected=matchIndex===selectedMatch;_.forEachRight(nodes,function(node,nodeIndex){for(var match,startInNode,endInNode,nodeInMatch,cls,nodeText=pageContent.content.items[nodeIndex].str;matchIndex>=0;){if(match=positions[matchIndex],startInNode=match.begin.node===nodeIndex,endInNode=match.end.node===nodeIndex,nodeInMatch=nodeIndex>match.begin.node&&nodeIndex<match.end.node,cls=selected?" selected":"",
startInNode&&endInNode)nodeText=highlightInText(nodeText,match.begin.offset,match.end.offset,match.index,cls),matchIndex--;else{if(!startInNode){if(endInNode){nodeText=highlightInText(nodeText,0,match.end.offset,match.index,"end"+cls);break}if(nodeInMatch){nodeText=highlight(nodeText,match.index,"middle"+cls);break}break}nodeText=highlightInText(nodeText,match.begin.offset,nodeText.length,match.index,"begin"+cls),matchIndex--}selected=matchIndex===selectedMatch}node.innerHTML=nodeText})}function pdfjsSearchFactory(config){var textManager=null,currentQuery=null,currentMatch=null,matches=[],pages=[],count=0;if(config=config||{},textManager=config.textManager,
!_.isPlainObject(textManager))throw new TypeError("You must provide a textManager to give access to the PDF text content! [config.textManager is missing]");return{getPages:function(){return pages},getMatches:function(){return matches},getMatchCount:function(){return count},clearMatches:function(){currentMatch=null,matches=[],pages=[],count=0},setTextManager:function(manager){textManager=manager},getTextManager:function(){return textManager},getQuery:function(){return currentQuery},getCurrentMatch:function(){return currentMatch},previousMatch:function(){var pageIndex,loop=!1
;return currentMatch&&(currentMatch.index?currentMatch.index--:(pageIndex=_.indexOf(pages,currentMatch.page),loop=!pageIndex,currentMatch.page=pages[(pageIndex+pages.length-1)%pages.length],currentMatch.index=matches[currentMatch.page-1].length-1),currentMatch.overall=(currentMatch.overall+count-2)%count+1),loop},nextMatch:function(){var pageIndex,loop=!1;return currentMatch&&(currentMatch.index+1<matches[currentMatch.page-1].length?currentMatch.index++:(pageIndex=_.indexOf(pages,currentMatch.page),loop=pageIndex===pages.length-1,currentMatch.page=pages[(pageIndex+1)%pages.length],currentMatch.index=0),currentMatch.overall=currentMatch.overall%count+1),loop
},search:function(query,pageNum){return matches=null,textManager.getContents().then(function(pageContents){var contentText=_.map(pageContents,"text"),firstPage=0,firstMatch=0;return matches=findInDocument(query,contentText,config),currentQuery=query,currentMatch=null,pages=[],count=0,_.forEach(matches,function(pageMatches,pageIndex){var page=pageIndex+1;pageMatches.length>0&&(pages.push(page),!firstPage&&page>=pageNum&&(firstPage=page,firstMatch=count)),count+=pageMatches.length}),firstPage||(firstPage=pages[0]||0),firstPage&&(currentMatch={overall:firstMatch+1,page:firstPage,index:0}),firstPage})},updateMatches:function(pageNum){
return textManager.getPageContent(pageNum).then(function(pageContent){var selectedMatch;return currentMatch&&currentMatch.page===pageNum&&(selectedMatch=currentMatch.index),pageContent&&renderMatches(matches[pageNum-1],pageContent,selectedMatch),pageNum})},destroy:function(){textManager=null,currentQuery=null,currentMatch=null,matches=null,pages=null,config=null}}}var charactersToNormalize={"‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},normalizationRegex=new RegExp("["+Object.keys(charactersToNormalize).join("")+"]","g");return pdfjsSearchFactory}),
define("tpl!ui/documentViewer/providers/pdfViewer/pdfjs/findBar",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){return"checked "}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;return buffer+='<button class="small search" data-control="pdf-search" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Search",options):helperMissing.call(depth0,"__","Search",options)))+'"><span class="icon icon-find"></span></button>\n<div class="pdf-find-bar hidden">\n    <label for="pdf-search-query">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Search",options):helperMissing.call(depth0,"__","Search",options)))+':</label>\n    <input type="text" id="pdf-search-query" data-control="pdf-search-query" placeholder="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Type your search",options):helperMissing.call(depth0,"__","Type your search",options)))+'"/>\n    <button class="small search" data-control="pdf-search-prev" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Previous match",options):helperMissing.call(depth0,"__","Previous match",options)))+'"><span class="icon icon-left"></span></button>\n    <button class="small search" data-control="pdf-search-next" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Next match",options):helperMissing.call(depth0,"__","Next match",options)))+'"><span class="icon icon-right"></span></button>\n    <input type="checkbox" id="highlight-all" data-control="highlight-all" value="1" ',stack1=helpers.if.call(depth0,depth0&&depth0.highlightAll,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='/><label for="highlight-all">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Highlight all",options):helperMissing.call(depth0,"__","Highlight all",options)))+'</label>\n    <input type="checkbox" id="case-sensitive-search" data-control="case-sensitive-search" value="1" ',stack1=helpers.if.call(depth0,depth0&&depth0.caseSensitive,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='/><label for="case-sensitive-search">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Case sensitive",options):helperMissing.call(depth0,"__","Case sensitive",options)))+'</label>\n    <span class="pdf-search-info" data-control="pdf-search-info">\n        <span class="pdf-search-position hidden" data-control="pdf-search-position">\n            <span class="pdf-search-index" data-control="pdf-search-index"></span>/<span class="pdf-search-count" data-control="pdf-search-count"></span>\n        </span>\n        <span class="pdf-search-loop hidden" data-control="pdf-search-loop-begin">\n            '+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"End of document reached. Continuing from the beginning.",options):helperMissing.call(depth0,"__","End of document reached. Continuing from the beginning.",options)))+'\n        </span>\n        <span class="pdf-search-loop hidden" data-control="pdf-search-loop-end">\n            '+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Start of document reached. Continuing from the end.",options):helperMissing.call(depth0,"__","Start of document reached. Continuing from the end.",options)))+"\n        </span>\n    </span>\n</div>"})}),
define("ui/documentViewer/providers/pdfViewer/pdfjs/findBar",["jquery","lodash","ui/autoscroll","ui/hider","ui/documentViewer/providers/pdfViewer/pdfjs/searchEngine","tpl!ui/documentViewer/providers/pdfViewer/pdfjs/findBar"],function($,_,autoscroll,hider,searchEngineFactory,findBarTpl){"use strict";function toggleState($element,enabled){enabled?$element.removeAttr("disabled"):$element.attr("disabled",!0)}function pdfjsFindBarFactory(config){function doSearch(){loopBegin=!1,loopEnd=!1,query?searchEngine&&(events.trigger("searching",query),searchEngine.search(query,pageNum).then(function(page){events.trigger("searchdone",query,page),page?jumpTo(page):refresh()
}).catch(function(err){events.trigger("error",err)})):(searchEngine&&searchEngine.clearMatches(),refresh()),updateControls()}function updateMatches(page){var textManager=searchEngine&&searchEngine.getTextManager();if(textManager&&textManager.getDocument())return events.trigger("matchesupdating",page),searchEngine.updateMatches(page).then(matchUpdated)}function jumpTo(page){events.trigger("setpage",page)}function refresh(){events.trigger("refresh")}function matchUpdated(page){navigating&&(navigating=!1,focusOnMatch()),updateControls(),events.trigger("matchesupdated",page)}function jumpToMatch(){var match
;searchEngine&&(match=searchEngine.getCurrentMatch())&&(navigating=!0,pageNum!==match.page?jumpTo(match.page):updateSelection())}function moveBy(direction){loopBegin=!1,loopEnd=!1,searchEngine&&(direction<0?loopEnd=searchEngine.previousMatch():loopBegin=searchEngine.nextMatch(),jumpToMatch()),updateControls(),focusOnInput()}function getSelectectMatchElement(){return broker.getContentArea().find(".highlight.selected")}function getCurrentMatchElement(){var match=searchEngine.getCurrentMatch();return broker.getContentArea().find('[data-match="'+match.index+'"]')}function updateSelection(){
broker&&searchEngine&&(getSelectectMatchElement().removeClass("selected"),getCurrentMatchElement().addClass("selected"),matchUpdated(pageNum))}function focusOnMatch(){broker&&searchEngine&&autoscroll(getSelectectMatchElement(),broker.getContentArea())}function focusOnInput(){controls.$searchQuery.focus()}function readCaseSensitiveOption(){config.caseSensitive=controls.$caseSensitive.is(":checked")}function applyHighlightAllOption(){broker&&broker.getContentArea().toggleClass("highlight-all",controls.$highlightAll.is(":checked"))}function checkQuery(){var typedQuery=controls.$searchQuery.val();typedQuery!==query&&(query=typedQuery,navigating=!0,doSearch())}
function updateControls(){var match,matchCount=0,matchIndex=0;searchEngine&&(matchCount=searchEngine.getMatchCount(),match=searchEngine.getCurrentMatch(),matchIndex=match&&match.overall),enabled||hider.isHidden(controls.$searchBar)||hider.hide(controls.$searchBar),toggleState(controls.$searchButton,enabled),toggleState(controls.$searchQuery,enabled),toggleState(controls.$caseSensitive,enabled),toggleState(controls.$highlightAll,enabled),toggleState(controls.$prevMatch,enabled&&matchCount>1),toggleState(controls.$nextMatch,enabled&&matchCount>1),controls.$matchIndex.text(matchIndex),controls.$matchCount.text(matchCount),
hider.toggle(controls.$searchPosition,enabled&&matchCount>0),hider.toggle(controls.$searchLoopBegin,enabled&&loopBegin),hider.toggle(controls.$searchLoopEnd,enabled&&loopEnd)}var controls,throttledSearchStart=_.throttle(checkQuery,searchThrottle),events=null,broker=null,searchEngine=null,query=null,pageNum=0,enabled=!0,loopBegin=!1,loopEnd=!1,navigating=!1;if(config=config||{},!_.isPlainObject(config.events))throw new TypeError("You must provide an events hub! [config.events is missing]");if(!_.isPlainObject(config.areaBroker))throw new TypeError("You must provide an areaBroker to give access to the UI! [config.areaBroker is missing]")
;if(!_.isPlainObject(config.textManager))throw new TypeError("You must provide a textManager to give access to the PDF text content! [config.textManager is missing]");return searchEngine=searchEngineFactory(config),broker=config.areaBroker,events=config.events,broker.getActionsArea().prepend(findBarTpl(config)),controls=function($container){return{$searchBar:$(".pdf-find-bar",$container),$searchButton:$('[data-control="pdf-search"]',$container),$searchQuery:$('[data-control="pdf-search-query"]',$container),$prevMatch:$('[data-control="pdf-search-prev"]',$container),$nextMatch:$('[data-control="pdf-search-next"]',$container),
$caseSensitive:$('[data-control="case-sensitive-search"]',$container),$highlightAll:$('[data-control="highlight-all"]',$container),$matchIndex:$('[data-control="pdf-search-index"]',$container),$matchCount:$('[data-control="pdf-search-count"]',$container),$searchPosition:$('[data-control="pdf-search-position"]',$container),$searchLoopBegin:$('[data-control="pdf-search-loop-begin"]',$container),$searchLoopEnd:$('[data-control="pdf-search-loop-end"]',$container)}}(broker.getBarArea()),readCaseSensitiveOption(),applyHighlightAllOption(),controls.$searchButton.on("click",function(){hider.toggle(controls.$searchBar),
hider.isHidden(controls.$searchBar)||focusOnInput()}),controls.$prevMatch.on("click",function(){moveBy(-1)}),controls.$nextMatch.on("click",function(){moveBy(1)}),controls.$caseSensitive.on("change",function(){navigating=!0,readCaseSensitiveOption(),doSearch(),focusOnInput()}),controls.$highlightAll.on("change",function(){applyHighlightAllOption(),focusOnInput()}),controls.$searchQuery.on("keypress",function(event){switch(event.keyCode){case 27:hider.hide(controls.$searchBar);break;default:throttledSearchStart()}}),events.on("enable.findbar",function(){enabled=!0,updateControls()}).on("disable.findbar",function(){enabled=!1,updateControls()
}).on("pagechange.findbar",function(page){pageNum=page,updateControls()}).on("allrendered.findbar",function(page){pageNum=page,updateMatches(page),updateControls()}).trigger("init.findbar"),{getSearchEngine:function(){return searchEngine},destroy:function(){searchEngine&&searchEngine.destroy(),controls.$searchButton&&controls.$searchButton.remove(),controls.$searchBar&&controls.$searchBar.remove(),controls={},config=null,searchEngine=null,broker=null,events.trigger("destroy.findbar"),events.off(".findbar"),events=null}}}var searchThrottle=250;return pdfjsFindBarFactory}),
define("tpl!ui/documentViewer/providers/pdfViewer/pdfjs/page",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",escapeExpression=this.escapeExpression;return buffer+='<div class="pdf-page hidden" data-page="',(helper=helpers.page)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.page,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+'">\n    <canvas class="pdf-content"></canvas>\n    <div class="pdf-text"></div>\n</div>'})}),define("ui/documentViewer/providers/pdfViewer/pdfjs/pageView",["jquery","core/promise","ui/hider","tpl!ui/documentViewer/providers/pdfViewer/pdfjs/page"],function($,Promise,hider,pageTpl){"use strict";function getOutputScale(context){return(window.devicePixelRatio||1)/(context.backingStorePixelRatio||context.webkitBackingStorePixelRatio||context.mozBackingStorePixelRatio||context.msBackingStorePixelRatio||context.oBackingStorePixelRatio||1)}function normalizeScale(scale){
return Math.min(Math.max(MIN_SCALE,parseInt(scale,10)||DEFAULT_SCALE),MAX_SCALE)}function pageViewFactory($container,config){function adjustSize(viewport,fitToWidth){function setSize(w,h){$pageView.width(w).height(h).offset({left:parentOffset.left+Math.max(0,(parentWidth-w)/2)}),$drawLayer.width(w).height(h),$textLayer.width(w).height(h)}var width,height,ratio=viewport.width/(viewport.height||1)||1,parentWidth=$container.width(),parentHeight=$container.height(),parentOffset=$container.offset();fitToWidth?(width=parentWidth,(height=width/ratio)>parentHeight&&(setSize(Math.max(1,parentWidth/2),height),parentWidth=$container.prop("scrollWidth"),
width=parentWidth,height=width/ratio)):ratio>=1?(height=Math.min(parentHeight,parentWidth/ratio),width=Math.min(parentWidth,height*ratio)):(width=Math.min(parentWidth,parentHeight*ratio),height=Math.min(parentHeight,width/ratio)),setSize(width,height),canvas.width=viewport.width,canvas.height=viewport.height}var $pageView,$textLayer,$drawLayer,canvas,context,scale,pageNum,textManager=null,rendered=!1,view={get pageNum(){return pageNum},set pageNum(num){pageNum=parseInt(num,10),$pageView.attr("data-page",num)},isRendered:function(){return rendered},getContainer:function(){return $container},getElement:function(){return $pageView},
getDrawLayerElement:function(){return $drawLayer},getTextLayerElement:function(){return $textLayer},getCanvas:function(){return canvas},getRenderingContext:function(){return context},setTextManager:function(manager){textManager=manager},getTextManager:function(){return textManager},render:function(page,fitToWidth){var viewport,textViewport,renderContext,promises=[],renderScale=scale*CSS_UNITS;return rendered=!1,viewport=page.getViewport(renderScale),renderContext={canvasContext:view.getRenderingContext(),viewport:viewport},adjustSize(viewport,fitToWidth),promises.push(page.render(renderContext).promise),textManager&&($textLayer.empty(),
textViewport=viewport.clone({scale:renderScale*$textLayer.width()/viewport.width}),promises.push(textManager.renderPage(page.pageIndex+1,textViewport).then(function(renderedContent){$textLayer&&$textLayer.append(renderedContent)}))),Promise.all(promises).then(function(){rendered=!0})},show:function(){hider.show($pageView)},hide:function(){hider.hide($pageView)},destroy:function(){$pageView.remove(),$container=null,$pageView=null,$textLayer=null,$drawLayer=null,canvas=null,context=null,textManager=null,config=null}};return config=config||{},textManager=config.textManager,pageNum=config.pageNum,$pageView=$(pageTpl({page:pageNum})),
$textLayer=$pageView.find(".pdf-text"),$drawLayer=$pageView.find("canvas"),canvas=$drawLayer.get(0),context=canvas.getContext("2d"),scale=normalizeScale(getOutputScale(context)*DEFAULT_SCALE),$container.append($pageView),view}var DEFAULT_SCALE=1,MIN_SCALE=.25,MAX_SCALE=10,CSS_UNITS=96/72;return pageViewFactory}),define("ui/documentViewer/providers/pdfViewer/pdfjs/pagesManager",["lodash","core/promise","ui/documentViewer/providers/pdfViewer/pdfjs/pageView"],function(_,Promise,pageViewFactory){"use strict";function pagesManagerFactory($container,config){var pageCount,activeView=null,textManager=null,views=null,pagesManager={get pageCount(){return pageCount},
getContainer:function(){return $container},setTextManager:function(manager){textManager=manager,_.forEach(views,function(view){view&&view.setTextManager(manager)})},getTextManager:function(){return textManager},getView:function(pageNum){var index,view;return pageNum=Math.min(Math.max(1,parseInt(pageNum,10)||1),pageCount),index=pageNum-1,view=views[index],view||(views[index]=view=pageViewFactory($container,{pageNum:pageNum,textManager:textManager})),view},getActiveView:function(){return activeView},setActiveView:function(page){var oldActiveView=activeView;activeView=pagesManager.getView(page),oldActiveView&&oldActiveView!==activeView&&oldActiveView.hide(),
activeView&&(activeView.pageNum=page,activeView.show())},renderPage:function(page,fitToWidth){return activeView?activeView.render(page,fitToWidth):Promise.resolve()},destroy:function(){_.forEach(views,function(view){view&&view.destroy()}),$container=null,activeView=null,textManager=null,views=null,config=null}};return config=config||{},textManager=config.textManager,pageCount=Math.max(1,parseInt(config.pageCount,10)||1),views=new Array(pageCount),pagesManager}return pagesManagerFactory}),define("ui/documentViewer/providers/pdfViewer/pdfjs/textManager",["lodash","core/promise"],function(_,Promise){"use strict";function textManagerFactory(config){
function cancelRenderingTask(pageIndex){textRenderTasks&&textRenderTasks[pageIndex]&&(textRenderTasks[pageIndex].cancel(),textRenderTasks[pageIndex]=null)}function cancelAllRenderingTasks(){var pageIndex;if(textRenderTasks)for(pageIndex=textRenderTasks.length;pageIndex--;)cancelRenderingTask(pageIndex)}function getPageTextContent(pageNum){return pdfDoc.getPage(pageNum).then(function(page){return page.getTextContent({normalizeWhitespace:!0})})}function getTextContent(){var numPages=pdfDoc.numPages,promises=[];return _.times(numPages,function(pageIndex){promises.push(getPageTextContent(pageIndex+1).then(function(textContent){
var strings=_.map(textContent.items,"str");return{content:textContent,strings:strings,text:strings.join(""),nodes:[]}}))}),Promise.all(promises)}function getPageContents(){var numPages=pdfDoc.numPages;return pageContents?Promise.resolve(pageContents):getTextContent().then(function(content){return textRenderTasks=new Array(numPages),pageContents=content})}var pdfDoc=null,PDFJS=null,pageContents=null,textRenderTasks=null;if(config=config||{},PDFJS=config.PDFJS,!_.isPlainObject(PDFJS))throw new TypeError("You must provide the entry point to the PDF.js library! [config.PDFJS is missing]");return{setDocument:function(doc){cancelAllRenderingTasks(),pdfDoc=doc,
pageContents=null},getDocument:function(){return pdfDoc},getContents:function(){return pdfDoc?getPageContents():Promise.reject(new Error("You must assign a document to get the content from!"))},getText:function(){return this.getContents().then(function(content){return _.map(content,"text")})},getFullText:function(){return this.getContents().then(function(content){return _.map(content,"text").join(" ")})},getPageContent:function(pageNum){return this.getContents().then(function(content){return content[Math.min(Math.max(0,pageNum-1),content.length-1)]})},getPageText:function(pageNum){return this.getContents().then(function(content){
return content[Math.min(Math.max(0,pageNum-1),content.length-1)].text})},renderPage:function(pageNum,viewport,timeout){return this.getContents().then(function(content){var pageIndex=Math.min(Math.max(0,pageNum-1),content.length-1),pageContent=content[pageIndex],textLayerFrag=document.createDocumentFragment();return cancelRenderingTask(pageIndex),pageContent.nodes=[],textRenderTasks[pageIndex]=PDFJS.renderTextLayer({textContent:pageContent.content,textDivs:pageContent.nodes,container:textLayerFrag,viewport:viewport,timeout:timeout}),textRenderTasks[pageIndex].promise.then(function(){return textRenderTasks[pageIndex]=null,textLayerFrag},function(){
textRenderTasks[pageIndex]=null})})},destroy:function(){cancelAllRenderingTasks(),pdfDoc=null,PDFJS=null,pageContents=null,config=null}}}return textManagerFactory}),define("ui/documentViewer/providers/pdfViewer/pdfjs/wrapper",["lodash","core/promise","ui/documentViewer/providers/pdfViewer/pdfjs/pagesManager","ui/documentViewer/providers/pdfViewer/pdfjs/textManager"],function(_,Promise,pagesManagerFactory,textManagerFactory){"use strict";function base64toBytes(data){for(var raw=window.atob(data),rawLength=raw.length,array=new Uint8Array(new ArrayBuffer(rawLength));rawLength--;)array[rawLength]=raw.charCodeAt(rawLength);return array}function processUri(uri){
var base64Index;return uri=String(uri),base64Index=uri.indexOf(BASE64_MARKER),base64Index>=0?base64toBytes(uri.substring(base64Index+BASE64_MARKER.length)):uri}function pdfjsWrapperFactory($container,config){var pdfDoc=null,pageNum=1,pageCount=1,pageNumPending=null,pageRendering=null,pagesManager=null,textManager=null,states={},PDFJS=null,events=null,wrapper={get wrapped(){return PDFJS},load:function(url){return pdfDoc=null,states={},events.trigger("loading",url),PDFJS.getDocument(processUri(url)).then(function(doc){states.destroyed||(pdfDoc=doc,pageNum=1,pageCount=pdfDoc.numPages,textManager.setDocument(pdfDoc),states.loaded=!0,events.trigger("loaded",url))
})},renderPage:function(num){return pdfDoc?(pageRendering?pageNumPending=num:(events.trigger("rendering",num),states.rendered=!1,states.rendering=!0,pageRendering=pdfDoc.getPage(num).then(function(page){if(pagesManager)return pagesManager.renderPage(page,config.fitToWidth).then(function(){var nextPage=pageNumPending;if(pageNumPending=null,pageRendering=null,!states.destroyed){if(states.rendered=!0,states.rendering=!1,events.trigger("rendered",num),null!==nextPage)return wrapper.renderPage(nextPage);events.trigger("allrendered",num)}})})),pageRendering):Promise.resolve(num)},getState:function(name){return!!states[name]},getDocument:function(){return pdfDoc},
getPageCount:function(){return pageCount},getPage:function(){return pageNum},setPage:function(page){return pageNum=Math.min(Math.max(1,page||0),pageCount),pagesManager.setActiveView(pageNum),events.trigger("pagechange",pageNum),wrapper.renderPage(pageNum)},getTextManager:function(){return textManager},getPagesManager:function(){return pagesManager},refresh:function(){return events.trigger("refreshing",pageNum),pagesManager.setActiveView(pageNum),wrapper.renderPage(pageNum)},destroy:function(){pagesManager&&pagesManager.destroy(),textManager&&textManager.destroy(),pdfDoc&&pdfDoc.destroy(),states={destroyed:!0},pdfDoc=null,pageNumPending=null,
pageRendering=null,pagesManager=null,$container=null,PDFJS=null,config=null,events.trigger("destroy.wrapper"),events=null}};if(config=config||{},PDFJS=config.PDFJS,events=config.events,!_.isPlainObject(PDFJS))throw new TypeError("You must provide the entry point to the PDF.js library! [config.PDFJS is missing]");if(!_.isPlainObject(events))throw new TypeError("You must provide an events hub! [config.events is missing]");return textManager=textManagerFactory({PDFJS:PDFJS}),pagesManager=pagesManagerFactory($container,{pageCount:1,textManager:textManager}),events.on("setpage.wrapper",function(page){wrapper.setPage(page)}).on("refresh.wrapper",function(){
wrapper.refresh()}).trigger("init.wrapper"),wrapper}var BASE64_MARKER=";base64,";return pdfjsWrapperFactory}),define("tpl!ui/documentViewer/providers/pdfViewer/pdfjs/viewer",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var helper,options,buffer="";return buffer+='\n        <input type="checkbox" id="fit-to-width" data-control="fit-to-width" value="1" checked /> <label for="fit-to-width">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Fit to width",options):helperMissing.call(depth0,"__","Fit to width",options)))+"</label>\n        "}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;return buffer+='<div class="pdf-bar">\n    <div class="pdf-actions">\n        <button class="small navigation" data-control="pdf-page-prev" data-direction="-1" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Previous page",options):helperMissing.call(depth0,"__","Previous page",options)))+'"><span class="icon icon-step-backward"></span><span class="text">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Previous",options):helperMissing.call(depth0,"__","Previous",options)))+'</span></button>\n        <button class="small navigation" data-control="pdf-page-next" data-direction="1" title="'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"Next page",options):helperMissing.call(depth0,"__","Next page",options)))+'"><span class="icon icon-step-forward"></span><span class="text">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Next",options):helperMissing.call(depth0,"__","Next",options)))+"</span></button>\n        ",stack1=helpers.if.call(depth0,depth0&&depth0.fitToWidth,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),
buffer+='\n    </div>\n    <div class="pdf-info">\n        <label for="pdf-page-num">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Page",options):helperMissing.call(depth0,"__","Page",options)))+':</label>\n        <input class="info" id="pdf-page-num" data-control="pdf-page-num" value="1" />\n        <label>'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},
helper?helper.call(depth0,"of",options):helperMissing.call(depth0,"__","of",options)))+'</label>\n        <span class="info" data-control="pdf-page-count">1</span>\n    </div>\n</div>\n<div class="pdf-container"></div>'})}),define("ui/documentViewer/providers/pdfViewer/pdfjs/viewer",["jquery","lodash","core/eventifier","ui/documentViewer/providers/pdfViewer/pdfjs/areaBroker","ui/documentViewer/providers/pdfViewer/pdfjs/findBar","ui/documentViewer/providers/pdfViewer/pdfjs/wrapper","tpl!ui/documentViewer/providers/pdfViewer/pdfjs/viewer"],function($,_,eventifier,areaBroker,findBarFactory,wrapperFactory,viewerTpl){"use strict"
;function toggleState($element,enabled){enabled?$element.removeAttr("disabled"):$element.attr("disabled",!0)}function pdfjsViewerFactory($container,config){function updateControls(){var page=pdf.getPage(),pageCount=pdf.getPageCount();page!==parseInt(controls.$pageNum.val(),10)&&controls.$pageNum.val(page),toggleState(controls.$pagePrev,enabled&&page>1),toggleState(controls.$pageNext,enabled&&page<pageCount),toggleState(controls.$pageNum,enabled&&pageCount>1)}function enable(){events.trigger("enable")}function disable(){events.trigger("disable")}function refresh(){events.trigger("refresh")}function jumpPage(page){events.trigger("setpage",page)}
function movePage(step){jumpPage(pdf.getPage()+step)}var template=viewerTpl(config),events=eventifier(),controls={},broker=null,findBar=null,pdfConfig=null,pdf=null,PDFJS=null,enabled=!0;if(config=config||{},PDFJS=config.PDFJS,pdfConfig=_.merge({events:events},_.pick(config,["PDFJS","fitToWidth"])),!_.isPlainObject(PDFJS))throw new TypeError("You must provide the entry point to the PDF.js library! [config.PDFJS is missing]");return{load:function(url){return $container.html(template),PDFJS.PDFJS.disableRange=!0,events.on("enable",function(){enabled=!0,updateControls()}).on("disable",function(){enabled=!1,updateControls()}).on("loaded",function(){
controls.$pageCount.html(pdf.getPageCount()),enable()}).on("pagechange rendered",function(){updateControls()}),broker=areaBroker($container,{bar:$(".pdf-bar",$container),actions:$(".pdf-actions",$container),info:$(".pdf-info",$container),content:$(".pdf-container",$container)}),controls={$navigation:$container.find(".navigation"),$pagePrev:$container.find('[data-control="pdf-page-prev"]'),$pageNext:$container.find('[data-control="pdf-page-next"]'),$pageNum:$container.find('[data-control="pdf-page-num"]'),$pageCount:$container.find('[data-control="pdf-page-count"]'),$fitToWidth:$container.find('[data-control="fit-to-width"]')},
pdf=wrapperFactory(broker.getContentArea(),pdfConfig),config.allowSearch&&(findBar=findBarFactory({events:events,areaBroker:broker,textManager:pdf.getTextManager(),caseSensitive:config.caseSensitiveSearch,highlightAll:config.highlightAllMatches})),this.setSize($container.width(),$container.height()),controls.$fitToWidth.on("change",function(){pdfConfig.fitToWidth=controls.$fitToWidth.is(":checked"),refresh()}),controls.$navigation.on("click",function(){movePage(parseInt($(this).data("direction"),10)||1)}),controls.$pageNum.on("change",function(){jumpPage(parseInt(controls.$pageNum.val(),10)||pdf.getPage())}).on("keydown",function(event){
switch(event.keyCode){case 38:movePage(1),event.stopPropagation(),event.preventDefault();break;case 40:movePage(-1),event.stopPropagation(),event.preventDefault()}}),disable(),pdf.load(url)},unload:function(){disable(),findBar&&findBar.destroy(),pdf&&pdf.destroy(),events.removeAllListeners(),$container.empty(),controls={},pdfConfig=null,pdf=null,findBar=null,broker=null},setSize:function(width,height){var contentHeight,$bar,$content;if(pdf)return $bar=broker.getBarArea(),$content=broker.getContentArea(),contentHeight=height-$bar.outerHeight(),$bar.width(width),$content.width(width).height(contentHeight),events.trigger("resized",width,height,contentHeight),
pdf.refresh()}}}return pdfjsViewerFactory}),define("tpl!ui/documentViewer/providers/pdfViewer/viewer",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{},'<div class="pdf-viewer"></div>'})}),define("ui/documentViewer/providers/pdfViewer",["lodash","core/requireIfExists","ui/documentViewer/providers/pdfViewer/fallback/viewer","ui/documentViewer/providers/pdfViewer/pdfjs/viewer","tpl!ui/documentViewer/providers/pdfViewer/viewer"],function(_,requireIfExists,fallbackFactory,pdfjsFactory,viewerTpl){"use strict";return{
getTemplate:function(){return viewerTpl},init:function(){this.pdf=null},load:function(){var self=this,$element=this.getElement();return requireIfExists("pdfjs-dist/build/pdf").then(function(pdfjs){var config=_.clone(self.config);return pdfjs?(config.PDFJS=pdfjs,self.pdf=pdfjsFactory($element,config)):self.pdf=fallbackFactory($element,config),self.pdf.load(self.getUrl())}).then(function(){self.setSize($element.width(),$element.height())})},unload:function(){this.pdf&&this.pdf.unload(),this.is("rendered")&&this.getElement().empty(),this.pdf=null},setSize:function(width,height){this.pdf&&this.pdf.setSize(width,height)}}}),
define("ui/previewer",["jquery","lodash","i18n","core/mimetype","core/pluginifier","ui/mediaplayer","iframeNotifier","ui/documentViewer","ui/documentViewer/providers/pdfViewer"],function($,_,__,mimeType,Pluginifier,mediaplayer,iframeNotifier,documentViewer,pdfViewer){"use strict";var ns="previewer",dataNs="ui."+ns,defaults={containerClass:"previewer"},_defaultSize={video:{width:480,height:300},audio:{width:290,height:36},pdf:{width:340,height:500}},previewGenerator={placeHolder:_.template("<p class='nopreview' data-type='${type}'>${desc}</p>"),youtubeTemplate:_.template("<div data-src=${jsonurl} data-type='video/youtube'></div>"),
videoTemplate:_.template("<div data-src=${jsonurl} data-type='${mime}'></div>"),audioTemplate:_.template("<div data-src=${jsonurl} data-type='${mime}'></div>"),imageTemplate:_.template("<img src=${jsonurl} alt='${name}' />"),pdfTemplate:_.template("<div class='pdfpreview'></div>"),flashTemplate:_.template("<object data=${jsonurl} type='application/x-shockwave-flash'><param name='movie' value=${jsonurl}></param></object>"),mathmlTemplate:_.template("<iframe src=${jsonurl}></iframe>"),xmlTemplate:_.template("<pre>${xml}</pre>"),htmlTemplate:_.template("<iframe src=${jsonurl}></iframe>"),generate:function(type,data){var tmpl=this[type+"Template"]
;if(data.jsonurl=JSON.stringify(data.url),_.isFunction(tmpl))return tmpl(data)}};documentViewer.registerProvider("pdf",pdfViewer);var previewer={init:function(options){var self=previewer;return options=_.defaults(options||{},defaults),this.each(function(){var $elt=$(this);$elt.data(dataNs)?$elt.previewer("update",options):($elt.hasClass(options.containerClass)||$elt.addClass(options.containerClass),$elt.data(dataNs,options),self._update($elt),$elt.trigger("create."+ns))})},update:function(data){return this.each(function(){var $elt=$(this),options=$elt.data(dataNs);$elt.data(dataNs,_.merge(options,data)),previewer._update($elt)})},
_setPlayer:function($elt,player){$elt.data("player",player)},_clearPlayer:function($elt){$elt&&$elt.data("player")&&($elt.data("player").destroy(),$elt.removeData("player"))},_update:function($elt){var player,$content,$controls,content,type,self=previewer,options=$elt.data(dataNs);self._clearPlayer($elt),options&&(type=options.type||mimeType.getFileType({mime:options.mime,name:options.url}),options.url&&(options.name||(options.name=options.url.substring(options.url.lastIndexOf("/")+1,options.url.lastIndexOf("."))),content=previewGenerator.generate(type,options)),content||(content=previewGenerator.placeHolder({desc:__("No preview available"),
type:options.type||options.mime||""})),$content=$(content),$content.on("load",function(){iframeNotifier.parent("imageloaded")}),options.width&&$content.attr("width",options.width),options.height&&$content.attr("height",options.height),$elt.empty().html($content),options.url&&("audio"===type||"video"===type?(player=mediaplayer({url:options.url,type:options.mime,renderTo:$content}).on("ready",function(){var defSize=_defaultSize[this.getType()]||_defaultSize.video,width=options.width||defSize.width,height=options.height||defSize.height;this.resize(width,height)}),self._setPlayer($elt,player),
$("body").off("keydown.mediaelement").on("keydown.mediaelement",function(event){27===event.keyCode&&self._clearPlayer($elt)}),$controls=$(".actions a:nth-child(1), .actions a:nth-child(3), .icon-close, .upload-switcher, .select-action, .files li>span","#mediaManager"),$controls.off("mousedown.mediaelement").on("mousedown.mediaelement",function(event){event.stopPropagation(),$(this).closest(".mediaplayer").length||($controls.off("mousedown.mediaelement"),self._clearPlayer($elt))})):"pdf"===type&&(documentViewer({renderTo:$content,replace:!0,width:options.width||_defaultSize.pdf.width,height:options.height||_defaultSize.pdf.height}).load(options.url,"pdf"),
_.defer(function(){iframeNotifier.parent("imageloaded")}))),$elt.trigger("update."+ns))},destroy:function(){this.each(function(){var $elt=$(this);previewer._clearPlayer($elt),$elt.trigger("destroy."+ns)})}};return Pluginifier.register(ns,previewer),function($container){$container.find("[data-preview]").each(function(){var $elt=$(this);$elt.previewer({url:$elt.data("preview"),type:$elt.data("preview-type"),mime:$elt.data("preview-mime"),width:$elt.width(),height:$elt.height()})})}}),
define("taoQtiItem/qtiCommonRenderer/renderers/interactions/UploadInteraction",["jquery","lodash","i18n","context","core/mimetype","tpl!taoQtiItem/qtiCommonRenderer/tpl/interactions/uploadInteraction","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/instructions/instructionManager","taoQtiItem/qtiCommonRenderer/helpers/uploadMime","ui/progressbar","ui/previewer","ui/modal","ui/waitForMedia"],function($,_,__,context,mimetype,tpl,containerHelper,instructionMgr,uploadHelper){"use strict"
;var _initialInstructions=__("Browse your computer and select the appropriate file."),_readyInstructions=__("The selected file is ready to be sent."),validateFileType=function(file,interaction){var expectedTypes=uploadHelper.getExpectedTypes(interaction,!0),filetype=mimetype.getMimeType(file);return!expectedTypes.length||_.indexOf(expectedTypes,filetype)>=0},getMessageWrongType=function(interaction,userSelectedType,messageWrongType){var types=uploadHelper.getExpectedTypes(interaction),expectedTypeLabels=_.map(_.uniq(types),function(type){var mime=_.find(uploadHelper.getMimeTypes(),{mime:type});return mime?mime.label:type})
;return messageWrongType&&_.isFunction(messageWrongType)?messageWrongType({userSelectedType:userSelectedType,types:expectedTypeLabels}):__('Wrong type of file. Expected %s. The selected file has the mimetype "%s".',expectedTypeLabels.join(__(" or ")),userSelectedType)},_handleSelectedFiles=function(interaction,file,messageWrongType){var reader,$container=containerHelper.get(interaction),filename=file.name,filetype=mimetype.getMimeType(file);if(instructionMgr.removeInstructions(interaction),instructionMgr.appendInstruction(interaction,_initialInstructions),!validateFileType(file,interaction))return instructionMgr.removeInstructions(interaction),
instructionMgr.appendInstruction(interaction,getMessageWrongType(interaction,filetype,messageWrongType),function(){this.setLevel("error")}),void instructionMgr.validateInstructions(interaction);$container.find(".file-name").empty().append(filename),reader=new FileReader,reader.onload=function(e){var base64Data,commaPosition,base64Raw,$previewArea;instructionMgr.removeInstructions(interaction),instructionMgr.appendInstruction(interaction,_readyInstructions,function(){this.setLevel("success")}),instructionMgr.validateInstructions(interaction),$container.find(".progressbar").progressbar("value",100),base64Data=e.target.result,
commaPosition=base64Data.indexOf(","),base64Raw=base64Data.substring(commaPosition+1),interaction.data("_response",{base:{file:{data:base64Raw,mime:filetype,name:filename}}}),$previewArea=$container.find(".file-upload-preview"),$previewArea.previewer({url:base64Data,name:filename,mime:filetype}),$previewArea.waitForMedia(function(){var imgNaturalWidth,isOversized,modalWidth,$originalImg=$previewArea.find("img"),$largeDisplay=$(".file-upload-preview-popup"),$item=$(".qti-item"),itemWidth=$item.width(),winWidth=$(window).width()-80,fullHeight=$("body").height();$originalImg.length&&(imgNaturalWidth=$originalImg[0].naturalWidth,
isOversized=imgNaturalWidth>itemWidth,modalWidth=Math.min(winWidth,imgNaturalWidth),$previewArea.toggleClass("clickable",isOversized),isOversized&&$previewArea.on("click",function(){var $modalBody;$(".upload-ia-modal-bg").remove(),$modalBody=$largeDisplay.find(".modal-body"),$modalBody.empty().append($originalImg.clone()),$largeDisplay.on("opened.modal",function(){$(".tao-item-scope.tao-preview-scope").css("overflow","hidden"),$largeDisplay.css({width:modalWidth,height:fullHeight,left:(modalWidth-itemWidth-40)/-2})}).on("closed.modal",function(){$(".tao-item-scope.tao-preview-scope").css("overflow","auto")}).modal({
modalOverlayClass:"modal-bg upload-ia-modal-bg"})}))})},reader.onloadstart=function(){instructionMgr.removeInstructions(interaction),$container.find(".progressbar").progressbar("value",0)},reader.onprogress=function(e){var percentProgress=Math.ceil(Math.round(e.loaded)/Math.round(e.total)*100);$container.find(".progressbar").progressbar("value",percentProgress)},reader.readAsDataURL(file)},_resetGui=function(interaction){var $container=containerHelper.get(interaction);$container.find(".file-name").text(__("No file selected")),$container.find(".btn-info").text(__("Browse..."))},render=function(interaction){
var changeListener,$input,self=this,$container=containerHelper.get(interaction);if(_resetGui(interaction),instructionMgr.appendInstruction(interaction,_initialInstructions),interaction.data("_response",{base:null}),changeListener=function(e){var file=e.target.files[0];void 0!==file&&_handleSelectedFiles(interaction,file,self.getCustomMessage("upload","wrongType"))},$input=$container.find("input"),$container.find(".progressbar").progressbar(),!window.FileReader)throw new Error("FileReader API not supported! Please use a compliant browser!");$input.bind("change",changeListener),$input.bind("mousedown",function(e){return e.preventDefault(),$(this).blur(),!1})
},resetResponse=function(interaction){_resetGui(interaction)},setResponse=function(interaction,response){var filename,$container=containerHelper.get(interaction);null!==response.base&&(filename=void 0!==response.base.file.name?response.base.file.name:"previously-uploaded-file",$container.find(".file-name").empty().text(filename)),interaction.data("_response",response)},getResponse=function(interaction){return interaction.data("_response")},destroy=function(interaction){$(document).off(".commonRenderer"),containerHelper.get(interaction).off(".commonRenderer"),instructionMgr.removeInstructions(interaction),containerHelper.reset(interaction)
},setState=function(interaction,state){_.isObject(state)&&state.response&&(interaction.resetResponse(),interaction.setResponse(state.response))},getState=function(interaction){var state={},response=interaction.getResponse();return response&&(state.response=response),state},getCustomData=function(interaction,data){return _.merge(data||{},{accept:uploadHelper.getExpectedTypes(interaction,!0).join(",")})};return{qtiClass:"uploadInteraction",template:tpl,render:render,getContainer:containerHelper.get,setResponse:setResponse,getResponse:getResponse,resetResponse:resetResponse,destroy:destroy,setState:setState,getState:getState,getData:getCustomData,
resetGui:_resetGui}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/item",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program3(depth0,data){var stack1,buffer="";return buffer+=' id="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}
function program5(depth0,data){var stack1,buffer="";return buffer+=" "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<div class="qti-item tao-scope runtime" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},
data:data}):helper),buffer+=escapeExpression(stack1)+'" data-identifier="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.identifier,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n    <div",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.id),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),
data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=' class="qti-itemBody ',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='">',(helper=helpers.body)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.body,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+='</div>\n    <div id="modalFeedbacks"></div>\n</div>'})}),
define("taoQtiItem/qtiCommonRenderer/helpers/itemStylesheetHandler",["jquery","lodash"],function($,_){"use strict";var informLoaded=_.throttle(function(){$(document).trigger("customcssloaded.styleeditor")},10,{leading:!1});return{attach:function(stylesheets){var $head=$("head");$head.length||($head=$("body")),_(stylesheets).forEach(function(stylesheet){var $link,href;stylesheet.attr("href")&&($link=$(stylesheet.render()),href=$link.attr("href"),$link.removeAttr("href").attr("href",href),$link.one("load",informLoaded).appendTo($head))})},detach:function(stylesheets){_(stylesheets).forEach(function(stylesheet){
stylesheet.serial&&$('link[data-serial="'+stylesheet.serial+'"]').remove()})}}}),define("taoQtiItem/qtiCommonRenderer/renderers/Item",["tpl!taoQtiItem/qtiCommonRenderer/tpl/item","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/itemStylesheetHandler"],function(tpl,containerHelper,itemStylesheetHandler){"use strict";return{qtiClass:"assessmentItem",template:tpl,getContainer:containerHelper.get,render:function(item){containerHelper.targetBlank(containerHelper.get(item)),itemStylesheetHandler.attach(item.stylesheets)},destroy:function(item){containerHelper.clear(),
item.stylesheets&&itemStylesheetHandler.detach(item.stylesheets)}}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/math",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+='<span data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-qti-class="math"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,
null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='><math display="block">',(helper=helpers.raw)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.raw,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="</math></span>"}function program2(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],
typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program4(depth0,data){var stack1,helper,buffer="";return buffer+='<span data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-qti-class="math"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="><math>",
(helper=helpers.raw)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.raw,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="</math></span>"}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,functionType="function",escapeExpression=this.escapeExpression,self=this;return stack1=helpers.if.call(depth0,depth0&&depth0.block,{hash:{},inverse:self.program(4,program4,data),fn:self.program(1,program1,data),data:data}),stack1||0===stack1?stack1:""})}),
define("taoQtiItem/qtiCommonRenderer/renderers/Math",["lodash","core/promise","tpl!taoQtiItem/qtiCommonRenderer/tpl/math","taoQtiItem/qtiCommonRenderer/helpers/container","mathJax"],function(_,Promise,tpl,containerHelper,MathJax){"use strict";return void 0!==MathJax&&MathJax&&(MathJax.Hub.processSectionDelay=0),{qtiClass:"math",template:tpl,getContainer:containerHelper.get,render:function(math){return new Promise(function(resolve){void 0!==MathJax&&MathJax?(window.MathJax||(window.MathJax=MathJax),_.defer(function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub,containerHelper.get(math).parent()[0]]),MathJax.Hub.Queue(resolve)})):resolve()})}}}),
define("tpl!taoQtiItem/qtiCommonRenderer/tpl/modalFeedback",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){return"modal "}function program3(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program5(depth0,data){var stack1,buffer="";return buffer+='<h2 class="qti-title modal-title">'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.title,
typeof stack1===functionType?stack1.apply(depth0):stack1))+"</h2>"}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<div id="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-identifier="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.identifier,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class="',stack1=helpers.unless.call(depth0,depth0&&depth0.inline,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="qti-modalFeedback ",(helper=helpers.feedbackStyle)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.feedbackStyle,
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n    ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.title),{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n    <div class="modal-body">',
(helper=helpers.body)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.body,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="</div>\n</div>"})}),define("taoQtiItem/qtiCommonRenderer/renderers/ModalFeedback",["lodash","tpl!taoQtiItem/qtiCommonRenderer/tpl/modalFeedback","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiItem/helper/container","ui/waitForMedia","ui/modal"],function(_,tpl,containerHelper,coreContainerHelper){"use strict";var modalFeedbackRenderer={qtiClass:"modalFeedback",template:tpl,getContainer:containerHelper.get,
minHeight:200,width:600,getData:function(fb,data){var feedbackStyle=coreContainerHelper.getEncodedData(fb,"modalFeedback");return data.feedbackStyle=feedbackStyle,data},render:function(modalFeedback,data){data=data||{};var $modal=containerHelper.get(modalFeedback);$modal.waitForMedia(function(){$modal.on("opened.modal",function(){var $itemBody=containerHelper.get(modalFeedback.getRootElement()).children(".qti-itemBody"),requiredHeight=$modal.outerHeight()+parseInt($modal.css("top"));requiredHeight>$itemBody.height()&&$itemBody.height(requiredHeight)}).on("closed.modal",function(){_.isFunction(data.callback)&&data.callback.call(this)}).modal({startClosed:!1,
minHeight:modalFeedbackRenderer.minHeight,width:modalFeedbackRenderer.width})})}};return modalFeedbackRenderer}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/object",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{}
;var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<div class="qti-object-container" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=" >\n</div>"})}),
define("taoQtiItem/qtiCommonRenderer/renderers/Object",["tpl!taoQtiItem/qtiCommonRenderer/tpl/object","taoQtiItem/qtiCommonRenderer/helpers/container","ui/previewer"],function(tpl,containerHelper){"use strict";return{qtiClass:"object",template:tpl,getContainer:containerHelper.get,render:function(obj){var $container=containerHelper.get(obj),previewOptions={url:obj.renderer.resolveUrl(obj.attr("data")),mime:obj.attr("type")};obj.attr("height")&&(previewOptions.height=obj.attr("height")),obj.attr("width")&&(previewOptions.width=obj.attr("width")),previewOptions.url&&previewOptions.mime&&$container.previewer(previewOptions)}}}),
define("tpl!taoQtiItem/qtiCommonRenderer/tpl/infoControl",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+=" "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))}function program3(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}
this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<div class="qti-infoControl',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data
}):helper),buffer+=escapeExpression(stack1)+'"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n    ",(helper=helpers.markup)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.markup,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</div>"})}),define("qtiInfoControlContext",[],function(){return window._picHooks=window._picHooks||{},{register:function(picHook){
window._picHooks[picHook.getTypeIdentifier()]=picHook},notifyReady:function(picInstance){},createPciInstance:function(typeIdentifier){if(window._picHooks[typeIdentifier]){var instance={},proto=window._picHooks[typeIdentifier];for(var name in proto)"function"==typeof proto[name]?instance[name]=proto[name]:null!==proto[name]&&"object"==typeof proto[name]?instance[name]=proto[name].constructor():instance[name]=proto[name];return instance}throw"no portable info control hook found with the id "+typeIdentifier}}}),
define("taoQtiItem/qtiCommonRenderer/renderers/PortableInfoControl",["lodash","core/promise","tpl!taoQtiItem/qtiCommonRenderer/tpl/infoControl","taoQtiItem/qtiCommonRenderer/helpers/container","taoQtiItem/qtiCommonRenderer/helpers/PortableElement","qtiInfoControlContext","taoQtiItem/qtiItem/helper/util","taoQtiItem/portableElementRegistry/icRegistry"],function(_,Promise,tpl,containerHelper,PortableElement,qtiInfoControlContext,util,icRegistry){"use strict";var _getPic=function(infoControl){var typeIdentifier,pic=infoControl.data("pic")||void 0;if(!pic){if(typeIdentifier=infoControl.typeIdentifier,
!(pic=qtiInfoControlContext.createPciInstance(typeIdentifier)))throw"no custom infoControl hook found for the type "+typeIdentifier;infoControl.data("pic",pic),pic._taoInfoControl=infoControl}return pic},render=function(infoControl,options){var self=this;return options=options||{},new Promise(function(resolve,reject){var state={},id=infoControl.attr("id"),typeIdentifier=infoControl.typeIdentifier,config=infoControl.properties,$dom=containerHelper.get(infoControl).children(),assetManager=self.getAssetManager();icRegistry.loadRuntimes().then(function(){var requireEntries=[],runtime=icRegistry.getRuntime(typeIdentifier)
;if(!runtime)return reject("The runtime for the pic cannot be found : "+typeIdentifier);runtime.hook&&requireEntries.push(runtime.hook.replace(/\.js$/,"")),_.forEach(runtime.libraries,function(module){requireEntries.push(module.replace(/\.js$/,""))}),_.forEach(runtime.stylesheets,function(stylesheet){requireEntries.push("css!"+stylesheet.replace(/\.css$/,""))}),require(requireEntries,function(){var pic=_getPic(infoControl),picAssetManager={resolve:function(url){var resolved=assetManager.resolveBy("portableElementLocation",url);return resolved===url?assetManager.resolveBy("baseUrl",url):resolved}};return pic?(pic.initialize(id,$dom[0],config,picAssetManager),
pic.setSerializedState(state),resolve()):reject("Unable to initialize pic : "+id)},reject)}).catch(function(error){reject("Error loading runtime : "+id)})})},destroy=function(infoControl){_getPic(infoControl).destroy()},setState=function(infoControl,state){_getPic(infoControl).setSerializedState(state)},getState=function(infoControl){return _getPic(infoControl).getSerializedState()};return{qtiClass:"infoControl",template:tpl,getData:function(infoControl,data){var markup=data.markup;return markup=util.removeMarkupNamespaces(markup),markup=PortableElement.fixMarkupMediaSources(markup,this),data.markup=markup,data},render:render,
getContainer:containerHelper.get,destroy:destroy,getState:getState,setState:setState}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/printedVariable",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{}
;var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<span data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-qti-class="printedVariable"',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n    ",
(helper=helpers.value)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.value,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\n</span>"})}),define("taoQtiItem/qtiCommonRenderer/renderers/PrintedVariable",["tpl!taoQtiItem/qtiCommonRenderer/tpl/printedVariable","taoQtiItem/qtiCommonRenderer/helpers/container"],function(tpl,containerHelper){"use strict";return{qtiClass:"printedVariable",template:tpl,getContainer:containerHelper.get}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/rubricBlock",["handlebars"],function(hb){
return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+='\n<div class="grid-row qti-rubricBlock" data-use="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.use,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" data-qti-class="rubricBlock"',
stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='>\n    <div class="col-12">\n        <div class="qti-rubricBlock-body">',(helper=helpers.body)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.body,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="</div>\n    </div>\n</div>\n"}function program2(depth0,data){var stack1,buffer=""
;return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,functionType="function",escapeExpression=this.escapeExpression,self=this;return stack1=helpers.unless.call(depth0,depth0&&depth0.empty,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),stack1||0===stack1?stack1:""})}),
define("taoQtiItem/qtiCommonRenderer/renderers/RubricBlock",["tpl!taoQtiItem/qtiCommonRenderer/tpl/rubricBlock","taoQtiItem/qtiCommonRenderer/helpers/container"],function(tpl,containerHelper){"use strict";return{qtiClass:"rubricBlock",getContainer:containerHelper.get,template:tpl,getData:function(rubric,data){return rubric.isEmpty()&&(data.empty=!0),data}}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/stylesheet",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+='media="'+escapeExpression((stack1=depth0&&depth0.attributes,
stack1=null==stack1||!1===stack1?stack1:stack1.media,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<link \n    href="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.href,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" \n    type="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.type,
typeof stack1===functionType?stack1.apply(depth0):stack1))+'" \n    rel="stylesheet" \n    data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" \n    ',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.media),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    />"})}),
define("taoQtiItem/qtiCommonRenderer/renderers/Stylesheet",["tpl!taoQtiItem/qtiCommonRenderer/tpl/stylesheet","taoQtiItem/qtiCommonRenderer/helpers/container"],function(tpl,containerHelper){"use strict";return{qtiClass:"stylesheet",template:tpl,getContainer:containerHelper.get}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/table",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+=" "+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.class,typeof stack1===functionType?stack1.apply(depth0):stack1))}
function program3(depth0,data){var stack1,buffer="";return buffer+='summary="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1.summary,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}function program5(depth0,data){var stack1,buffer="";return buffer+=' lang="'+escapeExpression((stack1=depth0&&depth0.attributes,stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{}
;var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<table\n    class="qti-table',stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.class),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='"\n    data-qti-class="table"\n    data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"\n    ',
stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1.summary),{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    ",stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    >\n    ",(helper=helpers.body)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.body,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data
}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</table>"})}),define("taoQtiItem/qtiCommonRenderer/renderers/Table",["tpl!taoQtiItem/qtiCommonRenderer/tpl/table","taoQtiItem/qtiCommonRenderer/helpers/container"],function(tpl,containerHelper){"use strict";return{qtiClass:"table",getContainer:containerHelper.get,template:tpl}}),define("tpl!taoQtiItem/qtiCommonRenderer/tpl/tooltip",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+='lang="'+escapeExpression((stack1=depth0&&depth0.attributes,
stack1=null==stack1||!1===stack1?stack1:stack1["xml:lang"],typeof stack1===functionType?stack1.apply(depth0):stack1))+'"'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<span\n    data-serial="',(helper=helpers.serial)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.serial,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"\n    data-qti-class="_tooltip"\n    data-role="tooltip-target"\n    ',
stack1=helpers.if.call(depth0,(stack1=depth0&&depth0.attributes,null==stack1||!1===stack1?stack1:stack1["xml:lang"]),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n>\n    ",(helper=helpers.body)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.body,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</span>"})}),
define("taoQtiItem/qtiCommonRenderer/renderers/Tooltip",["tpl!taoQtiItem/qtiCommonRenderer/tpl/tooltip","taoQtiItem/qtiCommonRenderer/helpers/container","ui/tooltip"],function(tpl,containerHelper,tooltip){"use strict";return{qtiClass:"_tooltip",template:tpl,getContainer:containerHelper.get,render:function(tooltipDOM){var $container=containerHelper.get(tooltipDOM),renderedTooltip=tooltip.create($container,tooltipDOM.content(),{theme:"default",placement:"top"});$container.data("$tooltip")&&($container.data("$tooltip").dispose(),$container.removeData("$tooltip")),$container.data("$tooltip",renderedTooltip)}}}),define("util/config",["lodash"],function(_){
"use strict";return{build:function(config,defaults){return _.defaults(config||{},defaults)},from:function(source,entries,defaults){var config={};return _.forEach(entries,function(value,name){if(void 0!==source[name])config[name]=source[name];else if(value)throw new Error('The config entry "'+name+'" is required!')}),_.defaults(config,defaults)}}}),define("taoQtiTest/runner/config/qtiServiceConfig",["lodash","util/url","util/config"],function(_,urlUtil,configHelper){"use strict";function configFactory(config){var storage=configHelper.from(config,_entries,_defaults);return storage.timeout?storage.timeout*=1e3:storage.timeout=void 0,{
getTestDefinition:function(){return storage.testDefinition},getTestCompilation:function(){return storage.testCompilation},getServiceCallId:function(){return storage.serviceCallId},getServiceController:function(){return storage.bootstrap.serviceController||_defaults.bootstrap.serviceController},getServiceExtension:function(){return storage.bootstrap.serviceExtension||_defaults.bootstrap.serviceExtension},getTestActionUrl:function(action){return urlUtil.route(action,this.getServiceController(),this.getServiceExtension(),{testDefinition:this.getTestDefinition(),testCompilation:this.getTestCompilation(),serviceCallId:this.getServiceCallId()})},
getItemActionUrl:function(itemIdentifier,action){return urlUtil.route(action,this.getServiceController(),this.getServiceExtension(),{testDefinition:this.getTestDefinition(),testCompilation:this.getTestCompilation(),testServiceCallId:this.getServiceCallId(),itemDefinition:itemIdentifier})},getTelemetryUrl:function(itemIdentifier,signal){return urlUtil.route(signal,this.getServiceController(),this.getServiceExtension(),{testDefinition:this.getTestDefinition(),testCompilation:this.getTestCompilation(),testServiceCallId:this.getServiceCallId(),itemDefinition:itemIdentifier})},getTimeout:function(){return storage.timeout},getCommunicationConfig:function(){
var communication=storage.bootstrap.communication||{},extension=communication.extension||this.getServiceExtension(),controller=communication.controller||this.getServiceController(),action=communication.action,syncActions=communication.syncActions||[],service=urlUtil.route(action||"message",controller,extension,{testDefinition:this.getTestDefinition(),testCompilation:this.getTestCompilation(),serviceCallId:this.getServiceCallId()}),params=_.merge({},communication.params||{},{service:communication.service||service});return params.timeout?params.timeout*=1e3:params.timeout=storage.timeout,params.interval&&(params.interval*=1e3),{enabled:communication.enabled,
type:communication.type,params:params,syncActions:syncActions}}}}var _defaults={bootstrap:{serviceController:"Runner",serviceExtension:"taoQtiTest"}},_entries={testDefinition:!0,testCompilation:!0,serviceCallId:!0,bootstrap:!1,timeout:!1};return configFactory}),define("taoQtiTest/runner/plugins/content/accessibility/focusOnFirstField",["jquery","lodash","taoTests/runner/plugin","ckeditor"],function($,_,pluginFactory,ckEditor){"use strict";return pluginFactory({name:"focusOnFirstField",init:function(){var self=this;this.getTestRunner().after("renderitem",function(){
var $input=self.getAreaBroker().getContentArea().find(".qti-itemBody").find("input, textarea, select").not(":input[type=button], :input[type=submit], :input[type=reset]").first(),$cke=$input.closest(".qti-interaction").find(".cke");$cke.length?_.delay(function(){ckEditor.instances[$cke.attr("id").replace(/^cke_/,"")].focus()},100):$input.focus()})}})}),define("taoQtiTest/runner/plugins/controls/trace/itemTraceVariables",["lodash","moment","taoTests/runner/plugin"],function(_,moment,pluginFactory){"use strict";function timestamp(){return Date.now()/precision}var precision=1e3;return pluginFactory({name:"itemTraceVariables",install:function(){
this.getTestRunner().getTestStore().setVolatile("trace")},init:function(){function onError(err){testRunner.trigger("error",err)}var testRunner=this.getTestRunner(),variables={};return testRunner.getPluginStore("trace").then(function(tracesStore){testRunner.after("renderitem enableitem",function(){var context=testRunner.getTestContext();variables={ITEM_START_TIME_CLIENT:timestamp()},tracesStore.getItem(context.itemIdentifier).then(function(data){return data&&_.merge(variables,data),tracesStore.setItem(context.itemIdentifier,variables)}).catch(onError)}).before("move skip exit timeout",function(){var context=testRunner.getTestContext()
;return variables.ITEM_END_TIME_CLIENT=timestamp(),variables.ITEM_TIMEZONE=moment().utcOffset(moment().utcOffset()).format("Z"),tracesStore.setItem(context.itemIdentifier,variables).catch(onError)}).before("unloaditem",function(){var context=testRunner.getTestContext();return testRunner.getProxy().callItemAction(context.itemIdentifier,"storeTraceData",{traceData:JSON.stringify(variables)},!0)})})}})}),define("tpl!ui/dialog/tpl/checkbox",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){return"checked"}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),
data=data||{};var stack1,helper,buffer="",escapeExpression=this.escapeExpression,self=this;return buffer+='<label for="',(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\n    <input type="checkbox" id="',(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" name="',(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data
}):(helper=depth0&&depth0.id,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" ',stack1=helpers.if.call(depth0,depth0&&depth0.checked,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=' />\n    <span class="icon-checkbox"></span>\n    ',(helper=helpers.text)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.text,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\n</label>"})}),
define("taoQtiTest/runner/plugins/navigation/next/dialogConfirmNext",["jquery","lodash","i18n","ui/dialog","tpl!ui/dialog/tpl/checkbox"],function($,_,__,dialog,checkboxTpl){"use strict";return function(heading,message,accept,refuse,checkboxParams,dialogOptions){var dlg,accepted=!1,content=null;return checkboxParams&&!0!==checkboxParams.checked&&(content=checkboxTpl({checked:!1,text:"Don't show this again next time",id:"dont-show-again"})),dialogOptions=_.defaults({heading:heading,message:message,content:content,autoRender:!0,autoDestroy:!0,buttons:[{id:"cancel",type:"regular",label:__("Cancel"),close:!0},{id:"ok",type:"info",label:__("Go to next item"),
close:!0}],onOkBtn:function(){var $checkbox;accepted=!0,_.isFunction(accept)&&(accept.call(this),checkboxParams&&($checkbox=$('input[name="dont-show-again"]',this),$checkbox.prop("checked")&&_.isFunction(checkboxParams.submitChecked)?checkboxParams.submitChecked():!$checkbox.prop("checked")&&_.isFunction(checkboxParams.submitUnchecked)&&checkboxParams.submitUnchecked()))}},dialogOptions),dlg=dialog(dialogOptions),_.isFunction(refuse)&&dlg.on("closed.modal",function(){accepted||refuse.call(this)}),dlg}}),
define("taoQtiTest/runner/plugins/navigation/next/linearNextItemWarning",["jquery","lodash","i18n","taoTests/runner/plugin","taoQtiTest/runner/helpers/map","taoQtiTest/runner/helpers/currentItem","taoQtiTest/runner/plugins/navigation/next/dialogConfirmNext"],function($,_,__,pluginFactory,mapHelper,currentItemHelper,dialogConfirmNext){"use strict";return pluginFactory({name:"linearNextItemWarning",init:function(){function getCustomNextMessage(action){var itemPartiallyAnswered=currentItemHelper.isAnswered(testRunner,!0)
;return __(itemPartiallyAnswered?"next"===action?"Are you sure you want to go to the next item? You will not be able to go back and change your answer.":"skip"===action?"Are you sure you want to clear your answer and go to the next item? You will not be able to go back and provide an answer.":"Are you sure you want to go to the next item? You will not be able to go back.":"Are you sure you want to go to the next item? You will not be able to go back and provide an answer.")}function doNextWarning(action){return testRunner.trigger("disablenav"),testStore.getStore(self.getName()).then(function(store){
return store.getItem("dontShowLinearNextItemWarning").then(function(checkboxValue){var checkboxParams=null;if(!0!==checkboxValue)return testConfig.enableLinearNextItemWarningCheckbox&&(checkboxParams={checked:checkboxValue,submitChecked:function(){store.setItem("dontShowLinearNextItemWarning",!0)},submitUnchecked:function(){store.setItem("dontShowLinearNextItemWarning",!1)}}),new Promise(function(resolve,reject){dialogConfirmNext(__("Go to the next item?"),getCustomNextMessage(action),resolve,function(){reject({cancel:!0})},checkboxParams)})})}).catch(function(err){if(err&&err instanceof Error)throw err
;if(err&&!0===err.cancel)return testRunner.trigger("enablenav"),Promise.reject()})}var self=this,testRunner=this.getTestRunner(),testData=testRunner.getTestData(),testConfig=testData.config||{},testStore=testRunner.getTestStore();testStore.setVolatile(self.getName()),testRunner.on("init",function(){testStore.getStore(self.getName()).then(function(store){store.setItem("dontShowLinearNextItemWarning",null)})}).before("move skip",function(e,type,scope){var context=testRunner.getTestContext(),map=testRunner.getTestMap(),item=mapHelper.getItemAt(map,context.itemPosition);if(context.isLinear){if("section"===scope&&context.options.nextSectionWarning)return
;if(context.options.nextPartWarning)return;if(item.informational)return;if("next"===type&&!context.isLast&&testConfig.forceEnableLinearNextItemWarning)return doNextWarning("next");if("skip"===e.name&&!context.isLast&&testConfig.forceEnableLinearNextItemWarning)return doNextWarning("skip")}})}})}),define("taoQtiTest/runner/plugins/navigation/warnBeforeLeaving",["i18n","taoTests/runner/plugin"],function(__,pluginFactory){"use strict";var warnMessage=__("Please confirm you want to leave the test."),warnListener=function(e){return e.returnValue=warnMessage,warnMessage};return pluginFactory({name:"warnBeforeLeaving",init:function(){this.enable()},
destroy:function(){this.disable()},enable:function(){window.addEventListener("beforeunload",warnListener)},disable:function(){window.removeEventListener("beforeunload",warnListener)}})}),define("taoQtiTest/runner/plugins/security/disableRightClick",["taoTests/runner/plugin"],function(pluginFactory){"use strict";return pluginFactory({name:"disableRightClick",init:function(){["contextmenu","mousedown","mouseup"].forEach(function(eventName){window.document.addEventListener(eventName,function(event){2===event.button&&event.preventDefault()})})}})}),define("tpl!taoQtiTest/runner/plugins/tools/documentViewer/panel",["handlebars"],function(hb){
return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",escapeExpression=this.escapeExpression;return buffer+='<div class="document-viewer-plugin hidden">\n    <div class="viewer-overlay"></div>\n    <div class="viewer-panel">\n        <div class="viewer-header">\n            <span class="viewer-title">',(helper=helpers.title)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.title,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),
buffer+=escapeExpression(stack1)+'</span>\n            <span class="icon icon-close"></span>\n        </div>\n        <div class="viewer-content">',(helper=helpers.content)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.content,stack1="function"==typeof helper?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+='</div>\n        <div class="viewer-footer"></div>\n    </div>\n</div>'})}),
define("taoQtiTest/runner/plugins/tools/documentViewer/documentViewer",["jquery","lodash","ui/hider","ui/documentViewer","ui/documentViewer/providers/pdfViewer","taoTests/runner/plugin","tpl!taoQtiTest/runner/plugins/tools/documentViewer/panel"],function($,_,hider,viewerFactory,pdfViewer,pluginFactory,panelTpl){"use strict";function showPanel(plugin){hider.show(plugin.controls.$panel),plugin.trigger("panelshow"),$(window).on("resize."+plugin.getName(),_.debounce(_.partial(resizeViewer,plugin),50))}function hidePanel(plugin){hider.hide(plugin.controls.$panel),plugin.trigger("panelhide"),$(window).off("resize."+plugin.getName())}function hideIfVisible(plugin){
var isVisible=!hider.isHidden(plugin.controls.$panel,!0);return isVisible&&hidePanel(plugin),isVisible}function initPanelEvents(plugin){function stopPropagation(e){e.stopImmediatePropagation(),e.stopPropagation()}var namespace="."+plugin.getName(),stopEvents=["click","mousedown","mouseup","touchstart","touchend","keyup","keydow","keypress","scroll","drop"].join(namespace+" ")+namespace,hideViewer=_.partial(hidePanel,plugin);plugin.controls.$overlay.off(namespace).on("click"+namespace,hideViewer).on(stopEvents,stopPropagation),plugin.controls.$panel.off(namespace).on("click"+namespace,".icon-close",hideViewer).on(stopEvents,stopPropagation)}
function resizeViewer(plugin){var $content=plugin.controls.$content;plugin.viewer.setSize($content.width(),$content.height())}return viewerFactory.registerProvider("pdf",pdfViewer),pluginFactory({name:"documentViewer",init:function(){function displayViewer(data){!1!==self.getState("enabled")&&(showPanel(self),self.controls.$title.text(data.label),resizeViewer(self),self.viewer.load(data.document,"pdf"))}var self=this,testRunner=this.getTestRunner(),$panel=$(panelTpl());this.controls={$panel:$panel,$overlay:$panel.find(".viewer-overlay"),$title:$panel.find(".viewer-title"),$content:$panel.find(".viewer-content")},this.viewer=viewerFactory({
renderTo:this.controls.$content,replace:!0,fitToWidth:!0,allowSearch:!0}),testRunner.on("renderitem enabletools",function(){self.enable()}).on("renderitem",function(){self.getAreaBroker().getContentArea().append(self.controls.$panel).off("."+self.getName()).on("viewDocument."+self.getName(),function(event){displayViewer(event.originalEvent.detail)}),initPanelEvents(self)}).on("move",function(){hideIfVisible(self)}).on("skip",function(){hideIfVisible(self)}).on("unloaditem disabletools",function(){self.disable()}).on("tool-documentViewer",function(data){displayViewer(data)})},render:function(){},destroy:function(){
this.getAreaBroker().getContentArea().off("."+this.getName()),this.viewer&&this.viewer.destroy(),this.controls.$panel&&this.controls.$panel.remove(),this.viewer=null,this.controls={}},enable:function(){},disable:function(){hideIfVisible(this)},show:function(){},hide:function(){hideIfVisible(this)}})}),define("taoQtiTest/runner/plugins/tools/itemThemeSwitcher/itemThemeSwitcher",["jquery","lodash","i18n","taoTests/runner/plugin","ui/hider","ui/themes","util/shortcut","util/namespace","ui/themeLoader"],function($,_,__,pluginFactory,hider,themeHandler,shortcut,namespaceHelper,themeLoader){"use strict";return pluginFactory({name:"itemThemeSwitcher",
install:function(){this.getTestRunner().getTestStore().setVolatile(this.getName())},init:function(){function isPluginAllowed(){return themesConfig&&_.size(themesConfig.available)>1}function changeTheme(themeId){var $qtiItem=$(".qti-item"),previousTheme=state.selectedTheme;state.selectedTheme=themeId,$qtiItem&&_.defer(function(){$qtiItem.trigger("themechange",[state.selectedTheme])}),self.storage&&self.storage.setItem("itemThemeId",themeId),previousTheme!==state.selectedTheme&&testRunner.trigger("themechange",state.selectedTheme,previousTheme),allMenuEntries.forEach(function(menuEntry){menuEntry.getId()===themeId?menuEntry.turnOn():menuEntry.turnOff()})}
var self=this,pluginName=this.getName(),testRunner=this.getTestRunner(),testData=testRunner.getTestData()||{},testConfig=testData.config||{},pluginShortcuts=(testConfig.shortcuts||{})[this.getName()]||{},pluginConfig=self.getConfig(),oldNamespace=themeHandler.getActiveNamespace(),themesConfig={},state={availableThemes:[],defaultTheme:"",selectedTheme:""},allMenuEntries=[];return pluginConfig.activeNamespace&&themeHandler.setActiveNamespace(pluginConfig.activeNamespace),themesConfig=themeHandler.get("items")||{},pluginConfig.activeNamespace===oldNamespace||_.isEmpty(themesConfig)||function(){var themeConfig=themeHandler.get("items")
;themeLoader(themeConfig).load(),changeTheme(state&&state.selectedTheme?state.selectedTheme:themeConfig.default)}(),themesConfig&&(themesConfig.default&&(state.defaultTheme=themesConfig.default,state.selectedTheme=themesConfig.default),themesConfig.available&&_.forEach(themesConfig.available,function(theme){state.availableThemes.push({id:theme.id,label:theme.name})})),this.menuButton=this.getAreaBroker().getToolbox().createMenu({control:"color-contrast",title:__("Change the current color preset"),icon:"contrast",text:__("Contrast")}).on("click",function(e){e.preventDefault(),testRunner.trigger("tool-themeswitcher-toggle")}).on("openmenu",function(){
testRunner.trigger("plugin-open."+pluginName,state.selectedTheme)}).on("closemenu",function(){testRunner.trigger("plugin-close."+pluginName,state.selectedTheme)}),state.availableThemes.forEach(function(theme){var themeEntry=self.getAreaBroker().getToolbox().createEntry({control:theme.id,title:theme.label,icon:"preview",text:__(theme.label)});themeEntry.setMenuId("color-contrast"),themeEntry.on("click",function(e){var themeId=this.config.control;e.preventDefault(),self.menuButton.turnOffAll(),this.turnOn(),changeTheme(themeId)}),state.defaultTheme===theme.id&&themeEntry.on("render",function(){this.turnOn()}),allMenuEntries.push(themeEntry)}),
testConfig.allowShortcuts&&pluginShortcuts.toggle&&shortcut.add(namespaceHelper.namespaceAll(pluginShortcuts.toggle,this.getName(),!0),function(){testRunner.trigger("tool-themeswitcher-toggle")},{avoidInput:!0}),isPluginAllowed()||this.hide(),this.disable(),testRunner.on("loaditem",function(){isPluginAllowed()?self.show():self.hide()}).on("renderitem",function(){self.enable(),changeTheme(state.selectedTheme)}).on("enabletools",function(){self.enable()}).on("disabletools unloaditem",function(){self.disable()}).on("tool-themeswitcher-toggle",function(){!1!==self.getState("enabled")&&self.menuButton.toggleMenu()}),
testRunner.getPluginStore(this.getName()).then(function(itemThemesStore){self.storage=itemThemesStore,self.storage.getItem("itemThemeId").then(function(itemThemeId){itemThemeId&&state.selectedTheme!==itemThemeId&&changeTheme(itemThemeId)})})},destroy:function(){shortcut.remove("."+this.getName())},enable:function(){this.menuButton.enable()},disable:function(){this.menuButton.disable()},show:function(){this.menuButton.show()},hide:function(){this.menuButton.hide()}})}),define("taoQtiTest/runner/proxy/cache/actionStore",["lodash","taoTests/runner/testStore"],function(_,testStore){"use strict";return function(id){var actionQueue=[],loadStore=function(){
return testStore(id).getStore("actions")};if(_.isEmpty(id))throw new TypeError("Please specify the action store id");return{push:function(action,params){return loadStore().then(function(actionStore){return actionQueue.push({action:action,timestamp:Date.now(),parameters:params}),actionStore.setItem("queue",actionQueue)})},flush:function(){return loadStore().then(function(actionStore){return actionStore.getItem("queue").then(function(queue){return actionQueue=[],actionStore.setItem("queue",actionQueue).then(function(){return queue})})})},update:function(params){return _.forEach(actionQueue,function(action){
action.parameters.actionId===params.actionId&&(action.parameters=params)}),loadStore().then(function(actionStore){return actionStore.setItem("queue",actionQueue)})}}}}),define("core/communicator",["lodash","core/promise","core/providerRegistry","core/delegator","core/eventifier"],function(_,Promise,providerRegistry,delegator,eventifier){"use strict";function communicatorFactory(providerName,config){var communicator,delegate,extendedConfig=_(config||{}).defaults(defaults).value(),states={},provider=communicatorFactory.getProvider(providerName);return communicator=eventifier({init:function(){var self=this
;return this.getState("ready")?Promise.resolve():delegate("init").then(function(){self.setState("ready").trigger("ready")})},destroy:function(){var stepPromise,self=this;return stepPromise=self.getState("open")?self.close():Promise.resolve(),stepPromise.then(function(){return delegate("destroy").then(function(){self.trigger("destroyed"),states={}})})},open:function(){var self=this;return this.getState("open")?Promise.resolve():delegate("open").then(function(){self.setState("open").trigger("opened")})},close:function(){var self=this;return delegate("close").then(function(){self.setState("open",!1).trigger("closed")})},send:function(channel,message){
var self=this;return this.getState("open")?delegate("send",channel,message).then(function(response){return self.trigger("sent",channel,message,response),Promise.resolve(response)}):Promise.reject()},channel:function(name,handler){if(!_.isString(name)||name.length<=0)throw new TypeError("A channel must have a name");if(!_.isFunction(handler))throw new TypeError("A handler must be attached to a channel");return this.on("channel-"+name,handler),this},getConfig:function(){return extendedConfig},setState:function(name,state){return _.isUndefined(state)&&(state=!0),states[name]=!!state,this},getState:function(name){return!!states[name]}}),
communicator.on("message",function(channel,message){this.trigger("channel-"+channel,message)}),delegate=delegator(communicator,provider,{name:"communicator"}),communicator}var defaults={timeout:3e4};return providerRegistry(communicatorFactory)}),define("util/httpErrorParser",[],function(){"use strict";return{parse:function(xhr,options,errorThrown){var msg,json,error;try{json=JSON.parse(xhr.responseText),msg=json.message?json.message:errorThrown}catch(e){msg=errorThrown}return error=new Error(msg),error.response=xhr,error.code=xhr.status,error.errorThrown=errorThrown,error}}}),
define("taoQtiTest/runner/proxy/qtiServiceProxy",["jquery","lodash","i18n","core/promise","core/promiseQueue","core/communicator","taoQtiTest/runner/config/qtiServiceConfig","util/httpErrorParser"],function($,_,__,Promise,promiseQueue,communicatorFactory,configFactory,httpErrorParser){"use strict";return{install:function(){var self=this;this.queue=promiseQueue(),this.prepareParams=function(actionParams){var stringifyParams=["itemState","itemResponse","toolStates"];return _.isPlainObject(actionParams)?_.mapValues(actionParams,function(value,key){return _.contains(stringifyParams,key)?JSON.stringify(value):value}):actionParams},
this.request=function(url,reqParams,contentType,noToken){var runRequest=function(){return new Promise(function(resolve,reject){var token,headers={},action=reqParams?"POST":"GET",preparedParams=self.prepareParams(reqParams),tokenHandler=self.getTokenHandler();noToken||(token=tokenHandler.getToken())&&(headers["X-Auth-Token"]=token),$.ajax({url:url,type:action,cache:!1,data:preparedParams,headers:headers,async:!0,dataType:"json",contentType:contentType||void 0,timeout:self.configStorage.getTimeout()}).done(function(data){data&&data.token&&tokenHandler.setToken(data.token),self.setOnline(),data&&data.success?resolve(data):reject(data)
}).fail(function(jqXHR,textStatus,errorThrown){var data;try{data=JSON.parse(jqXHR.responseText)}catch(err){data={}}if(data=_.defaults(data,{success:!1,source:"network",cause:url,purpose:"proxy",context:this,code:jqXHR.status,sent:jqXHR.readyState>0,type:textStatus||"error",message:errorThrown||__("An error occurred!")}),data.token?tokenHandler.setToken(data.token):noToken||tokenHandler.setToken(token),self.isConnectivityError(data))return self.setOffline("request"),resolve(data);reject(httpErrorParser.parse(jqXHR,textStatus,errorThrown))})})};return!0===noToken?runRequest():this.queue.serie(runRequest)}},init:function(config,params){
return this.configStorage=configFactory(config||{}),this.request(this.configStorage.getTestActionUrl("init"),params)},destroy:function(){return this.configStorage=null,this.queue=null,Promise.resolve()},getTestData:function(){return this.request(this.configStorage.getTestActionUrl("getTestData"))},getTestContext:function(){return this.request(this.configStorage.getTestActionUrl("getTestContext"))},getTestMap:function(){return this.request(this.configStorage.getTestActionUrl("getTestMap"))},sendVariables:function(variables){return this.request(this.configStorage.getTestActionUrl("storeTraceData"),{traceData:JSON.stringify(variables)})},
callTestAction:function(action,params){return this.request(this.configStorage.getTestActionUrl(action),params)},getItem:function(itemIdentifier,params){return this.request(this.configStorage.getItemActionUrl(itemIdentifier,"getItem"),params)},submitItem:function(itemIdentifier,state,response,params){var body=_.merge({itemState:state,itemResponse:response},params||{});return this.request(this.configStorage.getItemActionUrl(itemIdentifier,"submitItem"),body)},callItemAction:function(itemIdentifier,action,params){return this.request(this.configStorage.getItemActionUrl(itemIdentifier,action),params)},telemetry:function(itemIdentifier,signal,params){
return this.request(this.configStorage.getTelemetryUrl(itemIdentifier,signal),params,null,!0)},loadCommunicator:function(){var config=this.configStorage.getCommunicationConfig();return config.enabled?communicatorFactory(config.type,config.params):null}}}),
define("taoQtiTest/runner/proxy/cache/proxy",["lodash","i18n","core/promise","taoQtiTest/runner/navigator/navigator","taoQtiTest/runner/helpers/map","taoQtiTest/runner/helpers/navigation","taoQtiTest/runner/provider/dataUpdater","taoQtiTest/runner/proxy/qtiServiceProxy","taoQtiTest/runner/proxy/cache/itemStore","taoQtiTest/runner/proxy/cache/actionStore"],function(_,__,Promise,testNavigatorFactory,mapHelper,navigationHelper,dataUpdater,qtiServiceProxy,itemStoreFactory,actionStoreFactory){"use strict";var offlineNavError=_.assign(new Error(__("We are unable to connect to the server to retrieve the next item.")),{success:!1,source:"navigator",purpose:"proxy",
type:"nav",code:404}),offlineExitError=_.assign(new Error(__("We are unable to connect the server to submit your results.")),{success:!1,source:"navigator",purpose:"proxy",type:"finish",code:404}),offlinePauseError=_.assign(new Error(__("The test has been paused, we are unable to connect to the server.")),{success:!1,source:"navigator",purpose:"proxy",type:"pause",code:404});return _.defaults({install:function(config){var self=this;qtiServiceProxy.install.call(this),this.itemStore=itemStoreFactory({maxSize:20,preload:!0,testId:config.serviceCallId}),this.actiontStore=null,this.getItemFromStore=!1,this.requestConfig={},this.actionPromises={},
this.dataUpdater=dataUpdater(this.getDataHolder()),this.getCacheAmount=function(){var cacheAmount=1,testData=this.getDataHolder().get("testData");return testData&&testData.config&&testData.config.itemCaching&&(cacheAmount=parseInt(testData.config.itemCaching.amount,10)||cacheAmount),cacheAmount},this.hasItem=function(itemIdentifier){return itemIdentifier&&self.itemStore.has(itemIdentifier)},this.hasNextItem=function(itemIdentifier){var sibling=navigationHelper.getNextItem(this.getDataHolder().get("testMap"),itemIdentifier);return sibling&&self.hasItem(sibling.id)},this.hasPreviousItem=function(itemIdentifier){
var sibling=navigationHelper.getPreviousItem(this.getDataHolder().get("testMap"),itemIdentifier);return sibling&&self.hasItem(sibling.id)},this.offlineAction=function(action,actionParams){var testNavigator,newTestContext,result={success:!0},blockingActions=["exitTest","timeout"],testData=this.getDataHolder().get("testData"),testContext=this.getDataHolder().get("testContext"),testMap=this.getDataHolder().get("testMap");if("pause"===action)throw actionParams.reason&&(offlinePauseError.data=actionParams.reason),offlinePauseError
;if(_.contains(blockingActions,action)||"next"===actionParams.direction&&navigationHelper.isLast(testMap,testContext.itemIdentifier))throw offlineExitError;if(actionParams.direction&&actionParams.scope){if(testNavigator=testNavigatorFactory(testData,testContext,testMap),!(newTestContext=testNavigator.navigate(actionParams.direction,actionParams.scope,actionParams.ref))||!newTestContext.itemIdentifier||!self.hasItem(newTestContext.itemIdentifier))throw offlineNavError;result.testContext=newTestContext}return self.markActionAsOffline(actionParams),result},this.processSyncAction=function(action,actionParams,deferred){return new Promise(function(resolve,reject){
self.scheduleAction(action,actionParams).then(function(actionData){self.actionPromises[actionData.params.actionId]=resolve,deferred||self.syncData().then(function(result){self.isOnline()&&_.forEach(result,function(actionResult){var actionId=actionResult.requestParameters&&actionResult.requestParameters.actionId?actionResult.requestParameters.actionId:null;actionId&&self.actionPromises[actionId]&&self.actionPromises[actionId](actionResult)})}).catch(function(reason){reject(reason)})}).catch(function(reason){reject(reason)})})},this.scheduleAction=function(action,actionParams){return actionParams.actionId=action+"_"+(new Date).getTime(),
self.actiontStore.push(action,self.prepareParams(_.defaults(actionParams||{},self.requestConfig))).then(function(){return{action:action,params:actionParams}})},this.requestNetworkThenOffline=function(url,action,actionParams,deferred){var testContext=this.getDataHolder().get("testContext"),communicationConfig=self.configStorage.getCommunicationConfig(),runRequestThenOffline=function(){var request;return communicationConfig.syncActions&&communicationConfig.syncActions.indexOf(action)>=0?request=self.processSyncAction(action,actionParams,deferred):(request=self.request(url,actionParams),request.then(function(result){
return self.isOffline()?self.scheduleAction(action,actionParams):result})),request.then(function(result){return self.isOffline()?self.offlineAction(action,actionParams):result}).catch(function(error){if(self.isConnectivityError(error)&&self.isOffline())return self.offlineAction(action,actionParams);throw error})};return this.isOffline()?this.telemetry(testContext.itemIdentifier,"up").then(function(){return self.isOnline()?runRequestThenOffline():self.scheduleAction(action,actionParams).then(function(){return self.offlineAction(action,actionParams)})}).catch(function(err){
if(self.isConnectivityError(err))return self.scheduleAction(action,actionParams).then(function(){return self.offlineAction(action,actionParams)});throw err}):runRequestThenOffline()},this.syncData=function(){var actions;return this.queue.serie(function(){return self.actiontStore.flush().then(function(data){if(actions=data,data&&data.length)return self.send("sync",data)}).catch(function(err){throw self.isConnectivityError(err)&&(self.setOffline("communicator"),_.forEach(actions,function(action){self.actiontStore.push(action.action,action.parameters)})),err})})},this.exportActions=function(){var actions;return this.queue.serie(function(){
return self.actiontStore.flush().then(function(data){return actions=data,_.forEach(actions,function(action){self.actiontStore.push(action.action,action.parameters)}),data})})},this.markActionAsOffline=function(actionParams){return actionParams.offline=!0,this.queue.serie(function(){return self.actiontStore.update(self.prepareParams(_.defaults(actionParams||{},self.requestConfig)))})}},init:function(config,params){var self=this;if(!this.getDataHolder())throw new Error("Unable to retrieve test runners data holder");return this.requestConfig=_.pick(config,["testDefinition","testCompilation","serviceCallId"]),
this.actiontStore=actionStoreFactory(config.serviceCallId),this.on("reconnect",function(){return this.syncData().then(function(responses){self.dataUpdater.update(responses)}).catch(function(err){self.trigger("error",err)})}),this.syncData(),qtiServiceProxy.init.call(this,config,params)},destroy:function(){return this.itemStore.clear(),this.getItemFromStore=!1,qtiServiceProxy.destroy.call(this)},getItem:function(itemIdentifier,params){var self=this,loadNextItem=function(){
var testMap=self.getDataHolder().get("testMap"),siblings=navigationHelper.getSiblingItems(testMap,itemIdentifier,"both",self.getCacheAmount()),missing=_.reduce(siblings,function(list,sibling){return self.hasItem(sibling.id)||list.push(sibling.id),list},[]);self.isOnline()&&missing.length&&_.delay(function(){self.requestNetworkThenOffline(self.configStorage.getTestActionUrl("getNextItemData"),"getNextItemData",{itemDefinition:missing},!1).then(function(response){response&&response.items&&_.forEach(response.items,function(item){item&&item.itemIdentifier&&self.itemStore.set(item.itemIdentifier,item)})}).catch(_.noop)},450)}
;return this.getItemFromStore&&this.itemStore.has(itemIdentifier)?(loadNextItem(),this.itemStore.get(itemIdentifier)):this.request(this.configStorage.getItemActionUrl(itemIdentifier,"getItem"),params).then(function(response){return response&&response.success&&self.itemStore.set(itemIdentifier,response),loadNextItem(),response})},submitItem:function(itemIdentifier,state,response,params){var self=this;return this.itemStore.update(itemIdentifier,"itemState",state).then(function(){return qtiServiceProxy.submitItem.call(self,itemIdentifier,state,response,params)})},sendVariables:function(variables,deferred){var actionParams={traceData:JSON.stringify(variables)}
;return this.requestNetworkThenOffline(this.configStorage.getTestActionUrl("storeTraceData"),"storeTraceData",actionParams,deferred)},callTestAction:function(action,params,deferred){return this.requestNetworkThenOffline(this.configStorage.getTestActionUrl(action),action,params,deferred)},callItemAction:function(itemIdentifier,action,params,deferred){var self=this,updateStatePromise=Promise.resolve(),testMap=this.getDataHolder().get("testMap");return params.itemState&&(updateStatePromise=this.itemStore.update(itemIdentifier,"itemState",params.itemState)),
self.getItemFromStore=navigationHelper.isMovingToNextItem(action,params)&&self.hasNextItem(itemIdentifier)||navigationHelper.isMovingToPreviousItem(action,params)&&self.hasPreviousItem(itemIdentifier)||navigationHelper.isJumpingToItem(action,params)&&self.hasItem(mapHelper.getItemIdentifier(testMap,params.ref)),(navigationHelper.isMovingToNextItem(action,params)||navigationHelper.isMovingToPreviousItem(action,params)||navigationHelper.isJumpingToItem(action,params))&&(params.start=!0),updateStatePromise.then(function(){return self.requestNetworkThenOffline(self.configStorage.getItemActionUrl(itemIdentifier,action),action,_.merge({
itemDefinition:itemIdentifier},params),deferred)})}},qtiServiceProxy)}),define("taoQtiTest/runner/proxy/loader",["lodash","module","core/promise","taoTests/runner/proxy"],function(_,module,Promise,proxy){"use strict";var config=_.defaults(module.config(),{providerName:"qtiServiceProxy",module:"taoQtiTest/runner/proxy/qtiServiceProxy"});return function(){return new Promise(function(resolve,reject){require([config.module],function(proxyProvider){proxy.registerProvider(config.providerName,proxyProvider),resolve(config.providerName)},reject)})}}),function(c){var d=document,a="appendChild",i="styleSheet",s=d.createElement("style");s.type="text/css",
d.getElementsByTagName("head")[0][a](s),s[i]?s[i].cssText=c:s[a](d.createTextNode(c))
}('@keyframes rotate{0%{transform:rotate(0deg)}90%{transform:rotate(360deg)}}.synchronizer>article{border-bottom:solid 1px #ddd;position:relative;padding:1rem;margin:0}.synchronizer .control{display:flex;flex-flow:row nowrap;align-items:center}.synchronizer .control .desc{flex:1 1 auto;color:#646464;font-size:1.5rem}.synchronizer .control .syncer{background-color:#269c5d;text-shadow:1px 1px 0 #0b743c}.synchronizer .control .syncer:before{font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e68e";margin-right:5px}.synchronizer.started .syncer{background-color:#ce7056;text-shadow:1px 1px 0 #a14d36}.synchronizer.started .syncer:before{content:"\\e690"}.synchronizer .sync-target>h1{margin:0;text-align:left;font-size:2.1rem}.synchronizer .sync-target .sync-result{margin-right:5rem;text-align:left}.synchronizer .sync-target .progress-indicator{width:5rem;position:absolute;right:0;top:0;bottom:0;text-align:center;top:50%;transform:translateY(-45%)}.synchronizer .sync-target .progress-indicator:before{font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:28px;font-size:2.8rem}.synchronizer .sync-target.disabled{background-color:white !important}.synchronizer .sync-target.disabled .progress-indicator:before{content:"\\e63b"}.synchronizer .sync-target.running .progress-indicator{display:inline-block;-webkit-transform:translateZ(0);-moz-transform:translateZ(0);-ms-transform:translateZ(0);-o-transform:translateZ(0);transform:translateZ(0);-webkit-transform-origin:50% 30%;-moz-transform-origin:50% 30%;-ms-transform-origin:50% 30%;-o-transform-origin:50% 30%;transform-origin:50% 30%;animation:rotate 2s ease-in infinite}.synchronizer .sync-target.running .progress-indicator:before{content:"\\ea2e";font-size:24px;font-size:2.4rem}.synchronizer .sync-target.success .progress-indicator:before{content:"\\e638";color:#0e914b}.synchronizer .sync-target.error .progress-indicator:before{content:"\\e900";color:#c96043}\n\n/*# sourceMappingURL=synchronizer.css.map */.wipeout>article{border-bottom:solid 1px #ddd;position:relative;padding:1rem;margin:0;display:flex;flex-flow:row nowrap;align-items:center}.wipeout>article .desc{flex:1 1 auto;color:#646464;font-size:1.5rem}.wipeout.waiting button{opacity:.7}\n\n/*# sourceMappingURL=wipeout.css.map */header.menu-bar{position:relative;height:8rem;background:#3e7da7;color:#fff;display:flex;flex-flow:row nowrap;align-items:center}header.menu-bar h1{margin:0 1rem;font-size:2.4rem;flex:1 1 59%}header.menu-bar>span.icon-user{flex:0 0 3rem;color:#fff;font-size:2.4rem}header.menu-bar .profile{flex:1 1 calc(41% - 6rem);font-size:1.5rem;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;margin:0}header.menu-bar nav{flex:0 0 3rem;text-align:center}header.menu-bar nav a{color:#fff;font-size:2.2rem}@media only screen and (min-device-width: 600px){header.menu-bar>h1{flex:1 1 66%}header.menu-bar .profile{flex:1 1 calc(34% - 9rem)}header.menu-bar nav{flex:0 0 6rem}}\n\n/*# sourceMappingURL=header.css.map */.loading-button [class^="icon-"],.loading-button [class*=" icon-"]{padding:0}.loading-button .action-label,.loading-button .terminated-label{margin-left:9px}.loading-button .spinner-icon,.loading-button .terminated-label{display:none}.loading-button.started{cursor:default;opacity:0.5}.loading-button.started .spinner-icon{display:inline-block;-webkit-transform:translateZ(0);-moz-transform:translateZ(0);-ms-transform:translateZ(0);-o-transform:translateZ(0);transform:translateZ(0);-webkit-transform-origin:50% 50%;-moz-transform-origin:50% 50%;-ms-transform-origin:50% 50%;-o-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-animation:loading-button-rotate 1.4s infinite linear;-moz-animation:loading-button-rotate 1.4s infinite linear;-ms-animation:loading-button-rotate 1.4s infinite linear;-o-animation:loading-button-rotate 1.4s infinite linear;animation:loading-button-rotate 1.4s infinite linear}@-o-keyframes loading-button-rotate{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes loading-button-rotate{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes loading-button-rotate{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes loading-button-rotate{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.loading-button.started .start-icon{display:none}.loading-button.terminated .action-label{display:none}.loading-button.terminated .terminated-label{display:inline-block}\n\n/*# sourceMappingURL=button.css.map */.login{-ms-flex:0 0 250px;-webkit-flex:0 0 250px;flex:0 0 250px}.login header h1{text-align:center;margin-bottom:40px}.login header h1 img{width:200px}.login form input,.login form button{width:250px;font-size:18px;font-size:1.8rem}.login form input.hidden-submiter{visibility:hidden;position:absolute}.login form .options{display:none}.login form .placeholder-input{position:relative;display:block;padding-top:22px;margin-bottom:18px}.login form .placeholder-input label{opacity:0;position:absolute;top:8px;left:0;color:#0e5d91;font-size:14px;font-size:1.4rem;-webkit-transition:opacity, 250ms, ease-out, 0s;-moz-transition:opacity, 250ms, ease-out, 0s;-ms-transition:opacity, 250ms, ease-out, 0s;-o-transition:opacity, 250ms, ease-out, 0s;transition:opacity, 250ms, ease-out, 0s}.login form .placeholder-input input{border:none;border-bottom:solid 2px #3e7da7;padding:6px;color:#222;outline:none}.login form .placeholder-input input:focus ~ label,.login form .placeholder-input input:valid ~ label{opacity:1;-webkit-transition:opacity, 250ms, ease-out, 0s;-moz-transition:opacity, 250ms, ease-out, 0s;-ms-transition:opacity, 250ms, ease-out, 0s;-o-transition:opacity, 250ms, ease-out, 0s;transition:opacity, 250ms, ease-out, 0s}.login form .placeholder-input input:placeholder-shown ~ label{opacity:0;-webkit-transition:opacity, 250ms, ease-out, 0s;-moz-transition:opacity, 250ms, ease-out, 0s;-ms-transition:opacity, 250ms, ease-out, 0s;-o-transition:opacity, 250ms, ease-out, 0s;transition:opacity, 250ms, ease-out, 0s}.login form .placeholder-input.username:before,.login form .placeholder-input.password:before{font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:absolute;left:4px;bottom:10px;font-size:18px;font-size:1.8rem;width:18px;text-align:center;color:#3e7da7}.login form .placeholder-input.username input,.login form .placeholder-input.password input{padding-left:32px}.login form .placeholder-input.username:before{content:"\\e63d"}.login form .placeholder-input.password:before{content:"\\e629";font-size:19px;font-size:1.9rem}.login form .placeholder-input .txt-error{position:absolute;opacity:0;left:0;top:60px;font-size:15px;font-size:1.5rem}.login form .actions button{font-size:18px !important;font-size:1.8rem !important;line-height:35px;height:35px;margin-top:28px}.login.error .placeholder-input input{border-bottom-color:#c12a40;-webkit-transition:border-bottom-color, 500ms, linear, 0s;-moz-transition:border-bottom-color, 500ms, linear, 0s;-ms-transition:border-bottom-color, 500ms, linear, 0s;-o-transition:border-bottom-color, 500ms, linear, 0s;transition:border-bottom-color, 500ms, linear, 0s}.login.error .placeholder-input .txt-error{opacity:1;-webkit-transition:opacity, 500ms, linear, 0s;-moz-transition:opacity, 500ms, linear, 0s;-ms-transition:opacity, 500ms, linear, 0s;-o-transition:opacity, 500ms, linear, 0s;transition:opacity, 500ms, linear, 0s}.login.error .placeholder-input:before{color:#ba122b !important;-webkit-transition:color, 500ms, linear, 0s;-moz-transition:color, 500ms, linear, 0s;-ms-transition:color, 500ms, linear, 0s;-o-transition:color, 500ms, linear, 0s;transition:color, 500ms, linear, 0s}\n\n/*# sourceMappingURL=login.css.map */.delivery-launcher>header h2,.delivery-launcher>p{margin:0;padding:2rem 1rem}.delivery-launcher>article{border-bottom:solid 1px #ddd;position:relative;padding:0;margin:0}.delivery-launcher>article a{position:relative;width:100%;margin:0;padding:2rem 1rem;text-decoration:none;font-size:2rem;display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between}.delivery-launcher>article a .label{display:inline-block;flex:1 1 auto}.delivery-launcher>article a .icon-play{display:inline-block;flex:0 0 50px}\n\n/*# sourceMappingURL=launcher.css.map */@-o-keyframes loadingbar{0%{left:-10%}50%{left:90%}100%{left:-10%}}@-moz-keyframes loadingbar{0%{left:-10%}50%{left:90%}100%{left:-10%}}@-webkit-keyframes loadingbar{0%{left:-10%}50%{left:90%}100%{left:-10%}}@keyframes loadingbar{0%{left:-10%}50%{left:90%}100%{left:-10%}}.loading-bar{height:6px;position:absolute;width:100%;top:0px;display:none;z-index:10000;cursor:progress}.loading-bar.fixed{position:fixed;width:100%}.loading-bar.fixed:before{top:0 !important}.loading-bar.loading{display:block;overflow:hidden;top:58px}.loading-bar.loading:before{position:absolute;content:\'\';height:6px;width:20%;display:block;transform:translateZ(0);background:-webkit-linear-gradient(to right, rgba(0,0,0,0) 0%, #c35a13 20%, #c35a13 80%, rgba(0,0,0,0) 100%);background:-moz-linear-gradient(to right, rgba(0,0,0,0) 0%, #c35a13 20%, #c35a13 80%, rgba(0,0,0,0) 100%);background:-ms-linear-gradient(to right, rgba(0,0,0,0) 0%, #c35a13 20%, #c35a13 80%, rgba(0,0,0,0) 100%);background:-o-linear-gradient(to right, rgba(0,0,0,0) 0%, #c35a13 20%, #c35a13 80%, rgba(0,0,0,0) 100%);background:linear-gradient(to right, rgba(0,0,0,0) 0%, #c35a13 20%, #c35a13 80%, rgba(0,0,0,0) 100%);-webkit-animation:loadingbar 5s linear infinite;-moz-animation:loadingbar 5s linear infinite;-ms-animation:loadingbar 5s linear infinite;-o-animation:loadingbar 5s linear infinite;animation:loadingbar 5s linear infinite}.loading-bar.loading.loadingbar-covered{top:0px;overflow-y:visible}.loading-bar.loading.loadingbar-covered:before{top:86px}.no-version-warning .loading-bar.loadingbar-covered:before{top:58px}.action-bar{background:#266d9c;padding:3px;overflow:hidden;color:#e7eff4}.action-bar li{float:left}.action-bar li .li-inner{padding-bottom:1px;text-decoration:none !important;outline:0;display:inline-block;color:inherit}.action-bar li .li-inner:hover{color:white}.action-bar li span.glyph{text-shadow:0 0 0 transparent;color:inherit}.action-bar li input{width:100%;font-size:12px;font-size:1.2rem;padding:2px 4px}.action-bar li.active .li-inner{color:white}.action-bar.horizontal-action-bar{padding:5px;height:35px}.action-bar.horizontal-action-bar .search-area{margin:2px 0 0 0;border:none;float:right;display:inline-block;position:relative;padding:0 30px 0 0}.action-bar.horizontal-action-bar .search-area input{padding-right:34px;min-width:250px !important}.action-bar.horizontal-action-bar .search-area button{position:absolute;right:32px;top:-2px;cursor:default;opacity:.5;background:transparent;width:25px;height:25px}.action-bar.horizontal-action-bar .search-area button:before{color:#666}.action-bar.horizontal-action-bar .search-area .icon-help{position:absolute;right:5px;top:-1px;text-shadow:0px 0px transparent;color:white;cursor:pointer;display:block;width:24px;height:24px;line-height:24px;text-align:center}.action-bar.horizontal-action-bar li{margin:0 1px;border:1px transparent solid;text-align:center;float:left}.action-bar.horizontal-action-bar li .glyph{width:14px}.action-bar.horizontal-action-bar li .svg-glyph{height:14px;width:14px;margin-right:9px}.action-bar.horizontal-action-bar li.btn-info{overflow:hidden;background:transparent}.action-bar.horizontal-action-bar li.btn-info:hover,.action-bar.horizontal-action-bar li.btn-info.active{border-color:rgba(255,255,255,0.3);opacity:1}.action-bar.horizontal-action-bar li.disabled{background:none !important;text-shadow:inherit !important;opacity:0.45 !important;color:inherit !important}.action-bar.horizontal-action-bar li.disabled a{cursor:not-allowed !important}.action-bar.vertical-action-bar li{max-height:60px}.action-bar.vertical-action-bar li .li-inner{height:60px;display:block;overflow:hidden;text-overflow:ellipsis;text-align:center;font-size:12px;font-size:1.2rem;line-height:12px}.action-bar.vertical-action-bar li .glyph{display:block;margin:12px auto 3px;width:20px;height:20px}.action-bar.tree-action-bar{background:#f3f1ef;position:relative;left:-1px;padding:0;margin:0 2.8571428571% 8px 2.8571428571%;width:94.6428571429%;font-size:13px;font-size:1.3rem}.action-bar.tree-action-bar li{background:rgba(255,255,255,0.5);border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;line-height:1.3;padding:0;text-align:center;float:left;width:65px;height:65px;margin:0 1px 1px 0}.action-bar.tree-action-bar li .glyph,.action-bar.tree-action-bar li .svg-glyph{display:block;color:#0e5d91;margin:12px auto 1px !important}.action-bar.tree-action-bar li .svg-glyph{width:20px;height:20px}.action-bar.tree-action-bar li .glyph{font-size:17px !important;font-size:1.7rem !important}.action-bar.tree-action-bar li .li-inner{display:block;height:65px;padding:2px;font-size:11px;font-size:1.1rem;color:#222}.action-bar.tree-action-bar li:hover{background:#ddd;color:#666}.action-bar .tree-filters{width:160px;position:relative}.action-bar .tree-filters input{padding-right:24px}.action-bar .tree-filters span{position:absolute;right:3px;color:#555;width:22px;top:2px;line-height:20px;display:inline-block;text-align:center;text-shadow:0 0 0 transparent;border-left:1px solid #ddd;cursor:pointer}.action-bar .tree-filters span.icon-close{display:none}.action-bar .tree-filters span:hover{color:#0e5d91}@media (max-width: 1150px){.action-bar.horizontal-action-bar .search-area{float:none;position:absolute;right:0px}.action-bar.horizontal-action-bar .search-area input{padding-right:30px;min-width:auto !important;width:150px}.action-bar.horizontal-action-bar .search-area input:focus{width:220px}}body.oversized-nav:not(.delivery-scope) .action-bar.horizontal-action-bar .search-area{float:none;position:absolute;right:0px}body.oversized-nav:not(.delivery-scope) .action-bar.horizontal-action-bar .search-area input{padding-right:30px;min-width:auto !important;width:150px}body.oversized-nav:not(.delivery-scope) .action-bar.horizontal-action-bar .search-area input:focus{width:220px}.section-container{top:0 !important}.section-container .flex-container-full{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 100%;-webkit-flex:0 0 100%;flex:0 0 100%}.section-container .flex-container-half{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 50%;-webkit-flex:0 0 50%;flex:0 0 50%}.section-container .flex-container-third{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 33.3333333333%;-webkit-flex:0 0 33.3333333333%;flex:0 0 33.3333333333%}.section-container .flex-container-quarter{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 25%;-webkit-flex:0 0 25%;flex:0 0 25%}.section-container .flex-container-remaining{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:1 1 480px;-webkit-flex:1 1 480px;flex:1 1 480px}.section-container .flex-container-main-form{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 500px;-webkit-flex:0 0 500px;flex:0 0 500px;margin:0 20px 20px 0}.section-container .flex-container-navi{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 280px;-webkit-flex:0 0 280px;flex:0 0 280px}.section-container .section-header{border:none}.section-container .content-panel{width:100%;height:100%;margin:0;padding:0;border:none !important;display:box;display:-ms-flexbox;display:-webkit-flexbox;display:flexbox;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;flex-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;flex-line-pack:start;-ms-flex-line-pack:start;-webkit-align-content:flex-start;align-content:flex-start;flex-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch}.section-container .tab-container{border:none;display:none;list-style-type:none;padding:0;margin:0}.section-container .tab-container li{float:left;position:relative;top:0;padding:0;margin:0 1px 0px 0;border-top:1px solid #f3f1ef !important;border-bottom:1px solid #f3f1ef !important;background:#f3f1ef !important}.section-container .tab-container li a{top:0 !important;margin-bottom:0 !important;padding:6px 16px;text-decoration:none;min-height:32px;color:#222;float:left}.section-container .tab-container li.active,.section-container .tab-container li:hover{border-bottom-color:#4a86ad !important;border-top-color:#6e9ebd !important;background:#266d9c !important}.section-container .tab-container li.active a,.section-container .tab-container li:hover a{background:transparent !important;border-color:transparent !important;color:#fff !important;text-shadow:1px 1px 0 rgba(0,0,0,0.2)}.section-container .tab-container li.disabled:hover{background:#f3f1ef !important}.section-container .tab-container li.disabled:hover a{cursor:not-allowed !important;color:#222 !important}.section-container .navi-container{display:none;background:#f3f1ef;-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 280px;-webkit-flex:0 0 280px;flex:0 0 280px;border-right:1px #ddd solid}.section-container .navi-container .block-title{font-size:14px;font-size:1.4rem;padding:2px 8px;margin:0}.section-container .navi-container .tree-action-bar-box{margin:10px 0;opacity:0}.section-container .navi-container .tree-action-bar-box.active{opacity:1;-webkit-opacity:0.25s ease-in-out;-moz-opacity:0.25s ease-in-out;opacity:0.25s ease-in-out}.section-container .content-container{border:none;-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:1 1 auto;-webkit-flex:1 1 auto;flex:1 1 auto;-ms-flex:1 1;-webkit-flex:1 1;flex:1 1}.section-container .content-block{padding:20px;overflow-y:auto;display:box;display:-ms-flexbox;display:-webkit-flexbox;display:flexbox;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap;flex-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;flex-line-pack:start;-ms-flex-line-pack:start;-webkit-align-content:flex-start;align-content:flex-start;flex-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch}.section-container .content-block>.grid-container{width:100%}.section-container .content-block .data-container-wrapper{padding:0px 20px 0 0}.section-container .content-block .data-container-wrapper:before,.section-container .content-block .data-container-wrapper:after{content:" ";display:table}.section-container .content-block .data-container-wrapper:after{clear:both}.section-container .content-block .data-container-wrapper>section,.section-container .content-block .data-container-wrapper .data-container{width:260px;margin:0 20px 20px 0;float:left;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px}.section-container .content-block .data-container-wrapper>section.double,.section-container .content-block .data-container-wrapper .data-container.double{width:540px}.section-container .content-block .data-container-wrapper>section .emptyContentFooter,.section-container .content-block .data-container-wrapper .data-container .emptyContentFooter{display:none}.section-container .content-block .data-container-wrapper>section .tree,.section-container .content-block .data-container-wrapper .data-container .tree{border:none;max-width:none;max-height:none}.section-container .content-block .data-container-wrapper>section form,.section-container .content-block .data-container-wrapper .data-container form{background:none;border:none;margin:0;padding:0}.section-container .content-block .data-container-wrapper>section>header,.section-container .content-block .data-container-wrapper>section .ui-widget-header,.section-container .content-block .data-container-wrapper .data-container>header,.section-container .content-block .data-container-wrapper .data-container .ui-widget-header{background:#f3f1ef;border-width:0px !important;border-bottom:1px #ddd solid !important}.section-container .content-block .data-container-wrapper>section>header h1,.section-container .content-block .data-container-wrapper>section>header h6,.section-container .content-block .data-container-wrapper>section .ui-widget-header h1,.section-container .content-block .data-container-wrapper>section .ui-widget-header h6,.section-container .content-block .data-container-wrapper .data-container>header h1,.section-container .content-block .data-container-wrapper .data-container>header h6,.section-container .content-block .data-container-wrapper .data-container .ui-widget-header h1,.section-container .content-block .data-container-wrapper .data-container .ui-widget-header h6{padding:4px;margin:0;font-size:14px;font-size:1.4rem}.section-container .content-block .data-container-wrapper>section>div,.section-container .content-block .data-container-wrapper>section .ui-widget-content,.section-container .content-block .data-container-wrapper>section .container-content,.section-container .content-block .data-container-wrapper .data-container>div,.section-container .content-block .data-container-wrapper .data-container .ui-widget-content,.section-container .content-block .data-container-wrapper .data-container .container-content{border-width:0px !important;overflow-y:auto;min-height:250px;padding:5px}.section-container .content-block .data-container-wrapper>section>div .icon-grip,.section-container .content-block .data-container-wrapper>section .ui-widget-content .icon-grip,.section-container .content-block .data-container-wrapper>section .container-content .icon-grip,.section-container .content-block .data-container-wrapper .data-container>div .icon-grip,.section-container .content-block .data-container-wrapper .data-container .ui-widget-content .icon-grip,.section-container .content-block .data-container-wrapper .data-container .container-content .icon-grip{cursor:move}.section-container .content-block .data-container-wrapper>section>footer,.section-container .content-block .data-container-wrapper .data-container>footer{min-height:33px}.section-container .content-block .data-container-wrapper>section>footer,.section-container .content-block .data-container-wrapper>section .data-container-footer,.section-container .content-block .data-container-wrapper .data-container>footer,.section-container .content-block .data-container-wrapper .data-container .data-container-footer{background:#f3f1ef;text-align:right !important;padding:4px;border-width:0px !important;border-top:1px #ddd solid !important}.section-container .content-block .data-container-wrapper>section>footer .square,.section-container .content-block .data-container-wrapper>section .data-container-footer .square,.section-container .content-block .data-container-wrapper .data-container>footer .square,.section-container .content-block .data-container-wrapper .data-container .data-container-footer .square{width:28px}.section-container .content-block .data-container-wrapper>section>footer .square span,.section-container .content-block .data-container-wrapper>section .data-container-footer .square span,.section-container .content-block .data-container-wrapper .data-container>footer .square span,.section-container .content-block .data-container-wrapper .data-container .data-container-footer .square span{padding:0;left:0}.section-container .content-block .data-container-wrapper>section ol,.section-container .content-block .data-container-wrapper .data-container ol{margin:0 0 0 15px;padding:10px}.section-container .content-block #form-container.ui-widget-content{border:none !important}.section-container .content-block form:not(.list-container){border:1px #ddd solid;background:#f3f1ef;padding:30px;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px}.section-container .content-block [class^="btn-"],.section-container .content-block [class*=" btn-"]{margin:0 2px}.qti-navigator{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;display:box;display:-ms-flexbox;display:-webkit-flexbox;display:flexbox;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;flex-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;flex-line-pack:start;-ms-flex-line-pack:start;-webkit-align-content:flex-start;align-content:flex-start;flex-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;-o-flex-direction:column;flex-direction:column;padding:0;cursor:default;min-width:calc(18rem - 8px);height:100%;position:relative}.qti-navigator span{display:inline-block}.qti-navigator .collapsed .collapsible-panel{display:none !important}.qti-navigator .collapsed .qti-navigator-label .icon-up{display:none}.qti-navigator .collapsed .qti-navigator-label .icon-down{display:inline-block}.qti-navigator .collapsible>.qti-navigator-label,.qti-navigator .qti-navigator-item>.qti-navigator-label{cursor:pointer}.qti-navigator.scope-test-section .qti-navigator-part>.qti-navigator-label{display:none !important}.qti-navigator .qti-navigator-label{display:box;display:-ms-flexbox;display:-webkit-flexbox;display:flexbox;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;flex-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;flex-line-pack:start;-ms-flex-line-pack:start;-webkit-align-content:flex-start;align-content:flex-start;flex-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch;min-width:calc(100% - 12px);padding:0 6px;line-height:3rem}.qti-navigator .qti-navigator-label .icon-up,.qti-navigator .qti-navigator-label .icon-down{line-height:3rem;margin-left:auto}.qti-navigator .qti-navigator-label .icon-down{display:none}.qti-navigator .qti-navigator-label .qti-navigator-number{display:none}.qti-navigator .qti-navigator-icon,.qti-navigator .icon{position:relative;top:1px;display:inline-block;width:2rem;line-height:2.8rem}.qti-navigator .unseen .qti-navigator-icon{cursor:default}.qti-navigator.prevents-unseen:not(.skipahead-enabled) .unseen .qti-navigator-icon,.qti-navigator.prevents-unseen:not(.skipahead-enabled) .unseen .qti-navigator-label{cursor:not-allowed !important}.qti-navigator .icon-answered:before{content:"\\e69a"}.qti-navigator .icon-viewed:before{content:"\\e631"}.qti-navigator .icon-flagged:before{content:"\\e64e"}.qti-navigator .icon-unanswered:before,.qti-navigator .icon-unseen:before{content:"\\e6a5"}.qti-navigator .qti-navigator-counter{text-align:right;margin-left:auto;font-size:12px;font-size:1.2rem}.qti-navigator .qti-navigator-actions{text-align:center}.qti-navigator .qti-navigator-info.collapsed{height:calc(3rem + 1px)}.qti-navigator .qti-navigator-info{height:calc(5 * (3rem + 1px));overflow:hidden}.qti-navigator .qti-navigator-info>.qti-navigator-label{min-width:calc(100% - 16px);padding:0 8px}.qti-navigator .qti-navigator-info ul{padding:0 4px}.qti-navigator .qti-navigator-info ul .qti-navigator-label span.qti-navigator-text{padding:0 6px;min-width:10rem}.qti-navigator .qti-navigator-info ul .qti-navigator-label span.qti-navigator-icon{min-width:1.5rem}.qti-navigator .qti-navigator-info ul .qti-navigator-label span.qti-navigator-counter{min-width:5rem}.qti-navigator .qti-navigator-filters{margin-top:1rem;text-align:center;width:15rem;height:calc(3rem + (2 * 1px))}.qti-navigator .qti-navigator-filters ul{display:box;display:-ms-flexbox;display:-webkit-flexbox;display:flexbox;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;flex-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;flex-line-pack:start;-ms-flex-line-pack:start;-webkit-align-content:flex-start;align-content:flex-start;flex-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch}.qti-navigator .qti-navigator-filters li{display:block}.qti-navigator .qti-navigator-filters li .qti-navigator-tab{border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;border-left:none;line-height:3rem;min-width:5rem;cursor:pointer;white-space:nowrap}.qti-navigator .qti-navigator-tree{-webkit-flex:1;-moz-flex:1;-ms-flex:1;-o-flex:1;flex:1;overflow-y:auto}.qti-navigator .qti-navigator-linear,.qti-navigator .qti-navigator-linear-part{padding:8px}.qti-navigator .qti-navigator-linear .icon,.qti-navigator .qti-navigator-linear-part .icon{display:none}.qti-navigator .qti-navigator-linear .qti-navigator-label,.qti-navigator .qti-navigator-linear-part .qti-navigator-label{font-size:14px;font-size:1.4rem}.qti-navigator .qti-navigator-linear .qti-navigator-title,.qti-navigator .qti-navigator-linear-part .qti-navigator-title{font-size:14px;font-size:1.4rem;margin:8px 0}.qti-navigator .qti-navigator-linear .qti-navigator-message,.qti-navigator .qti-navigator-linear-part .qti-navigator-message{font-size:14px;font-size:1.4rem}.qti-navigator .qti-navigator-part>.qti-navigator-label{padding:0 8px}.qti-navigator .qti-navigator-part:not(:first-child){margin-top:1px}.qti-navigator .qti-navigator-section>.qti-navigator-label{padding:0 8px}.qti-navigator .qti-navigator-item{margin:1px 0;padding-left:10px}.qti-navigator .qti-navigator-item:first-child{margin-top:0}.qti-navigator .qti-navigator-item.disabled>.qti-navigator-label{cursor:not-allowed}.qti-navigator .qti-navigator-collapsible{cursor:pointer;text-align:center;display:none;position:absolute;top:0;bottom:0;right:0;padding-top:50%}.qti-navigator .qti-navigator-collapsible .icon{font-size:20px;font-size:2rem;width:1rem !important;height:2rem !important}.qti-navigator .qti-navigator-collapsible .qti-navigator-expand{display:none}.qti-navigator.collapsible{padding-right:calc(1rem + 10px) !important}.qti-navigator.collapsible .qti-navigator-collapsible{display:block}.qti-navigator.collapsed{width:calc(8rem + 1rem + 10px);min-width:8rem}.qti-navigator.collapsed ul{padding:0 !important}.qti-navigator.collapsed .qti-navigator-text,.qti-navigator.collapsed .qti-navigator-info>.qti-navigator-label,.qti-navigator.collapsed .qti-navigator-part>.qti-navigator-label,.qti-navigator.collapsed .qti-navigator-section>.qti-navigator-label,.qti-navigator.collapsed .qti-navigator-message{display:none !important}.qti-navigator.collapsed .qti-navigator-label{padding:0 2px !important;width:calc(8rem - 4px);min-width:calc(8rem - 4px)}.qti-navigator.collapsed .qti-navigator-icon,.qti-navigator.collapsed .icon{width:auto}.qti-navigator.collapsed .qti-navigator-counter{margin-left:0;min-width:4rem !important}.qti-navigator.collapsed .qti-navigator-collapsible .qti-navigator-collapse{display:none}.qti-navigator.collapsed .qti-navigator-collapsible .qti-navigator-expand{display:block}.qti-navigator.collapsed .qti-navigator-info{height:calc(4 * (3rem + 1px))}.qti-navigator.collapsed .qti-navigator-info.collapsed .collapsible-panel{display:block !important}.qti-navigator.collapsed .qti-navigator-filters{width:calc(8rem - 16px)}.qti-navigator.collapsed .qti-navigator-filter span{display:none}.qti-navigator.collapsed .qti-navigator-filter.active span{display:block;border:0 none;width:calc(8rem - 16px)}.qti-navigator.collapsed .qti-navigator-item,.qti-navigator.collapsed .qti-navigator-linear,.qti-navigator.collapsed .qti-navigator-linear-part{padding-left:2px;text-align:center}.qti-navigator.collapsed .qti-navigator-item{overflow:hidden}.qti-navigator.collapsed .qti-navigator-item .qti-navigator-icon{padding-left:6px;width:2rem}.qti-navigator.collapsed .qti-navigator-item .qti-navigator-number{display:inline-block;margin-left:6px;margin-right:8rem}.qti-navigator.collapsed .qti-navigator-linear,.qti-navigator.collapsed .qti-navigator-linear-part{padding:0 0 8px 0}.qti-navigator.collapsed .qti-navigator-linear .icon,.qti-navigator.collapsed .qti-navigator-linear-part .icon{display:block}.qti-navigator.collapsed .qti-navigator-actions button{padding:0 9px 0 5px}.qti-navigator .qti-navigator-info>.qti-navigator-label{background-color:#D4D5D7;color:#222;border-top:1px solid #D4D5D7}.qti-navigator .qti-navigator-info li{border-bottom:1px solid #fff}.qti-navigator .qti-navigator-filter .qti-navigator-tab{background-color:#fff}.qti-navigator .qti-navigator-filter .qti-navigator-tab:hover{background-color:#3e7da7;color:#fff}.qti-navigator .qti-navigator-filter.active .qti-navigator-tab{background-color:#a4a9b1;color:#fff}.qti-navigator .qti-navigator-linear,.qti-navigator .qti-navigator-linear-part{background:#fff}.qti-navigator .qti-navigator-part>.qti-navigator-label{background-color:#dddfe2}.qti-navigator .qti-navigator-part>.qti-navigator-label:hover{background-color:#c6cacf}.qti-navigator .qti-navigator-part.active>.qti-navigator-label{background-color:#c0c4ca}.qti-navigator .qti-navigator-section>.qti-navigator-label{border-bottom:1px solid #fff}.qti-navigator .qti-navigator-section>.qti-navigator-label:hover{background-color:#ebe8e4}.qti-navigator .qti-navigator-section.active>.qti-navigator-label{background-color:#ded9d4}.qti-navigator .qti-navigator-item{background:#fff}.qti-navigator .qti-navigator-item.active{background:#f4f7f8}.qti-navigator .qti-navigator-item:hover{background:#eef3f5}.qti-navigator .qti-navigator-item.disabled{background-color:#e2deda !important}.qti-navigator .qti-navigator-collapsible{background-color:#dfe1e4;color:#222}.qti-navigator .qti-navigator-collapsible .icon{color:#fff}.document-viewer-plugin{position:relative}.document-viewer-plugin .viewer-overlay{position:fixed;top:0;left:0;bottom:0;right:0;z-index:10000;width:100%;opacity:.5;background-color:#e4ecef}.document-viewer-plugin .viewer-panel{position:fixed;top:10px;left:10px;bottom:10px;right:10px;z-index:100000;color:#222;background:#f3f1ef;font-size:14px;font-size:1.4rem;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px}.document-viewer-plugin .viewer-header{position:relative;width:100%;height:30px;padding:5px 0;z-index:1}.document-viewer-plugin .viewer-header .viewer-title{font-size:15px;font-size:1.5rem;padding:0;margin:0 0 0 1.6rem}.document-viewer-plugin .viewer-header .icon{float:right;font-size:20px;font-size:2rem;color:#266d9c;margin:1px 6px;top:3px}.document-viewer-plugin .viewer-header .icon:hover{cursor:pointer;opacity:.75}.document-viewer-plugin .viewer-content{padding:0 20px;margin-top:4px;position:relative;height:calc(100% - 40px);overflow:auto}.qti-choiceInteraction.maskable .qti-choice .answer-mask{position:absolute;top:0;right:0;height:100%;padding:5px 10px 0 10px;z-index:10;color:#0e5d91;border:solid 1px #222;background-color:#c8d6dc;text-align:right;vertical-align:middle}.qti-choiceInteraction.maskable .qti-choice .answer-mask:hover{color:#568eb2}.qti-choiceInteraction.maskable .qti-choice .answer-mask .answer-mask-toggle:before{font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e643"}.qti-choiceInteraction.maskable .qti-choice .label-content{padding-right:40px}.qti-choiceInteraction.maskable .qti-choice.masked .answer-mask{width:100%}.qti-choiceInteraction.maskable .qti-choice.masked .answer-mask .answer-mask-toggle:before{font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e631"}.qti-choiceInteraction.maskable .qti-choice.masked .answer-mask:hover{background-color:#d2dde2}.mask{position:absolute;width:250px;height:100px;min-width:50px;min-height:25px;top:0;left:0;border:solid 1px #0E5D91;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px;background:transparent;opacity:1}.mask .inner{-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px;position:relative;width:100%;height:100%;background-color:#fff;opacity:1}.mask.moving .inner{border-color:rgba(14,93,145,0.5);opacity:.55}.mask.moving .controls{display:none}.mask.sizing{border-color:rgba(14,93,145,0.5)}.mask.sizing .inner{opacity:.55}.mask.sizing .controls{display:none}.mask.previewing .inner{opacity:.15;-webkit-transition:opacity, 600ms, ease, 0s;-moz-transition:opacity, 600ms, ease, 0s;-ms-transition:opacity, 600ms, ease, 0s;-o-transition:opacity, 600ms, ease, 0s;transition:opacity, 600ms, ease, 0s}.mask .controls{position:absolute;top:5px;right:5px}.mask .controls a{color:#0E5D91;text-decoration:none;margin-right:5px;vertical-align:middle}.mask .controls a:hover{color:#0a4166}.mask .controls .view{font-size:14px;font-size:1.4rem}.mask .controls .close{font-size:12px;font-size:1.2rem}.connectivity-box{display:none;width:40px;margin-left:40px}.connectivity-box .icon-connect,.connectivity-box .icon-disconnect{display:none;line-height:2;font-size:16px;font-size:1.6rem;text-shadow:0 1px 0 rgba(0,0,0,0.9)}.connectivity-box.connected,.connectivity-box.disconnected{display:inline-block}.connectivity-box.connected .icon-connect{display:inline-block}.connectivity-box.disconnected .icon-disconnect{display:inline-block}.line-reader-mask{box-sizing:border-box;border:0 solid #0E5D91;background-color:#f3f7fa}.line-reader-mask.hidden{display:none}.line-reader-mask.resizing{background-color:rgba(243,247,250,0.8);border-color:rgba(14,93,145,0.5)}.line-reader-mask.border-top{border-top-width:1px}.line-reader-mask.border-right{border-right-width:1px}.line-reader-mask.border-bottom{border-bottom-width:1px}.line-reader-mask.border-left{border-left-width:1px}.line-reader-mask.ne{-webkit-border-top-right-radius:5px;-moz-border-radius-topright:5px;border-top-right-radius:5px}.line-reader-mask.se{-webkit-border-bottom-right-radius:5px;-moz-border-radius-bottomright:5px;border-bottom-right-radius:5px}.line-reader-mask.sw{-webkit-border-bottom-left-radius:5px;-moz-border-radius-bottomleft:5px;border-bottom-left-radius:5px}.line-reader-mask.nw{-webkit-border-top-left-radius:5px;-moz-border-radius-topleft:5px;border-top-left-radius:5px}.line-reader-overlay{box-sizing:border-box;opacity:0}.line-reader-overlay.hidden{display:none}.line-reader-overlay.moving{-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px}.line-reader-overlay.moving,.line-reader-overlay .inner-window{overflow:hidden;position:absolute;opacity:1;background-color:transparent;border:1px solid rgba(14,93,145,0.5)}.line-reader-overlay .inner-window{box-sizing:content-box}.line-reader-overlay .mask-bg{box-sizing:border-box;border:0 solid rgba(243,247,250,0.8);background-color:transparent;position:absolute}.line-reader-inner-drag{-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;text-align:center;padding-top:3px;color:#0E5D91}.line-reader-inner-drag.hidden{display:none}.line-reader-inner-drag:hover{background-color:#87aec8;color:#0a4166}.line-reader-inner-drag.moving{background-color:transparent;color:#9fbed3}.line-reader-inner-drag .icon{text-shadow:none !important}.line-reader-closer{font-size:12px;font-size:1.2rem;cursor:pointer;color:#0E5D91;width:12px;height:12px}.line-reader-closer:hover{color:#0a4166}.line-reader-closer .icon{text-shadow:none !important}.magnifier{position:absolute;top:0;left:0;width:250px;height:100px;min-width:50px;min-height:25px;overflow:hidden;background-color:#fff;opacity:1;border:solid 1px #0E5D91;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px}@-o-keyframes fadeIn{0%{opacity:0;visibility:visible}100%{opacity:1;visibility:visible}}@-moz-keyframes fadeIn{0%{opacity:0;visibility:visible}100%{opacity:1;visibility:visible}}@-webkit-keyframes fadeIn{0%{opacity:0;visibility:visible}100%{opacity:1;visibility:visible}}@keyframes fadeIn{0%{opacity:0;visibility:visible}100%{opacity:1;visibility:visible}}@-o-keyframes fadeOut{0%{opacity:1;visibility:visible}100%{opacity:0;visibility:hidden}}@-moz-keyframes fadeOut{0%{opacity:1;visibility:visible}100%{opacity:0;visibility:hidden}}@-webkit-keyframes fadeOut{0%{opacity:1;visibility:visible}100%{opacity:0;visibility:hidden}}@keyframes fadeOut{0%{opacity:1;visibility:visible}100%{opacity:0;visibility:hidden}}@-o-keyframes pop{0%{opacity:0;visibility:visible}50%{opacity:.5;visibility:visible;transform:scale(2)}100%{opacity:0;visibility:hidden;transform:scale(3)}}@-moz-keyframes pop{0%{opacity:0;visibility:visible}50%{opacity:.5;visibility:visible;transform:scale(2)}100%{opacity:0;visibility:hidden;transform:scale(3)}}@-webkit-keyframes pop{0%{opacity:0;visibility:visible}50%{opacity:.5;visibility:visible;transform:scale(2)}100%{opacity:0;visibility:hidden;transform:scale(3)}}@keyframes pop{0%{opacity:0;visibility:visible}50%{opacity:.5;visibility:visible;transform:scale(2)}100%{opacity:0;visibility:hidden;transform:scale(3)}}.magnifier .level{position:absolute;overflow:hidden;z-index:1;top:0;left:0;bottom:0;right:0;background:transparent;color:#3e7da7;opacity:1;font-size:50px;font-size:5rem;display:box;display:-ms-flexbox;display:-webkit-flexbox;display:flexbox;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;flex-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;flex-line-pack:start;-ms-flex-line-pack:start;-webkit-align-content:flex-start;align-content:flex-start;flex-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;-webkit-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-webkit-animation:pop 400ms forwards;-moz-animation:pop 400ms forwards;-ms-animation:pop 400ms forwards;-o-animation:pop 400ms forwards;animation:pop 400ms forwards}.magnifier .level:before{content:"x"}.magnifier .overlay{position:absolute;overflow:hidden;z-index:2;top:0;left:0;bottom:0;right:0;background:transparent}.magnifier>.controls{position:absolute;z-index:3;padding:3px;background-color:#fff;-webkit-animation:fadeOut 600ms forwards;-moz-animation:fadeOut 600ms forwards;-ms-animation:fadeOut 600ms forwards;-o-animation:fadeOut 600ms forwards;animation:fadeOut 600ms forwards;border:0 solid #0E5D91}.magnifier>.controls a{color:#0E5D91;text-decoration:none;font-size:12px;font-size:1.2rem;margin:0 2px}.magnifier>.controls a:hover{color:#0a4166}.magnifier>.zoom{bottom:0;right:0;border-top-width:1px;border-left-width:1px;-webkit-border-top-left-radius:5px;-moz-border-radius-topleft:5px;border-top-left-radius:5px}.magnifier>.zoom a{font-size:20px;font-size:2rem}.magnifier>.close{top:0;right:0;border-bottom-width:1px;border-left-width:1px;-webkit-border-bottom-left-radius:5px;-moz-border-radius-bottomleft:5px;border-bottom-left-radius:5px}.magnifier .inner{position:absolute}.magnifier.sizing{border-color:rgba(14,93,145,0.5)}.magnifier.sizing .inner,.magnifier.sizing .controls,.magnifier.sizing .level{opacity:0.45 !important}.magnifier:hover .close,.magnifier:hover .controls{-webkit-animation:fadeIn 600ms forwards;-moz-animation:fadeIn 600ms forwards;-ms-animation:fadeIn 600ms forwards;-o-animation:fadeIn 600ms forwards;animation:fadeIn 600ms forwards}.progress-box .progressbar .progressbar-points{display:box;display:-ms-flexbox;display:-webkit-flexbox;display:flexbox;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;flex-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;flex-line-pack:start;-ms-flex-line-pack:start;-webkit-align-content:flex-start;align-content:flex-start;flex-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch}.progress-box .progressbar .progressbar-points>span.progressbar-point{flex:1;display:inline-block;border:1px solid #0e5d91;background-color:#f3f1ef;height:calc(1rem - 4px);margin:0 1px 0 0}.progress-box .progressbar .progressbar-points>span.progressbar-point:last-child{margin-right:0}.progress-box .progressbar .progressbar-points>span.progressbar-point.reached{background-color:#0e5d91}.progress-box .progressbar .progressbar-points>span.progressbar-point.current{background-color:#a4a9b1}body.delivery-scope{min-height:100vh;max-height:100vh;margin-bottom:0}.runner{position:relative}.test-runner-scope{position:relative;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:calc(100vh - 99px)}.test-runner-scope .test-runner-sections{-webkit-flex:1 1 0%;-ms-flex:1 1 0%;flex:1 1 0%;overflow:hidden;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row}.test-runner-scope .test-sidebar{background:#f3f1ef;-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;height:calc(100vh - 179px);overflow-y:auto;max-width:350px}.test-runner-scope .test-sidebar>.qti-panel{max-width:350px;padding:10px}@media only screen and (max-device-width: 800px){.test-runner-scope .test-sidebar{max-width:200px}.test-runner-scope .test-sidebar>.qti-panel{max-width:200px}}@media only screen and (min-device-width: 800px) and (max-device-width: 1280px){.test-runner-scope .test-sidebar{max-width:250px}.test-runner-scope .test-sidebar>.qti-panel{max-width:250px}}@media only screen and (min-device-width: 1280px) and (max-device-width: 1440px){.test-runner-scope .test-sidebar{max-width:300px}.test-runner-scope .test-sidebar>.qti-panel{max-width:300px}}.test-runner-scope .test-sidebar-left{border-right:1px #ddd solid}.test-runner-scope .test-sidebar-right{border-left:1px #ddd solid}.test-runner-scope .content-wrapper{position:relative;-webkit-flex:1 1 0%;-ms-flex:1 1 0%;flex:1 1 0%;overflow:auto;padding:0}.test-runner-scope .content-wrapper .overlay{position:absolute;left:0;right:0;top:0;bottom:0;width:100%;opacity:.9}.test-runner-scope .content-wrapper .overlay-full{background-color:#fff;opacity:1}.test-runner-scope #qti-content{max-width:1024px;width:100%;margin:auto}.test-runner-scope #qti-item{width:100%;min-width:100%;height:auto;overflow:visible}.test-runner-scope .qti-item{padding:30px}.test-runner-scope .size-wrapper{max-width:1280px;margin:auto;width:100%}.test-runner-scope #qti-rubrics{margin:auto;max-width:1024px;width:100%}.test-runner-scope #qti-rubrics .qti-rubricBlock{margin:20px 0}.test-runner-scope #qti-rubrics .hidden{display:none}.no-controls .test-runner-scope{height:100vh}.test-runner-scope .action-bar.content-action-bar{padding:2px}.test-runner-scope .action-bar.content-action-bar li{margin:2px 0 0 10px;border:none}.test-runner-scope .action-bar.content-action-bar li.btn-info{padding-top:6px;height:36px;margin-top:0;border-bottom:solid 2px transparent;border-radius:0}.test-runner-scope .action-bar.content-action-bar li.btn-info.btn-group{border:none !important;overflow:hidden;padding:0}.test-runner-scope .action-bar.content-action-bar li.btn-info.btn-group a{float:left;margin:0 2px;padding:0 15px;border:1px solid rgba(255,255,255,0.3);border-radius:0px;display:inline-block;height:inherit}.test-runner-scope .action-bar.content-action-bar li.btn-info.btn-group a:first-of-type{border-top-left-radius:3px;border-bottom-left-radius:3px;margin-left:0}.test-runner-scope .action-bar.content-action-bar li.btn-info.btn-group a:last-of-type{border-top-right-radius:3px;border-bottom-right-radius:3px;margin-right:0}.test-runner-scope .action-bar.content-action-bar li.btn-info.btn-group a:hover,.test-runner-scope .action-bar.content-action-bar li.btn-info.btn-group a.active{border-color:rgba(255,255,255,0.8)}.test-runner-scope .action-bar.content-action-bar li.btn-info.btn-group a .no-label{padding-right:0}.test-runner-scope .action-bar.content-action-bar li.btn-info:hover,.test-runner-scope .action-bar.content-action-bar li.btn-info.active{border-bottom-color:rgba(255,255,255,0.8)}.test-runner-scope .action-bar.content-action-bar li.btn-info:active,.test-runner-scope .action-bar.content-action-bar li.btn-info.active{background:#e7eff4;border-color:rgba(255,255,255,0.8)}.test-runner-scope .action-bar.content-action-bar li.btn-info:active a,.test-runner-scope .action-bar.content-action-bar li.btn-info.active a{color:#266d9c;text-shadow:none}.test-runner-scope .action-bar.content-action-bar li.btn-info:active:hover,.test-runner-scope .action-bar.content-action-bar li.btn-info.active:hover{background:#fff}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar{opacity:1;height:40px}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box{height:40px;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-justify-content:space-between;-ms-flex-pack:space-between;justify-content:space-between;padding-left:10px;padding-right:10px}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .title-box{font-size:14px;font-size:1.4rem;padding:4px 0 0;-ms-flex:0 1 auto;-webkit-flex:0 1 auto;flex:0 1 auto}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .progress-box,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .item-number-box{padding-top:4px;white-space:nowrap;-ms-flex:0 1 auto;-webkit-flex:0 1 auto;flex:0 1 auto}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .progress-box .qti-controls,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .item-number-box .qti-controls{display:inline-block;margin-left:20px;white-space:nowrap}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .timer-box{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .progressbar{margin-top:5px;min-width:150px;max-width:200px;height:0.6em}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar>.control-box{color:rgba(255,255,255,0.9);text-shadow:1px 1px 0 black}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar>.control-box .lft,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar>.control-box .rgt{padding-left:20px}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar>.control-box .lft:first-child,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar>.control-box .rgt:first-child{padding-left:0}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar>.control-box .lft:last-child ul,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar>.control-box .rgt:last-child ul{display:inline-block}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar>.control-box [class^="btn-"],.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar>.control-box [class*=" btn-"]{white-space:nowrap}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .action{position:relative;overflow:visible}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu{color:#222;background:#f3f1ef;border:1px solid #aaa9a7;overflow:auto;list-style:none;min-width:150px;margin:0;padding:0;position:absolute;bottom:36px;left:-3px}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action{display:inline-block;text-align:left;width:100%;white-space:nowrap;overflow:hidden;color:#222;border-bottom:1px solid #c2c1bf;margin:0;-moz-border-radius:0px;-webkit-border-radius:0px;border-radius:0px;height:32px;padding:6px 15px;line-height:1;border-left:solid 3px transparent}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action .icon-checkbox-checked{display:none}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action.active{background-color:#dbd9d7;font-weight:bold}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action.hover .icon-checkbox,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action:hover .icon-checkbox,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action.active .icon-checkbox{display:none}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action.hover .icon-checkbox-checked,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action:hover .icon-checkbox-checked,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action.active .icon-checkbox-checked{display:inline-block}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action.hover,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action:hover{background-color:#0e5d91;color:#fff;border-left-color:#313030 !important}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action.hover .label,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action.hover .icon,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action:hover .label,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action:hover .icon{color:#fff}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action.hover .icon,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action:hover .icon{color:#e7eff4}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action .label,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action .icon{font-size:14px;font-size:1.4rem;text-shadow:none;color:#222}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar{overflow:visible;position:relative}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .action{line-height:1.6}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .icon.no-label{padding-right:0}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .tool-label-collapsed .btn-info .text,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .tool-label-collapsed-hover .btn-info:not(:hover) .text,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .btn-info.no-tool-label .text,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .btn-info.tool-label-collapsed .text,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .btn-info.tool-label-collapsed-over:not(:hover) .text{display:none}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .tool-label-collapsed .btn-info .icon,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .tool-label-collapsed-hover .btn-info:not(:hover) .icon,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .btn-info.no-tool-label .icon,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .btn-info.tool-label-collapsed .icon,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .btn-info.tool-label-collapsed-over:not(:hover) .icon{padding:0}.test-runner-scope [data-control="exit"]{margin-left:20px}.test-runner-scope [data-control="comment-toggle"]{display:none}.test-runner-scope.non-lti-context .title-box{display:none}.test-runner-scope [data-control="qti-comment"]{background-color:#f3f1ef;position:absolute;bottom:33px;left:8px;text-align:right;padding:5px;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;-webkit-box-shadow:0 0 15px 1px rgba(0,0,0,0.2);-moz-box-shadow:0 0 15px 1px rgba(0,0,0,0.2);-ms-box-shadow:0 0 15px 1px rgba(0,0,0,0.2);-o-box-shadow:0 0 15px 1px rgba(0,0,0,0.2);box-shadow:0 0 15px 1px rgba(0,0,0,0.2)}.test-runner-scope [data-control="qti-comment"] textarea{display:block;height:100px;resize:none;width:350px;padding:3px;margin:0  0 10px 0;border:none;font-size:13px;font-size:1.3rem;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px}.test-runner-scope .tools-box{position:relative;overflow:visible}\n\n/*# sourceMappingURL=new-test-runner.css.map */.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}@font-face{font-family:\'tao\';src:url("../../../tao/views/css/font/tao/tao.ttf?q9bdg0") format("truetype"),url("../../../tao/views/css/font/tao/tao.woff?q9bdg0") format("woff"),url("../../../tao/views/css/font/tao/tao.svg?q9bdg0#tao") format("svg");font-weight:normal;font-style:normal}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.tooltip-content{display:none}.qtip .tooltip-content{display:block}.qtip{position:absolute;left:-28000px;top:-28000px;display:none;max-width:280px;min-width:30px;font-size:12px;line-height:14px;direction:ltr;box-shadow:none;padding:0}.qtip-content{position:relative;padding:5px 9px;overflow:hidden;text-align:left;word-wrap:break-word}.qtip-titlebar{position:relative;padding:5px 35px 5px 10px;overflow:hidden;border-width:0 0 1px;font-weight:bold}.qtip-titlebar+.qtip-content{border-top-width:0 !important}.qtip-close{position:absolute;right:-9px;top:-9px;z-index:11;cursor:pointer;outline:medium none;border:1px solid transparent}.qtip-titlebar .qtip-close{right:4px;top:50%;margin-top:-9px}* html .qtip-titlebar .qtip-close{top:16px}.qtip-titlebar .ui-icon,.qtip-icon .ui-icon{display:block;text-indent:-1000em;direction:ltr}.qtip-icon,.qtip-icon .ui-icon{-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;text-decoration:none}.qtip-icon .ui-icon{width:18px;height:14px;line-height:14px;text-align:center;text-indent:0;font:normal bold 10px/13px Tahoma,sans-serif;color:inherit;background:transparent none no-repeat -100em -100em}.qtip-default{border:1px solid #F1D031;background-color:#FFFFA3;color:#222}.qtip-default .qtip-titlebar{background-color:#FFEF93}.qtip-default .qtip-icon{border-color:#CCC;background:#F1F1F1;color:#777}.qtip-default .qtip-titlebar .qtip-close{border-color:#AAA;color:#111}/*! Light tooltip style */.qtip-light{background-color:white;border-color:#E2E2E2;color:#222}.qtip-light .qtip-titlebar{background-color:#222}/*! Dark tooltip style */.qtip-dark{background-color:#505050;border-color:#303030;color:#fff}.qtip-dark .qtip-titlebar{background-color:#404040}.qtip-dark .qtip-icon{border-color:#444}.qtip-dark .qtip-titlebar .ui-state-hover{border-color:#303030}/*! Cream tooltip style */.qtip-cream{background-color:#FBF7AA;border-color:#F9E98E;color:#222}.qtip-cream .qtip-titlebar{background-color:#F0DE7D}.qtip-cream .qtip-close .qtip-icon{background-position:-82px 0}/*! Red tooltip style */.qtip.qtip-red{color:#222}.qtip-red .qtip-titlebar{background-color:#F06D65}.qtip-red .qtip-close .qtip-icon{background-position:-102px 0}.qtip-red .qtip-icon{border-color:#222}.qtip-red .qtip-titlebar .ui-state-hover{border-color:#222}/*! Orange tooltip style */.qtip.qtip-orange{color:#222}.qtip-orange .qtip-close .qtip-icon{background-position:-102px 0}.qtip-orange .qtip-icon{border-color:#222}.qtip-orange .qtip-titlebar .ui-state-hover{border-color:#222}/*! Green tooltip style */.qtip.qtip-green{color:#222}.qtip-green .qtip-titlebar{background-color:#B0DE78}.qtip-green .qtip-close .qtip-icon{background-position:-42px 0}/*! Danger (mix of read and orange) tooltip style */.qtip.qtip-danger{color:#222}.danger .qtip-titlebar{background-color:#B0DE78}.danger .qtip-close .qtip-icon{background-position:-42px 0}/*! Blue tooltip style */.qtip.qtip-blue{color:#222}.qtip-blue .qtip-titlebar{background-color:#D0E9F5}.qtip-blue .qtip-close .qtip-icon{background-position:-2px 0}.qtip-shadow{-webkit-box-shadow:1px 1px 3px 1px rgba(0,0,0,0.15);-moz-box-shadow:1px 1px 3px 1px rgba(0,0,0,0.15);box-shadow:1px 1px 3px 1px rgba(0,0,0,0.15)}.qtip-rounded,.qtip-tipsy,.qtip-bootstrap{-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px}.qtip-rounded .qtip-titlebar{-moz-border-radius:4px 4px 0 0;-webkit-border-radius:4px 4px 0 0;border-radius:4px 4px 0 0}.qtip-youtube{-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 0 3px #333;-moz-box-shadow:0 0 3px #333;box-shadow:0 0 3px #333;color:white;border:0 solid transparent;background:#4A4A4A;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0, #4A4A4A), color-stop(100%, black));background-image:-webkit-linear-gradient(top, #4A4A4A 0, black 100%);background-image:-moz-linear-gradient(top, #4A4A4A 0, black 100%);background-image:-ms-linear-gradient(top, #4A4A4A 0, black 100%);background-image:-o-linear-gradient(top, #4A4A4A 0, black 100%)}.qtip-youtube .qtip-titlebar{background-color:#4A4A4A;background-color:rgba(0,0,0,0)}.qtip-youtube .qtip-content{padding:.75em;font:12px arial,sans-serif;filter:progid:DXImageTransform.Microsoft.Gradient(GradientType=0,StartColorStr=#4a4a4a,EndColorStr=#000000);-ms-filter:"progid:DXImageTransform.Microsoft.Gradient(GradientType=0,StartColorStr=#4a4a4a,EndColorStr=#000000);"}.qtip-youtube .qtip-icon{border-color:#222}.qtip-youtube .qtip-titlebar .ui-state-hover{border-color:#303030}.qtip-jtools{background:#232323;background:rgba(0,0,0,0.7);background-image:-webkit-gradient(linear, left top, left bottom, from(#717171), to(#232323));background-image:-moz-linear-gradient(top, #717171, #232323);background-image:-webkit-linear-gradient(top, #717171, #232323);background-image:-ms-linear-gradient(top, #717171, #232323);background-image:-o-linear-gradient(top, #717171, #232323);border:2px solid #ddd;border:2px solid #f1f1f1;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 0 12px #333;-moz-box-shadow:0 0 12px #333;box-shadow:0 0 12px #333}.qtip-jtools .qtip-titlebar{background-color:transparent;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#717171,endColorstr=#4A4A4A);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#717171,endColorstr=#4A4A4A)"}.qtip-jtools .qtip-content{filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#4A4A4A,endColorstr=#232323);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#4A4A4A,endColorstr=#232323)"}.qtip-jtools .qtip-titlebar,.qtip-jtools .qtip-content{background:transparent;color:white;border:0 dashed transparent}.qtip-jtools .qtip-icon{border-color:#555}.qtip-jtools .qtip-titlebar .ui-state-hover{border-color:#333}.qtip-cluetip{-webkit-box-shadow:4px 4px 5px rgba(0,0,0,0.4);-moz-box-shadow:4px 4px 5px rgba(0,0,0,0.4);box-shadow:4px 4px 5px rgba(0,0,0,0.4);background-color:#D9D9C2;color:#111;border:0 dashed transparent}.qtip-cluetip .qtip-titlebar{background-color:#87876A;color:white;border:0 dashed transparent}.qtip-cluetip .qtip-icon{border-color:#808064}.qtip-cluetip .qtip-titlebar .ui-state-hover{border-color:#696952;color:#696952}.qtip-tipsy{background:black;background:rgba(0,0,0,0.87);color:white;border:0 solid transparent;font-size:11px;font-family:\'Lucida Grande\', sans-serif;font-weight:bold;line-height:16px;text-shadow:0 1px black}.qtip-tipsy .qtip-titlebar{padding:6px 35px 0 10px;background-color:transparent}.qtip-tipsy .qtip-content{padding:6px 10px}.qtip-tipsy .qtip-icon{border-color:#222;text-shadow:none}.qtip-tipsy .qtip-titlebar .ui-state-hover{border-color:#303030}.qtip-tipped{border:3px solid #959FA9;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;background-color:#F9F9F9;color:#454545;font-weight:normal;font-family:serif}.qtip-tipped .qtip-titlebar{border-bottom-width:0;color:white;background:#3A79B8;background-image:-webkit-gradient(linear, left top, left bottom, from(#3A79B8), to(#2E629D));background-image:-webkit-linear-gradient(top, #3A79B8, #2E629D);background-image:-moz-linear-gradient(top, #3A79B8, #2E629D);background-image:-ms-linear-gradient(top, #3A79B8, #2E629D);background-image:-o-linear-gradient(top, #3A79B8, #2E629D);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#3A79B8,endColorstr=#2E629D);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#3A79B8,endColorstr=#2E629D)"}.qtip-tipped .qtip-icon{border:2px solid #285589;background:#285589}.qtip-tipped .qtip-icon .ui-icon{background-color:#FBFBFB;color:#555}.qtip-bootstrap{font-size:14px;line-height:20px;color:#333333;padding:1px;background-color:#ffffff;border:1px solid #ccc;border:1px solid rgba(0,0,0,0.2);-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,0.2);-moz-box-shadow:0 5px 10px rgba(0,0,0,0.2);box-shadow:0 5px 10px rgba(0,0,0,0.2);-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box}.qtip-bootstrap .qtip-titlebar{padding:8px 14px;margin:0;font-size:14px;font-weight:normal;line-height:18px;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;-webkit-border-radius:5px 5px 0 0;-moz-border-radius:5px 5px 0 0;border-radius:5px 5px 0 0}.qtip-bootstrap .qtip-titlebar .qtip-close{right:11px;top:45%;border-style:none}.qtip-bootstrap .qtip-content{padding:9px 14px}.qtip-bootstrap .qtip-icon{background:transparent}.qtip-bootstrap .qtip-icon .ui-icon{width:auto;height:auto;float:right;font-size:20px;font-weight:bold;line-height:18px;color:#000000;text-shadow:0 1px 0 #ffffff;opacity:0.2;filter:alpha(opacity=20)}.qtip-bootstrap .qtip-icon .ui-icon:hover{color:#000000;text-decoration:none;cursor:pointer;opacity:0.4;filter:alpha(opacity=40)}.qtip:not(.ie9haxors) div.qtip-content,.qtip:not(.ie9haxors) div.qtip-titlebar{filter:none;-ms-filter:none}.qtip .qtip-tip{margin:0 auto;overflow:hidden;z-index:10}x:-o-prefocus,.qtip .qtip-tip{visibility:hidden}.qtip .qtip-tip,.qtip .qtip-tip .qtip-vml,.qtip .qtip-tip canvas{position:absolute;color:#123456;background:transparent;border:0 dashed transparent}.qtip .qtip-tip canvas{top:0;left:0}.qtip .qtip-tip .qtip-vml{behavior:url(#default#VML);display:inline-block;visibility:visible}#qtip-overlay{position:fixed;left:0;top:0;width:100%;height:100%}#qtip-overlay.blurs{cursor:pointer}#qtip-overlay div{position:absolute;left:0;top:0;width:100%;height:100%;background-color:black;opacity:0.7;filter:alpha(opacity=70);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)"}[class^="feedback-"],[class*=" feedback-"]{border:1px transparent solid;position:relative;padding:20px 20px 20px 45px;margin:5px 0 10px 0;border-radius:3px;color:#222 !important}[class^="feedback-"].small,[class*=" feedback-"].small{padding:8px 20px 8px 45px}[class^="feedback-"].small>[class^="icon-"],[class^="feedback-"].small>[class*=" icon-"],[class*=" feedback-"].small>[class^="icon-"],[class*=" feedback-"].small>[class*=" icon-"]{top:9px;left:10px}[class^="feedback-"]>[class^="icon-"],[class^="feedback-"]>[class*=" icon-"],[class*=" feedback-"]>[class^="icon-"],[class*=" feedback-"]>[class*=" icon-"]{font-size:20px;font-size:2rem;position:absolute;top:20px;left:15px}[class^="feedback-"]>[class^="icon-"].icon-close,[class^="feedback-"]>[class^="icon-"].icon-remove,[class^="feedback-"]>[class*=" icon-"].icon-close,[class^="feedback-"]>[class*=" icon-"].icon-remove,[class*=" feedback-"]>[class^="icon-"].icon-close,[class*=" feedback-"]>[class^="icon-"].icon-remove,[class*=" feedback-"]>[class*=" icon-"].icon-close,[class*=" feedback-"]>[class*=" icon-"].icon-remove{font-size:15px;font-size:1.5rem;color:#999;left:auto;top:5px;cursor:pointer}[class^="feedback-"]>[class^="icon-"].icon-close:hover,[class^="feedback-"]>[class^="icon-"].icon-remove:hover,[class^="feedback-"]>[class*=" icon-"].icon-close:hover,[class^="feedback-"]>[class*=" icon-"].icon-remove:hover,[class*=" feedback-"]>[class^="icon-"].icon-close:hover,[class*=" feedback-"]>[class^="icon-"].icon-remove:hover,[class*=" feedback-"]>[class*=" icon-"].icon-close:hover,[class*=" feedback-"]>[class*=" icon-"].icon-remove:hover{color:#222}[class^="feedback-"]>[class^="icon-"].icon-remove,[class^="feedback-"]>[class*=" icon-"].icon-remove,[class*=" feedback-"]>[class^="icon-"].icon-remove,[class*=" feedback-"]>[class*=" icon-"].icon-remove{right:24px}[class^="feedback-"]>[class^="icon-"].icon-close,[class^="feedback-"]>[class*=" icon-"].icon-close,[class*=" feedback-"]>[class^="icon-"].icon-close,[class*=" feedback-"]>[class*=" icon-"].icon-close{right:7px}[class^="feedback-"].popup,[class*=" feedback-"].popup{display:block;position:fixed;top:50px;left:50%;margin-left:-200px;width:400px;z-index:999999}.feedback-success,.qtip.qtip-green,.qti-item .qtip.qtip-green{border-color:#269c5d;background-color:#cfe9db}.feedback-success .icon-success,.qtip.qtip-green .icon-success{color:#0e914b !important}.feedback-info,.qtip.qtip-blue,.qti-item .qtip.qtip-blue{border-color:#266d9c;background-color:#cfdfe9}.feedback-info .icon-info,.qtip.qtip-blue .icon-info,.feedback-info .icon-lock,.qtip.qtip-blue .icon-lock{color:#0e5d91 !important}.feedback-info .button-container,.qtip.qtip-blue .button-container{margin-top:20px}.feedback-warning,.qtip.qtip-orange,.qti-item .qtip.qtip-orange{border-color:#dcb66b;background-color:#f7efde}.feedback-warning .icon-warning,.qtip.qtip-orange .icon-warning{color:#d8ae5b !important}.feedback-danger,.qtip.qtip-danger,.qti-item .qtip.qtip-danger{border-color:#ce7056;background-color:#f4dfd9}.feedback-danger .icon-danger,.qtip.qtip-danger .icon-danger{color:#c96043 !important}.feedback-error,.qtip.qtip-red,.qti-item .qtip.qtip-red{border-color:#c12a40;background-color:#f1d0d5}.feedback-error .icon-error,.qtip.qtip-red .icon-error{color:#ba122b !important}.brd-success{border:1px solid #269c5d !important}.brd-info{border:1px solid #266d9c !important}.brd-warning{border:1px solid #dcb66b !important}.brd-danger{border:1px solid #ce7056 !important}.brd-error{border:1px solid #c12a40 !important}.txt-success{color:#0e914b !important}.txt-info{color:#0e5d91 !important}.txt-warning{color:#d8ae5b !important}.txt-danger{color:#c96043 !important}.txt-error{color:#ba122b !important}.bg-success{background-color:#cfe9db}.bg-info{background-color:#cfdfe9}.bg-warning{background-color:#f7efde}.bg-danger{background-color:#f4dfd9}.bg-error{background-color:#f1d0d5}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}html{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;font-size:62.5%;line-height:1.4;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-background-size:cover;-moz-background-size:cover;-o-background-size:cover;background-size:cover}html.fullscreen{width:100%}body{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:14px}::-webkit-scrollbar-corner{background-color:ThreeDHighlight}.qti-item *,.qti-item *:before,.qti-item *:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.qti-item,.qti-item body{color:#222;font-family:"Franklin Gothic","Franklin Gothic Medium",sans-serif;font-weight:normal;margin:0;padding:0;position:relative;height:100%;z-index:0;line-height:1.4;background:white;border-width:1px;font-size:14px;font-size:1.4rem}.qti-item address,.qti-item article,.qti-item aside,.qti-item audio,.qti-item blockquote,.qti-item dd,.qti-item div,.qti-item dl,.qti-item fieldset,.qti-item figcaption,.qti-item figure,.qti-item footer,.qti-item form,.qti-item h1,.qti-item h2,.qti-item h3,.qti-item h4,.qti-item h5,.qti-item h6,.qti-item header,.qti-item hr,.qti-item noscript,.qti-item ol,.qti-item output,.qti-item p,.qti-item pre,.qti-item section,.qti-item summary,.qti-item ul,.qti-item main{margin-top:0;padding-top:0;padding-bottom:0;white-space:normal}.qti-item h1{font-size:2em;margin:0.67em 0}.qti-item h2{font-size:1.5em;margin:0.83em 0}.qti-item h3{font-size:1.17em;margin:1em 0}.qti-item h4{font-size:1em;margin:1.33em 0}.qti-item h5{font-size:0.83em;margin:1.67em 0}.qti-item h6{font-size:0.67em;margin:2.33em 0}.qti-item blockquote{margin:1em 40px}.qti-item blockquote,.qti-item dd,.qti-item dl,.qti-item fieldset,.qti-item figure,.qti-item h1,.qti-item h2,.qti-item h3,.qti-item h4,.qti-item h5,.qti-item h6,.qti-item hr,.qti-item ol,.qti-item p,.qti-item pre,.qti-item ul{display:block;margin-bottom:10px;white-space:normal}.qti-item h1,.qti-item h2,.qti-item h3,.qti-item h4,.qti-item h5,.qti-item h6{font-weight:normal;font-style:normal}.qti-item iframe{border:none}.qti-item audio,.qti-item canvas,.qti-item video,.qti-item svg{display:inline-block;vertical-align:middle}.qti-item .MathJax svg{display:inline;vertical-align:baseline}.qti-item a{cursor:pointer;background:transparent;text-decoration:none;outline:0;color:#3e7da7}.qti-item a:focus{outline:thin dotted}.qti-item a:hover{text-decoration:underline;color:#0e5d91}.qti-item a:hover:before,.qti-item a:hover:after{text-decoration:none !important}.qti-item a.block{color:#222;text-decoration:none;display:block}.qti-item a[rel="external"] span.icon-external:before{font-size:11px;font-size:1.1rem;padding:0 0 0 4px;position:relative;top:1px}.qti-item b,.qti-item .b,.qti-item strong,.qti-item .strong{font-weight:bold}.qti-item i,.qti-item .i,.qti-item em,.qti-item .em,.qti-item dfn{font-style:italic}.qti-item code,.qti-item pre,.qti-item kdb,.qti-item samp{font-family:Consolas,"Andale Mono WT","Andale Mono","Lucida Console","Lucida Sans Typewriter","DejaVu Sans Mono","Bitstream Vera Sans Mono","Liberation Mono","Nimbus Mono L",Monaco,"Courier New",Courier,monospace;font-size:14px;font-size:1.4rem}.qti-item pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word}.qti-item code{background:#f2f6f7;padding:2px 6px;display:inline-block;margin:0 3px;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px}.qti-item hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}.qti-item q{quotes:"\\201C" "\\201D" "\\2018" "\\2019"}.qti-item q:before,.qti-item q:after{content:\'\';content:none}.qti-item small{font-size:11px;font-size:1.1rem}.qti-item sub,.qti-item sup{font-size:.75rem;line-height:0;position:relative;vertical-align:baseline}.qti-item sup{top:-0.5rem}.qti-item sub{bottom:-0.25rem}.qti-item img{border:0;max-width:100%;height:auto}.qti-item svg:not(:root){overflow:hidden}.qti-item fieldset{border:0;margin:0;padding:0}.qti-item legend{border:0;padding:0}.qti-item textarea{overflow:auto;vertical-align:top;resize:vertical}.qti-item label,.qti-item button{cursor:pointer}.qti-item button{vertical-align:middle;outline:0;overflow:visible;border:none}.qti-item button::-moz-focus-inner,.qti-item input::-moz-focus-inner{border:0;padding:0}.qti-item button::-ms-clear,.qti-item input::-ms-clear{display:none}.qti-item button,.qti-item input,.qti-item select,.qti-item textarea{font-family:"Franklin Gothic","Franklin Gothic Medium",sans-serif;font-weight:normal;line-height:normal;text-transform:none;vertical-align:baseline}.qti-item button,.qti-item html input[type="button"],.qti-item input[type="reset"],.qti-item input[type="submit"]{-webkit-appearance:button;cursor:pointer}.qti-item input{border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;-moz-border-radius:1px;-webkit-border-radius:1px;border-radius:1px}.qti-item input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}.qti-item input[type="search"]::-webkit-search-cancel-button,.qti-item input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}.qti-item input[type="checkbox"],.qti-item input[type="radio"]{box-sizing:border-box;padding:0}.qti-item select{max-width:100%}.qti-item audio:not([controls]),.qti-item [hidden],.qti-item template,.qti-item .hidden,.qti-item .deleted,.qti-item .js,.qti-item .js-hide{display:none !important}.qti-item .visuallyhidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.qti-item .visuallyhidden.focusable:active,.qti-item .visuallyhidden.focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}.qti-item .invisible{visibility:hidden}.qti-item .viewport-hidden{position:absolute;left:-10000px;top:-10000px}.qti-item .clearfix:before,.qti-item .grid-row:before,.qti-item .fixed-grid-row:before,.qti-item #icon-editor .grid-row:before,.qti-item .block-listing.horizontal:before,.qti-item .qti-associateInteraction .result-area>li:before,.qti-item .clearfix:after,.qti-item .grid-row:after,.qti-item .fixed-grid-row:after,.qti-item #icon-editor .grid-row:after,.qti-item .block-listing.horizontal:after,.qti-item .qti-associateInteraction .result-area>li:after{content:" ";display:table}.qti-item .clearfix:after,.qti-item .grid-row:after,.qti-item .fixed-grid-row:after,.qti-item #icon-editor .grid-row:after,.qti-item .block-listing.horizontal:after,.qti-item .qti-associateInteraction .result-area>li:after{clear:both}.qti-item .clear{display:block;clear:both}.qti-item .lft{display:inline;float:left}.qti-item .rgt{display:inline;float:right}.qti-item .txt-ctr{text-align:center}.qti-item .txt-lft{text-align:left}.qti-item .txt-rgt{text-align:right}.qti-item .txt-jty{text-align:justify}.qti-item .txt-underline{text-decoration:underline;font-size:inherit}.qti-item .txt-highlight{padding:0 5px;background:#FF6416;color:white}.qti-item ::-moz-selection{background:#b3d4fc;text-shadow:none}.qti-item ::selection{background:#b3d4fc;text-shadow:none}.qti-item .placeholder{color:#777 !important}.qti-item ::-webkit-input-placeholder{color:#777 !important}.qti-item :-moz-placeholder{color:#777 !important}.qti-item ::-moz-placeholder{color:#777 !important}.qti-item .truncate,.qti-item .file-drop ul>li{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.qti-item .disabled,.qti-item *:disabled{cursor:default;opacity:.7}.qti-item .overlay,.qti-item .ui-widget-overlay{background:rgba(255,255,255,0.9)}.qti-item .ui-widget{font-family:"Franklin Gothic","Franklin Gothic Medium",sans-serif;font-size:1.4rem !important}.qti-item .ui-widget .ui-widget{font-size:1.4rem !important}.qti-item .ui-widget input,.qti-item .ui-widget select,.qti-item .ui-widget textarea,.qti-item .ui-widget button{font-family:"Franklin Gothic","Franklin Gothic Medium",sans-serif;font-size:1.4rem !important}.qti-item ul,.qti-item ol{padding-left:40px}.qti-item ul.plain,.qti-item ul.none,.qti-item ol.plain,.qti-item ol.none{padding:0;margin:0;list-style:none}.qti-item ul li,.qti-item ol li{vertical-align:text-top !important}.qti-item nav ul{padding:0;margin:0;list-style:none}.qti-item ul.disc,.qti-item ol.disc{list-style-type:disc}.qti-item ul.circle,.qti-item ol.circle{list-style-type:circle}.qti-item ul.square,.qti-item ol.square{list-style-type:square}.qti-item ul.decimal,.qti-item ol.decimal{list-style-type:decimal}.qti-item ul.decimal-leading-zero,.qti-item ol.decimal-leading-zero{list-style-type:decimal-leading-zero}.qti-item ul.lower-roman,.qti-item ol.lower-roman{list-style-type:lower-roman}.qti-item ul.upper-roman,.qti-item ol.upper-roman{list-style-type:upper-roman}.qti-item ul.lower-greek,.qti-item ol.lower-greek{list-style-type:lower-greek}.qti-item ul.lower-latin,.qti-item ol.lower-latin{list-style-type:lower-latin}.qti-item ul.upper-latin,.qti-item ol.upper-latin{list-style-type:upper-latin}.qti-item ul.armenian,.qti-item ol.armenian{list-style-type:armenian}.qti-item ul.georgian,.qti-item ol.georgian{list-style-type:georgian}.qti-item ul.lower-alpha,.qti-item ol.lower-alpha{list-style-type:lower-alpha}.qti-item ul.upper-alpha,.qti-item ol.upper-alpha{list-style-type:upper-alpha}.qti-item ul.none,.qti-item ol.none{list-style-type:none}.qti-item [class^="list-style-"],.qti-item [class*=" list-style-"]{counter-reset:custom-counter}.qti-item [class^="list-style-"]>p::before,.qti-item [class^="list-style-"]>div::before,.qti-item [class^="list-style-"]>li::before,.qti-item [class*=" list-style-"]>p::before,.qti-item [class*=" list-style-"]>div::before,.qti-item [class*=" list-style-"]>li::before{counter-increment:custom-counter;width:20px;display:inline-block;text-align:center}.qti-item [class^="list-style-"].list-style-disc>p::before,.qti-item [class^="list-style-"].list-style-disc>div::before,.qti-item [class^="list-style-"].list-style-disc>li::before,.qti-item [class*=" list-style-"].list-style-disc>p::before,.qti-item [class*=" list-style-"].list-style-disc>div::before,.qti-item [class*=" list-style-"].list-style-disc>li::before{content:counter(custom-counter, disc)}.qti-item [class^="list-style-"].list-style-circle>p::before,.qti-item [class^="list-style-"].list-style-circle>div::before,.qti-item [class^="list-style-"].list-style-circle>li::before,.qti-item [class*=" list-style-"].list-style-circle>p::before,.qti-item [class*=" list-style-"].list-style-circle>div::before,.qti-item [class*=" list-style-"].list-style-circle>li::before{content:counter(custom-counter, circle)}.qti-item [class^="list-style-"].list-style-square>p::before,.qti-item [class^="list-style-"].list-style-square>div::before,.qti-item [class^="list-style-"].list-style-square>li::before,.qti-item [class*=" list-style-"].list-style-square>p::before,.qti-item [class*=" list-style-"].list-style-square>div::before,.qti-item [class*=" list-style-"].list-style-square>li::before{content:counter(custom-counter, square)}.qti-item [class^="list-style-"].list-style-decimal>p::before,.qti-item [class^="list-style-"].list-style-decimal>div::before,.qti-item [class^="list-style-"].list-style-decimal>li::before,.qti-item [class*=" list-style-"].list-style-decimal>p::before,.qti-item [class*=" list-style-"].list-style-decimal>div::before,.qti-item [class*=" list-style-"].list-style-decimal>li::before{content:counter(custom-counter, decimal)}.qti-item [class^="list-style-"].list-style-decimal-leading-zero>p::before,.qti-item [class^="list-style-"].list-style-decimal-leading-zero>div::before,.qti-item [class^="list-style-"].list-style-decimal-leading-zero>li::before,.qti-item [class*=" list-style-"].list-style-decimal-leading-zero>p::before,.qti-item [class*=" list-style-"].list-style-decimal-leading-zero>div::before,.qti-item [class*=" list-style-"].list-style-decimal-leading-zero>li::before{content:counter(custom-counter, decimal-leading-zero)}.qti-item [class^="list-style-"].list-style-lower-roman>p::before,.qti-item [class^="list-style-"].list-style-lower-roman>div::before,.qti-item [class^="list-style-"].list-style-lower-roman>li::before,.qti-item [class*=" list-style-"].list-style-lower-roman>p::before,.qti-item [class*=" list-style-"].list-style-lower-roman>div::before,.qti-item [class*=" list-style-"].list-style-lower-roman>li::before{content:counter(custom-counter, lower-roman)}.qti-item [class^="list-style-"].list-style-upper-roman>p::before,.qti-item [class^="list-style-"].list-style-upper-roman>div::before,.qti-item [class^="list-style-"].list-style-upper-roman>li::before,.qti-item [class*=" list-style-"].list-style-upper-roman>p::before,.qti-item [class*=" list-style-"].list-style-upper-roman>div::before,.qti-item [class*=" list-style-"].list-style-upper-roman>li::before{content:counter(custom-counter, upper-roman)}.qti-item [class^="list-style-"].list-style-lower-greek>p::before,.qti-item [class^="list-style-"].list-style-lower-greek>div::before,.qti-item [class^="list-style-"].list-style-lower-greek>li::before,.qti-item [class*=" list-style-"].list-style-lower-greek>p::before,.qti-item [class*=" list-style-"].list-style-lower-greek>div::before,.qti-item [class*=" list-style-"].list-style-lower-greek>li::before{content:counter(custom-counter, lower-greek)}.qti-item [class^="list-style-"].list-style-lower-latin>p::before,.qti-item [class^="list-style-"].list-style-lower-latin>div::before,.qti-item [class^="list-style-"].list-style-lower-latin>li::before,.qti-item [class*=" list-style-"].list-style-lower-latin>p::before,.qti-item [class*=" list-style-"].list-style-lower-latin>div::before,.qti-item [class*=" list-style-"].list-style-lower-latin>li::before{content:counter(custom-counter, lower-latin)}.qti-item [class^="list-style-"].list-style-upper-latin>p::before,.qti-item [class^="list-style-"].list-style-upper-latin>div::before,.qti-item [class^="list-style-"].list-style-upper-latin>li::before,.qti-item [class*=" list-style-"].list-style-upper-latin>p::before,.qti-item [class*=" list-style-"].list-style-upper-latin>div::before,.qti-item [class*=" list-style-"].list-style-upper-latin>li::before{content:counter(custom-counter, upper-latin)}.qti-item [class^="list-style-"].list-style-armenian>p::before,.qti-item [class^="list-style-"].list-style-armenian>div::before,.qti-item [class^="list-style-"].list-style-armenian>li::before,.qti-item [class*=" list-style-"].list-style-armenian>p::before,.qti-item [class*=" list-style-"].list-style-armenian>div::before,.qti-item [class*=" list-style-"].list-style-armenian>li::before{content:counter(custom-counter, armenian)}.qti-item [class^="list-style-"].list-style-georgian>p::before,.qti-item [class^="list-style-"].list-style-georgian>div::before,.qti-item [class^="list-style-"].list-style-georgian>li::before,.qti-item [class*=" list-style-"].list-style-georgian>p::before,.qti-item [class*=" list-style-"].list-style-georgian>div::before,.qti-item [class*=" list-style-"].list-style-georgian>li::before{content:counter(custom-counter, georgian)}.qti-item [class^="list-style-"].list-style-lower-alpha>p::before,.qti-item [class^="list-style-"].list-style-lower-alpha>div::before,.qti-item [class^="list-style-"].list-style-lower-alpha>li::before,.qti-item [class*=" list-style-"].list-style-lower-alpha>p::before,.qti-item [class*=" list-style-"].list-style-lower-alpha>div::before,.qti-item [class*=" list-style-"].list-style-lower-alpha>li::before{content:counter(custom-counter, lower-alpha)}.qti-item [class^="list-style-"].list-style-upper-alpha>p::before,.qti-item [class^="list-style-"].list-style-upper-alpha>div::before,.qti-item [class^="list-style-"].list-style-upper-alpha>li::before,.qti-item [class*=" list-style-"].list-style-upper-alpha>p::before,.qti-item [class*=" list-style-"].list-style-upper-alpha>div::before,.qti-item [class*=" list-style-"].list-style-upper-alpha>li::before{content:counter(custom-counter, upper-alpha)}.qti-item [class^="list-style-"].list-style-none>p::before,.qti-item [class^="list-style-"].list-style-none>div::before,.qti-item [class^="list-style-"].list-style-none>li::before,.qti-item [class*=" list-style-"].list-style-none>p::before,.qti-item [class*=" list-style-"].list-style-none>div::before,.qti-item [class*=" list-style-"].list-style-none>li::before{content:counter(custom-counter, none)}.qti-item table{border-collapse:collapse;border-spacing:0;margin:0;padding:0}.qti-item table.matrix{width:100%;border:6px solid #f9f8f7;margin-bottom:10px}.qti-item table.matrix td,.qti-item table.matrix th{font-weight:normal;padding:3px 5px;border:1px solid #ddd}.qti-item table.matrix th{text-align:left;vertical-align:middle;background:#f9f8f7}.qti-item table.matrix td{background:transparent;text-align:left;padding:2px}.qti-item table.matrix td.numeric{text-align:right}.qti-item table.matrix td label{display:block;margin:0}.qti-item table.matrix tr:nth-child(even){background:white}.qti-item table.matrix tr:nth-child(odd){background:#f4f7f8}.qti-item table.matrix [data-edit],.qti-item table.matrix [data-edit] *{border:none;padding:6px;cursor:pointer}.qti-item table.matrix tbody [data-edit]{width:30px}.qti-item .tbl{display:table;float:none !important}.qti-item .tbl-row{display:table-row;float:none !important}.qti-item .tbl-cell{display:table-cell;vertical-align:top;float:none !important}.qti-item .svg-glyph{fill:currentColor}.qti-item .txt-user-highlight{color:#222 !important;background-color:yellow !important}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.select2-container *{text-decoration:none !important}.select2-drop{font-family:"Franklin Gothic","Franklin Gothic Medium","Source Sans Pro",sans-serif;font-weight:400}.select2-drop [data-symbol]:before{content:attr(data-symbol);display:inline-block;width:20px;line-height:20px;margin-right:4px;text-align:center;color:#222}.select2-container{margin:0;position:relative;display:inline-block;zoom:1;*display:inline;vertical-align:middle}.select2-container,.select2-drop,.select2-search,.select2-search input{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.select2-container .select2-choice{display:block;height:26px;padding:0 0 0 8px;overflow:hidden;position:relative;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;-moz-border-radius:1px;-webkit-border-radius:1px;border-radius:1px;white-space:nowrap;line-height:23px;color:#222;text-decoration:none;background-clip:padding-box;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#fff}.select2-container.select2-allowclear .select2-choice .select2-chosen{margin-right:42px}.select2-container .select2-choice>.select2-chosen{margin-right:26px;display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.select2-container .select2-choice abbr{display:none;width:12px;height:12px;position:absolute;right:24px;top:8px;font-size:1px;text-decoration:none;border:0;background-position:right top;cursor:pointer;outline:0}.select2-container.select2-allowclear .select2-choice abbr{display:inline-block;top:5px}.select2-container .select2-choice abbr:hover{background-position:right -11px;cursor:pointer}.select2-drop-mask{border:0;margin:0;padding:0;position:fixed;left:0;top:0;min-height:100%;min-width:100%;height:auto;width:auto;opacity:0;z-index:109998;background-color:#f3f1ef;filter:alpha(opacity=0)}.select2-drop{width:100%;margin-top:-1px;position:absolute;z-index:109999;top:100%;background:#fff;color:#222;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;border-top:0;border-radius:0 0 2px 2px}.select2-drop-auto-width{border-top:1px solid #ddd;width:auto}.select2-drop-auto-width .select2-search{padding-top:4px}.select2-drop.select2-drop-above{margin-top:1px;border-top:1px solid #ddd;border-bottom:0;border-radius:2px 2px 0 0}.select2-drop-active{border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;border-top:none}.select2-container .select2-choice .select2-arrow{display:inline-block;width:18px;height:100%;position:absolute;right:0;top:0;background-clip:padding-box}.select2-container .select2-choice .select2-arrow b{display:block;width:100%;height:100%;font-family:\'tao\';speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;font-size:1.05rem;font-size:10.5px;font-size:1.05rem;line-height:2.3;text-align:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.select2-container .select2-choice .select2-arrow b:before{content:"\\e611"}.select2-container .select2-choice .select2-arrow b:hover{background-color:#3e7da7;color:#fff}.select2-search{display:inline-block;width:100%;min-height:26px;margin:0;padding-left:4px;padding-right:4px;position:relative;z-index:100000;white-space:nowrap}.select2-search input{width:100%;height:auto !important;min-height:26px;padding:4px 20px 4px 5px;margin:0;outline:0;font-family:sans-serif;font-size:1em;border:1px solid #ddd;border-radius:0;-webkit-box-shadow:none;box-shadow:none;background-color:#fff;background-position:100% -22px}.select2-drop.select2-drop-above .select2-search input{margin-top:4px}.select2-search input.select2-active{background:#fff}.select2-container-active .select2-choice,.select2-container-active .select2-choices{border:1px solid #a4a9b1;outline:none}.select2-dropdown-open .select2-choice .select2-arrow{background:transparent;border-left:none;filter:none}.select2-dropdown-open .select2-choice .select2-arrow b{background-position:-18px 1px}.select2-results{max-height:200px;padding:0 !important;margin:4px 0 4px 0;position:relative;overflow-x:hidden;overflow-y:auto;font-size:inherit}.select2-results ul.select2-result-sub{margin:0;padding-left:0}.select2-results ul.select2-result-sub>li .select2-result-label{padding-left:20px}.select2-results ul.select2-result-sub ul.select2-result-sub>li .select2-result-label{padding-left:40px}.select2-results ul.select2-result-sub ul.select2-result-sub ul.select2-result-sub>li .select2-result-label{padding-left:60px}.select2-results ul.select2-result-sub ul.select2-result-sub ul.select2-result-sub ul.select2-result-sub>li .select2-result-label{padding-left:80px}.select2-results ul.select2-result-sub ul.select2-result-sub ul.select2-result-sub ul.select2-result-sub ul.select2-result-sub>li .select2-result-label{padding-left:100px}.select2-results ul.select2-result-sub ul.select2-result-sub ul.select2-result-sub ul.select2-result-sub ul.select2-result-sub ul.select2-result-sub>li .select2-result-label{padding-left:110px}.select2-results ul.select2-result-sub ul.select2-result-sub ul.select2-result-sub ul.select2-result-sub ul.select2-result-sub ul.select2-result-sub ul.select2-result-sub>li .select2-result-label{padding-left:120px}.select2-results li{list-style:none;display:list-item;background-image:none}.select2-results li.select2-result-with-children>.select2-result-label{font-weight:bold}.select2-results .select2-result-label{padding:3px 7px 4px;margin:0;cursor:pointer;min-height:1em;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.select2-results .select2-highlighted{background:#3e7da7;color:#fff}.select2-results li em{background:#fff;font-style:normal}.select2-results .select2-highlighted em{background:transparent}.select2-results .select2-highlighted ul{background:#fff;color:#222}.select2-results .select2-no-results,.select2-results .select2-searching,.select2-results .select2-selection-limit{background:#f3f1ef;display:list-item}.select2-hidden-accessible{display:none}.select2-results .select2-disabled.select2-highlighted{color:#999;display:list-item;cursor:default}.select2-results .select2-disabled .select2-result-label{cursor:default}.select2-results .select2-disabled{display:list-item;cursor:default;color:#999}.select2-results .select2-selected{display:none}.select2-more-results.select2-active{background:#f3f1ef url("img/select2/select2-spinner.gif") no-repeat 100%}.select2-more-results{background:#f3f1ef;display:list-item}.select2-container.select2-container-disabled .select2-choice{background-color:#f3f1ef;background-image:none;border:1px solid #ddd;cursor:default}.select2-container.select2-container-disabled .select2-choice .select2-arrow{background-color:#f3f1ef;background-image:none;border-left:0}.select2-container.select2-container-disabled .select2-choice abbr{display:none}.select2-container-multi .select2-choices{height:auto !important;height:1%;margin:0;padding:0;position:relative;border:1px solid #ddd;cursor:text;overflow:hidden;background-color:#fff}.select2-locked{padding:3px 5px 3px 5px !important}.select2-container-multi .select2-choices{min-height:26px}.select2-container-multi.select2-container-active .select2-choices{border:1px solid #ddd;outline:none}.select2-container-multi .select2-choices li{float:left;list-style:none}.select2-container-multi .select2-choices .select2-search-field{margin:0;padding:0;white-space:nowrap}.select2-container-multi .select2-choices .select2-search-field input{padding:5px;margin:1px 0;font-family:sans-serif;font-size:100%;color:#666;outline:0;border:0;-webkit-box-shadow:none;box-shadow:none;background:transparent !important}.select2-container-multi .select2-choices .select2-search-field input.select2-active{background:#fff url("img/select2/select2-spinner.gif") no-repeat 100% !important}.select2-default{color:#999 !important}.select2-container-multi .select2-choices .select2-search-choice{padding:3px 5px 3px 18px;margin:3px 0 3px 5px;position:relative;line-height:13px;color:#222;cursor:default;border:1px solid #ddd;border-radius:1px;background-clip:padding-box;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#dbd9d7}.select2-container-multi .select2-choices .select2-search-choice.partial{background-color:#faf9f9}.select2-container-multi .select2-choices .select2-search-choice .select2-chosen{cursor:default}.select2-container-multi .select2-choices .select2-search-choice-focus{background:#d4d4d4}.select2-search-choice-close{display:block;width:12px;height:13px;position:absolute;right:3px;top:4px;font-size:1px;outline:none;background-position:right top}.select2-search-choice-close,.select2-container .select2-choice abbr,.select2-search input{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAoCAYAAACiu5n/AAACLElEQVR42u3Zz0sUYRzH8bUISoyF1i5iXSooyYgOEXapZNYNojwU/aAfUAT9A4YhUgdxt1To0KFIBCMIvEcUEXntUtivpYuUhYFIdDBMmD69he/hObgsbSnb13ngdZjZhX3eO8/MDrMpSctKErwsg//HUSgU7uNYsB3hHla4CybqEoRPaMJGFCEMewxuxnsIk5iALPqg1yVdj9eQGUdjiuE1eAs+QOYztrsMJqwFk8EyHguW95klD+ZD08gsYvBFCBPYgHXBOT1UNpg3ncQpnAicRbrCCQ3j8SIf5QvYEWxvxnlb0mWDr0MIvcOaCiayC78gRKmlH+WDbaIjkJnDzgq/+VHIvMWqag3ehBkIAxXGdkAIDVRlsE24H9//4ty9hju4Hej710c5m83WYging32HMYjMnwSvx75UlQ+iOiDEaEMLZiA8dPc7TFQDnkGYxQ8Iz9Hs8k4riqIa4l5ApojVbm8tiduPL5CZRs5lMGFH8DNYxo+C5d3tMfgohJeow0qMQujxuqRb0RBsZ3DA2ZIuP5LgJDgJToKr4ZHOWjTOy+fzNa6DiezCFGReod1lMGF3IYzjMm5B5rirYIJyEJ4iHezfjW+YRr2n4EHE2LrAa1cg5DwFj2DWLlKljn67p+B+CIdKPAaOsddTcBOEKbTZvjp0Qvjo8Sp9DjJFfIVMjBsef4f34AHeYAxX0VfqMbDnfw97IXMTta6DLbobcxBa3Qdb9BPE2LZQ8G98530ecQi/2QAAAABJRU5ErkJggg==);background-repeat:no-repeat;min-width:inherit}.select2-container-multi .select2-search-choice-close{left:3px}.select2-container-multi .select2-choices .select2-search-choice .select2-search-choice-close:hover{background-position:right -11px}.select2-container-multi .select2-choices .select2-search-choice-focus .select2-search-choice-close{background-position:right -11px}.select2-container-multi.select2-container-disabled .select2-choices{background-color:#f3f1ef;background-image:none;border:1px solid #ddd;cursor:default}.select2-container-multi.select2-container-disabled .select2-choices .select2-search-choice{padding:3px 5px 3px 5px;border:1px solid #ddd;background-image:none;background-color:#f3f1ef}.select2-container-multi.select2-container-disabled .select2-choices .select2-search-choice .select2-search-choice-close{display:none;background:none}.select2-offscreen,.select2-offscreen:focus{clip:rect(0 0 0 0) !important;width:1px !important;height:1px !important;border:0 !important;margin:0 !important;padding:0 !important;overflow:hidden !important;position:absolute !important;outline:0 !important;left:0px !important;top:0px !important}.select2-display-none{display:none}.select2-measure-scrollbar{position:absolute;top:-10000px;left:-10000px;width:100px;height:100px;overflow:scroll}.mejs-offscreen{position:absolute !important;top:-10000px;left:-10000px;overflow:hidden;width:1px;height:1px}.mejs-container{position:relative;background:#000;font-family:Helvetica, Arial;text-align:left;vertical-align:top;text-indent:0}.me-plugin{position:absolute}.mejs-embed,.mejs-embed body{width:100%;height:100%;margin:0;padding:0;background:#000;overflow:hidden}.mejs-fullscreen{overflow:hidden !important}.mejs-container-fullscreen{position:fixed;left:0;top:0;right:0;bottom:0;overflow:hidden;z-index:1000}.mejs-container-fullscreen .mejs-mediaelement,.mejs-container-fullscreen video{width:100%;height:100%}.mejs-clear{clear:both}.mejs-background{position:absolute;top:0;left:0}.mejs-mediaelement{position:absolute;top:0;left:0;width:100%;height:100%}.mejs-poster{position:absolute;top:0;left:0;background-size:contain;background-position:50% 50%;background-repeat:no-repeat}:root .mejs-poster img{display:none}.mejs-poster img{border:0;padding:0;border:0}.mejs-overlay{position:absolute;top:0;left:0}.mejs-overlay-play{cursor:pointer}.mejs-overlay-button{position:absolute;top:50%;left:50%;width:100px;height:100px;margin:-50px 0 0 -50px;background:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pg08IS0tIEdlbmVyYXRvcjogQWRvYmUgRmlyZXdvcmtzIENTNiwgRXhwb3J0IFNWRyBFeHRlbnNpb24gYnkgQWFyb24gQmVhbGwgKGh0dHA6Ly9maXJld29ya3MuYWJlYWxsLmNvbSkgLiBWZXJzaW9uOiAwLjYuMSAgLS0+DTwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DTxzdmcgaWQ9ImJpZ3BsYXktZ3JhZGllbnQuZnctUGFnZSUyMDEiIHZpZXdCb3g9IjAgMCAxMDAgMjAwIiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjojZmZmZmZmMDAiIHZlcnNpb249IjEuMSINCXhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiDQl4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEwMHB4IiBoZWlnaHQ9IjIwMHB4Ig0+DQk8ZGVmcz4NCQk8cmFkaWFsR3JhZGllbnQgaWQ9ImdyYWRpZW50MSIgY3g9IjUwJSIgY3k9IjUwJSIgcj0iNTAlIj4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iIzIyMjIyMiIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjcwJSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjMjIyMjIyIiBzdG9wLW9wYWNpdHk9IjAuMDExOCIgb2Zmc2V0PSI3MC4yMDIlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiMzMzMzMzMiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSI4NSUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iIzMzMzMzMyIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjEwMCUiLz4NCQk8L3JhZGlhbEdyYWRpZW50Pg0JCTxyYWRpYWxHcmFkaWVudCBpZD0iZ3JhZGllbnQyIiBjeD0iNTAlIiBjeT0iNTAlIiByPSI1MCUiPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYmJiYmJiIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iNzAlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNiYmJiYmIiIHN0b3Atb3BhY2l0eT0iMC4wMTE4IiBvZmZzZXQ9IjcwLjIwMiUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2JiYmJiYiIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9Ijg1JSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYmJiYmJiIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iMTAwJSIvPg0JCTwvcmFkaWFsR3JhZGllbnQ+DQkJPGZpbHRlciBpZD0iZmlsdGVyMSIgeD0iLTEwMCUiIHk9Ii0xMDAlIiB3aWR0aD0iMzAwJSIgaGVpZ2h0PSIzMDAlIj4NCQkJPCEtLSBHbG93IC0tPg0JCQk8ZmVDb2xvck1hdHJpeCByZXN1bHQ9Im91dCIgaW49IlNvdXJjZUdyYXBoaWMiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgIDAgMCAwIDAgMCAgMCAwIDAgMCAwICAwIDAgMCAwLjI1MSAwIi8+DQkJCTxmZU1vcnBob2xvZ3kgcmVzdWx0PSJvdXQiIGluPSJvdXQiIG9wZXJhdG9yPSJkaWxhdGUiIHJhZGl1cz0iMyIvPg0JCQk8ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJvdXQiIGluPSJvdXQiIHN0ZERldmlhdGlvbj0iMS41Ii8+DQkJCTxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9Im91dCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9Ikdsb3cxIi8+DQkJPC9maWx0ZXI+DQkJPGZpbHRlciBpZD0iZmlsdGVyMiIgeD0iLTEwMCUiIHk9Ii0xMDAlIiB3aWR0aD0iMzAwJSIgaGVpZ2h0PSIzMDAlIj4NCQkJPCEtLSBHbG93IC0tPg0JCQk8ZmVDb2xvck1hdHJpeCByZXN1bHQ9Im91dCIgaW49IlNvdXJjZUdyYXBoaWMiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwLjg2NjcgMCAgMCAwIDAgMC44NjY3IDAgIDAgMCAwIDAuODY2NyAwICAwIDAgMCAwLjI1MSAwIi8+DQkJCTxmZU1vcnBob2xvZ3kgcmVzdWx0PSJvdXQiIGluPSJvdXQiIG9wZXJhdG9yPSJkaWxhdGUiIHJhZGl1cz0iMyIvPg0JCQk8ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJvdXQiIGluPSJvdXQiIHN0ZERldmlhdGlvbj0iMS41Ii8+DQkJCTxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9Im91dCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9Ikdsb3cyIi8+DQkJPC9maWx0ZXI+DQk8L2RlZnM+DQk8ZyBpZD0iQmFja2dyb3VuZCI+DQk8L2c+DQk8ZyBpZD0iZGFyayUyMHNoYWRvdyI+DQkJPHBhdGggZD0iTSAyMiA1MCBDIDIyIDM0LjUzNTggMzQuNTM1OCAyMiA1MCAyMiBDIDY1LjQ2NDIgMjIgNzggMzQuNTM1OCA3OCA1MCBDIDc4IDY1LjQ2NDIgNjUuNDY0MiA3OCA1MCA3OCBDIDM0LjUzNTggNzggMjIgNjUuNDY0MiAyMiA1MCBaTSA1IDUwIEMgNSA3NC44NTMxIDI1LjE0NjkgOTUgNTAgOTUgQyA3NC44NTMxIDk1IDk1IDc0Ljg1MzEgOTUgNTAgQyA5NSAyNS4xNDY5IDc0Ljg1MzEgNSA1MCA1IEMgMjUuMTQ2OSA1IDUgMjUuMTQ2OSA1IDUwIFoiIGZpbGw9InVybCgjZ3JhZGllbnQxKSIvPg0JCTxwYXRoIGQ9Ik0gMjIgMTUwIEMgMjIgMTM0LjUzNTggMzQuNTM1OCAxMjIgNTAgMTIyIEMgNjUuNDY0MiAxMjIgNzggMTM0LjUzNTggNzggMTUwIEMgNzggMTY1LjQ2NDIgNjUuNDY0MiAxNzggNTAgMTc4IEMgMzQuNTM1OCAxNzggMjIgMTY1LjQ2NDIgMjIgMTUwIFpNIDUgMTUwIEMgNSAxNzQuODUzMSAyNS4xNDY5IDE5NSA1MCAxOTUgQyA3NC44NTMxIDE5NSA5NSAxNzQuODUzMSA5NSAxNTAgQyA5NSAxMjUuMTQ2OSA3NC44NTMxIDEwNSA1MCAxMDUgQyAyNS4xNDY5IDEwNSA1IDEyNS4xNDY5IDUgMTUwIFoiIGZpbGw9InVybCgjZ3JhZGllbnQyKSIvPg0JPC9nPg0JPGcgaWQ9ImRhcmsiPg0JCTxwYXRoIGlkPSJQb2x5Z29uIiBmaWx0ZXI9InVybCgjZmlsdGVyMSkiIGQ9Ik0gNzIuNSA0OS41IEwgMzguNzUgNjguOTg1NiBMIDM4Ljc1IDMwLjAxNDQgTCA3Mi41IDQ5LjUgWiIgZmlsbD0iI2ZmZmZmZiIvPg0JCTxwYXRoIGlkPSJFbGxpcHNlIiBkPSJNIDEzIDUwLjUgQyAxMyAyOS43ODkxIDI5Ljc4OTEgMTMgNTAuNSAxMyBDIDcxLjIxMDkgMTMgODggMjkuNzg5MSA4OCA1MC41IEMgODggNzEuMjEwOSA3MS4yMTA5IDg4IDUwLjUgODggQyAyOS43ODkxIDg4IDEzIDcxLjIxMDkgMTMgNTAuNSBaIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iNSIgZmlsbD0ibm9uZSIvPg0JPC9nPg0JPGcgaWQ9ImxpZ2h0Ij4NCQk8cGF0aCBpZD0iUG9seWdvbjIiIGZpbHRlcj0idXJsKCNmaWx0ZXIyKSIgZD0iTSA3Mi41IDE0OS41IEwgMzguNzUgMTY4Ljk4NTYgTCAzOC43NSAxMzAuMDE0NCBMIDcyLjUgMTQ5LjUgWiIgZmlsbD0iI2ZmZmZmZiIvPg0JCTxwYXRoIGlkPSJFbGxpcHNlMiIgZD0iTSAxMyAxNTAuNSBDIDEzIDEyOS43ODkxIDI5Ljc4OTEgMTEzIDUwLjUgMTEzIEMgNzEuMjEwOSAxMTMgODggMTI5Ljc4OTEgODggMTUwLjUgQyA4OCAxNzEuMjExIDcxLjIxMDkgMTg4IDUwLjUgMTg4IEMgMjkuNzg5MSAxODggMTMgMTcxLjIxMSAxMyAxNTAuNSBaIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iNSIgZmlsbD0ibm9uZSIvPg0JPC9nPg08L3N2Zz4=") no-repeat}.no-svg .mejs-overlay-button{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAADICAMAAAAp4rTzAAAAA3NCSVQICAjb4U/gAAAA0lBMVEX////MzMwAAADMzMwAAADMzMwAAADW1tbMzMwaGhoQEBAHBwcAAADe3t7W1tZaWlpRUVFKSkpBQUE5OTkzMzMpKSkhISEaGhrm5ube3t58fHxzc3Nra2tmZmZaWlpRUVHv7+/m5uaZmZmUlJSMjIyEhIR8fHzv7+/m5ua1tbWtra2kpKSZmZn39/fv7+/MzMzFxcW+vr61tbX39/fW1tbMzMzFxcX39/fe3t7W1tb////39/fm5ube3t7////39/fv7+/m5ub////39/f////39/eUP7RQAAAARnRSTlMAEREiIjMzREREREREVVVVVVVVVVVVVVVmZmZmZmZmZnd3d3d3d3eIiIiIiIiZmZmZmZmqqqqqu7u7zMzMzN3d3d3u7v//HUUrOgAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNAay06AAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTEvMTkvMTAtc7sxAAAJ4klEQVR4nO2ae1sauRrAbUWW5TJHQaqsl122rZzqyooIiFAWZ8bv/5VOLm+SNzNJJhkGn7PPY/5qaSa/vPfkTQ8OPsbHcI7PubF/QtUcvl4tNyrkIEIdDcSpBJFdXyftjNEQ7cyoBgMII0HnlMYgBFuwezdbbxM60iTZrmdf+5JTGqMjfpttkzQzku38SseUFoOscjzZZgEw4u3kmGNKCIMR10sswxtV1xuWZ3mNMYEMjuhJxFuynt1eMEP0L4l9JDqZdQUmgIIYj7BUvJ5cNHXPal3MtyBS8hhMAQb57nIr9nqiua3kXM1gE6/cNN4UyWiCGNvbHooKOfhv3QmflPxoBlAUY8m/vtUANS2L0X85g70s/SmScbbmn/a1DIKHxHR/sqnP3hTB6DNG8lcuSYkhOWRC8wcT5mdfUPwYTc64zCYofdRkMF0xyvrMh0I/VIztiTRGPtlKDKecMEf82WIUt8JAkOYzc8s+cqiaKaAxpscoT61CUYSyJkyOvu60xrTxWQVun1FuCxXGPiAxmCCGKormHKgoJ/SzhGQyJ0QIQreUnIisB0q3plqhsnb7glJeC0QBqzNl3fG5HNL+e3bqxMBObpXCbBAQhEm9bGmQOQ98m2mEClo0KpO+SxQQhHpW0pLBy6w0p0b6ZhdGUI7pBp8cosBEFlZ3kqEgJG9cWzGC8shtbxUFBKFpcXsGLiKCcw4pf66ZRvuY74Y5jV0U2Mt1gp09A0mlaQwJgItCbZ90baIgxSSnwtdzEJKfLswY+L5LN/loixVYjs6ZqASUhxDTGN1Z7GdG1W3RF4h7QwXpqY2YIMQ0JncGUU5iMuPKrC+YQvexRjFrhBCMwZ1xvngw6wtW2yJtHdghZCd5d0ZzX436QtH+9jvahhVCHDVjGuHFV1TSLyZ9wYS7lEV73QeSJhP9vC2KEfWdbyZ95UyiFG2F5DINGOWV/MvcAaFVd+YPyZqmJnPGswUi7H4XAiF7VqapqbpqjBQUihd4E8UQnGk45Cv58R835K0fCCE6+4aqKLiXG5Jo5dMLQkzwH6CwWv+2H0ia/N2WkH7ihtD5u0M8JGkF2ySjrq4HpLer4a/TQsjbza4u/K0AQoPxdtdgpIcJWzC+S1qhkKe0ggRJ1eFKkDTVb5u7pHpyjHSnel60tHN5YNGicy9T61G1uvJLa5K5/OIZux0kWlaTSKN8pyugIh92JGKhSOI9vnQciertX8U+ShzuaoWHO3wDSs7kRsodU384jqk1cfETFbjEgZtt8tR+4FZXh38sp3r31YFOPKV7nNm0JUWhxRPfHcIuQQ90K8fOSxBzQSoKuWGUv845BJGi0OrJElw9+GL6K02wpCBZBdEvS+Wu2I9K1a57vGoWXIQ3C1gnA+cLM4S7CLsAQ0uiLrsehW2PHnzmZOgX5eAGDm9G/VncixKUJ0ZR7a66sRWldbw4Y+bXVavJtkS67SlKUVONt+6WXv1BYRbe5kxkw9/aHqxzxg1jPMvockKkKGesQ5o8ttC7Qi0DUI1O3rWFdmohA7U6n3nS7Ra3bK+gu9v0UpZOeeJJcaI6w9nB2tJf5jGb+NDyZ6BW/R10yB96hi56HdroDzDpLoSBKddrSPHLm8yTAx/NG/HwAeeK8GeHunoTIO48u8gQzr7PxANR8qdIO94M7QGlKx4vyFLr5ePXy+6X1unVX5MlfqRplmDoz03HCkNX5O9z6Id5z1ItfSifZRj0bl9zT3NCuNtu256g/YVhbnQ9X+c4yXpyjUI1HCGFkZh26/v8+ZW/Zibb1+f597O2jijB0DF1kwfraa0UAmHMHFwCyiMOVMlQ9VEbVSB0zv4e/SVmv/99AXHyozqCjVM14WN8jI/xMf6l41Nu7J9QNYevd5gbFXIQ4QgNxKkEkV1fJ+2M0RCNzKgGAwgjQeeUxiAEWzAaTVebmI40jjer6TCSnNIYHXE+3cTZA3e8mQ50TGkxyCqd8cZ8cyCccYdjSgiDEYOFJgNVl/b3xQBjAhkcESlEvJqOzpkhonNiH/X7NBKYAApijGGp+GV8nnUtYieBGQdTgEE1tRF77WhuK/88mMImNtw03hTFADE2owhFhRz8twgmxaMQimIs1NcKcKhlMYxZ+FMkI1rxTyMtg+AhMZ1VIEVncDG0JCWG5NAZIybMKhIUP0bjhTEGmJEvWYcqmAIo9EP20Qq5jDnZSgxkBeaIK64xt8KEIMzmmwg51KEpoDEmYpRpsSiCMc4xbGnjkwpcThkVUtgHoGDBUEXRnAMVpRODGZ0QIQjdUtwRWQ+Ubk21QmUkz7DNFYgCVr9HYnNI417lQCMGdjJSX9ogIAiTWgQWQKYibZhNIx2fOmUcuUQBQahnxSp4mZWmVA9DuzCCwjY4dYgCE5nVpY8gCBFvYMVgvyS2t4qCBGGeBSHOfpzmylNGZ2I3zGnsolgE0SAyo+eFEaKMnFZBiomFIAc5SJq+nJsx8H1ENzm2xQosJ+ZAAspDIPvnMHg/G4u+QNyhJogZQkxjcmcQhTmYxfRIWy8oZo0QgjG4M84X92Z9wWobpK0DO4TsJO/OhfrC0Y5TnBVCHDVjGuHFA6t/wYQRj/YjH4g8bamqeSh9Z2jSFzLJCovqguQyDTLK1AFZpZl4dUPIjjTTqLK6sEDEJkYhEM00hyp/GS2PQvEcb6IYgjMNhww9IFEghLjzEFVRcC83RHMuPwgxQQcorKjsCZLG9w0JiWI3hM7fHeIlSahNSqjrPQyvZ4SyLuyC7D0Y3yWtvFuCHKWZw2xwqm8UpXpetOIdipZ0LvOh6D3KL55RwUHCaBJpFObjSF9hRyKprXPHkeio8Qs+ywYe7g4LD3f4BoTMVu6YOnIcU+UBUAR9iQP32O5bB+osu8ChEnR1ELXEdQtCZ7PylyCm7Y7zEqSuc7J/UfF1TjPdQs+snhfTX16cFsFT0UU58Io9TtOiK7beLDgPbxawq+CqsFnwSU2GlsSR7HoUtj2iuMDquiilGji8GfVHcS8K5wbc7jK3orSOV8e3FWVoeDVsuso01XjrbuHVH5SRy1uQxe3BI84Y6gzPJiRQxrJf62x0jgWjuDmoUaAtvPJo2Q6yLdsiBqLwhBWPFSY7eI8bWun3AQzU4h5Bh/xevflkCY3Ofa6N7sHQHgReIMUvhg3jGIqHDzjkhT87HDXU00a6mWafNqKhetqQCdqboVE64vGCvqEsxsNBFDWiwX/Hixf0SNMowdCfmxAmZa9N+oOTvVr6UD7JMIhG+ac5IKxGrhrgLwwPhelLjhOvxrs9AUphDpW3DqeLDX/NjDebRSWPmTrmyOzCjjoTjDFzcAkojzhQJUPVR21UgdA5+3v0l5j9/vcFxMmP6gg2TtWEj/Ex/l/H/wCKgxtJ/pulSgAAAABJRU5ErkJggg==)}.mejs-overlay:hover .mejs-overlay-button{background-position:0 -100px}.mejs-overlay-loading{position:absolute;top:50%;left:50%;width:80px;height:80px;margin:-40px 0 0 -40px;background:#333;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEhJREFUeNrszzERACAMALEH/25qEBcMvcRBTjUtcFtCRERERERERERERERERERERERERERERERERERERERERERERERE5I8nwABEjQEXuO95jAAAAABJRU5ErkJggg==);background:rgba(0,0,0,0.9);background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(rgba(50,50,50,0.9)), to(rgba(0,0,0,0.9)));background:-webkit-linear-gradient(top, rgba(50,50,50,0.9), rgba(0,0,0,0.9));background:-moz-linear-gradient(top, rgba(50,50,50,0.9), rgba(0,0,0,0.9));background:-o-linear-gradient(top, rgba(50,50,50,0.9), rgba(0,0,0,0.9));background:-ms-linear-gradient(top, rgba(50,50,50,0.9), rgba(0,0,0,0.9));background:linear-gradient(rgba(50,50,50,0.9), rgba(0,0,0,0.9))}.mejs-overlay-loading span{display:block;width:80px;height:80px;background:transparent url(data:image/gif;base64,R0lGODlhMAAwAPcAAP////7+/v39/fv7+/j4+Pf39/X19e3t7ezs7Ovr6+rq6ujo6Obm5uXl5eTk5OHh4eDg4N/f397e3tzc3NnZ2djY2NbW1tXV1dTU1NPT08zMzMvLy8nJycjIyMfHx8PDw8LCwsDAwL+/v729vby8vLu7u7q6uri4uLOzs7KysrCwsK2traysrKampqSkpKOjo6KioqGhoaCgoJ6enp2dnZubm5qampmZmZeXl5aWlpWVlZSUlJOTk5GRkZCQkI+Pj46Ojo2NjYuLi4qKiomJiYiIiIeHh4WFhYSEhIODg4KCgoGBgYCAgH5+fn19fXx8fHt7e3p6enh4eHd3d3Z2dnV1dXR0dHJycnFxcWxsbGtra2pqamlpaWhoaGZmZmVlZWRkZGNjY19fX15eXl1dXVxcXFtbW1lZWVhYWFdXV1ZWVlVVVVNTU1JSUlFRUU9PT01NTUxMTEtLS0pKSklJSUdHR0ZGRkVFRURERENDQ0JCQkBAQD8/Pz4+Pj09PTw8PDo6Ojg4ODc3NzY2NjQ0NDMzMzIyMjExMTAwMC4uLi0tLSwsLCsrKykpKScnJyUlJSQkJCMjIyEhIR8fHx4eHh0dHRsbGxoaGhkZGRgYGBcXFxUVFRQUFBMTExISEhEREQ8PDw4ODg0NDQwMDAsLCwoKCggICAcHBwYGBgUFBQQEBAICAgEBAf///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCgCtACwCAAAAKwAtAAAI/wBbCRxIsCDBVZYIEbK0yqDDhxANItpRIUGCCjsQRdzIsRWbBwBCinzApqPJgn8YiFwJgMGfkydNrWDJcoUpmB0RHaC58oBGnANLFUJTho8ngWsE8BQpYA1QgYxuVHDQQEIKOa3IBFgaMgCZp4tENBhL1oIbPAW4AiiAZyArVKk4mrpBtm6DD38yqL2ASWApRn3+SFIVsVAFu3W9YFHKU4AVgaoOyXnzho6kiGkQ1wXyKcZWlgFggBL4yc4bOZP/xH1YRjPZHa08GVnwOcACI0cFdqJzenIfVBD5SHDdgIrAVYq29OihRVHDgagAnT7NKKInFa4tCDrp6Q8dO4ZKbf+UYwGxAyiET57q9Cl9xFVrOlAdWwGKqKcwI3XxoWOKoNX4bbSKe62wEmBHnaxhBBBYIPLcgRtFYkMHG1RYwhkEQojKJ6MY2MooPVQo4gYi9AHhQJnEMYYZgwD3xwcjihgEgAGS0kYXOH6hURgxishCJydKAgaOOL6hCo89bvBjkEMSaeSLSc54oo1E6vhhiDGWeKJAKa7YokASUmghhlsKtGGHBCW4YIMPlgnRgG7GKSdBqWRSiXhzOhSJFDLAUAQgbZokSiSVnNKRJTycoOgJLbyUXxdPRIHGJxyRkcIJKWR6QhF4diRKF0qEygQcHj6UihKYZnppDJacFAkUSjCMwYQSWpASkSpPpKrpDJmcVEkUsc7aRacPyaFCqopOkaEnCuVGECpozKrEE45GJMoUx2LKQyQFOfKEDjo84YhBn8CRRRd/AMeRKHI4kQQZrRJUyhU41IvDFcQeR0q+HKlC40CVBGEvDkFUkidBmxgx8BGbHDwQfDrUq8MageZZyhxUUDEHvw6bctNTAQEAIfkECQoArQAsAgABACsALAAACP8AWwkcSLAgQVKEzJDZ08mgw4cQDTKyUaGBAwkp5ETcyLHVIhENQoq00KajyYKmbIhc2eDDyZetClVkGdJBl4GqKg0aVEnVyVWpCqZhQFPkD4GHdlRIkKACD0McO6kxAuTKIZ+txhAt2kBHKzYPAIgVGwACm4iRbHTQwNYEmqB6InBtQMUPg7F4ATTw83AUD7aANYjg06pTCq4VTK3Im5dFKYd/PgQGHORUqzgzWUI5dIAxXgRQDYKZDJgFp1aq1HDY2qAClFBqPOMVsMbhF9JsTQ+ExKUHjimCTGWVPVYAGYd+JJMOIrzgKoJmCBAHUOCOQ1F/J4vY0xHD9AuXHkL/qsEBcIkzqDpCIR6gSkROaoj4sBq0Y5wXngPA+MRRlWWYnQyhwFgBKFDEaTC9pAoiWfDAgxaJ1GcQKphUQkqCGLYSSRQzxGAEIBJmWBArpzQnUCU8nKDiCS3wJWJBpTDSxx+RpNcKGSicgMKOJxhx4YsCqXKIHG+8QUckraCShI475ihDJUAK9Ekdb8hB5B+nqNIEkzzOEF6UndBRJZF9pBdHCkyqOIWNQKICSJVVKiIQKFKgqSMPj0Q5kCd/0FGHIaMMBEocTRxBBiV6EnRKJ5+widNjiUYq6aSUViqQJzs1hCEqnoiCFUeOOJFDDk80kmAmcYxhxiAmQlTKFTjEm4oDFoGeREobXeT6RSEcVRKErDgEMclLkoCRa65wOOqQJkQAe4QmxBp77BvKGpSarDmsEaJAoUBCCaQHsXHsrh2REscUVMhRK0GRdOFEFGh4YlAmcKjK6kmmgEtQKF0o4S8TcHw6ECqfjCKwiJFAoQQTTCixhSiWDlSJwgwr0cW6lqJiRsNKONFHxAR58kYWXfzRKsiqkPJjggEBACH5BAkKAK0ALAMAAgAtACsAAAj/AFsJHEiw4MBRf8KE+SPKoMOHEB9G6vFhwwYQPiBF3MhxYCcbFkNuuMGpo8mHazqItOhhzcmXA1UZWRnyiKqBnvaQSVOoFExVpwqq+kHTYpBVrVbFUSHBgQMLOBSZFBXnyRIylQheKbrhisA1FhqIHStiEUdRU1ScOJGCh0aBiEjQLIGoVaQOY/M2wOEzohy1KVKsnYJKoCozIkSKOIO0iwO9YysUiqjKCdvAgmdkisknCAsWQfrcbOUD8lgHaCKmQnI58IkYWQmi4sQp1cBVOUyLdUBm4xjBmE8U6btRiu4GEvZsrLRj7doWf0wGqqA7hSeOkKTIgFHkD9KOqJw8/9ZrQY7JVJgsETcZygn1sR/awJxvONCUHT+8/MlDZg2i9fSZ9AkWGRQggAAIsOBHgCd5EoMAAEQoYQNsELSKJpWMwqCFRgQg4YcAQHCIQKWsYYQQWDSyoUCKLADihwHwcNMcOuBgIxSdrLiFhy9KaIElplBho406ELJiDz1+qAAhpkwxJA46DLIiD0lKuGQrcuQw5BPXbZhFlRH+2AopJgZxhSMrtpKIAmDu8N2FlQAYoCpFVPlAXWk+1IkLEILIQIV5QvRJFRYQAEAAB6wQXaAbXXLHGP6ZwuikraBCSSSgBDjbJ7ad9AkaUUDhxVsveQIIHXYgQopJq8DBhBKwdqCR6Umn/PHGrXIwMtpGpGShBBOvPhHJS53QIcexb/QRFEelcPHrq1FQ8tIndryB7B+dcuSHE7AygcayBJESSSQNCVWIHLfSMaxJqPjRhRZwfGJQJm2AAYYblxhUCiN9/CHJriaVQgorBqESRxcIdyGHpAVnm+cnYyTcxRhdUmrQKGZIbEa5FhfEiiBfIPzFIAR3XDAityJSmMkPqQIwfQEBACH5BAkKAK0ALAMAAgAsACsAAAj/AFsJHEiwYEFVpwwqXMiwISg4TZSQqdSwokWCoKSkOHEiBQ9IF0MyjLMRBQqOUhKKXClQVZMTJk2eoIGJJctTRmDGPCGDEkFRfbyA+SNKpCpNlEYZHHNypxFSAyHx+KBBA4geIC2SUkMkCJZGBSvt4MixxZ+BnGpUXavhBieLcXDIxfGkU0FIUmTEMPIn1UA1HNhW9bCmoqkpc3HkGGQw1aVKUAemGiJ4rRFVDQ8nXhwSVY/KVYNgbhh3bl2RVkBruKJVjRGvYEUaIlHZhKGLR5OyVGUmBFsRaEbbFJlqDxAWLIL08Tvc5ilOnFQ2n96qkx4xaQqVoh5SFZwUERo0/6hwQxFBVJQgfeJOUE0F8fAbiFgk0JMZKFC6ZOUOiUP8+DeMosobTChhYBfrcccFA//BVwEhpGShBBMFOvEIez00CJ8DZpTCxYQFRjEJd6rcoKF4DpDRih8RTYjGdtxJcWIDEuzRCip9cLEFHJ6w10ogFJyYQo8ClSKgj62c4gSD/1kgB5ILgfLEeyh+0AaUBpkxxhqIHLYDEF1gSVAcT2BAQAABIMCCH2IW1MkLAMQpJwANsHERKZFEUlR3Q8zpJwS3NZQJG2CA4cYlISGigJ9zBsCDcAahAkcXlHYhhykXZcGonxZQtNAnY1TaxRh2WcTDpnMqwNhCo5QhqhmhXIh0KqpxqsoQK4J8QekXg0AqECqceILKQJrSCkCnDaFiyBtwGIJpQZ4AQkcdiCjViqK0OuqrQqoMa9Apf7whrhyMYKZKn6gCSl0ndMjh7ht9PNuJC5vWyd0ndbzx7h/PtvIJFRYUgKaabJJYiBzi0hGJQZjYseUhMLJXyiJ9/BGJt20uhIp0wwUEACH5BAkKAK0ALAMAAwArAC0AAAj/AFsJHEiwYEFTpgwqXMiQISk5U6jMKdWwosWBq9bkwIFDx5pVF0Mu1GSEI0cjmkSqJFgpiEkcQiopTKVqZSlSIAuWuvISy6iClcYgcSJH1EVUfrhkgfPJoKMnOnRAaVQQ0o4UJ06omGK0oh8nSpQwQYPKoKdBhDoVTCUlawqsKuJULNVFLBMlUSiJxCTjxNu3J57UdKjFrhIokURaguH374klpxqygnM3rBdQIksVaYw1BRmLn9BEedIF0so/LbJm5SHT4ilKkTCvXPWnSIwZU0yv3C2wVKVMZXkLH068oKrBxS+qQnTlh5E1ageyGvUpePJWqsyQ2MC9g43ErVAJ/zIzJk6m6634iODOfkOPn4i+dJnfhlRyVEHas//wR9Wb+fOBAR5xnLCgH3th+AdgFwImV+CB3IXRSnwAutEVcankdyAIf4Q3CHlyXIJeH+vp50NXrIjiSULoqXJGCex5cINu6Cm0CnNBHLEGJzXaSNAqyPUoECqBSJGDD10MKORAoThRQQNQOtDBRxap8kknkYmkihMOQOllAxbI1VAphdhBxx+eiBTIk196qUKaDDEixxtzAmIddolkwUMPWyiS0xRtfinBHgyh0gedc9LBo0CdFKEAAJAGsIARae4QqJcOfLZQKn8g+oYdTbXyiQuQlhppDJ/8cGmUaTQkCR1v0JaJSCoCVSGAqaYKgIUXq4JZSEOqRPJHH4zY18olFuCKawZ/fLAqDhRVlMopyN1BgLKmFpBHGxYEKoIivI2Bba6fyZGCBA44UAEOiwi3RgDjQirAGgJ5sgcZaBQSLW+IHBAvAAggIqQpK/zLwr41/sHAuA34saRAbDyAawAQsPHwQIjsYIECCljAwyEX/2gJIYRYEqRIAQEAIfkECQoArQAsAwADACsALAAACP8AWwkcSLBgwVKkVBlcyLAhQ1R+uGR548mhxYsE+zRRooSJGVQYQzIsxaUjEyVQKIlcSXDUFpMoIbFkyGrUJ5AFVcE5ybHLp4WmTIlEJajMGDiZDHpCE8VJF5kFScWZMiUOKYyGvnTZyubqwUmPfuZUg6MsDjUKHap6s3UrmEgrNRkxi4OIJouo4LTt8nYlpSB0g6i0mLWtG1ErR2Ghi2XURVODzIyRc2lmoyc5cjxpFFJVqE5CZ7bqNGhQJ9GoU6tezbo16lNpCar61OmU64GVxhhpEgfUwFKF6tD5U9E1pB0oTpxIIcV3q0Vy3kQHhHN1KinKUSRPAacVqj7So9P/4dT6kowT2rWfaKLq1J/wb+oUX10pBvr0J5TYjkTnjXRE1alGihH3bUeGQKhE8kcfjDjm2h8tKKccD5UQFFRsraXyhxEy0CAFVLc1RAolmNi2kCqIZMEDD1kggmGIAnUyhAIA1AiAAkOcxhIqqVz0iQs2BgnAC3F0ZogVPQyhBnkNUSGkkE9glIoZJGhgJQc1gFgQJhY8GSQGGO0RgpVkasADYgbZUYCXNhJghmwGnQJEmWR+0MdCYwTAZo0BjNHKKYFIcUMPXIDICQt0kunFQmvouWcAa4DiBAUNVMoAB2i1cmiiVoKx0CEI7AkAAog8wUClqDZQQXenBMEpCH8sjlQKC6KyYEoFqaaawml9iJBoD2ga5EcDbDbgxxS5phqBHq2kgoYJZHpwg5YGsQGBo3xCwEYrOySbqhgCqWLIFUEYsQaTDhnCgwUKKGABD4YIBIS3qKaR04tqVVJaJbF14QC9FRQC40Af0HtDKQML1IYFyYqgSMIDyZGCBA44UMENi0BMkCd7kGEGIQ6yFBAAIfkECQoArQAsAAADAC0AKwAACP8AWwkcSLCgQYGqUh1cyLDhQVSI3rxBZMqhxYsCWQ360qXLl0GqMIpcOMpMx45mRI1cSfDTmJNdxnhi2TBVRYOo4sCMg8ogq1GkVqqK9KfPoqAFM7UBA6ZNJoOf4Gjp4ufmRUl0JMoxpLAgKUmSkBI8hYaJEiVP/GBM9eeNHDlv7HwaWSmKEiZmu4htiKqP27d0OI2M9OSu2SyjLrJiBFfin1MjRXU5exfOKoylDtmhA2jmykhdoERBM1ekqk+detIUFamSapqwRZo6tGbMHUuxV/5ZcUBAgAIXqpTO7ZANAwDIkwuAIZg4Q0QPkksHEMBISOelKmm6vmrH9OkLEjn/d3QlyJE1iStV+C49QBbinp7gmK9DTqtBCdhL70GckI7581FRCn76Jcdfbv4BiAMVpqhXIHVawCcfffap4l2B4Y1XnhFrlCIQdPpVdxl2lWwyokDGfSdADJ45x9Buvf2WARbDuciQKYisQQYef3gBxA5TBNKVjQy58UEDSDZgARSgrJQdJq85JIcFSSbpABSQXbTKH0XEMMMUj1jkSQpVVllBIBgB0sIJbJ7AQyUO8SFBmVVKcVEpRZyQwp56juFQGXRWqcOJqXDCSZYDVQKDnnumcEISiB6EhgOBIukDQnwEwQILQfAxZCYyMMqnE9ctVEgFlTrQRSurnCHCBrBujCDCGdelIgWbfKoQh0Ol3FBpB5G0gkgJscZaAiIDRcKDoyeoMIVKDjEiAp0WrCEQFsUWewVBlpCBlhzQWrTIDag2IIEKclymChDZxgrEkAKlUipGphSSRhl8tLiKEe3CasSJRBK0RgftdmBtwAZ1YkO7NnSC8EGR9PABrB/0EOzDB4niBxhh/JHYSgEBACH5BAkKAK0ALAAAAwAtACsAAAj/AFsJHEiwoEGBp1AdXMiw4UFUkf70WVTKoUWCpQ6tGWMHk8FIdN68kVNI1UWLflggCBCggAUqnwaa+jNSzps6MU8yZNMAgM+fAFx0EmiqT005dIbqPGgIAtCnQ0yqYmRT5J9TD01aVMUjwFOgChAJHIWoDh1AngyaMgTnjSGFDStZ+Po0y0BUnjjBJahq0JcuXb4IYtVwkAK6QHlcDGUGMOAyowofRuxTscVOYxx3GZNzoVzKPu1aNCVHM5y9B7l6RRz25CU3YMCwyWSxKeWoOkVFikTqJE+6L5QuHZ5yZQACGJ7EGb60C5AdU0wh2miG+dI2Hxw02F7hCSjrS+VY/9hOvgEDJ1jBF1Q1quJATynKl6cQSD1BT3C2cOkDd48E+eVJYZ9ApaDBhBJKNOGHQGRoB+B2N2il3iRRKMHEgVxUZIaDD/YwYCuPOGHhgVn0RkgFD5rHxYefdIGghW+YNMoNKXIAyYetQNIFFFCYkZZAi4gAYAVq4CjQJ5BQglorityAYgMRpACHhEYuVEohaYihh3BV6nQKJ5yk1yVDqfQRBAssALFHKmOmhoYIGsSpQQhmUHnRKJRoYidDhpggp5wkGLJUI1gEYYQavVl0xZ9/WqFTJ0/gICkOyzmkShCMytnDkgwNksOkOERnqRGZxjkEmwORUsklqBLkKaiiOoi0hgeZclCkQKn8YUQMMkhxI0GQglqpQ5zckGkNnAz0RwsnNHvCDpUURGgQRCB6EiQ9gBDnBzz82gopRpyAwrjijmEQnnouJcofYHjRhygEUSKDuOOicIIRYrYpECY00EtuE3uOeYoUzZKbwrD6DgQJDyk0m4IU3yVcUCVkJAhHxBIbdErAFwUEADs=) 50% 50% no-repeat}.mejs-container .mejs-controls{position:absolute;list-style-type:none;margin:0;padding:0;bottom:0;left:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEhJREFUeNrszzERACAMALEH/25qEBcMvcRBTjUtcFtCRERERERERERERERERERERERERERERERERERERERERERERERE5I8nwABEjQEXuO95jAAAAABJRU5ErkJggg==);background:rgba(0,0,0,0.7);background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(rgba(50,50,50,0.7)), to(rgba(0,0,0,0.7)));background:-webkit-linear-gradient(top, rgba(50,50,50,0.7), rgba(0,0,0,0.7));background:-moz-linear-gradient(top, rgba(50,50,50,0.7), rgba(0,0,0,0.7));background:-o-linear-gradient(top, rgba(50,50,50,0.7), rgba(0,0,0,0.7));background:-ms-linear-gradient(top, rgba(50,50,50,0.7), rgba(0,0,0,0.7));background:linear-gradient(rgba(50,50,50,0.7), rgba(0,0,0,0.7));height:30px;width:100%}.mejs-container .mejs-controls div{list-style-type:none;background-image:none;display:block;float:left;margin:0;padding:0;width:26px;height:26px;font-size:11px;line-height:11px;font-family:Helvetica, Arial;border:0}.mejs-controls .mejs-button button{cursor:pointer;display:block;font-size:0;line-height:0;text-decoration:none;margin:7px 5px;padding:0;position:absolute;height:16px;width:16px;border:0;background:transparent url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pg08IS0tIEdlbmVyYXRvcjogQWRvYmUgRmlyZXdvcmtzIENTNiwgRXhwb3J0IFNWRyBFeHRlbnNpb24gYnkgQWFyb24gQmVhbGwgKGh0dHA6Ly9maXJld29ya3MuYWJlYWxsLmNvbSkgLiBWZXJzaW9uOiAwLjYuMSAgLS0+DTwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DTxzdmcgaWQ9ImNvbnRyb2xzLmZ3LVBhZ2UlMjAxIiB2aWV3Qm94PSIwIDAgMTQ0IDMyIiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjojZmZmZmZmMDAiIHZlcnNpb249IjEuMSINCXhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiDQl4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE0NHB4IiBoZWlnaHQ9IjMycHgiDT4NCTxkZWZzPg0JCTxyYWRpYWxHcmFkaWVudCBpZD0iZ3JhZGllbnQxIiBjeD0iNTAlIiBjeT0iNTAlIiByPSI1MCUiPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjZmZmZmZmIiBzdG9wLW9wYWNpdHk9IjEiIG9mZnNldD0iMCUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2YyZjJmMiIgc3RvcC1vcGFjaXR5PSIwLjIiIG9mZnNldD0iMTAwJSIvPg0JCTwvcmFkaWFsR3JhZGllbnQ+DQkJPGxpbmVhckdyYWRpZW50IGlkPSJncmFkaWVudDIiIHgxPSI1MCUiIHkxPSItNy44NjUyJSIgeDI9IjUwJSIgeTI9IjI0OS42NjI5JSI+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSIwJSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYzhjOGM4IiBzdG9wLW9wYWNpdHk9IjEiIG9mZnNldD0iMTAwJSIvPg0JCTwvbGluZWFyR3JhZGllbnQ+DQkJPGxpbmVhckdyYWRpZW50IGlkPSJncmFkaWVudDMiIHgxPSI1MCUiIHkxPSIwJSIgeDI9IjUwJSIgeTI9IjIzOC43NSUiPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjZmZmZmZmIiBzdG9wLW9wYWNpdHk9IjEiIG9mZnNldD0iMCUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2M4YzhjOCIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9IjEwMCUiLz4NCQk8L2xpbmVhckdyYWRpZW50Pg0JCTxsaW5lYXJHcmFkaWVudCBpZD0iZ3JhZGllbnQ0IiB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIj4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9IjAlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNjOGM4YzgiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSIxMDAlIi8+DQkJPC9saW5lYXJHcmFkaWVudD4NCQk8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50NSIgeDE9IjUwJSIgeTE9Ii0zMy4zMzMzJSIgeDI9IjUwJSIgeTI9IjE1Mi4wODMzJSI+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSIwJSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYzhjOGM4IiBzdG9wLW9wYWNpdHk9IjEiIG9mZnNldD0iMTAwJSIvPg0JCTwvbGluZWFyR3JhZGllbnQ+DQkJPGxpbmVhckdyYWRpZW50IGlkPSJncmFkaWVudDYiIHgxPSI1MCUiIHkxPSIwJSIgeDI9IjUwJSIgeTI9IjEwMCUiPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjZmZmZmZmIiBzdG9wLW9wYWNpdHk9IjEiIG9mZnNldD0iMCUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2M4YzhjOCIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9IjEwMCUiLz4NCQk8L2xpbmVhckdyYWRpZW50Pg0JCTxsaW5lYXJHcmFkaWVudCBpZD0iZ3JhZGllbnQ3IiB4MT0iNTAlIiB5MT0iLTMzLjMzMzMlIiB4Mj0iNTAlIiB5Mj0iMTUyLjA4MzMlIj4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9IjAlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNjOGM4YzgiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSIxMDAlIi8+DQkJPC9saW5lYXJHcmFkaWVudD4NCQk8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50OCIgeDE9IjUwJSIgeTE9IjAlIiB4Mj0iNTAlIiB5Mj0iMTAwJSI+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSIwJSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYzhjOGM4IiBzdG9wLW9wYWNpdHk9IjEiIG9mZnNldD0iMTAwJSIvPg0JCTwvbGluZWFyR3JhZGllbnQ+DQkJPGxpbmVhckdyYWRpZW50IGlkPSJncmFkaWVudDkiIHgxPSI1MCUiIHkxPSIwJSIgeDI9IjUwJSIgeTI9IjEwMCUiPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjZmZmZmZmIiBzdG9wLW9wYWNpdHk9IjEiIG9mZnNldD0iMCUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2M4YzhjOCIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9IjEwMCUiLz4NCQk8L2xpbmVhckdyYWRpZW50Pg0JCTxsaW5lYXJHcmFkaWVudCBpZD0iZ3JhZGllbnQxMCIgeDE9IjUwJSIgeTE9IjAlIiB4Mj0iNTAlIiB5Mj0iMTAwJSI+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSIwJSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYzhjOGM4IiBzdG9wLW9wYWNpdHk9IjEiIG9mZnNldD0iMTAwJSIvPg0JCTwvbGluZWFyR3JhZGllbnQ+DQkJPGxpbmVhckdyYWRpZW50IGlkPSJncmFkaWVudDExIiB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIj4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9IjAlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNjOGM4YzgiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSIxMDAlIi8+DQkJPC9saW5lYXJHcmFkaWVudD4NCQk8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50MTIiIHgxPSI1MCUiIHkxPSIwJSIgeDI9IjUwJSIgeTI9IjIzOC43NSUiPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjZmZmZmZmIiBzdG9wLW9wYWNpdHk9IjEiIG9mZnNldD0iMCUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2M4YzhjOCIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9IjEwMCUiLz4NCQk8L2xpbmVhckdyYWRpZW50Pg0JCTxsaW5lYXJHcmFkaWVudCBpZD0iZ3JhZGllbnQxMyIgeDE9IjQwJSIgeTE9Ii0xNDAlIiB4Mj0iNDAlIiB5Mj0iOTguNzUlIj4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9IjAlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNjOGM4YzgiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSIxMDAlIi8+DQkJPC9saW5lYXJHcmFkaWVudD4NCQk8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50MTQiIHgxPSI1MCUiIHkxPSIwJSIgeDI9IjUwJSIgeTI9IjIzOC43NSUiPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjZmZmZmZmIiBzdG9wLW9wYWNpdHk9IjEiIG9mZnNldD0iMCUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2M4YzhjOCIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9IjEwMCUiLz4NCQk8L2xpbmVhckdyYWRpZW50Pg0JCTxsaW5lYXJHcmFkaWVudCBpZD0iZ3JhZGllbnQxNSIgeDE9IjYwJSIgeTE9Ii0xNDAlIiB4Mj0iNjAlIiB5Mj0iOTguNzUlIj4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9IjAlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNjOGM4YzgiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSIxMDAlIi8+DQkJPC9saW5lYXJHcmFkaWVudD4NCQk8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50MTYiIHgxPSI1MCUiIHkxPSIwJSIgeDI9IjUwJSIgeTI9IjI5OC40Mzc1JSI+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSIwJSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYzhjOGM4IiBzdG9wLW9wYWNpdHk9IjEiIG9mZnNldD0iMTAwJSIvPg0JCTwvbGluZWFyR3JhZGllbnQ+DQkJPGxpbmVhckdyYWRpZW50IGlkPSJncmFkaWVudDE3IiB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIyMzguNzUlIj4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9IjAlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNjOGM4YzgiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSIxMDAlIi8+DQkJPC9saW5lYXJHcmFkaWVudD4NCQk8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50MTgiIHgxPSI1MCUiIHkxPSItMjAwJSIgeDI9IjUwJSIgeTI9IjEwMCUiPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjZmZmZmZmIiBzdG9wLW9wYWNpdHk9IjEiIG9mZnNldD0iMCUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2M4YzhjOCIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9IjEwMCUiLz4NCQk8L2xpbmVhckdyYWRpZW50Pg0JCTxsaW5lYXJHcmFkaWVudCBpZD0iZ3JhZGllbnQxOSIgeDE9IjUwJSIgeTE9Ii0yMDAlIiB4Mj0iNTAlIiB5Mj0iMTEwLjkzNzUlIj4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9IjAlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNjOGM4YzgiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSIxMDAlIi8+DQkJPC9saW5lYXJHcmFkaWVudD4NCQk8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50MjAiIHgxPSI1NSUiIHkxPSIwJSIgeDI9IjU1JSIgeTI9IjEwMCUiPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjZmZmZmZmIiBzdG9wLW9wYWNpdHk9IjEiIG9mZnNldD0iMCUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2M4YzhjOCIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9IjEwMCUiLz4NCQk8L2xpbmVhckdyYWRpZW50Pg0JCTxsaW5lYXJHcmFkaWVudCBpZD0iZ3JhZGllbnQyMSIgeDE9IjUwJSIgeTE9IjAlIiB4Mj0iNTAlIiB5Mj0iMTAwJSI+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSIwJSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYzhjOGM4IiBzdG9wLW9wYWNpdHk9IjEiIG9mZnNldD0iOTkuNDQ0NCUiLz4NCQk8L2xpbmVhckdyYWRpZW50Pg0JPC9kZWZzPg0JPGcgaWQ9IkJHIj4NCTwvZz4NCTxnIGlkPSJjb250cm9scyI+DQkJPHBhdGggaWQ9IkxpbmUiIGQ9Ik0gOTguNSA3LjUgTCAxMDkuNSA3LjUgIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIvPg0JCTxwYXRoIGlkPSJMaW5lMiIgZD0iTSA5OC41IDMuNSBMIDEwOS41IDMuNSAiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIi8+DQkJPHBhdGggaWQ9IkxpbmUzIiBkPSJNIDk4LjUgMTEuNSBMIDEwOS41IDExLjUgIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIvPg0JCTxwYXRoIGlkPSJFbGxpcHNlIiBkPSJNIDEwOCAxMS41IEMgMTA4IDEwLjY3MTYgMTA4LjQ0NzcgMTAgMTA5IDEwIEMgMTA5LjU1MjMgMTAgMTEwIDEwLjY3MTYgMTEwIDExLjUgQyAxMTAgMTIuMzI4NCAxMDkuNTUyMyAxMyAxMDkgMTMgQyAxMDguNDQ3NyAxMyAxMDggMTIuMzI4NCAxMDggMTEuNSBaIiBmaWxsPSIjZmZmZmZmIi8+DQkJPHBhdGggaWQ9IkVsbGlwc2UyIiBkPSJNIDEwNCA3LjUgQyAxMDQgNi42NzE2IDEwNC40NDc3IDYgMTA1IDYgQyAxMDUuNTUyMyA2IDEwNiA2LjY3MTYgMTA2IDcuNSBDIDEwNiA4LjMyODQgMTA1LjU1MjMgOSAxMDUgOSBDIDEwNC40NDc3IDkgMTA0IDguMzI4NCAxMDQgNy41IFoiIGZpbGw9IiNmZmZmZmYiLz4NCQk8cGF0aCBpZD0iRWxsaXBzZTMiIGQ9Ik0gMTA4IDMuNSBDIDEwOCAyLjY3MTYgMTA4LjQ0NzcgMiAxMDkgMiBDIDEwOS41NTIzIDIgMTEwIDIuNjcxNiAxMTAgMy41IEMgMTEwIDQuMzI4NCAxMDkuNTUyMyA1IDEwOSA1IEMgMTA4LjQ0NzcgNSAxMDggNC4zMjg0IDEwOCAzLjUgWiIgZmlsbD0iI2ZmZmZmZiIvPg0JPC9nPg0JPGcgaWQ9ImJhY2tsaWdodCI+DQkJPGcgaWQ9Im9mZiI+DQkJCTxyZWN0IHg9IjgzIiB5PSIyMSIgd2lkdGg9IjEwIiBoZWlnaHQ9IjYiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSIjMzMzMzMzIi8+DQkJPC9nPg0JCTxnIGlkPSJvbiI+DQkJCTxwYXRoIGlkPSJFbGxpcHNlNCIgZD0iTSA4MSA4IEMgODEgNS4yMzg1IDg0LjEzNCAzIDg4IDMgQyA5MS44NjYgMyA5NSA1LjIzODUgOTUgOCBDIDk1IDEwLjc2MTUgOTEuODY2IDEzIDg4IDEzIEMgODQuMTM0IDEzIDgxIDEwLjc2MTUgODEgOCBaIiBmaWxsPSJ1cmwoI2dyYWRpZW50MSkiLz4NCQkJPHJlY3QgeD0iODMiIHk9IjUiIHdpZHRoPSIxMCIgaGVpZ2h0PSI2IiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0iIzMzMzMzMyIvPg0JCTwvZz4NCTwvZz4NCTxnIGlkPSJsb29wIj4NCQk8ZyBpZD0ib24yIj4NCQkJPHBhdGggZD0iTSA3My43OTUgNC4yMDUgQyA3NS4yMTU1IDQuODc4NSA3Ni4yIDYuMzIzNCA3Ni4yIDggQyA3Ni4yIDEwLjMxOTYgNzQuMzE5NiAxMi4yIDcyIDEyLjIgQyA2OS42ODA0IDEyLjIgNjcuOCAxMC4zMTk2IDY3LjggOCBDIDY3LjggNi4zMjM0IDY4Ljc4NDUgNC44Nzg1IDcwLjIwNSA0LjIwNSBMIDY4Ljg3NSAyLjg3NSBDIDY3LjE1MDEgMy45Mjg5IDY2IDUuODMwNiA2NiA4IEMgNjYgMTEuMzEzOCA2OC42ODYyIDE0IDcyIDE0IEMgNzUuMzEzOCAxNCA3OCAxMS4zMTM4IDc4IDggQyA3OCA1LjgzMDYgNzYuODQ5OSAzLjkyODkgNzUuMTI1IDIuODc1IEwgNzMuNzk1IDQuMjA1IFoiIGZpbGw9InVybCgjZ3JhZGllbnQyKSIvPg0JCQk8cGF0aCBkPSJNIDcxIDIgTCA2NiAyIEwgNzEgNyBMIDcxIDIgWiIgZmlsbD0idXJsKCNncmFkaWVudDMpIi8+DQkJPC9nPg0JCTxnIGlkPSJvZmYyIj4NCQkJPHBhdGggZD0iTSA3My43OTUgMjAuMjA1IEMgNzUuMjE1NSAyMC44Nzg1IDc2LjIgMjIuMzIzNCA3Ni4yIDI0IEMgNzYuMiAyNi4zMTk2IDc0LjMxOTYgMjguMiA3MiAyOC4yIEMgNjkuNjgwNCAyOC4yIDY3LjggMjYuMzE5NiA2Ny44IDI0IEMgNjcuOCAyMi4zMjM0IDY4Ljc4NDUgMjAuODc4NSA3MC4yMDUgMjAuMjA1IEwgNjguODc1IDE4Ljg3NSBDIDY3LjE1MDEgMTkuOTI4OSA2NiAyMS44MzA2IDY2IDI0IEMgNjYgMjcuMzEzOCA2OC42ODYyIDMwIDcyIDMwIEMgNzUuMzEzOCAzMCA3OCAyNy4zMTM4IDc4IDI0IEMgNzggMjEuODMwNiA3Ni44NDk5IDE5LjkyODkgNzUuMTI1IDE4Ljg3NSBMIDczLjc5NSAyMC4yMDUgWiIgZmlsbD0iI2E4YThiNyIvPg0JCQk8cGF0aCBkPSJNIDcxIDE4IEwgNjYgMTggTCA3MSAyMyBMIDcxIDE4IFoiIGZpbGw9IiNhOGE4YjciLz4NCQk8L2c+DQk8L2c+DQk8ZyBpZD0iY2MiPg0JCTxyZWN0IHZpc2liaWxpdHk9ImhpZGRlbiIgeD0iNDkiIHk9IjIiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxMiIgc3Ryb2tlPSIjYjBiMGIwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiLz4NCQk8dGV4dCB2aXNpYmlsaXR5PSJoaWRkZW4iIHg9IjQ5IiB5PSIxNyIgd2lkdGg9IjE0IiBmaWxsPSIjZmZmZmZmIiBzdHlsZT0iZm9udC1zaXplOiAxMHB4OyBjb2xvcjogI2ZmZmZmZjsgZm9udC1mYW1pbHk6IEFyaWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7ICI+PHRzcGFuPjwhW0NEQVRBW2NjXV0+PC90c3Bhbj48L3RleHQ+DQkJPHBhdGggZD0iTSA1NSA3IEMgNTAuMjgxMyAzLjc4MTMgNTAuMDYzIDEyLjk0MDUgNTUgMTAgIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIvPg0JCTxwYXRoIGQ9Ik0gNjAgNyBDIDU1LjI4MTMgMy43ODEzIDU1LjA2MyAxMi45NDA1IDYwIDEwICIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiLz4NCQk8cGF0aCBkPSJNIDUwIDMgTCA2MiAzIEwgNjIgMTMgTCA1MCAxMyBMIDUwIDMgWk0gNDkgMiBMIDQ5IDE0IEwgNjMgMTQgTCA2MyAyIEwgNDkgMiBaIiBmaWxsPSJ1cmwoI2dyYWRpZW50NCkiLz4NCQk8cmVjdCB4PSI0OSIgeT0iMiIgd2lkdGg9IjE0IiBoZWlnaHQ9IjEyIiBmaWxsPSJub25lIi8+DQk8L2c+DQk8ZyBpZD0idm9sdW1lIj4NCQk8ZyBpZD0ibm8lMjBzb3VuZCI+DQkJCTxyZWN0IHg9IjE3IiB5PSI1IiB3aWR0aD0iNSIgaGVpZ2h0PSI2IiBmaWxsPSJ1cmwoI2dyYWRpZW50NSkiLz4NCQkJPHBhdGggZD0iTSAyMSA1IEwgMjUgMiBMIDI1IDE0IEwgMjEgMTEuMDYyNSBMIDIxIDUgWiIgZmlsbD0idXJsKCNncmFkaWVudDYpIi8+DQkJPC9nPg0JCTxnIGlkPSJzb3VuZCUyMGJhcnMiPg0JCQk8cmVjdCB4PSIxNyIgeT0iMjEiIHdpZHRoPSI1IiBoZWlnaHQ9IjYiIGZpbGw9InVybCgjZ3JhZGllbnQ3KSIvPg0JCQk8cGF0aCBkPSJNIDIxIDIxIEwgMjUgMTggTCAyNSAzMCBMIDIxIDI3LjA2MjUgTCAyMSAyMSBaIiBmaWxsPSJ1cmwoI2dyYWRpZW50OCkiLz4NCQkJPHBhdGggZD0iTSAyNyAxOCBDIDI3IDE4IDMwLjA2MjUgMTcuMzc1IDMwIDI0IEMgMjkuOTM3NSAzMC42MjUgMjcgMzAgMjcgMzAgIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIvPg0JCQk8cGF0aCBkPSJNIDI2IDIxLjAwNzkgQyAyNiAyMS4wMDc5IDI4LjA0MSAyMC42OTYyIDI3Ljk5OTQgMjQgQyAyNy45NTc3IDI3LjMwMzggMjYgMjYuOTkyMSAyNiAyNi45OTIxICIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiLz4NCQk8L2c+DQk8L2c+DQk8ZyBpZD0icGxheS9wYXVzZSI+DQkJPGcgaWQ9InBsYXkiPg0JCQk8cGF0aCBpZD0iUG9seWdvbiIgZD0iTSAxNCA4LjUgTCAzIDE0IEwgMyAzIEwgMTQgOC41IFoiIGZpbGw9InVybCgjZ3JhZGllbnQ5KSIvPg0JCTwvZz4NCQk8ZyBpZD0icGF1c2UiPg0JCQk8cmVjdCB4PSIzIiB5PSIxOCIgd2lkdGg9IjMiIGhlaWdodD0iMTIiIGZpbGw9InVybCgjZ3JhZGllbnQxMCkiLz4NCQkJPHJlY3QgeD0iMTAiIHk9IjE4IiB3aWR0aD0iMyIgaGVpZ2h0PSIxMiIgZmlsbD0idXJsKCNncmFkaWVudDExKSIvPg0JCTwvZz4NCTwvZz4NCTxnIGlkPSJmdWxsc2NyZWVuIj4NCQk8ZyBpZD0iZW50ZXIlMjAxIj4NCQkJPHBhdGggZD0iTSAzNCAyIEwgMzkgMiBMIDM0IDcgTCAzNCAyIFoiIGZpbGw9InVybCgjZ3JhZGllbnQxMikiLz4NCQkJPHBhdGggZD0iTSAzNCAxNCBMIDM5IDE0IEwgMzQgOSBMIDM0IDE0IFoiIGZpbGw9InVybCgjZ3JhZGllbnQxMykiLz4NCQkJPHBhdGggZD0iTSA0NiAyIEwgNDEgMiBMIDQ2IDcgTCA0NiAyIFoiIGZpbGw9InVybCgjZ3JhZGllbnQxNCkiLz4NCQkJPHBhdGggZD0iTSA0NiAxNCBMIDQxIDE0IEwgNDYgOSBMIDQ2IDE0IFoiIGZpbGw9InVybCgjZ3JhZGllbnQxNSkiLz4NCQk8L2c+DQkJPGcgaWQ9ImV4aXQiPg0JCQk8cGF0aCBkPSJNIDQyIDIyIEwgNDYgMjIgTCA0MiAxOCBMIDQyIDIyIFoiIGZpbGw9InVybCgjZ3JhZGllbnQxNikiLz4NCQkJPHBhdGggZD0iTSAzOCAyMiBMIDM4IDE4IEwgMzQgMjIgTCAzOCAyMiBaIiBmaWxsPSJ1cmwoI2dyYWRpZW50MTcpIi8+DQkJCTxwYXRoIGQ9Ik0gMzggMjYgTCAzNCAyNiBMIDM4IDMwIEwgMzggMjYgWiIgZmlsbD0idXJsKCNncmFkaWVudDE4KSIvPg0JCQk8cGF0aCBkPSJNIDQyIDI2IEwgNDIgMzAgTCA0NiAyNiBMIDQyIDI2IFoiIGZpbGw9InVybCgjZ3JhZGllbnQxOSkiLz4NCQk8L2c+DQk8L2c+DQk8ZyBpZD0ic3RvcCI+DQkJPHJlY3QgeD0iMTE1IiB5PSIzIiB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIGZpbGw9InVybCgjZ3JhZGllbnQyMCkiLz4NCTwvZz4NCTxnIGlkPSJjaG9vc2VyIj4NCQk8cGF0aCBkPSJNIDEzNS4yMzQ2IDYuMTUyMiBDIDEzNi4yNTUxIDUuNzI5NSAxMzcuNDI1MSA2LjIxNDEgMTM3Ljg0NzggNy4yMzQ2IEMgMTM4LjI3MDQgOC4yNTUxIDEzNy43ODU5IDkuNDI1IDEzNi43NjU0IDkuODQ3OCBDIDEzNS43NDQ5IDEwLjI3MDUgMTM0LjU3NDkgOS43ODU5IDEzNC4xNTIyIDguNzY1NCBDIDEzMy43Mjk1IDcuNzQ0OSAxMzQuMjE0MSA2LjU3NDkgMTM1LjIzNDYgNi4xNTIyIFpNIDEzMy4yNzM1IDEuNDE3NiBMIDEzNiA0LjAwNTQgTCAxMzguNzI2NSAxLjQxNzYgTCAxMzguODI0NiA1LjE3NTQgTCAxNDIuNTgyNCA1LjI3MzUgTCAxMzkuOTk0NiA4IEwgMTQyLjU4MjQgMTAuNzI2NSBMIDEzOC44MjQ2IDEwLjgyNDYgTCAxMzguNzI2NSAxNC41ODI0IEwgMTM2IDExLjk5NDYgTCAxMzMuMjczNSAxNC41ODI0IEwgMTMzLjE3NTQgMTAuODI0NiBMIDEyOS40MTc2IDEwLjcyNjUgTCAxMzIuMDA1NCA4IEwgMTI5LjQxNzYgNS4yNzM1IEwgMTMzLjE3NTQgNS4xNzU0IEwgMTMzLjI3MzUgMS40MTc2IFoiIGZpbGw9InVybCgjZ3JhZGllbnQyMSkiLz4NCTwvZz4NPC9zdmc+) no-repeat}.no-svg .mejs-controls .mejs-button button{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAAgCAMAAADKUgH/AAAAA3NCSVQICAjb4U/gAAAB+1BMVEX////+/v77+/v6+vr5+fn4+Pj39/f29vb19fX09PTy8vLx8fHw8PDv7+/u7u7t7e3s7Ozr6+vq6urp6eno6Ojm5ubk5OTj4+Pi4uLh4eHg4ODf39/e3t7c3Nzb29va2trZ2dnX19fW1tbT09PS0tLR0dHQ0NDOzs7Nzc3Ly8vGxsbFxcXExMTDw8PCwsLBwcHAwMC/v7+9vb24uLi3t7e2tra0tLSysrKvr6+urq6tra2srKyrq6uoqLenp6elpaWkpKSioqKgoKCenqyfn5+dnZ2cnJybm5uampqZmZmXl5eVlZWUlJSUlKGTk5OSkpKPj4+Ojo6MjIyLi4uKioqJiYmJiZWHh4eGhoaEhISDg4OCgoKBgYGAgIB5eXl4eHh3d3d1dYBycnJwcHBubm5tbXdpaXNpaWlnZ2dkZGRjY2NgYGBfX19eXl5dXV1cXFxaWlpYWFhWVlZVVVVTU1NSUlJRUVFPT09OTk5NTU1MTExLS0tKSkpJSUlHR0dGRkZERERDQ0NCQkJAQEA/Pz8+Pj47Ozs5OTk3Nzc2NjY1NTU1NTkzMzMyMjIxMTEwMDAsLCwrKysqKioqKi4pKSkoKCgnJychISEgICAgICIfHx8eHh4dHR0cHBwaGhoZGRkYGBgVFRcVFRUSEhIREREQEBAPDw8LCwsAAAD8LSgfAAAAqXRSTlP///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8A+297FgAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAxMS8xMy8xMqzAOnkAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAAEAUlEQVRYhdVWCVsTVxQNJpqqGKONRCMRk0jjVrDuW1RIiIoo1SpIClq1JihGcUFZVNSAG264Aq5Ug/dn+u57d+5MwuQrtfMVer4v797z3p07J2+2Y4MpBttkC5Bo46GgoKGfOLUJVANUYySqA/QFGPq78/p8BRZcMYCYiwX52sZVdM6zc26322sw1ogEqbFOks1qIeZ6SrNv7qRbU61dL/U/ZNBvnNDaOBzxuMPBgux2fzpXz29Op5OJ07lHJXvkpNNYiGTEPR0XRvzT3CM4N9Z/KXUs0Zg4lrr6V25b2iE7Q1uYKcGCfhAIXNAWkc0W4Daza7WsFifF7/NboAEn4o4VNRizKxxxrLpnKyLYroIZZjKQtS8sZixsl4IUCbWrcsznCvDx+yAnnQtta9Ztz8gBsMozo1/V9M/wiHHwVtEjQlH6bv7uIOYwJK1zu92V169XilCndmgeIXwRiHkETP8cnh8CnyBzG4cMYJV+dWX2tEcX1NoDJvfQjwx1WL3HcwPghsdTD0rQAsZWYiUChQSVvA+LUQ6CyCugXwsU1KkLSnWa7VAJQ/GDXu9NgJte70EStIiw8jIQWyzAxx+CnHQxBB5kO57LAbCqZFa3Wu2ehWcYNO7QHbO/VMpQTcXJNvT2bhDhkBLkl6i8osoxLxPg48uOaNkRnCyD3m3rqx7IAXCitnj1GK6OrS6Wt/8t/aZOf8lRQru0lIGsI7yEEe6QggICa3MeiKPBYJBJMHiUZ5EaC5G89bkqxL3SU+Hy4YMHn7tSLfWxXbH6lrMfkI+7h0IMrU1AQqZYsmzZumt5u3ptVTnn5eXlCYwJkSA11knyrNQtUfqMZgcv4Xvo7MO8ptoOhRnaQijU1ETyUNDGrvwjAV7v4HS5QDNAM0aiOmTFuwP++fP9B96NbzNBVGD/ChY0+ejmYYoIMuD/JKgv/eq/08EghwN6UBB+KNO8RXtsqnkwQTIigMmoVYLIBxjsAPmh1i2KxaVVUa7IBCeUoGR02CJBZH4MHgj9UN/FIfBKtld9rdgX5WE0KgWN7o9ELdgjFETmh4LmhzKNO7Mb8f29z+Vy0XqtWYtkpOE07tDXhkhS9eRPx3cKIvNDQfdDVbd/PTWBFtHIC5BKXkSickL/uH6nIDI/FHQ/1HLuj+MTaKHuaEP2rwWRMaGg+6Hfzx/+c1IEkfmhoPuhTY+rzkygRTQyoJIBqy4ZmR8Kmh/qi1fBLxlAF8QLh81aiJv6K0brbmoyPwYPhH7oSU8WirPEMAQCjaYtxGPfIPZooMGyx175HC1IKD90crdiCbkQairQYxhfRAKWvRjJ1mjuRgL90PGfNdbMgylGk0JSNGnZp6MQ7n+04gz/EFPOfnwDzhnRIkQEkOIAAAAASUVORK5CYII=)}.mejs-controls .mejs-button button:focus{outline:dotted 1px #999}.mejs-container .mejs-controls .mejs-time{color:#fff;display:block;height:17px;width:auto;padding:10px 3px 0 3px;overflow:hidden;text-align:center;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}.mejs-container .mejs-controls .mejs-time a{color:#fff;font-size:11px;line-height:12px;display:block;float:left;margin:1px 2px 0 0;width:auto}.mejs-controls .mejs-play button{background-position:0 0}.mejs-controls .mejs-pause button{background-position:0 -16px}.mejs-controls .mejs-stop button{background-position:-112px 0}.mejs-controls div.mejs-time-rail{direction:ltr;width:200px;padding-top:5px}.mejs-controls .mejs-time-rail span,.mejs-controls .mejs-time-rail a{display:block;position:absolute;width:180px;height:10px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;cursor:pointer}.mejs-controls .mejs-time-rail .mejs-time-total{margin:5px;background:#333;background:rgba(50,50,50,0.8);background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(rgba(30,30,30,0.8)), to(rgba(60,60,60,0.8)));background:-webkit-linear-gradient(top, rgba(30,30,30,0.8), rgba(60,60,60,0.8));background:-moz-linear-gradient(top, rgba(30,30,30,0.8), rgba(60,60,60,0.8));background:-o-linear-gradient(top, rgba(30,30,30,0.8), rgba(60,60,60,0.8));background:-ms-linear-gradient(top, rgba(30,30,30,0.8), rgba(60,60,60,0.8));background:linear-gradient(rgba(30,30,30,0.8), rgba(60,60,60,0.8))}.mejs-controls .mejs-time-rail .mejs-time-buffering{width:100%;background-image:-o-linear-gradient(-45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.25, rgba(255,255,255,0.15)), color-stop(0.25, transparent), color-stop(0.5, transparent), color-stop(0.5, rgba(255,255,255,0.15)), color-stop(0.75, rgba(255,255,255,0.15)), color-stop(0.75, transparent), to(transparent));background-image:-webkit-linear-gradient(-45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:-moz-linear-gradient(-45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:-ms-linear-gradient(-45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:linear-gradient(-45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);-webkit-background-size:15px 15px;-moz-background-size:15px 15px;-o-background-size:15px 15px;background-size:15px 15px;-webkit-animation:buffering-stripes 2s linear infinite;-moz-animation:buffering-stripes 2s linear infinite;-ms-animation:buffering-stripes 2s linear infinite;-o-animation:buffering-stripes 2s linear infinite;animation:buffering-stripes 2s linear infinite}@-webkit-keyframes buffering-stripes{from{background-position:0 0}to{background-position:30px 0}}@-moz-keyframes buffering-stripes{from{background-position:0 0}to{background-position:30px 0}}@-ms-keyframes buffering-stripes{from{background-position:0 0}to{background-position:30px 0}}@-o-keyframes buffering-stripes{from{background-position:0 0}to{background-position:30px 0}}@keyframes buffering-stripes{from{background-position:0 0}to{background-position:30px 0}}.mejs-controls .mejs-time-rail .mejs-time-loaded{background:#3caac8;background:rgba(60,170,200,0.8);background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(rgba(44,124,145,0.8)), to(rgba(78,183,212,0.8)));background:-webkit-linear-gradient(top, rgba(44,124,145,0.8), rgba(78,183,212,0.8));background:-moz-linear-gradient(top, rgba(44,124,145,0.8), rgba(78,183,212,0.8));background:-o-linear-gradient(top, rgba(44,124,145,0.8), rgba(78,183,212,0.8));background:-ms-linear-gradient(top, rgba(44,124,145,0.8), rgba(78,183,212,0.8));background:linear-gradient(rgba(44,124,145,0.8), rgba(78,183,212,0.8));width:0}.mejs-controls .mejs-time-rail .mejs-time-current{background:#fff;background:rgba(255,255,255,0.8);background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(rgba(255,255,255,0.9)), to(rgba(200,200,200,0.8)));background:-webkit-linear-gradient(top, rgba(255,255,255,0.9), rgba(200,200,200,0.8));background:-moz-linear-gradient(top, rgba(255,255,255,0.9), rgba(200,200,200,0.8));background:-o-linear-gradient(top, rgba(255,255,255,0.9), rgba(200,200,200,0.8));background:-ms-linear-gradient(top, rgba(255,255,255,0.9), rgba(200,200,200,0.8));background:linear-gradient(rgba(255,255,255,0.9), rgba(200,200,200,0.8));width:0}.mejs-controls .mejs-time-rail .mejs-time-handle{display:none;position:absolute;margin:0;width:10px;background:#fff;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;cursor:pointer;border:solid 2px #333;top:-2px;text-align:center}.mejs-controls .mejs-time-rail .mejs-time-float{position:absolute;display:none;background:#eee;width:36px;height:17px;border:solid 1px #333;top:-26px;margin-left:-18px;text-align:center;color:#111}.mejs-controls .mejs-time-rail .mejs-time-float-current{margin:2px;width:30px;display:block;text-align:center;left:0}.mejs-controls .mejs-time-rail .mejs-time-float-corner{position:absolute;display:block;width:0;height:0;line-height:0;border:solid 5px #eee;border-color:#eee transparent transparent transparent;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;top:15px;left:13px}.mejs-long-video .mejs-controls .mejs-time-rail .mejs-time-float{width:48px}.mejs-long-video .mejs-controls .mejs-time-rail .mejs-time-float-current{width:44px}.mejs-long-video .mejs-controls .mejs-time-rail .mejs-time-float-corner{left:18px}.mejs-controls .mejs-fullscreen-button button{background-position:-32px 0}.mejs-controls .mejs-unfullscreen button{background-position:-32px -16px}.mejs-controls .mejs-mute button{background-position:-16px -16px}.mejs-controls .mejs-unmute button{background-position:-16px 0}.mejs-controls .mejs-volume-button{position:relative}.mejs-controls .mejs-volume-button .mejs-volume-slider{display:none;height:115px;width:25px;background:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pg08IS0tIEdlbmVyYXRvcjogQWRvYmUgRmlyZXdvcmtzIENTNiwgRXhwb3J0IFNWRyBFeHRlbnNpb24gYnkgQWFyb24gQmVhbGwgKGh0dHA6Ly9maXJld29ya3MuYWJlYWxsLmNvbSkgLiBWZXJzaW9uOiAwLjYuMSAgLS0+DTwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DTxzdmcgaWQ9ImJpZ3BsYXktZ3JhZGllbnQuZnctUGFnZSUyMDEiIHZpZXdCb3g9IjAgMCAxMDAgMjAwIiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjojZmZmZmZmMDAiIHZlcnNpb249IjEuMSINCXhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiDQl4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEwMHB4IiBoZWlnaHQ9IjIwMHB4Ig0+DQk8ZGVmcz4NCQk8cmFkaWFsR3JhZGllbnQgaWQ9ImdyYWRpZW50MSIgY3g9IjUwJSIgY3k9IjUwJSIgcj0iNTAlIj4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iIzIyMjIyMiIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjcwJSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjMjIyMjIyIiBzdG9wLW9wYWNpdHk9IjAuMDExOCIgb2Zmc2V0PSI3MC4yMDIlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiMzMzMzMzMiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSI4NSUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iIzMzMzMzMyIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjEwMCUiLz4NCQk8L3JhZGlhbEdyYWRpZW50Pg0JCTxyYWRpYWxHcmFkaWVudCBpZD0iZ3JhZGllbnQyIiBjeD0iNTAlIiBjeT0iNTAlIiByPSI1MCUiPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYmJiYmJiIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iNzAlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNiYmJiYmIiIHN0b3Atb3BhY2l0eT0iMC4wMTE4IiBvZmZzZXQ9IjcwLjIwMiUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2JiYmJiYiIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9Ijg1JSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYmJiYmJiIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iMTAwJSIvPg0JCTwvcmFkaWFsR3JhZGllbnQ+DQkJPGZpbHRlciBpZD0iZmlsdGVyMSIgeD0iLTEwMCUiIHk9Ii0xMDAlIiB3aWR0aD0iMzAwJSIgaGVpZ2h0PSIzMDAlIj4NCQkJPCEtLSBHbG93IC0tPg0JCQk8ZmVDb2xvck1hdHJpeCByZXN1bHQ9Im91dCIgaW49IlNvdXJjZUdyYXBoaWMiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgIDAgMCAwIDAgMCAgMCAwIDAgMCAwICAwIDAgMCAwLjI1MSAwIi8+DQkJCTxmZU1vcnBob2xvZ3kgcmVzdWx0PSJvdXQiIGluPSJvdXQiIG9wZXJhdG9yPSJkaWxhdGUiIHJhZGl1cz0iMyIvPg0JCQk8ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJvdXQiIGluPSJvdXQiIHN0ZERldmlhdGlvbj0iMS41Ii8+DQkJCTxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9Im91dCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9Ikdsb3cxIi8+DQkJPC9maWx0ZXI+DQkJPGZpbHRlciBpZD0iZmlsdGVyMiIgeD0iLTEwMCUiIHk9Ii0xMDAlIiB3aWR0aD0iMzAwJSIgaGVpZ2h0PSIzMDAlIj4NCQkJPCEtLSBHbG93IC0tPg0JCQk8ZmVDb2xvck1hdHJpeCByZXN1bHQ9Im91dCIgaW49IlNvdXJjZUdyYXBoaWMiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwLjg2NjcgMCAgMCAwIDAgMC44NjY3IDAgIDAgMCAwIDAuODY2NyAwICAwIDAgMCAwLjI1MSAwIi8+DQkJCTxmZU1vcnBob2xvZ3kgcmVzdWx0PSJvdXQiIGluPSJvdXQiIG9wZXJhdG9yPSJkaWxhdGUiIHJhZGl1cz0iMyIvPg0JCQk8ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJvdXQiIGluPSJvdXQiIHN0ZERldmlhdGlvbj0iMS41Ii8+DQkJCTxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9Im91dCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9Ikdsb3cyIi8+DQkJPC9maWx0ZXI+DQk8L2RlZnM+DQk8ZyBpZD0iQmFja2dyb3VuZCI+DQk8L2c+DQk8ZyBpZD0iZGFyayUyMHNoYWRvdyI+DQkJPHBhdGggZD0iTSAyMiA1MCBDIDIyIDM0LjUzNTggMzQuNTM1OCAyMiA1MCAyMiBDIDY1LjQ2NDIgMjIgNzggMzQuNTM1OCA3OCA1MCBDIDc4IDY1LjQ2NDIgNjUuNDY0MiA3OCA1MCA3OCBDIDM0LjUzNTggNzggMjIgNjUuNDY0MiAyMiA1MCBaTSA1IDUwIEMgNSA3NC44NTMxIDI1LjE0NjkgOTUgNTAgOTUgQyA3NC44NTMxIDk1IDk1IDc0Ljg1MzEgOTUgNTAgQyA5NSAyNS4xNDY5IDc0Ljg1MzEgNSA1MCA1IEMgMjUuMTQ2OSA1IDUgMjUuMTQ2OSA1IDUwIFoiIGZpbGw9InVybCgjZ3JhZGllbnQxKSIvPg0JCTxwYXRoIGQ9Ik0gMjIgMTUwIEMgMjIgMTM0LjUzNTggMzQuNTM1OCAxMjIgNTAgMTIyIEMgNjUuNDY0MiAxMjIgNzggMTM0LjUzNTggNzggMTUwIEMgNzggMTY1LjQ2NDIgNjUuNDY0MiAxNzggNTAgMTc4IEMgMzQuNTM1OCAxNzggMjIgMTY1LjQ2NDIgMjIgMTUwIFpNIDUgMTUwIEMgNSAxNzQuODUzMSAyNS4xNDY5IDE5NSA1MCAxOTUgQyA3NC44NTMxIDE5NSA5NSAxNzQuODUzMSA5NSAxNTAgQyA5NSAxMjUuMTQ2OSA3NC44NTMxIDEwNSA1MCAxMDUgQyAyNS4xNDY5IDEwNSA1IDEyNS4xNDY5IDUgMTUwIFoiIGZpbGw9InVybCgjZ3JhZGllbnQyKSIvPg0JPC9nPg0JPGcgaWQ9ImRhcmsiPg0JCTxwYXRoIGlkPSJQb2x5Z29uIiBmaWx0ZXI9InVybCgjZmlsdGVyMSkiIGQ9Ik0gNzIuNSA0OS41IEwgMzguNzUgNjguOTg1NiBMIDM4Ljc1IDMwLjAxNDQgTCA3Mi41IDQ5LjUgWiIgZmlsbD0iI2ZmZmZmZiIvPg0JCTxwYXRoIGlkPSJFbGxpcHNlIiBkPSJNIDEzIDUwLjUgQyAxMyAyOS43ODkxIDI5Ljc4OTEgMTMgNTAuNSAxMyBDIDcxLjIxMDkgMTMgODggMjkuNzg5MSA4OCA1MC41IEMgODggNzEuMjEwOSA3MS4yMTA5IDg4IDUwLjUgODggQyAyOS43ODkxIDg4IDEzIDcxLjIxMDkgMTMgNTAuNSBaIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iNSIgZmlsbD0ibm9uZSIvPg0JPC9nPg0JPGcgaWQ9ImxpZ2h0Ij4NCQk8cGF0aCBpZD0iUG9seWdvbjIiIGZpbHRlcj0idXJsKCNmaWx0ZXIyKSIgZD0iTSA3Mi41IDE0OS41IEwgMzguNzUgMTY4Ljk4NTYgTCAzOC43NSAxMzAuMDE0NCBMIDcyLjUgMTQ5LjUgWiIgZmlsbD0iI2ZmZmZmZiIvPg0JCTxwYXRoIGlkPSJFbGxpcHNlMiIgZD0iTSAxMyAxNTAuNSBDIDEzIDEyOS43ODkxIDI5Ljc4OTEgMTEzIDUwLjUgMTEzIEMgNzEuMjEwOSAxMTMgODggMTI5Ljc4OTEgODggMTUwLjUgQyA4OCAxNzEuMjExIDcxLjIxMDkgMTg4IDUwLjUgMTg4IEMgMjkuNzg5MSAxODggMTMgMTcxLjIxMSAxMyAxNTAuNSBaIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iNSIgZmlsbD0ibm9uZSIvPg0JPC9nPg08L3N2Zz4=") no-repeat;background:rgba(50,50,50,0.7);-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;top:-115px;left:0;z-index:1;position:absolute;margin:0}.mejs-controls .mejs-volume-button:hover{-webkit-border-radius:0 0 4px 4px;-moz-border-radius:0 0 4px 4px;border-radius:0 0 4px 4px}.mejs-controls .mejs-volume-button .mejs-volume-slider .mejs-volume-total{position:absolute;left:11px;top:8px;width:2px;height:100px;background:#ddd;background:rgba(255,255,255,0.5);margin:0}.mejs-controls .mejs-volume-button .mejs-volume-slider .mejs-volume-current{position:absolute;left:11px;top:8px;width:2px;height:100px;background:#ddd;background:rgba(255,255,255,0.9);margin:0}.mejs-controls .mejs-volume-button .mejs-volume-slider .mejs-volume-handle{position:absolute;left:4px;top:-3px;width:16px;height:6px;background:#ddd;background:rgba(255,255,255,0.9);cursor:N-resize;-webkit-border-radius:1px;-moz-border-radius:1px;border-radius:1px;margin:0}.mejs-controls a.mejs-horizontal-volume-slider{height:26px;width:56px;position:relative;display:block;float:left;vertical-align:middle}.mejs-controls .mejs-horizontal-volume-slider .mejs-horizontal-volume-total{position:absolute;left:0;top:11px;width:50px;height:8px;margin:0;padding:0;font-size:1px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;background:#333;background:rgba(50,50,50,0.8);background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(rgba(30,30,30,0.8)), to(rgba(60,60,60,0.8)));background:-webkit-linear-gradient(top, rgba(30,30,30,0.8), rgba(60,60,60,0.8));background:-moz-linear-gradient(top, rgba(30,30,30,0.8), rgba(60,60,60,0.8));background:-o-linear-gradient(top, rgba(30,30,30,0.8), rgba(60,60,60,0.8));background:-ms-linear-gradient(top, rgba(30,30,30,0.8), rgba(60,60,60,0.8));background:linear-gradient(rgba(30,30,30,0.8), rgba(60,60,60,0.8))}.mejs-controls .mejs-horizontal-volume-slider .mejs-horizontal-volume-current{position:absolute;left:0;top:11px;width:50px;height:8px;margin:0;padding:0;font-size:1px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;background:#fff;background:rgba(255,255,255,0.8);background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(rgba(255,255,255,0.9)), to(rgba(200,200,200,0.8)));background:-webkit-linear-gradient(top, rgba(255,255,255,0.9), rgba(200,200,200,0.8));background:-moz-linear-gradient(top, rgba(255,255,255,0.9), rgba(200,200,200,0.8));background:-o-linear-gradient(top, rgba(255,255,255,0.9), rgba(200,200,200,0.8));background:-ms-linear-gradient(top, rgba(255,255,255,0.9), rgba(200,200,200,0.8));background:linear-gradient(rgba(255,255,255,0.9), rgba(200,200,200,0.8))}.mejs-controls .mejs-horizontal-volume-slider .mejs-horizontal-volume-handle{display:none}.mejs-controls .mejs-captions-button{position:relative}.mejs-controls .mejs-captions-button button{background-position:-48px 0}.mejs-controls .mejs-captions-button .mejs-captions-selector{visibility:hidden;position:absolute;bottom:26px;right:-51px;width:85px;height:100px;background:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pg08IS0tIEdlbmVyYXRvcjogQWRvYmUgRmlyZXdvcmtzIENTNiwgRXhwb3J0IFNWRyBFeHRlbnNpb24gYnkgQWFyb24gQmVhbGwgKGh0dHA6Ly9maXJld29ya3MuYWJlYWxsLmNvbSkgLiBWZXJzaW9uOiAwLjYuMSAgLS0+DTwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DTxzdmcgaWQ9ImJpZ3BsYXktZ3JhZGllbnQuZnctUGFnZSUyMDEiIHZpZXdCb3g9IjAgMCAxMDAgMjAwIiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjojZmZmZmZmMDAiIHZlcnNpb249IjEuMSINCXhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiDQl4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEwMHB4IiBoZWlnaHQ9IjIwMHB4Ig0+DQk8ZGVmcz4NCQk8cmFkaWFsR3JhZGllbnQgaWQ9ImdyYWRpZW50MSIgY3g9IjUwJSIgY3k9IjUwJSIgcj0iNTAlIj4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iIzIyMjIyMiIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjcwJSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjMjIyMjIyIiBzdG9wLW9wYWNpdHk9IjAuMDExOCIgb2Zmc2V0PSI3MC4yMDIlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiMzMzMzMzMiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSI4NSUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iIzMzMzMzMyIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjEwMCUiLz4NCQk8L3JhZGlhbEdyYWRpZW50Pg0JCTxyYWRpYWxHcmFkaWVudCBpZD0iZ3JhZGllbnQyIiBjeD0iNTAlIiBjeT0iNTAlIiByPSI1MCUiPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYmJiYmJiIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iNzAlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNiYmJiYmIiIHN0b3Atb3BhY2l0eT0iMC4wMTE4IiBvZmZzZXQ9IjcwLjIwMiUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2JiYmJiYiIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9Ijg1JSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYmJiYmJiIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iMTAwJSIvPg0JCTwvcmFkaWFsR3JhZGllbnQ+DQkJPGZpbHRlciBpZD0iZmlsdGVyMSIgeD0iLTEwMCUiIHk9Ii0xMDAlIiB3aWR0aD0iMzAwJSIgaGVpZ2h0PSIzMDAlIj4NCQkJPCEtLSBHbG93IC0tPg0JCQk8ZmVDb2xvck1hdHJpeCByZXN1bHQ9Im91dCIgaW49IlNvdXJjZUdyYXBoaWMiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgIDAgMCAwIDAgMCAgMCAwIDAgMCAwICAwIDAgMCAwLjI1MSAwIi8+DQkJCTxmZU1vcnBob2xvZ3kgcmVzdWx0PSJvdXQiIGluPSJvdXQiIG9wZXJhdG9yPSJkaWxhdGUiIHJhZGl1cz0iMyIvPg0JCQk8ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJvdXQiIGluPSJvdXQiIHN0ZERldmlhdGlvbj0iMS41Ii8+DQkJCTxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9Im91dCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9Ikdsb3cxIi8+DQkJPC9maWx0ZXI+DQkJPGZpbHRlciBpZD0iZmlsdGVyMiIgeD0iLTEwMCUiIHk9Ii0xMDAlIiB3aWR0aD0iMzAwJSIgaGVpZ2h0PSIzMDAlIj4NCQkJPCEtLSBHbG93IC0tPg0JCQk8ZmVDb2xvck1hdHJpeCByZXN1bHQ9Im91dCIgaW49IlNvdXJjZUdyYXBoaWMiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwLjg2NjcgMCAgMCAwIDAgMC44NjY3IDAgIDAgMCAwIDAuODY2NyAwICAwIDAgMCAwLjI1MSAwIi8+DQkJCTxmZU1vcnBob2xvZ3kgcmVzdWx0PSJvdXQiIGluPSJvdXQiIG9wZXJhdG9yPSJkaWxhdGUiIHJhZGl1cz0iMyIvPg0JCQk8ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJvdXQiIGluPSJvdXQiIHN0ZERldmlhdGlvbj0iMS41Ii8+DQkJCTxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9Im91dCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9Ikdsb3cyIi8+DQkJPC9maWx0ZXI+DQk8L2RlZnM+DQk8ZyBpZD0iQmFja2dyb3VuZCI+DQk8L2c+DQk8ZyBpZD0iZGFyayUyMHNoYWRvdyI+DQkJPHBhdGggZD0iTSAyMiA1MCBDIDIyIDM0LjUzNTggMzQuNTM1OCAyMiA1MCAyMiBDIDY1LjQ2NDIgMjIgNzggMzQuNTM1OCA3OCA1MCBDIDc4IDY1LjQ2NDIgNjUuNDY0MiA3OCA1MCA3OCBDIDM0LjUzNTggNzggMjIgNjUuNDY0MiAyMiA1MCBaTSA1IDUwIEMgNSA3NC44NTMxIDI1LjE0NjkgOTUgNTAgOTUgQyA3NC44NTMxIDk1IDk1IDc0Ljg1MzEgOTUgNTAgQyA5NSAyNS4xNDY5IDc0Ljg1MzEgNSA1MCA1IEMgMjUuMTQ2OSA1IDUgMjUuMTQ2OSA1IDUwIFoiIGZpbGw9InVybCgjZ3JhZGllbnQxKSIvPg0JCTxwYXRoIGQ9Ik0gMjIgMTUwIEMgMjIgMTM0LjUzNTggMzQuNTM1OCAxMjIgNTAgMTIyIEMgNjUuNDY0MiAxMjIgNzggMTM0LjUzNTggNzggMTUwIEMgNzggMTY1LjQ2NDIgNjUuNDY0MiAxNzggNTAgMTc4IEMgMzQuNTM1OCAxNzggMjIgMTY1LjQ2NDIgMjIgMTUwIFpNIDUgMTUwIEMgNSAxNzQuODUzMSAyNS4xNDY5IDE5NSA1MCAxOTUgQyA3NC44NTMxIDE5NSA5NSAxNzQuODUzMSA5NSAxNTAgQyA5NSAxMjUuMTQ2OSA3NC44NTMxIDEwNSA1MCAxMDUgQyAyNS4xNDY5IDEwNSA1IDEyNS4xNDY5IDUgMTUwIFoiIGZpbGw9InVybCgjZ3JhZGllbnQyKSIvPg0JPC9nPg0JPGcgaWQ9ImRhcmsiPg0JCTxwYXRoIGlkPSJQb2x5Z29uIiBmaWx0ZXI9InVybCgjZmlsdGVyMSkiIGQ9Ik0gNzIuNSA0OS41IEwgMzguNzUgNjguOTg1NiBMIDM4Ljc1IDMwLjAxNDQgTCA3Mi41IDQ5LjUgWiIgZmlsbD0iI2ZmZmZmZiIvPg0JCTxwYXRoIGlkPSJFbGxpcHNlIiBkPSJNIDEzIDUwLjUgQyAxMyAyOS43ODkxIDI5Ljc4OTEgMTMgNTAuNSAxMyBDIDcxLjIxMDkgMTMgODggMjkuNzg5MSA4OCA1MC41IEMgODggNzEuMjEwOSA3MS4yMTA5IDg4IDUwLjUgODggQyAyOS43ODkxIDg4IDEzIDcxLjIxMDkgMTMgNTAuNSBaIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iNSIgZmlsbD0ibm9uZSIvPg0JPC9nPg0JPGcgaWQ9ImxpZ2h0Ij4NCQk8cGF0aCBpZD0iUG9seWdvbjIiIGZpbHRlcj0idXJsKCNmaWx0ZXIyKSIgZD0iTSA3Mi41IDE0OS41IEwgMzguNzUgMTY4Ljk4NTYgTCAzOC43NSAxMzAuMDE0NCBMIDcyLjUgMTQ5LjUgWiIgZmlsbD0iI2ZmZmZmZiIvPg0JCTxwYXRoIGlkPSJFbGxpcHNlMiIgZD0iTSAxMyAxNTAuNSBDIDEzIDEyOS43ODkxIDI5Ljc4OTEgMTEzIDUwLjUgMTEzIEMgNzEuMjEwOSAxMTMgODggMTI5Ljc4OTEgODggMTUwLjUgQyA4OCAxNzEuMjExIDcxLjIxMDkgMTg4IDUwLjUgMTg4IEMgMjkuNzg5MSAxODggMTMgMTcxLjIxMSAxMyAxNTAuNSBaIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iNSIgZmlsbD0ibm9uZSIvPg0JPC9nPg08L3N2Zz4=") no-repeat;background:rgba(50,50,50,0.7);border:solid 1px transparent;padding:10px 10px 0 10px;overflow:hidden;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.mejs-controls .mejs-captions-button .mejs-captions-selector ul{margin:0;padding:0;display:block;list-style-type:none !important;overflow:hidden}.mejs-controls .mejs-captions-button .mejs-captions-selector ul li{margin:0 0 6px 0;padding:0;list-style-type:none !important;display:block;color:#fff;overflow:hidden}.mejs-controls .mejs-captions-button .mejs-captions-selector ul li input{clear:both;float:left;margin:3px 3px 0 5px}.mejs-controls .mejs-captions-button .mejs-captions-selector ul li label{width:55px;float:left;padding:4px 0 0 0;line-height:15px;font-family:helvetica, arial;font-size:10px}.mejs-controls .mejs-captions-button .mejs-captions-translations{font-size:10px;margin:0 0 5px 0}.mejs-chapters{position:absolute;top:0;left:0;-xborder-right:solid 1px #fff;width:10000px;z-index:1}.mejs-chapters .mejs-chapter{position:absolute;float:left;background:#222;background:rgba(0,0,0,0.7);background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(rgba(50,50,50,0.7)), to(rgba(0,0,0,0.7)));background:-webkit-linear-gradient(top, rgba(50,50,50,0.7), rgba(0,0,0,0.7));background:-moz-linear-gradient(top, rgba(50,50,50,0.7), rgba(0,0,0,0.7));background:-o-linear-gradient(top, rgba(50,50,50,0.7), rgba(0,0,0,0.7));background:-ms-linear-gradient(top, rgba(50,50,50,0.7), rgba(0,0,0,0.7));background:linear-gradient(rgba(50,50,50,0.7), rgba(0,0,0,0.7));filter:progid:DXImageTransform.Microsoft.Gradient(GradientType=0, startColorstr=#323232,endColorstr=#000000);overflow:hidden;border:0}.mejs-chapters .mejs-chapter .mejs-chapter-block{font-size:11px;color:#fff;padding:5px;display:block;border-right:solid 1px #333;border-bottom:solid 1px #333;cursor:pointer}.mejs-chapters .mejs-chapter .mejs-chapter-block-last{border-right:none}.mejs-chapters .mejs-chapter .mejs-chapter-block:hover{background:#666;background:rgba(102,102,102,0.7);background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(rgba(102,102,102,0.7)), to(rgba(50,50,50,0.6)));background:-webkit-linear-gradient(top, rgba(102,102,102,0.7), rgba(50,50,50,0.6));background:-moz-linear-gradient(top, rgba(102,102,102,0.7), rgba(50,50,50,0.6));background:-o-linear-gradient(top, rgba(102,102,102,0.7), rgba(50,50,50,0.6));background:-ms-linear-gradient(top, rgba(102,102,102,0.7), rgba(50,50,50,0.6));background:linear-gradient(rgba(102,102,102,0.7), rgba(50,50,50,0.6));filter:progid:DXImageTransform.Microsoft.Gradient(GradientType=0, startColorstr=#666666,endColorstr=#323232)}.mejs-chapters .mejs-chapter .mejs-chapter-block .ch-title{font-size:12px;font-weight:bold;display:block;white-space:nowrap;text-overflow:ellipsis;margin:0 0 3px 0;line-height:12px}.mejs-chapters .mejs-chapter .mejs-chapter-block .ch-timespan{font-size:12px;line-height:12px;margin:3px 0 4px 0;display:block;white-space:nowrap;text-overflow:ellipsis}.mejs-captions-layer{position:absolute;bottom:0;left:0;text-align:center;line-height:20px;font-size:16px;color:#fff}.mejs-captions-layer a{color:#fff;text-decoration:underline}.mejs-captions-layer[lang=ar]{font-size:20px;font-weight:normal}.mejs-captions-position{position:absolute;width:100%;bottom:15px;left:0}.mejs-captions-position-hover{bottom:35px}.mejs-captions-text{padding:3px 5px;background:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pg08IS0tIEdlbmVyYXRvcjogQWRvYmUgRmlyZXdvcmtzIENTNiwgRXhwb3J0IFNWRyBFeHRlbnNpb24gYnkgQWFyb24gQmVhbGwgKGh0dHA6Ly9maXJld29ya3MuYWJlYWxsLmNvbSkgLiBWZXJzaW9uOiAwLjYuMSAgLS0+DTwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DTxzdmcgaWQ9ImJpZ3BsYXktZ3JhZGllbnQuZnctUGFnZSUyMDEiIHZpZXdCb3g9IjAgMCAxMDAgMjAwIiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjojZmZmZmZmMDAiIHZlcnNpb249IjEuMSINCXhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiDQl4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEwMHB4IiBoZWlnaHQ9IjIwMHB4Ig0+DQk8ZGVmcz4NCQk8cmFkaWFsR3JhZGllbnQgaWQ9ImdyYWRpZW50MSIgY3g9IjUwJSIgY3k9IjUwJSIgcj0iNTAlIj4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iIzIyMjIyMiIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjcwJSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjMjIyMjIyIiBzdG9wLW9wYWNpdHk9IjAuMDExOCIgb2Zmc2V0PSI3MC4yMDIlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiMzMzMzMzMiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSI4NSUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iIzMzMzMzMyIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjEwMCUiLz4NCQk8L3JhZGlhbEdyYWRpZW50Pg0JCTxyYWRpYWxHcmFkaWVudCBpZD0iZ3JhZGllbnQyIiBjeD0iNTAlIiBjeT0iNTAlIiByPSI1MCUiPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYmJiYmJiIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iNzAlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNiYmJiYmIiIHN0b3Atb3BhY2l0eT0iMC4wMTE4IiBvZmZzZXQ9IjcwLjIwMiUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2JiYmJiYiIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9Ijg1JSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYmJiYmJiIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iMTAwJSIvPg0JCTwvcmFkaWFsR3JhZGllbnQ+DQkJPGZpbHRlciBpZD0iZmlsdGVyMSIgeD0iLTEwMCUiIHk9Ii0xMDAlIiB3aWR0aD0iMzAwJSIgaGVpZ2h0PSIzMDAlIj4NCQkJPCEtLSBHbG93IC0tPg0JCQk8ZmVDb2xvck1hdHJpeCByZXN1bHQ9Im91dCIgaW49IlNvdXJjZUdyYXBoaWMiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgIDAgMCAwIDAgMCAgMCAwIDAgMCAwICAwIDAgMCAwLjI1MSAwIi8+DQkJCTxmZU1vcnBob2xvZ3kgcmVzdWx0PSJvdXQiIGluPSJvdXQiIG9wZXJhdG9yPSJkaWxhdGUiIHJhZGl1cz0iMyIvPg0JCQk8ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJvdXQiIGluPSJvdXQiIHN0ZERldmlhdGlvbj0iMS41Ii8+DQkJCTxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9Im91dCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9Ikdsb3cxIi8+DQkJPC9maWx0ZXI+DQkJPGZpbHRlciBpZD0iZmlsdGVyMiIgeD0iLTEwMCUiIHk9Ii0xMDAlIiB3aWR0aD0iMzAwJSIgaGVpZ2h0PSIzMDAlIj4NCQkJPCEtLSBHbG93IC0tPg0JCQk8ZmVDb2xvck1hdHJpeCByZXN1bHQ9Im91dCIgaW49IlNvdXJjZUdyYXBoaWMiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwLjg2NjcgMCAgMCAwIDAgMC44NjY3IDAgIDAgMCAwIDAuODY2NyAwICAwIDAgMCAwLjI1MSAwIi8+DQkJCTxmZU1vcnBob2xvZ3kgcmVzdWx0PSJvdXQiIGluPSJvdXQiIG9wZXJhdG9yPSJkaWxhdGUiIHJhZGl1cz0iMyIvPg0JCQk8ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJvdXQiIGluPSJvdXQiIHN0ZERldmlhdGlvbj0iMS41Ii8+DQkJCTxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9Im91dCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9Ikdsb3cyIi8+DQkJPC9maWx0ZXI+DQk8L2RlZnM+DQk8ZyBpZD0iQmFja2dyb3VuZCI+DQk8L2c+DQk8ZyBpZD0iZGFyayUyMHNoYWRvdyI+DQkJPHBhdGggZD0iTSAyMiA1MCBDIDIyIDM0LjUzNTggMzQuNTM1OCAyMiA1MCAyMiBDIDY1LjQ2NDIgMjIgNzggMzQuNTM1OCA3OCA1MCBDIDc4IDY1LjQ2NDIgNjUuNDY0MiA3OCA1MCA3OCBDIDM0LjUzNTggNzggMjIgNjUuNDY0MiAyMiA1MCBaTSA1IDUwIEMgNSA3NC44NTMxIDI1LjE0NjkgOTUgNTAgOTUgQyA3NC44NTMxIDk1IDk1IDc0Ljg1MzEgOTUgNTAgQyA5NSAyNS4xNDY5IDc0Ljg1MzEgNSA1MCA1IEMgMjUuMTQ2OSA1IDUgMjUuMTQ2OSA1IDUwIFoiIGZpbGw9InVybCgjZ3JhZGllbnQxKSIvPg0JCTxwYXRoIGQ9Ik0gMjIgMTUwIEMgMjIgMTM0LjUzNTggMzQuNTM1OCAxMjIgNTAgMTIyIEMgNjUuNDY0MiAxMjIgNzggMTM0LjUzNTggNzggMTUwIEMgNzggMTY1LjQ2NDIgNjUuNDY0MiAxNzggNTAgMTc4IEMgMzQuNTM1OCAxNzggMjIgMTY1LjQ2NDIgMjIgMTUwIFpNIDUgMTUwIEMgNSAxNzQuODUzMSAyNS4xNDY5IDE5NSA1MCAxOTUgQyA3NC44NTMxIDE5NSA5NSAxNzQuODUzMSA5NSAxNTAgQyA5NSAxMjUuMTQ2OSA3NC44NTMxIDEwNSA1MCAxMDUgQyAyNS4xNDY5IDEwNSA1IDEyNS4xNDY5IDUgMTUwIFoiIGZpbGw9InVybCgjZ3JhZGllbnQyKSIvPg0JPC9nPg0JPGcgaWQ9ImRhcmsiPg0JCTxwYXRoIGlkPSJQb2x5Z29uIiBmaWx0ZXI9InVybCgjZmlsdGVyMSkiIGQ9Ik0gNzIuNSA0OS41IEwgMzguNzUgNjguOTg1NiBMIDM4Ljc1IDMwLjAxNDQgTCA3Mi41IDQ5LjUgWiIgZmlsbD0iI2ZmZmZmZiIvPg0JCTxwYXRoIGlkPSJFbGxpcHNlIiBkPSJNIDEzIDUwLjUgQyAxMyAyOS43ODkxIDI5Ljc4OTEgMTMgNTAuNSAxMyBDIDcxLjIxMDkgMTMgODggMjkuNzg5MSA4OCA1MC41IEMgODggNzEuMjEwOSA3MS4yMTA5IDg4IDUwLjUgODggQyAyOS43ODkxIDg4IDEzIDcxLjIxMDkgMTMgNTAuNSBaIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iNSIgZmlsbD0ibm9uZSIvPg0JPC9nPg0JPGcgaWQ9ImxpZ2h0Ij4NCQk8cGF0aCBpZD0iUG9seWdvbjIiIGZpbHRlcj0idXJsKCNmaWx0ZXIyKSIgZD0iTSA3Mi41IDE0OS41IEwgMzguNzUgMTY4Ljk4NTYgTCAzOC43NSAxMzAuMDE0NCBMIDcyLjUgMTQ5LjUgWiIgZmlsbD0iI2ZmZmZmZiIvPg0JCTxwYXRoIGlkPSJFbGxpcHNlMiIgZD0iTSAxMyAxNTAuNSBDIDEzIDEyOS43ODkxIDI5Ljc4OTEgMTEzIDUwLjUgMTEzIEMgNzEuMjEwOSAxMTMgODggMTI5Ljc4OTEgODggMTUwLjUgQyA4OCAxNzEuMjExIDcxLjIxMDkgMTg4IDUwLjUgMTg4IEMgMjkuNzg5MSAxODggMTMgMTcxLjIxMSAxMyAxNTAuNSBaIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iNSIgZmlsbD0ibm9uZSIvPg0JPC9nPg08L3N2Zz4=");background:rgba(20,20,20,0.5);white-space:pre-wrap}.me-cannotplay a{color:#fff;font-weight:bold}.me-cannotplay span{padding:15px;display:block}.mejs-controls .mejs-loop-off button{background-position:-64px -16px}.mejs-controls .mejs-loop-on button{background-position:-64px 0}.mejs-controls .mejs-backlight-off button{background-position:-80px -16px}.mejs-controls .mejs-backlight-on button{background-position:-80px 0}.mejs-controls .mejs-picturecontrols-button{background-position:-96px 0}.mejs-contextmenu{position:absolute;width:150px;padding:10px;border-radius:4px;top:0;left:0;background:#fff;border:solid 1px #999;z-index:1001}.mejs-contextmenu .mejs-contextmenu-separator{height:1px;font-size:0;margin:5px 6px;background:#333}.mejs-contextmenu .mejs-contextmenu-item{font-family:Helvetica, Arial;font-size:12px;padding:4px 6px;cursor:pointer;color:#333}.mejs-contextmenu .mejs-contextmenu-item:hover{background:#2C7C91;color:#fff}.mejs-controls .mejs-sourcechooser-button{position:relative}.mejs-controls .mejs-sourcechooser-button button{background-position:-128px 0}.mejs-controls .mejs-sourcechooser-button .mejs-sourcechooser-selector{visibility:hidden;position:absolute;bottom:26px;right:-10px;width:130px;height:100px;background:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pg08IS0tIEdlbmVyYXRvcjogQWRvYmUgRmlyZXdvcmtzIENTNiwgRXhwb3J0IFNWRyBFeHRlbnNpb24gYnkgQWFyb24gQmVhbGwgKGh0dHA6Ly9maXJld29ya3MuYWJlYWxsLmNvbSkgLiBWZXJzaW9uOiAwLjYuMSAgLS0+DTwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DTxzdmcgaWQ9ImJpZ3BsYXktZ3JhZGllbnQuZnctUGFnZSUyMDEiIHZpZXdCb3g9IjAgMCAxMDAgMjAwIiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjojZmZmZmZmMDAiIHZlcnNpb249IjEuMSINCXhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiDQl4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEwMHB4IiBoZWlnaHQ9IjIwMHB4Ig0+DQk8ZGVmcz4NCQk8cmFkaWFsR3JhZGllbnQgaWQ9ImdyYWRpZW50MSIgY3g9IjUwJSIgY3k9IjUwJSIgcj0iNTAlIj4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iIzIyMjIyMiIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjcwJSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjMjIyMjIyIiBzdG9wLW9wYWNpdHk9IjAuMDExOCIgb2Zmc2V0PSI3MC4yMDIlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiMzMzMzMzMiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSI4NSUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iIzMzMzMzMyIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjEwMCUiLz4NCQk8L3JhZGlhbEdyYWRpZW50Pg0JCTxyYWRpYWxHcmFkaWVudCBpZD0iZ3JhZGllbnQyIiBjeD0iNTAlIiBjeT0iNTAlIiByPSI1MCUiPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYmJiYmJiIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iNzAlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNiYmJiYmIiIHN0b3Atb3BhY2l0eT0iMC4wMTE4IiBvZmZzZXQ9IjcwLjIwMiUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2JiYmJiYiIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9Ijg1JSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYmJiYmJiIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iMTAwJSIvPg0JCTwvcmFkaWFsR3JhZGllbnQ+DQkJPGZpbHRlciBpZD0iZmlsdGVyMSIgeD0iLTEwMCUiIHk9Ii0xMDAlIiB3aWR0aD0iMzAwJSIgaGVpZ2h0PSIzMDAlIj4NCQkJPCEtLSBHbG93IC0tPg0JCQk8ZmVDb2xvck1hdHJpeCByZXN1bHQ9Im91dCIgaW49IlNvdXJjZUdyYXBoaWMiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgIDAgMCAwIDAgMCAgMCAwIDAgMCAwICAwIDAgMCAwLjI1MSAwIi8+DQkJCTxmZU1vcnBob2xvZ3kgcmVzdWx0PSJvdXQiIGluPSJvdXQiIG9wZXJhdG9yPSJkaWxhdGUiIHJhZGl1cz0iMyIvPg0JCQk8ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJvdXQiIGluPSJvdXQiIHN0ZERldmlhdGlvbj0iMS41Ii8+DQkJCTxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9Im91dCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9Ikdsb3cxIi8+DQkJPC9maWx0ZXI+DQkJPGZpbHRlciBpZD0iZmlsdGVyMiIgeD0iLTEwMCUiIHk9Ii0xMDAlIiB3aWR0aD0iMzAwJSIgaGVpZ2h0PSIzMDAlIj4NCQkJPCEtLSBHbG93IC0tPg0JCQk8ZmVDb2xvck1hdHJpeCByZXN1bHQ9Im91dCIgaW49IlNvdXJjZUdyYXBoaWMiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwLjg2NjcgMCAgMCAwIDAgMC44NjY3IDAgIDAgMCAwIDAuODY2NyAwICAwIDAgMCAwLjI1MSAwIi8+DQkJCTxmZU1vcnBob2xvZ3kgcmVzdWx0PSJvdXQiIGluPSJvdXQiIG9wZXJhdG9yPSJkaWxhdGUiIHJhZGl1cz0iMyIvPg0JCQk8ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJvdXQiIGluPSJvdXQiIHN0ZERldmlhdGlvbj0iMS41Ii8+DQkJCTxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9Im91dCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9Ikdsb3cyIi8+DQkJPC9maWx0ZXI+DQk8L2RlZnM+DQk8ZyBpZD0iQmFja2dyb3VuZCI+DQk8L2c+DQk8ZyBpZD0iZGFyayUyMHNoYWRvdyI+DQkJPHBhdGggZD0iTSAyMiA1MCBDIDIyIDM0LjUzNTggMzQuNTM1OCAyMiA1MCAyMiBDIDY1LjQ2NDIgMjIgNzggMzQuNTM1OCA3OCA1MCBDIDc4IDY1LjQ2NDIgNjUuNDY0MiA3OCA1MCA3OCBDIDM0LjUzNTggNzggMjIgNjUuNDY0MiAyMiA1MCBaTSA1IDUwIEMgNSA3NC44NTMxIDI1LjE0NjkgOTUgNTAgOTUgQyA3NC44NTMxIDk1IDk1IDc0Ljg1MzEgOTUgNTAgQyA5NSAyNS4xNDY5IDc0Ljg1MzEgNSA1MCA1IEMgMjUuMTQ2OSA1IDUgMjUuMTQ2OSA1IDUwIFoiIGZpbGw9InVybCgjZ3JhZGllbnQxKSIvPg0JCTxwYXRoIGQ9Ik0gMjIgMTUwIEMgMjIgMTM0LjUzNTggMzQuNTM1OCAxMjIgNTAgMTIyIEMgNjUuNDY0MiAxMjIgNzggMTM0LjUzNTggNzggMTUwIEMgNzggMTY1LjQ2NDIgNjUuNDY0MiAxNzggNTAgMTc4IEMgMzQuNTM1OCAxNzggMjIgMTY1LjQ2NDIgMjIgMTUwIFpNIDUgMTUwIEMgNSAxNzQuODUzMSAyNS4xNDY5IDE5NSA1MCAxOTUgQyA3NC44NTMxIDE5NSA5NSAxNzQuODUzMSA5NSAxNTAgQyA5NSAxMjUuMTQ2OSA3NC44NTMxIDEwNSA1MCAxMDUgQyAyNS4xNDY5IDEwNSA1IDEyNS4xNDY5IDUgMTUwIFoiIGZpbGw9InVybCgjZ3JhZGllbnQyKSIvPg0JPC9nPg0JPGcgaWQ9ImRhcmsiPg0JCTxwYXRoIGlkPSJQb2x5Z29uIiBmaWx0ZXI9InVybCgjZmlsdGVyMSkiIGQ9Ik0gNzIuNSA0OS41IEwgMzguNzUgNjguOTg1NiBMIDM4Ljc1IDMwLjAxNDQgTCA3Mi41IDQ5LjUgWiIgZmlsbD0iI2ZmZmZmZiIvPg0JCTxwYXRoIGlkPSJFbGxpcHNlIiBkPSJNIDEzIDUwLjUgQyAxMyAyOS43ODkxIDI5Ljc4OTEgMTMgNTAuNSAxMyBDIDcxLjIxMDkgMTMgODggMjkuNzg5MSA4OCA1MC41IEMgODggNzEuMjEwOSA3MS4yMTA5IDg4IDUwLjUgODggQyAyOS43ODkxIDg4IDEzIDcxLjIxMDkgMTMgNTAuNSBaIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iNSIgZmlsbD0ibm9uZSIvPg0JPC9nPg0JPGcgaWQ9ImxpZ2h0Ij4NCQk8cGF0aCBpZD0iUG9seWdvbjIiIGZpbHRlcj0idXJsKCNmaWx0ZXIyKSIgZD0iTSA3Mi41IDE0OS41IEwgMzguNzUgMTY4Ljk4NTYgTCAzOC43NSAxMzAuMDE0NCBMIDcyLjUgMTQ5LjUgWiIgZmlsbD0iI2ZmZmZmZiIvPg0JCTxwYXRoIGlkPSJFbGxpcHNlMiIgZD0iTSAxMyAxNTAuNSBDIDEzIDEyOS43ODkxIDI5Ljc4OTEgMTEzIDUwLjUgMTEzIEMgNzEuMjEwOSAxMTMgODggMTI5Ljc4OTEgODggMTUwLjUgQyA4OCAxNzEuMjExIDcxLjIxMDkgMTg4IDUwLjUgMTg4IEMgMjkuNzg5MSAxODggMTMgMTcxLjIxMSAxMyAxNTAuNSBaIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iNSIgZmlsbD0ibm9uZSIvPg0JPC9nPg08L3N2Zz4=") no-repeat;background:rgba(50,50,50,0.7);border:solid 1px transparent;padding:10px;overflow:hidden;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.mejs-controls .mejs-sourcechooser-button .mejs-sourcechooser-selector ul{margin:0;padding:0;display:block;list-style-type:none !important;overflow:hidden}.mejs-controls .mejs-sourcechooser-button .mejs-sourcechooser-selector ul li{margin:0 0 6px 0;padding:0;list-style-type:none !important;display:block;color:#fff;overflow:hidden}.mejs-controls .mejs-sourcechooser-button .mejs-sourcechooser-selector ul li input{clear:both;float:left;margin:3px 3px 0 5px}.mejs-controls .mejs-sourcechooser-button .mejs-sourcechooser-selector ul li label{width:100px;float:left;padding:4px 0 0 0;line-height:15px;font-family:helvetica, arial;font-size:10px}.mejs-postroll-layer{position:absolute;bottom:0;left:0;width:100%;height:100%;background:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pg08IS0tIEdlbmVyYXRvcjogQWRvYmUgRmlyZXdvcmtzIENTNiwgRXhwb3J0IFNWRyBFeHRlbnNpb24gYnkgQWFyb24gQmVhbGwgKGh0dHA6Ly9maXJld29ya3MuYWJlYWxsLmNvbSkgLiBWZXJzaW9uOiAwLjYuMSAgLS0+DTwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DTxzdmcgaWQ9ImJpZ3BsYXktZ3JhZGllbnQuZnctUGFnZSUyMDEiIHZpZXdCb3g9IjAgMCAxMDAgMjAwIiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjojZmZmZmZmMDAiIHZlcnNpb249IjEuMSINCXhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiDQl4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEwMHB4IiBoZWlnaHQ9IjIwMHB4Ig0+DQk8ZGVmcz4NCQk8cmFkaWFsR3JhZGllbnQgaWQ9ImdyYWRpZW50MSIgY3g9IjUwJSIgY3k9IjUwJSIgcj0iNTAlIj4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iIzIyMjIyMiIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjcwJSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjMjIyMjIyIiBzdG9wLW9wYWNpdHk9IjAuMDExOCIgb2Zmc2V0PSI3MC4yMDIlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiMzMzMzMzMiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSI4NSUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iIzMzMzMzMyIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjEwMCUiLz4NCQk8L3JhZGlhbEdyYWRpZW50Pg0JCTxyYWRpYWxHcmFkaWVudCBpZD0iZ3JhZGllbnQyIiBjeD0iNTAlIiBjeT0iNTAlIiByPSI1MCUiPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYmJiYmJiIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iNzAlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNiYmJiYmIiIHN0b3Atb3BhY2l0eT0iMC4wMTE4IiBvZmZzZXQ9IjcwLjIwMiUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2JiYmJiYiIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9Ijg1JSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYmJiYmJiIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iMTAwJSIvPg0JCTwvcmFkaWFsR3JhZGllbnQ+DQkJPGZpbHRlciBpZD0iZmlsdGVyMSIgeD0iLTEwMCUiIHk9Ii0xMDAlIiB3aWR0aD0iMzAwJSIgaGVpZ2h0PSIzMDAlIj4NCQkJPCEtLSBHbG93IC0tPg0JCQk8ZmVDb2xvck1hdHJpeCByZXN1bHQ9Im91dCIgaW49IlNvdXJjZUdyYXBoaWMiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgIDAgMCAwIDAgMCAgMCAwIDAgMCAwICAwIDAgMCAwLjI1MSAwIi8+DQkJCTxmZU1vcnBob2xvZ3kgcmVzdWx0PSJvdXQiIGluPSJvdXQiIG9wZXJhdG9yPSJkaWxhdGUiIHJhZGl1cz0iMyIvPg0JCQk8ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJvdXQiIGluPSJvdXQiIHN0ZERldmlhdGlvbj0iMS41Ii8+DQkJCTxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9Im91dCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9Ikdsb3cxIi8+DQkJPC9maWx0ZXI+DQkJPGZpbHRlciBpZD0iZmlsdGVyMiIgeD0iLTEwMCUiIHk9Ii0xMDAlIiB3aWR0aD0iMzAwJSIgaGVpZ2h0PSIzMDAlIj4NCQkJPCEtLSBHbG93IC0tPg0JCQk8ZmVDb2xvck1hdHJpeCByZXN1bHQ9Im91dCIgaW49IlNvdXJjZUdyYXBoaWMiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwLjg2NjcgMCAgMCAwIDAgMC44NjY3IDAgIDAgMCAwIDAuODY2NyAwICAwIDAgMCAwLjI1MSAwIi8+DQkJCTxmZU1vcnBob2xvZ3kgcmVzdWx0PSJvdXQiIGluPSJvdXQiIG9wZXJhdG9yPSJkaWxhdGUiIHJhZGl1cz0iMyIvPg0JCQk8ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJvdXQiIGluPSJvdXQiIHN0ZERldmlhdGlvbj0iMS41Ii8+DQkJCTxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9Im91dCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9Ikdsb3cyIi8+DQkJPC9maWx0ZXI+DQk8L2RlZnM+DQk8ZyBpZD0iQmFja2dyb3VuZCI+DQk8L2c+DQk8ZyBpZD0iZGFyayUyMHNoYWRvdyI+DQkJPHBhdGggZD0iTSAyMiA1MCBDIDIyIDM0LjUzNTggMzQuNTM1OCAyMiA1MCAyMiBDIDY1LjQ2NDIgMjIgNzggMzQuNTM1OCA3OCA1MCBDIDc4IDY1LjQ2NDIgNjUuNDY0MiA3OCA1MCA3OCBDIDM0LjUzNTggNzggMjIgNjUuNDY0MiAyMiA1MCBaTSA1IDUwIEMgNSA3NC44NTMxIDI1LjE0NjkgOTUgNTAgOTUgQyA3NC44NTMxIDk1IDk1IDc0Ljg1MzEgOTUgNTAgQyA5NSAyNS4xNDY5IDc0Ljg1MzEgNSA1MCA1IEMgMjUuMTQ2OSA1IDUgMjUuMTQ2OSA1IDUwIFoiIGZpbGw9InVybCgjZ3JhZGllbnQxKSIvPg0JCTxwYXRoIGQ9Ik0gMjIgMTUwIEMgMjIgMTM0LjUzNTggMzQuNTM1OCAxMjIgNTAgMTIyIEMgNjUuNDY0MiAxMjIgNzggMTM0LjUzNTggNzggMTUwIEMgNzggMTY1LjQ2NDIgNjUuNDY0MiAxNzggNTAgMTc4IEMgMzQuNTM1OCAxNzggMjIgMTY1LjQ2NDIgMjIgMTUwIFpNIDUgMTUwIEMgNSAxNzQuODUzMSAyNS4xNDY5IDE5NSA1MCAxOTUgQyA3NC44NTMxIDE5NSA5NSAxNzQuODUzMSA5NSAxNTAgQyA5NSAxMjUuMTQ2OSA3NC44NTMxIDEwNSA1MCAxMDUgQyAyNS4xNDY5IDEwNSA1IDEyNS4xNDY5IDUgMTUwIFoiIGZpbGw9InVybCgjZ3JhZGllbnQyKSIvPg0JPC9nPg0JPGcgaWQ9ImRhcmsiPg0JCTxwYXRoIGlkPSJQb2x5Z29uIiBmaWx0ZXI9InVybCgjZmlsdGVyMSkiIGQ9Ik0gNzIuNSA0OS41IEwgMzguNzUgNjguOTg1NiBMIDM4Ljc1IDMwLjAxNDQgTCA3Mi41IDQ5LjUgWiIgZmlsbD0iI2ZmZmZmZiIvPg0JCTxwYXRoIGlkPSJFbGxpcHNlIiBkPSJNIDEzIDUwLjUgQyAxMyAyOS43ODkxIDI5Ljc4OTEgMTMgNTAuNSAxMyBDIDcxLjIxMDkgMTMgODggMjkuNzg5MSA4OCA1MC41IEMgODggNzEuMjEwOSA3MS4yMTA5IDg4IDUwLjUgODggQyAyOS43ODkxIDg4IDEzIDcxLjIxMDkgMTMgNTAuNSBaIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iNSIgZmlsbD0ibm9uZSIvPg0JPC9nPg0JPGcgaWQ9ImxpZ2h0Ij4NCQk8cGF0aCBpZD0iUG9seWdvbjIiIGZpbHRlcj0idXJsKCNmaWx0ZXIyKSIgZD0iTSA3Mi41IDE0OS41IEwgMzguNzUgMTY4Ljk4NTYgTCAzOC43NSAxMzAuMDE0NCBMIDcyLjUgMTQ5LjUgWiIgZmlsbD0iI2ZmZmZmZiIvPg0JCTxwYXRoIGlkPSJFbGxpcHNlMiIgZD0iTSAxMyAxNTAuNSBDIDEzIDEyOS43ODkxIDI5Ljc4OTEgMTEzIDUwLjUgMTEzIEMgNzEuMjEwOSAxMTMgODggMTI5Ljc4OTEgODggMTUwLjUgQyA4OCAxNzEuMjExIDcxLjIxMDkgMTg4IDUwLjUgMTg4IEMgMjkuNzg5MSAxODggMTMgMTcxLjIxMSAxMyAxNTAuNSBaIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iNSIgZmlsbD0ibm9uZSIvPg0JPC9nPg08L3N2Zz4=") no-repeat;background:rgba(50,50,50,0.7);z-index:1000;overflow:hidden}.mejs-postroll-layer-content{width:100%;height:100%}.mejs-postroll-close{position:absolute;right:0;top:0;background:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pg08IS0tIEdlbmVyYXRvcjogQWRvYmUgRmlyZXdvcmtzIENTNiwgRXhwb3J0IFNWRyBFeHRlbnNpb24gYnkgQWFyb24gQmVhbGwgKGh0dHA6Ly9maXJld29ya3MuYWJlYWxsLmNvbSkgLiBWZXJzaW9uOiAwLjYuMSAgLS0+DTwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DTxzdmcgaWQ9ImJpZ3BsYXktZ3JhZGllbnQuZnctUGFnZSUyMDEiIHZpZXdCb3g9IjAgMCAxMDAgMjAwIiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjojZmZmZmZmMDAiIHZlcnNpb249IjEuMSINCXhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiDQl4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEwMHB4IiBoZWlnaHQ9IjIwMHB4Ig0+DQk8ZGVmcz4NCQk8cmFkaWFsR3JhZGllbnQgaWQ9ImdyYWRpZW50MSIgY3g9IjUwJSIgY3k9IjUwJSIgcj0iNTAlIj4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iIzIyMjIyMiIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjcwJSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjMjIyMjIyIiBzdG9wLW9wYWNpdHk9IjAuMDExOCIgb2Zmc2V0PSI3MC4yMDIlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiMzMzMzMzMiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSI4NSUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iIzMzMzMzMyIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjEwMCUiLz4NCQk8L3JhZGlhbEdyYWRpZW50Pg0JCTxyYWRpYWxHcmFkaWVudCBpZD0iZ3JhZGllbnQyIiBjeD0iNTAlIiBjeT0iNTAlIiByPSI1MCUiPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYmJiYmJiIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iNzAlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNiYmJiYmIiIHN0b3Atb3BhY2l0eT0iMC4wMTE4IiBvZmZzZXQ9IjcwLjIwMiUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2JiYmJiYiIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9Ijg1JSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYmJiYmJiIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iMTAwJSIvPg0JCTwvcmFkaWFsR3JhZGllbnQ+DQkJPGZpbHRlciBpZD0iZmlsdGVyMSIgeD0iLTEwMCUiIHk9Ii0xMDAlIiB3aWR0aD0iMzAwJSIgaGVpZ2h0PSIzMDAlIj4NCQkJPCEtLSBHbG93IC0tPg0JCQk8ZmVDb2xvck1hdHJpeCByZXN1bHQ9Im91dCIgaW49IlNvdXJjZUdyYXBoaWMiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgIDAgMCAwIDAgMCAgMCAwIDAgMCAwICAwIDAgMCAwLjI1MSAwIi8+DQkJCTxmZU1vcnBob2xvZ3kgcmVzdWx0PSJvdXQiIGluPSJvdXQiIG9wZXJhdG9yPSJkaWxhdGUiIHJhZGl1cz0iMyIvPg0JCQk8ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJvdXQiIGluPSJvdXQiIHN0ZERldmlhdGlvbj0iMS41Ii8+DQkJCTxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9Im91dCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9Ikdsb3cxIi8+DQkJPC9maWx0ZXI+DQkJPGZpbHRlciBpZD0iZmlsdGVyMiIgeD0iLTEwMCUiIHk9Ii0xMDAlIiB3aWR0aD0iMzAwJSIgaGVpZ2h0PSIzMDAlIj4NCQkJPCEtLSBHbG93IC0tPg0JCQk8ZmVDb2xvck1hdHJpeCByZXN1bHQ9Im91dCIgaW49IlNvdXJjZUdyYXBoaWMiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwLjg2NjcgMCAgMCAwIDAgMC44NjY3IDAgIDAgMCAwIDAuODY2NyAwICAwIDAgMCAwLjI1MSAwIi8+DQkJCTxmZU1vcnBob2xvZ3kgcmVzdWx0PSJvdXQiIGluPSJvdXQiIG9wZXJhdG9yPSJkaWxhdGUiIHJhZGl1cz0iMyIvPg0JCQk8ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJvdXQiIGluPSJvdXQiIHN0ZERldmlhdGlvbj0iMS41Ii8+DQkJCTxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9Im91dCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9Ikdsb3cyIi8+DQkJPC9maWx0ZXI+DQk8L2RlZnM+DQk8ZyBpZD0iQmFja2dyb3VuZCI+DQk8L2c+DQk8ZyBpZD0iZGFyayUyMHNoYWRvdyI+DQkJPHBhdGggZD0iTSAyMiA1MCBDIDIyIDM0LjUzNTggMzQuNTM1OCAyMiA1MCAyMiBDIDY1LjQ2NDIgMjIgNzggMzQuNTM1OCA3OCA1MCBDIDc4IDY1LjQ2NDIgNjUuNDY0MiA3OCA1MCA3OCBDIDM0LjUzNTggNzggMjIgNjUuNDY0MiAyMiA1MCBaTSA1IDUwIEMgNSA3NC44NTMxIDI1LjE0NjkgOTUgNTAgOTUgQyA3NC44NTMxIDk1IDk1IDc0Ljg1MzEgOTUgNTAgQyA5NSAyNS4xNDY5IDc0Ljg1MzEgNSA1MCA1IEMgMjUuMTQ2OSA1IDUgMjUuMTQ2OSA1IDUwIFoiIGZpbGw9InVybCgjZ3JhZGllbnQxKSIvPg0JCTxwYXRoIGQ9Ik0gMjIgMTUwIEMgMjIgMTM0LjUzNTggMzQuNTM1OCAxMjIgNTAgMTIyIEMgNjUuNDY0MiAxMjIgNzggMTM0LjUzNTggNzggMTUwIEMgNzggMTY1LjQ2NDIgNjUuNDY0MiAxNzggNTAgMTc4IEMgMzQuNTM1OCAxNzggMjIgMTY1LjQ2NDIgMjIgMTUwIFpNIDUgMTUwIEMgNSAxNzQuODUzMSAyNS4xNDY5IDE5NSA1MCAxOTUgQyA3NC44NTMxIDE5NSA5NSAxNzQuODUzMSA5NSAxNTAgQyA5NSAxMjUuMTQ2OSA3NC44NTMxIDEwNSA1MCAxMDUgQyAyNS4xNDY5IDEwNSA1IDEyNS4xNDY5IDUgMTUwIFoiIGZpbGw9InVybCgjZ3JhZGllbnQyKSIvPg0JPC9nPg0JPGcgaWQ9ImRhcmsiPg0JCTxwYXRoIGlkPSJQb2x5Z29uIiBmaWx0ZXI9InVybCgjZmlsdGVyMSkiIGQ9Ik0gNzIuNSA0OS41IEwgMzguNzUgNjguOTg1NiBMIDM4Ljc1IDMwLjAxNDQgTCA3Mi41IDQ5LjUgWiIgZmlsbD0iI2ZmZmZmZiIvPg0JCTxwYXRoIGlkPSJFbGxpcHNlIiBkPSJNIDEzIDUwLjUgQyAxMyAyOS43ODkxIDI5Ljc4OTEgMTMgNTAuNSAxMyBDIDcxLjIxMDkgMTMgODggMjkuNzg5MSA4OCA1MC41IEMgODggNzEuMjEwOSA3MS4yMTA5IDg4IDUwLjUgODggQyAyOS43ODkxIDg4IDEzIDcxLjIxMDkgMTMgNTAuNSBaIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iNSIgZmlsbD0ibm9uZSIvPg0JPC9nPg0JPGcgaWQ9ImxpZ2h0Ij4NCQk8cGF0aCBpZD0iUG9seWdvbjIiIGZpbHRlcj0idXJsKCNmaWx0ZXIyKSIgZD0iTSA3Mi41IDE0OS41IEwgMzguNzUgMTY4Ljk4NTYgTCAzOC43NSAxMzAuMDE0NCBMIDcyLjUgMTQ5LjUgWiIgZmlsbD0iI2ZmZmZmZiIvPg0JCTxwYXRoIGlkPSJFbGxpcHNlMiIgZD0iTSAxMyAxNTAuNSBDIDEzIDEyOS43ODkxIDI5Ljc4OTEgMTEzIDUwLjUgMTEzIEMgNzEuMjEwOSAxMTMgODggMTI5Ljc4OTEgODggMTUwLjUgQyA4OCAxNzEuMjExIDcxLjIxMDkgMTg4IDUwLjUgMTg4IEMgMjkuNzg5MSAxODggMTMgMTcxLjIxMSAxMyAxNTAuNSBaIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iNSIgZmlsbD0ibm9uZSIvPg0JPC9nPg08L3N2Zz4=") no-repeat;background:rgba(50,50,50,0.7);color:#fff;padding:4px;z-index:100;cursor:pointer}div.mejs-speed-button{width:46px !important;position:relative}.mejs-time span{font-size:1rem !important;line-height:1.1 !important}.mejs-controls .mejs-button.mejs-speed-button button{background:transparent;width:36px;font-size:11px;line-height:normal;color:#ffffff}.mejs-controls .mejs-speed-button .mejs-speed-selector{visibility:hidden;position:absolute;top:-100px;left:-10px;width:60px;height:100px;background:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pg08IS0tIEdlbmVyYXRvcjogQWRvYmUgRmlyZXdvcmtzIENTNiwgRXhwb3J0IFNWRyBFeHRlbnNpb24gYnkgQWFyb24gQmVhbGwgKGh0dHA6Ly9maXJld29ya3MuYWJlYWxsLmNvbSkgLiBWZXJzaW9uOiAwLjYuMSAgLS0+DTwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DTxzdmcgaWQ9ImJpZ3BsYXktZ3JhZGllbnQuZnctUGFnZSUyMDEiIHZpZXdCb3g9IjAgMCAxMDAgMjAwIiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjojZmZmZmZmMDAiIHZlcnNpb249IjEuMSINCXhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiDQl4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEwMHB4IiBoZWlnaHQ9IjIwMHB4Ig0+DQk8ZGVmcz4NCQk8cmFkaWFsR3JhZGllbnQgaWQ9ImdyYWRpZW50MSIgY3g9IjUwJSIgY3k9IjUwJSIgcj0iNTAlIj4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iIzIyMjIyMiIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjcwJSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjMjIyMjIyIiBzdG9wLW9wYWNpdHk9IjAuMDExOCIgb2Zmc2V0PSI3MC4yMDIlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiMzMzMzMzMiIHN0b3Atb3BhY2l0eT0iMSIgb2Zmc2V0PSI4NSUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iIzMzMzMzMyIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjEwMCUiLz4NCQk8L3JhZGlhbEdyYWRpZW50Pg0JCTxyYWRpYWxHcmFkaWVudCBpZD0iZ3JhZGllbnQyIiBjeD0iNTAlIiBjeT0iNTAlIiByPSI1MCUiPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYmJiYmJiIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iNzAlIi8+DQkJCTxzdG9wIHN0b3AtY29sb3I9IiNiYmJiYmIiIHN0b3Atb3BhY2l0eT0iMC4wMTE4IiBvZmZzZXQ9IjcwLjIwMiUiLz4NCQkJPHN0b3Agc3RvcC1jb2xvcj0iI2JiYmJiYiIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9Ijg1JSIvPg0JCQk8c3RvcCBzdG9wLWNvbG9yPSIjYmJiYmJiIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iMTAwJSIvPg0JCTwvcmFkaWFsR3JhZGllbnQ+DQkJPGZpbHRlciBpZD0iZmlsdGVyMSIgeD0iLTEwMCUiIHk9Ii0xMDAlIiB3aWR0aD0iMzAwJSIgaGVpZ2h0PSIzMDAlIj4NCQkJPCEtLSBHbG93IC0tPg0JCQk8ZmVDb2xvck1hdHJpeCByZXN1bHQ9Im91dCIgaW49IlNvdXJjZUdyYXBoaWMiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgIDAgMCAwIDAgMCAgMCAwIDAgMCAwICAwIDAgMCAwLjI1MSAwIi8+DQkJCTxmZU1vcnBob2xvZ3kgcmVzdWx0PSJvdXQiIGluPSJvdXQiIG9wZXJhdG9yPSJkaWxhdGUiIHJhZGl1cz0iMyIvPg0JCQk8ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJvdXQiIGluPSJvdXQiIHN0ZERldmlhdGlvbj0iMS41Ii8+DQkJCTxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9Im91dCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9Ikdsb3cxIi8+DQkJPC9maWx0ZXI+DQkJPGZpbHRlciBpZD0iZmlsdGVyMiIgeD0iLTEwMCUiIHk9Ii0xMDAlIiB3aWR0aD0iMzAwJSIgaGVpZ2h0PSIzMDAlIj4NCQkJPCEtLSBHbG93IC0tPg0JCQk8ZmVDb2xvck1hdHJpeCByZXN1bHQ9Im91dCIgaW49IlNvdXJjZUdyYXBoaWMiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwLjg2NjcgMCAgMCAwIDAgMC44NjY3IDAgIDAgMCAwIDAuODY2NyAwICAwIDAgMCAwLjI1MSAwIi8+DQkJCTxmZU1vcnBob2xvZ3kgcmVzdWx0PSJvdXQiIGluPSJvdXQiIG9wZXJhdG9yPSJkaWxhdGUiIHJhZGl1cz0iMyIvPg0JCQk8ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJvdXQiIGluPSJvdXQiIHN0ZERldmlhdGlvbj0iMS41Ii8+DQkJCTxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9Im91dCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9Ikdsb3cyIi8+DQkJPC9maWx0ZXI+DQk8L2RlZnM+DQk8ZyBpZD0iQmFja2dyb3VuZCI+DQk8L2c+DQk8ZyBpZD0iZGFyayUyMHNoYWRvdyI+DQkJPHBhdGggZD0iTSAyMiA1MCBDIDIyIDM0LjUzNTggMzQuNTM1OCAyMiA1MCAyMiBDIDY1LjQ2NDIgMjIgNzggMzQuNTM1OCA3OCA1MCBDIDc4IDY1LjQ2NDIgNjUuNDY0MiA3OCA1MCA3OCBDIDM0LjUzNTggNzggMjIgNjUuNDY0MiAyMiA1MCBaTSA1IDUwIEMgNSA3NC44NTMxIDI1LjE0NjkgOTUgNTAgOTUgQyA3NC44NTMxIDk1IDk1IDc0Ljg1MzEgOTUgNTAgQyA5NSAyNS4xNDY5IDc0Ljg1MzEgNSA1MCA1IEMgMjUuMTQ2OSA1IDUgMjUuMTQ2OSA1IDUwIFoiIGZpbGw9InVybCgjZ3JhZGllbnQxKSIvPg0JCTxwYXRoIGQ9Ik0gMjIgMTUwIEMgMjIgMTM0LjUzNTggMzQuNTM1OCAxMjIgNTAgMTIyIEMgNjUuNDY0MiAxMjIgNzggMTM0LjUzNTggNzggMTUwIEMgNzggMTY1LjQ2NDIgNjUuNDY0MiAxNzggNTAgMTc4IEMgMzQuNTM1OCAxNzggMjIgMTY1LjQ2NDIgMjIgMTUwIFpNIDUgMTUwIEMgNSAxNzQuODUzMSAyNS4xNDY5IDE5NSA1MCAxOTUgQyA3NC44NTMxIDE5NSA5NSAxNzQuODUzMSA5NSAxNTAgQyA5NSAxMjUuMTQ2OSA3NC44NTMxIDEwNSA1MCAxMDUgQyAyNS4xNDY5IDEwNSA1IDEyNS4xNDY5IDUgMTUwIFoiIGZpbGw9InVybCgjZ3JhZGllbnQyKSIvPg0JPC9nPg0JPGcgaWQ9ImRhcmsiPg0JCTxwYXRoIGlkPSJQb2x5Z29uIiBmaWx0ZXI9InVybCgjZmlsdGVyMSkiIGQ9Ik0gNzIuNSA0OS41IEwgMzguNzUgNjguOTg1NiBMIDM4Ljc1IDMwLjAxNDQgTCA3Mi41IDQ5LjUgWiIgZmlsbD0iI2ZmZmZmZiIvPg0JCTxwYXRoIGlkPSJFbGxpcHNlIiBkPSJNIDEzIDUwLjUgQyAxMyAyOS43ODkxIDI5Ljc4OTEgMTMgNTAuNSAxMyBDIDcxLjIxMDkgMTMgODggMjkuNzg5MSA4OCA1MC41IEMgODggNzEuMjEwOSA3MS4yMTA5IDg4IDUwLjUgODggQyAyOS43ODkxIDg4IDEzIDcxLjIxMDkgMTMgNTAuNSBaIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iNSIgZmlsbD0ibm9uZSIvPg0JPC9nPg0JPGcgaWQ9ImxpZ2h0Ij4NCQk8cGF0aCBpZD0iUG9seWdvbjIiIGZpbHRlcj0idXJsKCNmaWx0ZXIyKSIgZD0iTSA3Mi41IDE0OS41IEwgMzguNzUgMTY4Ljk4NTYgTCAzOC43NSAxMzAuMDE0NCBMIDcyLjUgMTQ5LjUgWiIgZmlsbD0iI2ZmZmZmZiIvPg0JCTxwYXRoIGlkPSJFbGxpcHNlMiIgZD0iTSAxMyAxNTAuNSBDIDEzIDEyOS43ODkxIDI5Ljc4OTEgMTEzIDUwLjUgMTEzIEMgNzEuMjEwOSAxMTMgODggMTI5Ljc4OTEgODggMTUwLjUgQyA4OCAxNzEuMjExIDcxLjIxMDkgMTg4IDUwLjUgMTg4IEMgMjkuNzg5MSAxODggMTMgMTcxLjIxMSAxMyAxNTAuNSBaIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iNSIgZmlsbD0ibm9uZSIvPg0JPC9nPg08L3N2Zz4=") no-repeat;background:rgba(50,50,50,0.7);border:solid 1px transparent;padding:0;overflow:hidden;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.mejs-controls .mejs-speed-button:hover>.mejs-speed-selector{visibility:visible}.mejs-controls .mejs-speed-button .mejs-speed-selector ul li label.mejs-speed-selected{color:#21f8f8}.mejs-controls .mejs-speed-button .mejs-speed-selector ul{margin:0;padding:0;display:block;list-style-type:none !important;overflow:hidden}.mejs-controls .mejs-speed-button .mejs-speed-selector ul li{margin:0 0 6px 0;padding:0 10px;list-style-type:none !important;display:block;color:#fff;overflow:hidden}.mejs-controls .mejs-speed-button .mejs-speed-selector ul li input{clear:both;float:left;margin:3px 3px 0 5px;display:none}.mejs-controls .mejs-speed-button .mejs-speed-selector ul li label{width:60px;float:left;padding:4px 0 0 0;line-height:15px;font-family:helvetica, arial;font-size:11.5px;color:white;margin-left:5px;cursor:pointer}.mejs-controls .mejs-speed-button .mejs-speed-selector ul li:hover{background-color:#c8c8c8 !important;background-color:rgba(255,255,255,0.4) !important}.mejs-controls .mejs-button.mejs-skip-back-button{background:transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAKQWlDQ1BJQ0MgUHJvZmlsZQAASA2dlndUU9kWh8+9N73QEiIgJfQaegkg0jtIFQRRiUmAUAKGhCZ2RAVGFBEpVmRUwAFHhyJjRRQLg4Ji1wnyEFDGwVFEReXdjGsJ7601896a/cdZ39nnt9fZZ+9917oAUPyCBMJ0WAGANKFYFO7rwVwSE8vE9wIYEAEOWAHA4WZmBEf4RALU/L09mZmoSMaz9u4ugGS72yy/UCZz1v9/kSI3QyQGAApF1TY8fiYX5QKUU7PFGTL/BMr0lSkyhjEyFqEJoqwi48SvbPan5iu7yZiXJuShGlnOGbw0noy7UN6aJeGjjAShXJgl4GejfAdlvVRJmgDl9yjT0/icTAAwFJlfzOcmoWyJMkUUGe6J8gIACJTEObxyDov5OWieAHimZ+SKBIlJYqYR15hp5ejIZvrxs1P5YjErlMNN4Yh4TM/0tAyOMBeAr2+WRQElWW2ZaJHtrRzt7VnW5mj5v9nfHn5T/T3IevtV8Sbsz55BjJ5Z32zsrC+9FgD2JFqbHbO+lVUAtG0GQOXhrE/vIADyBQC03pzzHoZsXpLE4gwnC4vs7GxzAZ9rLivoN/ufgm/Kv4Y595nL7vtWO6YXP4EjSRUzZUXlpqemS0TMzAwOl89k/fcQ/+PAOWnNycMsnJ/AF/GF6FVR6JQJhIlou4U8gViQLmQKhH/V4X8YNicHGX6daxRodV8AfYU5ULhJB8hvPQBDIwMkbj96An3rWxAxCsi+vGitka9zjzJ6/uf6Hwtcim7hTEEiU+b2DI9kciWiLBmj34RswQISkAd0oAo0gS4wAixgDRyAM3AD3iAAhIBIEAOWAy5IAmlABLJBPtgACkEx2AF2g2pwANSBetAEToI2cAZcBFfADXALDIBHQAqGwUswAd6BaQiC8BAVokGqkBakD5lC1hAbWgh5Q0FQOBQDxUOJkBCSQPnQJqgYKoOqoUNQPfQjdBq6CF2D+qAH0CA0Bv0BfYQRmALTYQ3YALaA2bA7HAhHwsvgRHgVnAcXwNvhSrgWPg63whfhG/AALIVfwpMIQMgIA9FGWAgb8URCkFgkAREha5EipAKpRZqQDqQbuY1IkXHkAwaHoWGYGBbGGeOHWYzhYlZh1mJKMNWYY5hWTBfmNmYQM4H5gqVi1bGmWCesP3YJNhGbjS3EVmCPYFuwl7ED2GHsOxwOx8AZ4hxwfrgYXDJuNa4Etw/XjLuA68MN4SbxeLwq3hTvgg/Bc/BifCG+Cn8cfx7fjx/GvyeQCVoEa4IPIZYgJGwkVBAaCOcI/YQRwjRRgahPdCKGEHnEXGIpsY7YQbxJHCZOkxRJhiQXUiQpmbSBVElqIl0mPSa9IZPJOmRHchhZQF5PriSfIF8lD5I/UJQoJhRPShxFQtlOOUq5QHlAeUOlUg2obtRYqpi6nVpPvUR9Sn0vR5Mzl/OX48mtk6uRa5Xrl3slT5TXl3eXXy6fJ18hf0r+pvy4AlHBQMFTgaOwVqFG4bTCPYVJRZqilWKIYppiiWKD4jXFUSW8koGStxJPqUDpsNIlpSEaQtOledK4tE20Otpl2jAdRzek+9OT6cX0H+i99AllJWVb5SjlHOUa5bPKUgbCMGD4M1IZpYyTjLuMj/M05rnP48/bNq9pXv+8KZX5Km4qfJUilWaVAZWPqkxVb9UU1Z2qbapP1DBqJmphatlq+9Uuq43Pp893ns+dXzT/5PyH6rC6iXq4+mr1w+o96pMamhq+GhkaVRqXNMY1GZpumsma5ZrnNMe0aFoLtQRa5VrntV4wlZnuzFRmJbOLOaGtru2nLdE+pN2rPa1jqLNYZ6NOs84TXZIuWzdBt1y3U3dCT0svWC9fr1HvoT5Rn62fpL9Hv1t/ysDQINpgi0GbwaihiqG/YZ5ho+FjI6qRq9Eqo1qjO8Y4Y7ZxivE+41smsImdSZJJjclNU9jU3lRgus+0zwxr5mgmNKs1u8eisNxZWaxG1qA5wzzIfKN5m/krCz2LWIudFt0WXyztLFMt6ywfWSlZBVhttOqw+sPaxJprXWN9x4Zq42Ozzqbd5rWtqS3fdr/tfTuaXbDdFrtOu8/2DvYi+yb7MQc9h3iHvQ732HR2KLuEfdUR6+jhuM7xjOMHJ3snsdNJp9+dWc4pzg3OowsMF/AX1C0YctFx4bgccpEuZC6MX3hwodRV25XjWuv6zE3Xjed2xG3E3dg92f24+ysPSw+RR4vHlKeT5xrPC16Il69XkVevt5L3Yu9q76c+Oj6JPo0+E752vqt9L/hh/QL9dvrd89fw5/rX+08EOASsCegKpARGBFYHPgsyCRIFdQTDwQHBu4IfL9JfJFzUFgJC/EN2hTwJNQxdFfpzGC4sNKwm7Hm4VXh+eHcELWJFREPEu0iPyNLIR4uNFksWd0bJR8VF1UdNRXtFl0VLl1gsWbPkRoxajCCmPRYfGxV7JHZyqffS3UuH4+ziCuPuLjNclrPs2nK15anLz66QX8FZcSoeGx8d3xD/iRPCqeVMrvRfuXflBNeTu4f7kufGK+eN8V34ZfyRBJeEsoTRRJfEXYljSa5JFUnjAk9BteB1sl/ygeSplJCUoykzqdGpzWmEtPi000IlYYqwK10zPSe9L8M0ozBDuspp1e5VE6JA0ZFMKHNZZruYjv5M9UiMJJslg1kLs2qy3mdHZZ/KUcwR5vTkmuRuyx3J88n7fjVmNXd1Z752/ob8wTXuaw6thdauXNu5Tnddwbrh9b7rj20gbUjZ8MtGy41lG99uit7UUaBRsL5gaLPv5sZCuUJR4b0tzlsObMVsFWzt3WazrWrblyJe0fViy+KK4k8l3JLr31l9V/ndzPaE7b2l9qX7d+B2CHfc3em681iZYlle2dCu4F2t5czyovK3u1fsvlZhW3FgD2mPZI+0MqiyvUqvakfVp+qk6oEaj5rmvep7t+2d2sfb17/fbX/TAY0DxQc+HhQcvH/I91BrrUFtxWHc4azDz+ui6rq/Z39ff0TtSPGRz0eFR6XHwo911TvU1zeoN5Q2wo2SxrHjccdv/eD1Q3sTq+lQM6O5+AQ4ITnx4sf4H++eDDzZeYp9qukn/Z/2ttBailqh1tzWibakNml7THvf6YDTnR3OHS0/m/989Iz2mZqzymdLz5HOFZybOZ93fvJCxoXxi4kXhzpXdD66tOTSna6wrt7LgZevXvG5cqnbvfv8VZerZ645XTt9nX297Yb9jdYeu56WX+x+aem172296XCz/ZbjrY6+BX3n+l37L972un3ljv+dGwOLBvruLr57/17cPel93v3RB6kPXj/Mejj9aP1j7OOiJwpPKp6qP6391fjXZqm99Oyg12DPs4hnj4a4Qy//lfmvT8MFz6nPK0a0RupHrUfPjPmM3Xqx9MXwy4yX0+OFvyn+tveV0auffnf7vWdiycTwa9HrmT9K3qi+OfrW9m3nZOjk03dp76anit6rvj/2gf2h+2P0x5Hp7E/4T5WfjT93fAn88ngmbWbm3/eE8/syOll+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEImlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MTwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPHRpZmY6Q29tcHJlc3Npb24+NTwvdGlmZjpDb21wcmVzc2lvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzI8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+MjA8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgICAgPGRjOnN1YmplY3Q+CiAgICAgICAgICAgIDxyZGY6QmFnLz4KICAgICAgICAgPC9kYzpzdWJqZWN0PgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wNy0zMVQxNDowNzo3MzwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+UGl4ZWxtYXRvciAzLjI8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cpunxb8AAAHMSURBVDgRpZS7SkNBEIY98QK+gaIxxELF2JjEBKwsJA9gkZcQFXyDYBUEwYfQwsJeGxGt1E470QRUsFHiBQQvid8fZglHs8GDA19mLzP/bvbMbleXxxqNxjRsahrfByWY9YT7hy15Df8Bh5CFc5DN+TPbzJCQgwtlmj3jP10HfwllyEN3G4nWEAGT8AJ/sSeCtiDTUmjTImAMjsDZA40318EfgHbp7JZGsY1Ua4iAAJbhFXSG43AMsnkYgRWogqwGnUUlT1ASStbWIosw45amPQVuIe007eYie5IDWyhFuwIynWlvZLGfCYjoeOqgisj/nI/cRyQOVyArx/iZgDQkoPlXIqreE39iOQUd/iOoeHUGnYvVsxJ56yCrxYiRiHiHOvzLJHhtCv34yDtkV/qyw6ZRkeC+dbL4QWtHcQME5yxhT2eoi647rE+/FEVJseSEy4aBXtgGWQVSFuj94sR0LmwCVDa6PjJdp6Zop90qxmJxzdzw1WOwCLrosiroAUhAjxNW28a8j0PobxGsV2MDhkxEFXAKN9aP4/VAjFr/Dr8aBMGO9X87RDOgM9Uj6jPvAxvaoZNHRfWoMlqAAiRBVgGV2S6csbMvfMi+AaMLVYXh1sqKAAAAAElFTkSuQmCC) no-repeat;background-position:3px 3px}.mejs-controls .mejs-button.mejs-skip-back-button button{background:transparent;font-size:9px;line-height:normal;color:#ffffff}.qti-item.runtime .block-listing>li:hover,.qti-item .qti-associateInteraction .empty:hover,.qti-item .qti-graphicGapMatchInteraction ul.source>li:hover,.qti-item .qti-graphicGapMatchInteraction ul.source>li.active.selectable:hover,.qti-item .qti-graphicOrderInteraction ul.ordinals>li:hover,.qti-item .qti-hottextInteraction .qti-hottext:hover,.qti-item .qti-gapMatchInteraction .gapmatch-content:hover{background:#f3f7fa !important;cursor:pointer !important}.qti-item.runtime .block-listing>li.active:hover,.qti-item .qti-associateInteraction .result-area>li>.target.active:hover{background:#e9f0f5 !important}.qti-item.runtime .block-listing>li.dragged,.qti-item.runtime .block-listing>li.dragged:hover,.qti-item .qti-associateInteraction .result-area>li>.target.dragged,.qti-item .qti-associateInteraction .result-area>li>.target.dragged:hover,.qti-item .qti-gapMatchInteraction .gapmatch-content.dragged,.qti-item .qti-gapMatchInteraction .gapmatch-content.dragged:hover{z-index:10;background:#e9f0f5 !important}.qti-item.runtime .block-listing>li.dropzone,.qti-item .qti-associateInteraction .result-area>li>.target.dropzone,.qti-item .qti-gapMatchInteraction .gapmatch-content.dropzone{background:#cfdfe9 !important;border:1px #3e7da7 dashed !important}.qti-item.runtime .block-listing>li.droppable,.qti-item.runtime .block-listing>li.droppable:hover,.qti-item .qti-associateInteraction .result-area>li>.target.droppable,.qti-item .qti-associateInteraction .result-area>li>.target.droppable:hover,.qti-item .qti-gapMatchInteraction .gapmatch-content.droppable,.qti-item .qti-gapMatchInteraction .gapmatch-content.droppable:hover{background:#cfdfe9 !important}.qti-item #modalFeedbacks .qti-modalFeedback,.qti-item .qti-itemBody .qti-modalFeedback{color:#111;margin-top:10px;border:4px solid #266d9c}.qti-item #modalFeedbacks .qti-modalFeedback .qti-title,.qti-item .qti-itemBody .qti-modalFeedback .qti-title{margin-top:0px}.qti-item #modalFeedbacks .positive.qti-modalFeedback,.qti-item .qti-itemBody .positive.qti-modalFeedback{border-color:#269c5d}.qti-item #modalFeedbacks .negative.qti-modalFeedback,.qti-item .qti-itemBody .negative.qti-modalFeedback{border-color:#c12a40}.qti-item{/*! Light tooltip style *//*! Dark tooltip style *//*! Cream tooltip style *//*! Red tooltip style *//*! Orange tooltip style *//*! Green tooltip style *//*! Danger (mix of read and orange) tooltip style *//*! Blue tooltip style */overflow-x:visible !important;padding:15px;background:#fff;margin:auto;max-width:1024px}.qti-item [class^="icon-"],.qti-item [class*=" icon-"]{font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.qti-item .icon-tab:before{content:"\\e90d"}.qti-item .icon-untab:before{content:"\\e90e"}.qti-item .icon-multi-select:before{content:"\\e90b"}.qti-item .icon-clipboard:before{content:"\\e90a"}.qti-item .icon-filebox:before{content:"\\e909"}.qti-item .icon-click-to-speak:before{content:"\\e907"}.qti-item .icon-speech-bubble:before{content:"\\f0e5"}.qti-item .icon-microphone:before{content:"\\f130"}.qti-item .icon-microphone-off:before{content:"\\f131"}.qti-item .icon-disconnect:before{content:"\\e905"}.qti-item .icon-connect:before{content:"\\e906"}.qti-item .icon-eliminate:before{content:"\\e904"}.qti-item .icon-wheelchair:before{content:"\\e903"}.qti-item .icon-text-marker:before{content:"\\e902"}.qti-item .icon-unshield:before{content:"\\e32a"}.qti-item .icon-shield:before{content:"\\e8e8"}.qti-item .icon-tree:before{content:"\\e6b4"}.qti-item .icon-home:before{content:"\\e6b3"}.qti-item .icon-shared-file:before{content:"\\e6b2"}.qti-item .icon-end-attempt:before{content:"\\e603"}.qti-item .icon-icon:before{content:"\\f1c5"}.qti-item .icon-radio-bg:before{content:"\\e600"}.qti-item .icon-checkbox-bg:before{content:"\\e601"}.qti-item .icon-tag:before{content:"\\e602"}.qti-item .icon-style:before{content:"\\e604"}.qti-item .icon-ownership-transfer:before{content:"\\e605"}.qti-item .icon-property-advanced:before{content:"\\e606"}.qti-item .icon-property-add:before{content:"\\e607"}.qti-item .icon-repository-add:before{content:"\\e608"}.qti-item .icon-repository-remove:before{content:"\\e609"}.qti-item .icon-repository:before{content:"\\e60a"}.qti-item .icon-result-server:before{content:"\\e60b"}.qti-item .icon-folder:before{content:"\\e60c"}.qti-item .icon-folder-open:before{content:"\\e60d"}.qti-item .icon-left:before{content:"\\e60e"}.qti-item .icon-right:before{content:"\\e60f"}.qti-item .icon-up:before{content:"\\e610"}.qti-item .icon-down:before{content:"\\e611"}.qti-item .icon-undo:before{content:"\\e612"}.qti-item .icon-redo:before{content:"\\e613"}.qti-item .icon-screen:before{content:"\\e614"}.qti-item .icon-laptop:before{content:"\\e615"}.qti-item .icon-tablet:before{content:"\\e616"}.qti-item .icon-phone:before{content:"\\e617"}.qti-item .icon-move:before{content:"\\e618"}.qti-item .icon-bin:before{content:"\\e619"}.qti-item .icon-shuffle:before{content:"\\e61a"}.qti-item .icon-print:before{content:"\\e61b"}.qti-item .icon-tools:before{content:"\\e61c"}.qti-item .icon-settings:before{content:"\\e61d"}.qti-item .icon-video:before{content:"\\e61e"}.qti-item .icon-find:before{content:"\\e61f"}.qti-item .icon-image:before{content:"\\e620"}.qti-item .icon-edit:before{content:"\\e621"}.qti-item .icon-document:before{content:"\\e622"}.qti-item .icon-resize-grid:before{content:"\\e623"}.qti-item .icon-resize:before{content:"\\e624"}.qti-item .icon-help:before{content:"\\e625"}.qti-item .icon-mobile-menu:before{content:"\\e626"}.qti-item .icon-fix:before{content:"\\e627"}.qti-item .icon-unlock:before{content:"\\e628"}.qti-item .icon-lock:before{content:"\\e629"}.qti-item .icon-ul:before{content:"\\e62a"}.qti-item .icon-ol:before{content:"\\e62b"}.qti-item .icon-email:before{content:"\\e62c"}.qti-item .icon-download:before{content:"\\e62d"}.qti-item .icon-logout:before{content:"\\e62e"}.qti-item .icon-login:before{content:"\\e62f"}.qti-item .icon-spinner:before{content:"\\e630"}.qti-item .icon-preview:before{content:"\\e631"}.qti-item .icon-external:before{content:"\\e632"}.qti-item .icon-time:before{content:"\\e633"}.qti-item .icon-save:before{content:"\\e634"}.qti-item .icon-warning:before{content:"\\e635"}.qti-item .icon-add:before{content:"\\e636"}.qti-item .icon-error:before{content:"\\e900"}.qti-item .icon-close:before{content:"\\e637"}.qti-item .icon-success:before{content:"\\e638"}.qti-item .icon-remove:before{content:"\\e639"}.qti-item .icon-info:before{content:"\\e63a"}.qti-item .icon-danger:before{content:"\\e63b"}.qti-item .icon-users:before{content:"\\e63c"}.qti-item .icon-user:before{content:"\\e63d"}.qti-item .icon-test-taker:before{content:"\\e63e"}.qti-item .icon-test-takers:before{content:"\\e63f"}.qti-item .icon-item:before{content:"\\e640"}.qti-item .icon-test:before{content:"\\e641"}.qti-item .icon-delivery:before{content:"\\e642"}.qti-item .icon-eye-slash:before{content:"\\e643"}.qti-item .icon-result:before{content:"\\e644"}.qti-item .icon-delivery-small:before{content:"\\e645"}.qti-item .icon-upload:before{content:"\\e646"}.qti-item .icon-result-small:before{content:"\\e647"}.qti-item .icon-mobile-preview:before{content:"\\e648"}.qti-item .icon-extension:before{content:"\\e649"}.qti-item .icon-desktop-preview:before{content:"\\e64a"}.qti-item .icon-tablet-preview:before{content:"\\e64b"}.qti-item .icon-insert-horizontal-line:before{content:"\\e64c"}.qti-item .icon-table:before{content:"\\e64d"}.qti-item .icon-anchor:before{content:"\\e64e"}.qti-item .icon-unlink:before{content:"\\e64f"}.qti-item .icon-link:before{content:"\\e650"}.qti-item .icon-right-left:before{content:"\\e651"}.qti-item .icon-left-right:before{content:"\\e652"}.qti-item .icon-special-character:before{content:"\\e653"}.qti-item .icon-source:before{content:"\\e654"}.qti-item .icon-new-page:before{content:"\\e655"}.qti-item .icon-templates:before{content:"\\e656"}.qti-item .icon-cut:before{content:"\\e657"}.qti-item .icon-replace:before{content:"\\e658"}.qti-item .icon-copy:before{content:"\\e659"}.qti-item .icon-paste:before{content:"\\e65a"}.qti-item .icon-select-all:before{content:"\\e65b"}.qti-item .icon-paste-text:before{content:"\\e65c"}.qti-item .icon-paste-word:before{content:"\\e65d"}.qti-item .icon-bold:before{content:"\\e65e"}.qti-item .icon-italic:before{content:"\\e65f"}.qti-item .icon-underline:before{content:"\\e660"}.qti-item .icon-subscript:before{content:"\\e661"}.qti-item .icon-superscript:before{content:"\\e662"}.qti-item .icon-strike-through:before{content:"\\e663"}.qti-item .icon-decrease-indent:before{content:"\\e664"}.qti-item .icon-increase-indent:before{content:"\\e665"}.qti-item .icon-block-quote:before{content:"\\e666"}.qti-item .icon-div-container:before{content:"\\e667"}.qti-item .icon-align-left:before{content:"\\e668"}.qti-item .icon-center:before{content:"\\e669"}.qti-item .icon-align-right:before{content:"\\e66a"}.qti-item .icon-justify:before{content:"\\e66b"}.qti-item .icon-choice:before{content:"\\e66c"}.qti-item .icon-inline-choice:before{content:"\\e66d"}.qti-item .icon-match:before{content:"\\e66e"}.qti-item .icon-associate:before{content:"\\e66f"}.qti-item .icon-media:before{content:"\\e670"}.qti-item .icon-graphic-order:before{content:"\\e671"}.qti-item .icon-hotspot:before{content:"\\e672"}.qti-item .icon-graphic-gap:before{content:"\\e673"}.qti-item .icon-graphic-associate:before{content:"\\e674"}.qti-item .icon-select-point:before{content:"\\e675"}.qti-item .icon-pin:before{content:"\\e676"}.qti-item .icon-import:before{content:"\\e677"}.qti-item .icon-export:before{content:"\\e678"}.qti-item .icon-move-item:before{content:"\\e679"}.qti-item .icon-meta-data:before{content:"\\e67a"}.qti-item .icon-slider:before{content:"\\e67b"}.qti-item .icon-summary-report:before{content:"\\e67c"}.qti-item .icon-text-entry:before{content:"\\e67d"}.qti-item .icon-extended-text:before{content:"\\e67e"}.qti-item .icon-eraser:before{content:"\\e67f"}.qti-item .icon-row:before{content:"\\e680"}.qti-item .icon-column:before{content:"\\e681"}.qti-item .icon-text-color:before{content:"\\e682"}.qti-item .icon-background-color:before{content:"\\e683"}.qti-item .icon-spell-check:before{content:"\\e684"}.qti-item .icon-polygon:before{content:"\\e685"}.qti-item .icon-rectangle:before{content:"\\e686"}.qti-item .icon-gap-match:before{content:"\\e687"}.qti-item .icon-order:before{content:"\\e688"}.qti-item .icon-hottext:before{content:"\\e689"}.qti-item .icon-free-form:before{content:"\\e68a"}.qti-item .icon-step-backward:before{content:"\\e68b"}.qti-item .icon-fast-backward:before{content:"\\e68c"}.qti-item .icon-backward:before{content:"\\e68d"}.qti-item .icon-play:before{content:"\\e68e"}.qti-item .icon-pause:before{content:"\\e68f"}.qti-item .icon-stop:before{content:"\\e690"}.qti-item .icon-forward:before{content:"\\e691"}.qti-item .icon-fast-forward:before{content:"\\e692"}.qti-item .icon-step-forward:before{content:"\\e693"}.qti-item .icon-ellipsis:before{content:"\\e694"}.qti-item .icon-circle:before{content:"\\e695"}.qti-item .icon-target:before{content:"\\e696"}.qti-item .icon-guide-arrow:before{content:"\\e697"}.qti-item .icon-range-slider-right:before{content:"\\e698"}.qti-item .icon-range-slider-left:before{content:"\\e699"}.qti-item .icon-radio-checked:before,.qti-item label input[type="radio"]:checked ~ .icon-radio:before,.qti-item label input[type="checkbox"]:checked ~ .icon-radio:before{content:"\\e69a"}.qti-item .icon-checkbox-indeterminate:before,.qti-item label input[type="radio"]:indeterminate ~ .icon-checkbox:before,.qti-item label input[type="checkbox"]:indeterminate ~ .icon-checkbox:before{content:"\\e901"}.qti-item .icon-checkbox:before{content:"\\e69b"}.qti-item .icon-checkbox-crossed:before,.qti-item label input[type="radio"]:checked ~ .icon-checkbox.cross:before,.qti-item label input[type="checkbox"]:checked ~ .icon-checkbox.cross:before{content:"\\e69c"}.qti-item .icon-checkbox-checked:before,.qti-item label input[type="radio"]:checked ~ .icon-checkbox:before,.qti-item label input[type="checkbox"]:checked ~ .icon-checkbox:before{content:"\\e69d"}.qti-item .icon-result-nok:before{content:"\\e69e"}.qti-item .icon-result-ok:before{content:"\\e69f"}.qti-item .icon-not-evaluated:before{content:"\\e6a0"}.qti-item .icon-filter:before{content:"\\e6a1"}.qti-item .icon-translate:before{content:"\\e6a2"}.qti-item .icon-eject:before{content:"\\e6a3"}.qti-item .icon-continue:before{content:"\\e6a4"}.qti-item .icon-radio:before{content:"\\e6a5"}.qti-item .icon-sphere:before{content:"\\e6a6"}.qti-item .icon-reset:before{content:"\\e6a7"}.qti-item .icon-smaller:before{content:"\\e6a8"}.qti-item .icon-larger:before{content:"\\e6a9"}.qti-item .icon-clock:before{content:"\\e6aa"}.qti-item .icon-font:before{content:"\\e6ab"}.qti-item .icon-maths:before{content:"\\e6ac"}.qti-item .icon-grip:before{content:"\\e6ad"}.qti-item .icon-rubric:before{content:"\\e6ae"}.qti-item .icon-audio:before{content:"\\e6af"}.qti-item .icon-grip-h:before{content:"\\e6b0"}.qti-item .icon-magicwand:before{content:"\\e6b1"}.qti-item .icon-loop:before{content:"\\ea2e"}.qti-item .icon-calendar:before{content:"\\e953"}.qti-item .icon-reload:before{content:"\\e984"}.qti-item .icon-speed:before{content:"\\e9a6"}.qti-item .icon-volume:before{content:"\\ea27"}.qti-item .icon-contrast:before{content:"\\e9d5"}.qti-item .icon-headphones:before{content:"\\e910"}.qti-item .icon-compress:before{content:"\\f066"}.qti-item .icon-map-o:before{content:"\\f278"}.qti-item .icon-variable:before{content:"\\e908"}.qti-item .icon-tooltip:before{content:"\\e90c"}.qti-item [class^="feedback-"],.qti-item [class*=" feedback-"]{border:1px transparent solid;position:relative;padding:20px 20px 20px 45px;margin:5px 0 10px 0;border-radius:3px;color:#222 !important}.qti-item [class^="feedback-"].small,.qti-item [class*=" feedback-"].small{padding:8px 20px 8px 45px}.qti-item [class^="feedback-"].small>[class^="icon-"],.qti-item [class^="feedback-"].small>[class*=" icon-"],.qti-item [class*=" feedback-"].small>[class^="icon-"],.qti-item [class*=" feedback-"].small>[class*=" icon-"]{top:9px;left:10px}.qti-item [class^="feedback-"]>[class^="icon-"],.qti-item [class^="feedback-"]>[class*=" icon-"],.qti-item [class*=" feedback-"]>[class^="icon-"],.qti-item [class*=" feedback-"]>[class*=" icon-"]{font-size:20px;font-size:2rem;position:absolute;top:20px;left:15px}.qti-item [class^="feedback-"]>[class^="icon-"].icon-close,.qti-item [class^="feedback-"]>[class^="icon-"].icon-remove,.qti-item [class^="feedback-"]>[class*=" icon-"].icon-close,.qti-item [class^="feedback-"]>[class*=" icon-"].icon-remove,.qti-item [class*=" feedback-"]>[class^="icon-"].icon-close,.qti-item [class*=" feedback-"]>[class^="icon-"].icon-remove,.qti-item [class*=" feedback-"]>[class*=" icon-"].icon-close,.qti-item [class*=" feedback-"]>[class*=" icon-"].icon-remove{font-size:15px;font-size:1.5rem;color:#999;left:auto;top:5px;cursor:pointer}.qti-item [class^="feedback-"]>[class^="icon-"].icon-close:hover,.qti-item [class^="feedback-"]>[class^="icon-"].icon-remove:hover,.qti-item [class^="feedback-"]>[class*=" icon-"].icon-close:hover,.qti-item [class^="feedback-"]>[class*=" icon-"].icon-remove:hover,.qti-item [class*=" feedback-"]>[class^="icon-"].icon-close:hover,.qti-item [class*=" feedback-"]>[class^="icon-"].icon-remove:hover,.qti-item [class*=" feedback-"]>[class*=" icon-"].icon-close:hover,.qti-item [class*=" feedback-"]>[class*=" icon-"].icon-remove:hover{color:#222}.qti-item [class^="feedback-"]>[class^="icon-"].icon-remove,.qti-item [class^="feedback-"]>[class*=" icon-"].icon-remove,.qti-item [class*=" feedback-"]>[class^="icon-"].icon-remove,.qti-item [class*=" feedback-"]>[class*=" icon-"].icon-remove{right:24px}.qti-item [class^="feedback-"]>[class^="icon-"].icon-close,.qti-item [class^="feedback-"]>[class*=" icon-"].icon-close,.qti-item [class*=" feedback-"]>[class^="icon-"].icon-close,.qti-item [class*=" feedback-"]>[class*=" icon-"].icon-close{right:7px}.qti-item [class^="feedback-"].popup,.qti-item [class*=" feedback-"].popup{display:block;position:fixed;top:50px;left:50%;margin-left:-200px;width:400px;z-index:999999}.qti-item .feedback-success,.qti-item .qtip.qtip-green{border-color:#269c5d;background-color:#cfe9db}.qti-item .feedback-success .icon-success,.qti-item .qtip.qtip-green .icon-success{color:#0e914b !important}.qti-item .feedback-info,.qti-item .qtip.qtip-blue{border-color:#266d9c;background-color:#cfdfe9}.qti-item .feedback-info .icon-info,.qti-item .qtip.qtip-blue .icon-info,.qti-item .feedback-info .icon-lock,.qti-item .qtip.qtip-blue .icon-lock{color:#0e5d91 !important}.qti-item .feedback-info .button-container,.qti-item .qtip.qtip-blue .button-container{margin-top:20px}.qti-item .feedback-warning,.qti-item .qtip.qtip-orange{border-color:#dcb66b;background-color:#f7efde}.qti-item .feedback-warning .icon-warning,.qti-item .qtip.qtip-orange .icon-warning{color:#d8ae5b !important}.qti-item .feedback-danger,.qti-item .qtip.qtip-danger{border-color:#ce7056;background-color:#f4dfd9}.qti-item .feedback-danger .icon-danger,.qti-item .qtip.qtip-danger .icon-danger{color:#c96043 !important}.qti-item .feedback-error,.qti-item .qtip.qtip-red{border-color:#c12a40;background-color:#f1d0d5}.qti-item .feedback-error .icon-error,.qti-item .qtip.qtip-red .icon-error{color:#ba122b !important}.qti-item .brd-success{border:1px solid #269c5d !important}.qti-item .brd-info{border:1px solid #266d9c !important}.qti-item .brd-warning{border:1px solid #dcb66b !important}.qti-item .brd-danger{border:1px solid #ce7056 !important}.qti-item .brd-error{border:1px solid #c12a40 !important}.qti-item .txt-success{color:#0e914b !important}.qti-item .txt-info{color:#0e5d91 !important}.qti-item .txt-warning{color:#d8ae5b !important}.qti-item .txt-danger{color:#c96043 !important}.qti-item .txt-error{color:#ba122b !important}.qti-item .bg-success{background-color:#cfe9db}.qti-item .bg-info{background-color:#cfdfe9}.qti-item .bg-warning{background-color:#f7efde}.qti-item .bg-danger{background-color:#f4dfd9}.qti-item .bg-error{background-color:#f1d0d5}.qti-item [class*=" col-"],.qti-item [class^="col-"]{float:left;min-height:1rem}.qti-item [class*=" col-"]:first-child,.qti-item [class^="col-"]:first-child{margin-left:0}.qti-item [class*=" col-"].grid-container,.qti-item [class^="col-"].grid-container{margin-bottom:0}.qti-item .col-12{float:none}.qti-item .grid-container{overflow-x:hidden}.qti-item .grid-row,.qti-item .fixed-grid-row{width:101.428571429%}.qti-item .col-1{margin-left:1.4285714286%;width:6.9047619048%;margin-bottom:12px}.qti-item .alpha{margin-left:0 !important}.qti-item .col-2{margin-left:1.4285714286%;width:15.2380952381%;margin-bottom:12px}.qti-item .alpha{margin-left:0 !important}.qti-item .col-3{margin-left:1.4285714286%;width:23.5714285714%;margin-bottom:12px}.qti-item .alpha{margin-left:0 !important}.qti-item .col-4{margin-left:1.4285714286%;width:31.9047619048%;margin-bottom:12px}.qti-item .alpha{margin-left:0 !important}.qti-item .col-5{margin-left:1.4285714286%;width:40.2380952381%;margin-bottom:12px}.qti-item .alpha{margin-left:0 !important}.qti-item .col-6{margin-left:1.4285714286%;width:48.5714285714%;margin-bottom:12px}.qti-item .alpha{margin-left:0 !important}.qti-item .col-7{margin-left:1.4285714286%;width:56.9047619048%;margin-bottom:12px}.qti-item .alpha{margin-left:0 !important}.qti-item .col-8{margin-left:1.4285714286%;width:65.2380952381%;margin-bottom:12px}.qti-item .alpha{margin-left:0 !important}.qti-item .col-9{margin-left:1.4285714286%;width:73.5714285714%;margin-bottom:12px}.qti-item .alpha{margin-left:0 !important}.qti-item .col-10{margin-left:1.4285714286%;width:81.9047619048%;margin-bottom:12px}.qti-item .alpha{margin-left:0 !important}.qti-item .col-11{margin-left:1.4285714286%;width:90.2380952381%;margin-bottom:12px}.qti-item .alpha{margin-left:0 !important}.qti-item .col-12{margin-left:1.4285714286%;width:98.5714285714%;margin-bottom:12px}.qti-item .alpha{margin-left:0 !important}.qti-item #icon-editor .grid-row{width:100%}.qti-item #icon-editor .col-1{margin-left:0%;width:8.3333333333%;margin-top:0 !important;margin-bottom:0 !important}.qti-item #icon-editor .col-2{margin-left:0%;width:16.6666666667%;margin-top:0 !important;margin-bottom:0 !important}.qti-item #icon-editor .col-3{margin-left:0%;width:25%;margin-top:0 !important;margin-bottom:0 !important}.qti-item #icon-editor .col-4{margin-left:0%;width:33.3333333333%;margin-top:0 !important;margin-bottom:0 !important}.qti-item #icon-editor .col-5{margin-left:0%;width:41.6666666667%;margin-top:0 !important;margin-bottom:0 !important}.qti-item #icon-editor .col-6{margin-left:0%;width:50%;margin-top:0 !important;margin-bottom:0 !important}.qti-item #icon-editor .col-7{margin-left:0%;width:58.3333333333%;margin-top:0 !important;margin-bottom:0 !important}.qti-item #icon-editor .col-8{margin-left:0%;width:66.6666666667%;margin-top:0 !important;margin-bottom:0 !important}.qti-item #icon-editor .col-9{margin-left:0%;width:75%;margin-top:0 !important;margin-bottom:0 !important}.qti-item #icon-editor .col-10{margin-left:0%;width:83.3333333333%;margin-top:0 !important;margin-bottom:0 !important}.qti-item #icon-editor .col-11{margin-left:0%;width:91.6666666667%;margin-top:0 !important;margin-bottom:0 !important}.qti-item #icon-editor .col-12{margin-left:0%;width:100%;margin-top:0 !important;margin-bottom:0 !important}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .tooltip-content{display:none}.qti-item .qtip .tooltip-content{display:block}.qti-item .qtip{position:absolute;left:-28000px;top:-28000px;display:none;max-width:280px;min-width:30px;font-size:12px;line-height:14px;direction:ltr;box-shadow:none;padding:0}.qti-item .qtip-content{position:relative;padding:5px 9px;overflow:hidden;text-align:left;word-wrap:break-word}.qti-item .qtip-titlebar{position:relative;padding:5px 35px 5px 10px;overflow:hidden;border-width:0 0 1px;font-weight:bold}.qti-item .qtip-titlebar+.qtip-content{border-top-width:0 !important}.qti-item .qtip-close{position:absolute;right:-9px;top:-9px;z-index:11;cursor:pointer;outline:medium none;border:1px solid transparent}.qti-item .qtip-titlebar .qtip-close{right:4px;top:50%;margin-top:-9px}.qti-item * html .qtip-titlebar .qtip-close{top:16px}.qti-item .qtip-titlebar .ui-icon,.qti-item .qtip-icon .ui-icon{display:block;text-indent:-1000em;direction:ltr}.qti-item .qtip-icon,.qti-item .qtip-icon .ui-icon{-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;text-decoration:none}.qti-item .qtip-icon .ui-icon{width:18px;height:14px;line-height:14px;text-align:center;text-indent:0;font:normal bold 10px/13px Tahoma,sans-serif;color:inherit;background:transparent none no-repeat -100em -100em}.qti-item .qtip-default{border:1px solid #F1D031;background-color:#FFFFA3;color:#222}.qti-item .qtip-default .qtip-titlebar{background-color:#FFEF93}.qti-item .qtip-default .qtip-icon{border-color:#CCC;background:#F1F1F1;color:#777}.qti-item .qtip-default .qtip-titlebar .qtip-close{border-color:#AAA;color:#111}.qti-item .qtip-light{background-color:white;border-color:#E2E2E2;color:#222}.qti-item .qtip-light .qtip-titlebar{background-color:#222}.qti-item .qtip-dark{background-color:#505050;border-color:#303030;color:#fff}.qti-item .qtip-dark .qtip-titlebar{background-color:#404040}.qti-item .qtip-dark .qtip-icon{border-color:#444}.qti-item .qtip-dark .qtip-titlebar .ui-state-hover{border-color:#303030}.qti-item .qtip-cream{background-color:#FBF7AA;border-color:#F9E98E;color:#222}.qti-item .qtip-cream .qtip-titlebar{background-color:#F0DE7D}.qti-item .qtip-cream .qtip-close .qtip-icon{background-position:-82px 0}.qti-item .qtip.qtip-red{color:#222}.qti-item .qtip-red .qtip-titlebar{background-color:#F06D65}.qti-item .qtip-red .qtip-close .qtip-icon{background-position:-102px 0}.qti-item .qtip-red .qtip-icon{border-color:#222}.qti-item .qtip-red .qtip-titlebar .ui-state-hover{border-color:#222}.qti-item .qtip.qtip-orange{color:#222}.qti-item .qtip-orange .qtip-close .qtip-icon{background-position:-102px 0}.qti-item .qtip-orange .qtip-icon{border-color:#222}.qti-item .qtip-orange .qtip-titlebar .ui-state-hover{border-color:#222}.qti-item .qtip.qtip-green{color:#222}.qti-item .qtip-green .qtip-titlebar{background-color:#B0DE78}.qti-item .qtip-green .qtip-close .qtip-icon{background-position:-42px 0}.qti-item .qtip.qtip-danger{color:#222}.qti-item .danger .qtip-titlebar{background-color:#B0DE78}.qti-item .danger .qtip-close .qtip-icon{background-position:-42px 0}.qti-item .qtip.qtip-blue{color:#222}.qti-item .qtip-blue .qtip-titlebar{background-color:#D0E9F5}.qti-item .qtip-blue .qtip-close .qtip-icon{background-position:-2px 0}.qti-item .qtip-shadow{-webkit-box-shadow:1px 1px 3px 1px rgba(0,0,0,0.15);-moz-box-shadow:1px 1px 3px 1px rgba(0,0,0,0.15);box-shadow:1px 1px 3px 1px rgba(0,0,0,0.15)}.qti-item .qtip-rounded,.qti-item .qtip-tipsy,.qti-item .qtip-bootstrap{-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px}.qti-item .qtip-rounded .qtip-titlebar{-moz-border-radius:4px 4px 0 0;-webkit-border-radius:4px 4px 0 0;border-radius:4px 4px 0 0}.qti-item .qtip-youtube{-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 0 3px #333;-moz-box-shadow:0 0 3px #333;box-shadow:0 0 3px #333;color:white;border:0 solid transparent;background:#4A4A4A;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0, #4A4A4A), color-stop(100%, black));background-image:-webkit-linear-gradient(top, #4A4A4A 0, black 100%);background-image:-moz-linear-gradient(top, #4A4A4A 0, black 100%);background-image:-ms-linear-gradient(top, #4A4A4A 0, black 100%);background-image:-o-linear-gradient(top, #4A4A4A 0, black 100%)}.qti-item .qtip-youtube .qtip-titlebar{background-color:#4A4A4A;background-color:rgba(0,0,0,0)}.qti-item .qtip-youtube .qtip-content{padding:.75em;font:12px arial,sans-serif;filter:progid:DXImageTransform.Microsoft.Gradient(GradientType=0,StartColorStr=#4a4a4a,EndColorStr=#000000);-ms-filter:"progid:DXImageTransform.Microsoft.Gradient(GradientType=0,StartColorStr=#4a4a4a,EndColorStr=#000000);"}.qti-item .qtip-youtube .qtip-icon{border-color:#222}.qti-item .qtip-youtube .qtip-titlebar .ui-state-hover{border-color:#303030}.qti-item .qtip-jtools{background:#232323;background:rgba(0,0,0,0.7);background-image:-webkit-gradient(linear, left top, left bottom, from(#717171), to(#232323));background-image:-moz-linear-gradient(top, #717171, #232323);background-image:-webkit-linear-gradient(top, #717171, #232323);background-image:-ms-linear-gradient(top, #717171, #232323);background-image:-o-linear-gradient(top, #717171, #232323);border:2px solid #ddd;border:2px solid #f1f1f1;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 0 12px #333;-moz-box-shadow:0 0 12px #333;box-shadow:0 0 12px #333}.qti-item .qtip-jtools .qtip-titlebar{background-color:transparent;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#717171,endColorstr=#4A4A4A);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#717171,endColorstr=#4A4A4A)"}.qti-item .qtip-jtools .qtip-content{filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#4A4A4A,endColorstr=#232323);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#4A4A4A,endColorstr=#232323)"}.qti-item .qtip-jtools .qtip-titlebar,.qti-item .qtip-jtools .qtip-content{background:transparent;color:white;border:0 dashed transparent}.qti-item .qtip-jtools .qtip-icon{border-color:#555}.qti-item .qtip-jtools .qtip-titlebar .ui-state-hover{border-color:#333}.qti-item .qtip-cluetip{-webkit-box-shadow:4px 4px 5px rgba(0,0,0,0.4);-moz-box-shadow:4px 4px 5px rgba(0,0,0,0.4);box-shadow:4px 4px 5px rgba(0,0,0,0.4);background-color:#D9D9C2;color:#111;border:0 dashed transparent}.qti-item .qtip-cluetip .qtip-titlebar{background-color:#87876A;color:white;border:0 dashed transparent}.qti-item .qtip-cluetip .qtip-icon{border-color:#808064}.qti-item .qtip-cluetip .qtip-titlebar .ui-state-hover{border-color:#696952;color:#696952}.qti-item .qtip-tipsy{background:black;background:rgba(0,0,0,0.87);color:white;border:0 solid transparent;font-size:11px;font-family:\'Lucida Grande\', sans-serif;font-weight:bold;line-height:16px;text-shadow:0 1px black}.qti-item .qtip-tipsy .qtip-titlebar{padding:6px 35px 0 10px;background-color:transparent}.qti-item .qtip-tipsy .qtip-content{padding:6px 10px}.qti-item .qtip-tipsy .qtip-icon{border-color:#222;text-shadow:none}.qti-item .qtip-tipsy .qtip-titlebar .ui-state-hover{border-color:#303030}.qti-item .qtip-tipped{border:3px solid #959FA9;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;background-color:#F9F9F9;color:#454545;font-weight:normal;font-family:serif}.qti-item .qtip-tipped .qtip-titlebar{border-bottom-width:0;color:white;background:#3A79B8;background-image:-webkit-gradient(linear, left top, left bottom, from(#3A79B8), to(#2E629D));background-image:-webkit-linear-gradient(top, #3A79B8, #2E629D);background-image:-moz-linear-gradient(top, #3A79B8, #2E629D);background-image:-ms-linear-gradient(top, #3A79B8, #2E629D);background-image:-o-linear-gradient(top, #3A79B8, #2E629D);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#3A79B8,endColorstr=#2E629D);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#3A79B8,endColorstr=#2E629D)"}.qti-item .qtip-tipped .qtip-icon{border:2px solid #285589;background:#285589}.qti-item .qtip-tipped .qtip-icon .ui-icon{background-color:#FBFBFB;color:#555}.qti-item .qtip-bootstrap{font-size:14px;line-height:20px;color:#333333;padding:1px;background-color:#ffffff;border:1px solid #ccc;border:1px solid rgba(0,0,0,0.2);-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,0.2);-moz-box-shadow:0 5px 10px rgba(0,0,0,0.2);box-shadow:0 5px 10px rgba(0,0,0,0.2);-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box}.qti-item .qtip-bootstrap .qtip-titlebar{padding:8px 14px;margin:0;font-size:14px;font-weight:normal;line-height:18px;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;-webkit-border-radius:5px 5px 0 0;-moz-border-radius:5px 5px 0 0;border-radius:5px 5px 0 0}.qti-item .qtip-bootstrap .qtip-titlebar .qtip-close{right:11px;top:45%;border-style:none}.qti-item .qtip-bootstrap .qtip-content{padding:9px 14px}.qti-item .qtip-bootstrap .qtip-icon{background:transparent}.qti-item .qtip-bootstrap .qtip-icon .ui-icon{width:auto;height:auto;float:right;font-size:20px;font-weight:bold;line-height:18px;color:#000000;text-shadow:0 1px 0 #ffffff;opacity:0.2;filter:alpha(opacity=20)}.qti-item .qtip-bootstrap .qtip-icon .ui-icon:hover{color:#000000;text-decoration:none;cursor:pointer;opacity:0.4;filter:alpha(opacity=40)}.qti-item .qtip:not(.ie9haxors) div.qtip-content,.qti-item .qtip:not(.ie9haxors) div.qtip-titlebar{filter:none;-ms-filter:none}.qti-item .qtip .qtip-tip{margin:0 auto;overflow:hidden;z-index:10}.qti-item x:-o-prefocus,.qti-item .qtip .qtip-tip{visibility:hidden}.qti-item .qtip .qtip-tip,.qti-item .qtip .qtip-tip .qtip-vml,.qti-item .qtip .qtip-tip canvas{position:absolute;color:#123456;background:transparent;border:0 dashed transparent}.qti-item .qtip .qtip-tip canvas{top:0;left:0}.qti-item .qtip .qtip-tip .qtip-vml{behavior:url(#default#VML);display:inline-block;visibility:visible}.qti-item #qtip-overlay{position:fixed;left:0;top:0;width:100%;height:100%}.qti-item #qtip-overlay.blurs{cursor:pointer}.qti-item #qtip-overlay div{position:absolute;left:0;top:0;width:100%;height:100%;background-color:black;opacity:0.7;filter:alpha(opacity=70);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)"}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .resourcemgr{position:relative;width:90%;height:100%;max-width:1400px}#mediaManager .qti-item .resourcemgr.modal{max-height:700px;top:40px !important;bottom:40px;padding:0}.qti-item .resourcemgr>h2{font-size:15px;font-size:1.5rem;margin:20px 40px 10px;height:40px}.qti-item .resourcemgr .file-wrapper{overflow-y:auto;margin:0 40px;height:calc(100% - 40px - 30px - 40px);display:box;display:-ms-flexbox;display:-webkit-flexbox;display:flexbox;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;flex-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;flex-line-pack:start;-ms-flex-line-pack:start;-webkit-align-content:flex-start;align-content:flex-start;flex-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch}.qti-item .resourcemgr .file-browser{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 260px;-webkit-flex:0 0 260px;flex:0 0 260px}.qti-item .resourcemgr .file-preview{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 300px;-webkit-flex:0 0 300px;flex:0 0 300px}.qti-item .resourcemgr .file-selector{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:1 1 auto;-webkit-flex:1 1 auto;flex:1 1 auto;-ms-flex:1 1;-webkit-flex:1 1;flex:1 1;max-width:calc(100% - 560px)}.qti-item .resourcemgr .file-browser,.qti-item .resourcemgr .file-selector,.qti-item .resourcemgr .file-preview{position:relative;vertical-align:top;height:100% !important;color:#222}.qti-item .resourcemgr .file-browser h1,.qti-item .resourcemgr .file-selector h1,.qti-item .resourcemgr .file-preview h1{font-size:16px;font-size:1.6rem;line-height:1.6;color:#222;margin-top:1px;padding:5px;height:38px}.qti-item .resourcemgr .file-browser h2,.qti-item .resourcemgr .file-selector h2,.qti-item .resourcemgr .file-preview h2{font-size:13px;font-size:1.3rem;line-height:1.3;background-color:#D4D5D7;color:#222;margin-top:1px;padding:6px;position:relative;clear:both}.qti-item .resourcemgr .file-browser h2.toggler,.qti-item .resourcemgr .file-selector h2.toggler,.qti-item .resourcemgr .file-preview h2.toggler{cursor:pointer}.qti-item .resourcemgr .file-browser h2.toggler:after,.qti-item .resourcemgr .file-selector h2.toggler:after,.qti-item .resourcemgr .file-preview h2.toggler:after{position:absolute;right:15px;top:3px}.qti-item .resourcemgr .file-browser{background-color:#f3f1ef}.qti-item .resourcemgr .file-browser>h1{background-color:#D4D5D7}.qti-item .resourcemgr .file-browser .file-browser-wrapper{overflow:auto;height:calc(100% - 50px)}.qti-item .resourcemgr .file-browser ul{list-style-type:none;padding-left:5px}.qti-item .resourcemgr .file-browser ul ul{padding-left:18px}.qti-item .resourcemgr .file-browser ul li a{color:#222;white-space:nowrap}.qti-item .resourcemgr .file-browser ul li a:before{font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e60c";margin:0 3px}.qti-item .resourcemgr .file-browser ul li a.opened:before{font-style:italic;font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e60d"}.qti-item .resourcemgr .file-browser ul li.active>a{background-color:#ecf2f6}.qti-item .resourcemgr .file-preview{background-color:#f3f1ef}.qti-item .resourcemgr .file-preview>h1{background-color:#D4D5D7}.qti-item .resourcemgr .file-preview .file-properties{padding:0 5px}.qti-item .resourcemgr .file-preview .previewer{height:300px;overflow:hidden}.qti-item .resourcemgr .file-preview .actions{text-align:center;margin-bottom:10px}.qti-item .resourcemgr .file-selector{position:relative;border:solid 1px #fff;border-top:none;border-bottom:none;background-color:#fff}.qti-item .resourcemgr .file-selector>h1{position:relative;background-color:#f3f1ef}.qti-item .resourcemgr .file-selector>h1 .title{margin-right:10px}.qti-item .resourcemgr .file-selector>h1 .upload-switcher a{display:inline-block}.qti-item .resourcemgr .file-selector>h1 .upload-switcher .listing{display:none}.qti-item .resourcemgr .file-selector .empty{color:#666;font-style:italic;font-size:18px;font-size:1.8rem;text-align:center}.qti-item .resourcemgr .file-selector ul.files{position:relative;margin-bottom:0;padding:0;list-style-type:none;max-height:550px}.qti-item .resourcemgr .file-selector ul.files li{height:35px;line-height:35px;margin-bottom:0;padding:0 0 0 5px;position:relative}.qti-item .resourcemgr .file-selector ul.files li:before{font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e622";font-size:16px;font-size:1.6rem;vertical-align:top;line-height:2.2;position:absolute;left:8px}.qti-item .resourcemgr .file-selector ul.files li[data-type=\'image\']:before{content:"\\e620"}.qti-item .resourcemgr .file-selector ul.files li[data-type=\'audio\']:before{content:"\\e670"}.qti-item .resourcemgr .file-selector ul.files li[data-type=\'video\']:before{content:"\\e61e"}.qti-item .resourcemgr .file-selector ul.files li.active,.qti-item .resourcemgr .file-selector ul.files li:hover{background-color:#ecf2f6;cursor:pointer}.qti-item .resourcemgr .file-selector ul.files li .desc{display:inline-block;max-width:calc(100% - 130px);margin-left:25px}.qti-item .resourcemgr .file-selector ul.files li .actions{top:0;right:0;position:absolute;height:35px;width:100px}.qti-item .resourcemgr .file-selector ul.files li .actions .tlb{display:inline-block;background:none;font-size:14px;font-size:1.4rem}.qti-item .resourcemgr .file-selector ul.files li .actions .tlb .tlb-top{background:none !important;border-width:0 !important;-webkit-box-shadow:0 0 0 0 rgba(0,0,0,0.2);-moz-box-shadow:0 0 0 0 rgba(0,0,0,0.2);-ms-box-shadow:0 0 0 0 rgba(0,0,0,0.2);-o-box-shadow:0 0 0 0 rgba(0,0,0,0.2);box-shadow:0 0 0 0 rgba(0,0,0,0.2)}.qti-item .resourcemgr .file-selector .file-upload-container{display:none;padding:0 5px}.qti-item [class^="btn-"],.qti-item [class*=" btn-"],.qti-item .btn-default,.qti-item button,.qti-item input[type="submit"],.qti-item input[type="reset"]{-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;font-size:14px !important;font-size:1.4rem !important;color:#fff !important;cursor:pointer;text-decoration:none !important;vertical-align:middle;outline:0;overflow:visible;border:none;display:inline-block;line-height:2.5;padding:0 15px;background-color:#adb2b9;text-shadow:1px 1px 0 #83878e;font-weight:normal;font-style:normal;text-align:center;height:35px}.qti-item .small[class^="btn-"],.qti-item .small[class*=" btn-"],.qti-item .small.btn-default,.qti-item button.small,.qti-item input.small[type="submit"],.qti-item input.small[type="reset"]{line-height:1.8;height:25px}.qti-item .small[class^="btn-"] [class^="icon-"],.qti-item .small[class*=" btn-"] [class^="icon-"],.qti-item .small.btn-default [class^="icon-"],.qti-item button.small [class^="icon-"],.qti-item input.small[type="submit"] [class^="icon-"],.qti-item input.small[type="reset"] [class^="icon-"],.qti-item .small[class^="btn-"] [class*=" icon-"],.qti-item .small[class*=" btn-"] [class*=" icon-"],.qti-item .small.btn-default [class*=" icon-"],.qti-item button.small [class*=" icon-"],.qti-item input.small[type="submit"] [class*=" icon-"],.qti-item input.small[type="reset"] [class*=" icon-"]{font-size:13px;font-size:1.3rem}.qti-item [class^="btn-"] [class^="icon-"],.qti-item [class*=" btn-"] [class^="icon-"],.qti-item .btn-default [class^="icon-"],.qti-item button [class^="icon-"],.qti-item input[type="submit"] [class^="icon-"],.qti-item input[type="reset"] [class^="icon-"],.qti-item [class^="btn-"] [class*=" icon-"],.qti-item [class*=" btn-"] [class*=" icon-"],.qti-item .btn-default [class*=" icon-"],.qti-item button [class*=" icon-"],.qti-item input[type="submit"] [class*=" icon-"],.qti-item input[type="reset"] [class*=" icon-"]{font:tao !important;font-family:tao;font-size:14px;font-size:1.4rem;line-height:1;padding:0 9px 0 0;position:relative;top:1px;left:-1px;text-shadow:0 1px 0 rgba(0,0,0,0.1)}.qti-item [class^="btn-"] [class^="icon-"].r,.qti-item [class*=" btn-"] [class^="icon-"].r,.qti-item .btn-default [class^="icon-"].r,.qti-item button [class^="icon-"].r,.qti-item input[type="submit"] [class^="icon-"].r,.qti-item input[type="reset"] [class^="icon-"].r,.qti-item [class^="btn-"] [class*=" icon-"].r,.qti-item [class*=" btn-"] [class*=" icon-"].r,.qti-item .btn-default [class*=" icon-"].r,.qti-item button [class*=" icon-"].r,.qti-item input[type="submit"] [class*=" icon-"].r,.qti-item input[type="reset"] [class*=" icon-"].r{padding:0 0 0 9px}.qti-item :hover[class^="btn-"],.qti-item :hover[class*=" btn-"],.qti-item .btn-default:hover,.qti-item button:hover,.qti-item input:hover[type="submit"],.qti-item input:hover[type="reset"]{opacity:.85}.qti-item .btn-info[class^="btn-"],.qti-item .btn-info[class*=" btn-"],.qti-item .btn-info.btn-default,.qti-item button.btn-info,.qti-item input.btn-info[type="submit"],.qti-item input.btn-info[type="reset"]{background-color:#266d9c;text-shadow:1px 1px 0 #0b4a74}.qti-item .btn-error[class^="btn-"],.qti-item .btn-error[class*=" btn-"],.qti-item .btn-error.btn-default,.qti-item button.btn-error,.qti-item input.btn-error[type="submit"],.qti-item input.btn-error[type="reset"]{background-color:#c12a40;text-shadow:1px 1px 0 #950e22}.qti-item .btn-success[class^="btn-"],.qti-item .btn-success[class*=" btn-"],.qti-item .btn-success.btn-default,.qti-item button.btn-success,.qti-item input.btn-success[type="submit"],.qti-item input.btn-success[type="reset"]{background-color:#269c5d;text-shadow:1px 1px 0 #0b743c}.qti-item .btn-warning[class^="btn-"],.qti-item .btn-warning[class*=" btn-"],.qti-item .btn-warning.btn-default,.qti-item button.btn-warning,.qti-item input.btn-warning[type="submit"],.qti-item input.btn-warning[type="reset"]{background-color:#dcb66b;text-shadow:1px 1px 0 #ad8b49}.qti-item .disabled,.qti-item button[disabled]{background-color:#afb4bb !important;text-shadow:1px 1px 0 rgba(255,255,255,0.8) !important;cursor:not-allowed !important;opacity:.55 !important;color:#000 !important}.qti-item .ui-button [class^="icon-"],.qti-item .ui-button [class*=" icon-"]{font-family:tao !important}.qti-item .noUi-target,.qti-item .noUi-target *{-webkit-touch-callout:none;-webkit-user-select:none;-ms-touch-action:none;-ms-user-select:none;-moz-user-select:none;-moz-box-sizing:border-box;box-sizing:border-box}.qti-item .noUi-base{width:100%;height:100%;position:relative}.qti-item .noUi-origin{position:absolute;right:0;top:0;left:0;bottom:0}.qti-item .noUi-handle{position:relative;z-index:1}.qti-item .noUi-stacking .noUi-handle{z-index:10}.qti-item .noUi-stacking+.noUi-origin{*z-index:-1}.qti-item .noUi-state-drag *{cursor:inherit !important}.qti-item .noUi-horizontal{height:11px}.qti-item .noUi-horizontal .noUi-handle{width:10px;height:17px;left:-5px;top:-4px}.qti-item .noUi-horizontal .noUi-handle:after{border-top:3px solid #a4a9b1;border-left:5px solid transparent;border-right:5px solid transparent;content:"";left:0;position:absolute;bottom:-3px;width:0}.qti-item .qti-slider-values{margin-top:6px !important}.qti-item .noUi-horizontal .noUi-handle:hover:after{border-top:3px solid #3e7da7}.qti-item .noUi-horizontal .noUi-handle.noUi-active:after{border-top-color:#3e7da7}.qti-item .noUi-horizontal.noUi-extended{padding:0 15px}.qti-item .noUi-horizontal.noUi-extended .noUi-origin{right:-15px}.qti-item .noUi-vertical{width:11px;height:200px;display:inline-block}.qti-item .noUi-vertical .noUi-handle{width:17px;height:10px;left:-4px;top:-5px}.qti-item .noUi-vertical.noUi-extended{padding:15px 0}.qti-item .noUi-vertical.noUi-extended .noUi-origin{bottom:-15px}.qti-item .noUi-background{background:#fff}.qti-item .noUi-connect{background:#f3f1ef}.qti-item .noUi-target{border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px}.qti-item .noUi-dragable{cursor:w-resize}.qti-item .noUi-vertical .noUi-dragable{cursor:n-resize}.qti-item .noUi-handle{background:#a4a9b1;color:#a4a9b1;cursor:default}.qti-item .noUi-active,.qti-item .noUi-handle:hover{background:#3e7da7;color:#3e7da7}.qti-item .noUi-handle:after{left:17px}.qti-item .noUi-vertical .noUi-handle:before,.qti-item .noUi-vertical .noUi-handle:after{width:14px;height:1px;left:6px;top:14px}.qti-item .noUi-vertical .noUi-handle:after{top:17px}.qti-item [disabled].noUi-connect,.qti-item [disabled] .noUi-connect{background:#B8B8B8}.qti-item [disabled] .noUi-handle{cursor:not-allowed}.qti-item .noUi-horizontal .step-marker{position:relative}.qti-item .noUi-horizontal .step-marker span{font-size:10px;position:relative;display:block;float:left;text-align:center;min-height:10px}.qti-item .noUi-horizontal .step-marker span:before{width:1px;height:5px;position:absolute;content:\'\';background:#434343;left:50%}.qti-item .noUi-horizontal .step-marker.after{top:5px}.qti-item .noUi-horizontal .step-marker.after span:before{top:-4px}.qti-item .noUi-horizontal .step-marker.before{top:-28px}.qti-item .noUi-horizontal .step-marker.before span:before{top:13px}.qti-item .item-editor-sidebar .noUi-target{margin-left:4px;margin-right:4px}.qti-item .noUi-vertical-wrapper{position:relative;display:inline-block}.qti-item .noUi-vertical-wrapper .step-marker{position:absolute;height:100%;top:0}.qti-item .noUi-vertical-wrapper .step-marker span{font-size:10px;position:relative;display:block}.qti-item .noUi-vertical-wrapper .step-marker span:before{width:5px;height:1px;position:absolute;content:\'\';background:#434343;top:50%}.qti-item .noUi-vertical-wrapper .step-marker.after{left:20px}.qti-item .noUi-vertical-wrapper .step-marker.after span:before{left:-9px}.qti-item .noUi-vertical-wrapper .step-marker.before span:before{left:-40%}.qti-item input:focus,.qti-item select:focus,.qti-item textarea:focus{outline:none}.qti-item input:not(.error):focus,.qti-item select:not(.error):focus,.qti-item textarea:not(.error):focus{border:1px solid #0e5d91 !important}.qti-item input:not(.error):focus:-webkit-autofill,.qti-item select:not(.error):focus:-webkit-autofill,.qti-item textarea:not(.error):focus:-webkit-autofill{border-color:#C3BA13 !important}.qti-item label,.qti-item .form_desc{display:inline-block;cursor:pointer;padding-right:10px;margin-bottom:5px}.qti-item label abbr,.qti-item .form_desc abbr{color:#0e5d91;border-bottom:none;cursor:inherit;text-decoration:none;padding-left:2px}.qti-item #loginForm label abbr{display:none}.qti-item .uploader .file-upload.grid-row{max-width:none}.qti-item .file-upload{display:inline-block;position:relative;overflow:hidden;max-width:300px}.qti-item .file-upload .file-name{padding:2px 5px;background:white;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px}.qti-item .file-upload .file-name.placeholder{font-style:italic;color:#d3d3d3}.qti-item .file-upload .file-name.active{font-style:normal;color:#222}.qti-item .file-upload input[type="file"]{font-size:80px !important;position:absolute;left:auto;right:0;top:0;opacity:0;cursor:pointer}.qti-item .file-upload:hover .btn-info{opacity:.85}.qti-item .uri-container{position:relative;display:inline-block;width:65%;overflow:hidden}.qti-item .uri-container input.final{width:calc(100% - 30px) !important;position:absolute;left:0;top:0;border-color:#bbb;height:100%;border-top-right-radius:0;border-bottom-right-radius:0;border-right:none}.qti-item .uri-container .clipboard-command{position:absolute;top:0;right:0;background:#e1e2e3;cursor:pointer;color:#222;display:block;width:30px;height:100%;text-align:center;line-height:23px;text-shadow:none;border:1px #ccc solid;border-top-right-radius:2px;border-bottom-right-radius:2px}.qti-item .uri-container .clipboard-command:hover{background:#e7e8e9}.qti-item .file-drop{height:150px;overflow-y:auto;border:solid 1px #ddd;position:relative}.qti-item .file-drop .dragholder{padding-top:20px;text-align:center;color:#ddd;font-size:20px;font-size:2rem}.qti-item .file-drop.drag-hover{border-color:#3e7da7;color:#3e7da7}.qti-item .file-drop.drag-hover:after{content:attr(data-drop-msg);position:absolute;top:0;left:0;right:0;bottom:0;width:75%;height:30px;padding:5px;background-color:#0e5d91;color:#fff;text-align:center;margin:auto}.qti-item .file-drop ul{list-style-type:none;position:relative;margin:0;padding:0}.qti-item .file-drop ul>li{position:relative;padding:6px 60px 6px 6px;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px}.qti-item .file-drop ul>li:before{font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e622";font-size:14px;font-size:1.4rem;line-height:14px;margin-right:5px;color:#0e5d91}.qti-item .file-drop ul>li .size{color:#0e5d91;margin-left:5px;font-style:italic}.qti-item .file-drop ul>li .status{position:absolute;right:30px;top:6px}.qti-item .file-drop ul>li .status.sending:before{font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e62d";-webkit-animation:fade 1s forwards;-moz-animation:fade 1s forwards;-ms-animation:fade 1s forwards;-o-animation:fade 1s forwards;animation:fade 1s forwards;-webkit-animation-iteration-count:infinite;-moz-animation-iteration-count:infinite;-ms-animation-iteration-count:infinite;-o-animation-iteration-count:infinite;animation-iteration-count:infinite}@-o-keyframes fade{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@-moz-keyframes fade{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@-webkit-keyframes fade{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes fade{0%{opacity:0}50%{opacity:1}100%{opacity:0}}.qti-item .file-drop ul>li .status.success:before{font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e638";color:#0e914b}.qti-item .file-drop ul>li .status.error:before{font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e900";color:#ba122b}.qti-item .file-drop ul>li .icon-close{position:absolute;right:6px;top:6px}.qti-item .pseudo-label-box{position:relative;cursor:pointer}.qti-item .pseudo-label-box>label{width:20px;position:absolute;top:0;left:0;margin:0}.qti-item .pseudo-label-box>label+div{cursor:pointer;margin-left:24px}.qti-item .pseudo-label-box abbr{border:none;color:#0e5d91}.qti-item ol.horizontal .pseudo-label-box>label+div,.qti-item ul.horizontal .pseudo-label-box>label+div{display:table}.qti-item input[type="color"],.qti-item input[type="date"],.qti-item input[type="datetime"],.qti-item input[type="datetime-local"],.qti-item input[type="email"],.qti-item input[type="month"],.qti-item input[type="number"],.qti-item input[type="range"],.qti-item input[type="search"],.qti-item input[type="tel"],.qti-item input[type="time"],.qti-item input[type="text"],.qti-item input[type="password"],.qti-item input[type="url"],.qti-item input[type="week"],.qti-item textarea,.qti-item select{border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;font-family:"Franklin Gothic","Franklin Gothic Medium","Source Sans Pro",sans-serif;padding:4px;min-width:150px;background-color:white;color:#222;max-width:300px}.qti-item input[type="color"].disabled,.qti-item input[type="color"][disabled],.qti-item input[type="color"][readonly],.qti-item input[type="date"].disabled,.qti-item input[type="date"][disabled],.qti-item input[type="date"][readonly],.qti-item input[type="datetime"].disabled,.qti-item input[type="datetime"][disabled],.qti-item input[type="datetime"][readonly],.qti-item input[type="datetime-local"].disabled,.qti-item input[type="datetime-local"][disabled],.qti-item input[type="datetime-local"][readonly],.qti-item input[type="email"].disabled,.qti-item input[type="email"][disabled],.qti-item input[type="email"][readonly],.qti-item input[type="month"].disabled,.qti-item input[type="month"][disabled],.qti-item input[type="month"][readonly],.qti-item input[type="number"].disabled,.qti-item input[type="number"][disabled],.qti-item input[type="number"][readonly],.qti-item input[type="range"].disabled,.qti-item input[type="range"][disabled],.qti-item input[type="range"][readonly],.qti-item input[type="search"].disabled,.qti-item input[type="search"][disabled],.qti-item input[type="search"][readonly],.qti-item input[type="tel"].disabled,.qti-item input[type="tel"][disabled],.qti-item input[type="tel"][readonly],.qti-item input[type="time"].disabled,.qti-item input[type="time"][disabled],.qti-item input[type="time"][readonly],.qti-item input[type="text"].disabled,.qti-item input[type="text"][disabled],.qti-item input[type="text"][readonly],.qti-item input[type="password"].disabled,.qti-item input[type="password"][disabled],.qti-item input[type="password"][readonly],.qti-item input[type="url"].disabled,.qti-item input[type="url"][disabled],.qti-item input[type="url"][readonly],.qti-item input[type="week"].disabled,.qti-item input[type="week"][disabled],.qti-item input[type="week"][readonly],.qti-item textarea.disabled,.qti-item textarea[disabled],.qti-item textarea[readonly],.qti-item select.disabled,.qti-item select[disabled],.qti-item select[readonly]{color:#222;opacity:.55 !important;cursor:default}.qti-item input[type="color"].disabled,.qti-item input[type="color"][disabled],.qti-item input[type="date"].disabled,.qti-item input[type="date"][disabled],.qti-item input[type="datetime"].disabled,.qti-item input[type="datetime"][disabled],.qti-item input[type="datetime-local"].disabled,.qti-item input[type="datetime-local"][disabled],.qti-item input[type="email"].disabled,.qti-item input[type="email"][disabled],.qti-item input[type="month"].disabled,.qti-item input[type="month"][disabled],.qti-item input[type="number"].disabled,.qti-item input[type="number"][disabled],.qti-item input[type="range"].disabled,.qti-item input[type="range"][disabled],.qti-item input[type="search"].disabled,.qti-item input[type="search"][disabled],.qti-item input[type="tel"].disabled,.qti-item input[type="tel"][disabled],.qti-item input[type="time"].disabled,.qti-item input[type="time"][disabled],.qti-item input[type="text"].disabled,.qti-item input[type="text"][disabled],.qti-item input[type="password"].disabled,.qti-item input[type="password"][disabled],.qti-item input[type="url"].disabled,.qti-item input[type="url"][disabled],.qti-item input[type="week"].disabled,.qti-item input[type="week"][disabled],.qti-item textarea.disabled,.qti-item textarea[disabled],.qti-item select.disabled,.qti-item select[disabled]{cursor:not-allowed !important}.qti-item input[type="color"] ~ .validate-error,.qti-item input[type="date"] ~ .validate-error,.qti-item input[type="datetime"] ~ .validate-error,.qti-item input[type="datetime-local"] ~ .validate-error,.qti-item input[type="email"] ~ .validate-error,.qti-item input[type="month"] ~ .validate-error,.qti-item input[type="number"] ~ .validate-error,.qti-item input[type="range"] ~ .validate-error,.qti-item input[type="search"] ~ .validate-error,.qti-item input[type="tel"] ~ .validate-error,.qti-item input[type="time"] ~ .validate-error,.qti-item input[type="text"] ~ .validate-error,.qti-item input[type="password"] ~ .validate-error,.qti-item input[type="url"] ~ .validate-error,.qti-item input[type="week"] ~ .validate-error,.qti-item textarea ~ .validate-error,.qti-item select ~ .validate-error{color:#ba122b}.qti-item input[type="color"].error,.qti-item input[type="date"].error,.qti-item input[type="datetime"].error,.qti-item input[type="datetime-local"].error,.qti-item input[type="email"].error,.qti-item input[type="month"].error,.qti-item input[type="number"].error,.qti-item input[type="range"].error,.qti-item input[type="search"].error,.qti-item input[type="tel"].error,.qti-item input[type="time"].error,.qti-item input[type="text"].error,.qti-item input[type="password"].error,.qti-item input[type="url"].error,.qti-item input[type="week"].error,.qti-item textarea.error,.qti-item select.error{border-color:#ba122b;color:#ba122b}.qti-item input[type="color"].error+.form-error,.qti-item input[type="date"].error+.form-error,.qti-item input[type="datetime"].error+.form-error,.qti-item input[type="datetime-local"].error+.form-error,.qti-item input[type="email"].error+.form-error,.qti-item input[type="month"].error+.form-error,.qti-item input[type="number"].error+.form-error,.qti-item input[type="range"].error+.form-error,.qti-item input[type="search"].error+.form-error,.qti-item input[type="tel"].error+.form-error,.qti-item input[type="time"].error+.form-error,.qti-item input[type="text"].error+.form-error,.qti-item input[type="password"].error+.form-error,.qti-item input[type="url"].error+.form-error,.qti-item input[type="week"].error+.form-error,.qti-item textarea.error+.form-error,.qti-item select.error+.form-error{color:#ba122b;text-align:right}.qti-item input[type="text"].viewable-hiddenbox-input,.qti-item input[type="password"].viewable-hiddenbox-input{-webkit-border-top-right-radius:0px;-webkit-border-bottom-right-radius:0px;-moz-border-radius-topright:0px;-moz-border-radius-bottomright:0px;border-top-right-radius:0px;border-bottom-right-radius:0px;border-right-width:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.qti-item input[type="text"].viewable-hiddenbox-input:focus,.qti-item input[type="password"].viewable-hiddenbox-input:focus{border-right-width:0 !important}.qti-item input[type="text"].viewable-hiddenbox-input::-ms-reveal,.qti-item input[type="password"].viewable-hiddenbox-input::-ms-reveal{display:none}.qti-item .viewable-hiddenbox-toggle{border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;-webkit-border-top-right-radius:2px;-webkit-border-bottom-right-radius:2px;-moz-border-radius-topright:2px;-moz-border-radius-bottomright:2px;border-top-right-radius:2px;border-bottom-right-radius:2px;-webkit-border-top-left-radius:0px;-webkit-border-bottom-left-radius:0px;-moz-border-radius-topleft:0px;-moz-border-radius-bottomleft:0px;border-top-left-radius:0px;border-bottom-left-radius:0px;border-left-width:0;padding:2px 4px 0;background-color:white;color:#646464;cursor:pointer}.qti-item .viewable-hiddenbox-toggle:hover{color:#222}.qti-item .viewable-hiddenbox-input.error+.viewable-hiddenbox-toggle{border-color:#ba122b}.qti-item .viewable-hiddenbox-input:focus:not(.error)+.viewable-hiddenbox-toggle{border:1px solid #0e5d91 !important;border-left:0 !important}.qti-item .viewable-hiddenbox-input:focus:not(.error)+.viewable-hiddenbox-toggle:-webkit-autofill{border-color:#C3BA13 !important}.qti-item .viewable-hiddenbox-input:-webkit-autofill+.viewable-hiddenbox-toggle{background-color:#faffbd}.qti-item .viewable-hiddenbox-input:-webkit-autofill:focus:not(.error)+.viewable-hiddenbox-toggle{border-color:#C3BA13 !important}.qti-item .form_radlst input[type="radio"].error+label,.qti-item .form_radlst input[type="checkbox"].error+label{border-color:#ba122b;color:#ba122b}.qti-item .form_radlst+.form-error{color:#ba122b;text-align:right}.qti-item option{background:white;color:#222}.qti-item label{position:relative}.qti-item label [class^="icon-checkbox"]:after,.qti-item label [class*=" icon-checkbox"]:after{content:"\\e601";color:white !important}.qti-item label [class^="icon-radio"],.qti-item label [class*=" icon-radio"]{padding:0 2px 0 3px}.qti-item label [class^="icon-radio"]:after,.qti-item label [class*=" icon-radio"]:after{content:"\\e600";color:white !important}.qti-item label .icon-checkbox,.qti-item label .icon-checkbox-crossed{padding:0 3px 0 3px}.qti-item label .icon-checkbox-checked{padding:0 0 0 3px}.qti-item label [class^="icon-"],.qti-item label [class*=" icon-"]{font-size:16px;font-size:1.6rem;position:relative;top:2px;color:#555;display:inline-block;width:20px}.qti-item label [class^="icon-"]:before,.qti-item label [class^="icon-"]:after,.qti-item label [class*=" icon-"]:before,.qti-item label [class*=" icon-"]:after{position:relative}.qti-item label [class^="icon-"]:before,.qti-item label [class*=" icon-"]:before{z-index:3}.qti-item label [class^="icon-"]:after,.qti-item label [class*=" icon-"]:after{left:-1em;position:relative;z-index:2}.qti-item label input[type="radio"],.qti-item label input[type="checkbox"]{position:absolute;left:-10000px;top:0}.qti-item label input[type="radio"]:focus ~ [class^="icon-"],.qti-item label input[type="radio"]:focus ~ [class*=" icon-"],.qti-item label input[type="radio"]:active ~ [class^="icon-"],.qti-item label input[type="radio"]:active ~ [class*=" icon-"],.qti-item label input[type="checkbox"]:focus ~ [class^="icon-"],.qti-item label input[type="checkbox"]:focus ~ [class*=" icon-"],.qti-item label input[type="checkbox"]:active ~ [class^="icon-"],.qti-item label input[type="checkbox"]:active ~ [class*=" icon-"]{color:#222}.qti-item label input[type="radio"].disabled ~ [class^="icon-"],.qti-item label input[type="radio"].disabled ~ [class*=" icon-"],.qti-item label input[type="radio"][disabled] ~ [class^="icon-"],.qti-item label input[type="radio"][disabled] ~ [class*=" icon-"],.qti-item label input[type="radio"][readonly] ~ [class^="icon-"],.qti-item label input[type="radio"][readonly] ~ [class*=" icon-"],.qti-item label input[type="checkbox"].disabled ~ [class^="icon-"],.qti-item label input[type="checkbox"].disabled ~ [class*=" icon-"],.qti-item label input[type="checkbox"][disabled] ~ [class^="icon-"],.qti-item label input[type="checkbox"][disabled] ~ [class*=" icon-"],.qti-item label input[type="checkbox"][readonly] ~ [class^="icon-"],.qti-item label input[type="checkbox"][readonly] ~ [class*=" icon-"]{cursor:not-allowed !important;opacity:.4 !important;color:#555}@supports (-ms-ime-align: auto){.qti-item label [class^="icon-radio"]:after,.qti-item label [class*=" icon-radio"]:after,.qti-item label [class^="icon-checkbox"]:after,.qti-item label [class*=" icon-checkbox"]:after{left:auto !important;top:0 !important;z-index:2;position:absolute}}@media all and (-ms-high-contrast: none), (-ms-high-contrast: active){.qti-item label [class^="icon-radio"]:after,.qti-item label [class*=" icon-radio"]:after,.qti-item label [class^="icon-checkbox"]:after,.qti-item label [class*=" icon-checkbox"]:after{color:white !important;left:2px;position:absolute;z-index:2}}.qti-item .search-form,.qti-item .filter-form{display:none;font-size:13px;font-size:1.3rem}.qti-item .search-form .xhtml_form .form_desc,.qti-item .filter-form .xhtml_form .form_desc{display:block;width:auto;margin-top:5px;margin-bottom:1px}.qti-item .search-form .xhtml_form .form-toolbar,.qti-item .filter-form .xhtml_form .form-toolbar{margin:0 !important}.qti-item .search-form .xhtml_form input[type="text"],.qti-item .search-form .xhtml_form input[type="password"],.qti-item .filter-form .xhtml_form input[type="text"],.qti-item .filter-form .xhtml_form input[type="password"]{width:100%;max-width:none}.qti-item .search-form .xhtml_form select,.qti-item .search-form .xhtml_form textarea,.qti-item .search-form .xhtml_form .form_radlst,.qti-item .filter-form .xhtml_form select,.qti-item .filter-form .xhtml_form textarea,.qti-item .filter-form .xhtml_form .form_radlst{width:100%;max-width:none}.qti-item .search-form .xhtml_form .form-group,.qti-item .filter-form .xhtml_form .form-group{margin-bottom:0}.qti-item .search-form .xhtml_form .form-group>div>div,.qti-item .filter-form .xhtml_form .form-group>div>div{margin-bottom:10px}.qti-item .search-form .xhtml_form label,.qti-item .filter-form .xhtml_form label{margin:0}.qti-item .search-form .xhtml_form .form_radlst,.qti-item .filter-form .xhtml_form .form_radlst{padding-left:2px}.qti-item .search-form .ui-widget-header,.qti-item .search-form .search-title,.qti-item .filter-form .ui-widget-header,.qti-item .filter-form .search-title{font-size:16px;font-size:1.6rem;border:none;margin:8px 0}.qti-item .search-form>div,.qti-item .filter-form>div{background:transparent}.qti-item .xhtml_form form>div,.qti-item .xhtml_form .form>div{margin-bottom:10px}.qti-item .xhtml_form form>div.property-container,.qti-item .xhtml_form .form>div.property-container{border-top:1px solid #ddd}.qti-item .xhtml_form form>div.property-container .tree ul,.qti-item .xhtml_form .form>div.property-container .tree ul{background:transparent !important}.qti-item .xhtml_form form h3,.qti-item .xhtml_form .form h3{margin:0px 0px 12px}.qti-item .xhtml_form [class^="btn-"].btn-success,.qti-item .xhtml_form [class*=" btn-"].btn-success,.qti-item .xhtml_form button.btn-success,.qti-item .xhtml_form input[type="submit"].btn-success,.qti-item .xhtml_form input[type="reset"].btn-success{background-color:#266d9c;text-shadow:1px 1px 0 #0b4a74}.qti-item .xhtml_form .form-toolbar{text-align:right;margin:30px 0 0 0}.qti-item .xhtml_form .property-title{margin-bottom:10px}.qti-item .xhtml_form .property-heading-icon{margin-left:5px}.qti-item .xhtml_form .property-heading-icon:hover{color:#0e5d91}.qti-item .xhtml_form .property-heading-label{padding-left:5px}.qti-item .xhtml_form .property-heading-label:before{font-size:12px;content:\'\\2022 \';line-height:2px;opacity:.8}.qti-item .xhtml_form .property-edit-container{display:none;width:100%}.qti-item .xhtml_form .property-heading-toolbar{float:right}.qti-item .xhtml_form .property-heading-toolbar .property-parent-label{display:inline-block;padding:0 5px}.qti-item .xhtml_form .property-heading-toolbar [class^="icon-"],.qti-item .xhtml_form .property-heading-toolbar [class*=" icon-"]{background:rgba(255,255,255,0.5);border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;margin-left:1px;padding:3px;cursor:pointer;min-width:24px;display:inline-block;text-align:center}.qti-item .xhtml_form .property-heading-toolbar [class^="icon-"]:hover,.qti-item .xhtml_form .property-heading-toolbar [class*=" icon-"]:hover{background:rgba(255,255,255,0.7);color:#0e5d91}.qti-item .xhtml_form .property-block{overflow:hidden;padding:6px 0;border-bottom:1px white solid}.qti-item .xhtml_form .property-block.property-block-first{border-top:1px white solid}.qti-item .xhtml_form .property-block.readonly-property div{display:inline}.qti-item .xhtml_form .property-block.readonly-property div div{float:right;padding-left:5px;color:#7a7a7a;cursor:default}.qti-item .xhtml_form .property-block.parent-property div{display:inline}.qti-item .xhtml_form .property-block.parent-property div div{float:right;padding-left:5px;color:#4e4e4e}.qti-item .xhtml_form .property-block.regular-property>div{border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;padding:15px;background:rgba(255,255,255,0.5);margin:5px 0;position:relative;top:6px}.qti-item .xhtml_form .property-block.regular-property>div div{padding:2px 0}.qti-item .xhtml_form ul.json-object-list{border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;display:inline-block;padding:15px;width:65%;margin:5px 0;position:relative;background:rgba(255,255,255,0.5);list-style-type:none}.qti-item .xhtml_form ul.json-object-list li{margin-bottom:10px}.qti-item .xhtml_form ul.json-object-list li input[type="text"]{width:100%}.qti-item .xhtml_form .bool-list{overflow:hidden}.qti-item .xhtml_form .bool-list .form_desc{float:left}.qti-item .xhtml_form .form_desc{width:35%;display:inline-block;padding:0 10px 0 0;vertical-align:top}.qti-item .xhtml_form .form_desc.hidden-input-label{width:auto}.qti-item .xhtml_form .form_desc ~ .form-elt-container{display:inline-block;width:65%}.qti-item .xhtml_form .form_desc ~ .form-elt-container .tree{max-width:none;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px}.qti-item .xhtml_form input[type="text"],.qti-item .xhtml_form input[type="password"]{width:65%;max-width:none}.qti-item .xhtml_form select,.qti-item .xhtml_form textarea,.qti-item .xhtml_form .form_radlst{width:65%;max-width:none}.qti-item .xhtml_form .viewable-hiddenbox{display:flex}.qti-item .xhtml_form .viewable-hiddenbox label{flex:0 0 auto}.qti-item .xhtml_form .viewable-hiddenbox input{flex:1 1 auto;height:100%}.qti-item .xhtml_form .viewable-hiddenbox .viewable-hiddenbox-toggle{flex:0 0 24px}.qti-item .xhtml_form .form_radlst{display:inline-block}.qti-item .xhtml_form .datepicker-input{position:relative;z-index:8100}.qti-item .xhtml_form .form-group>div>div{position:relative;margin-bottom:12px}.qti-item .xhtml_form .form-group>div>div .has-unit{padding-right:45px}.qti-item .xhtml_form .form-group>div>div .unit{position:absolute;top:1px;right:1px;background:#f3f1ef;width:auto;display:block;padding:3px 10px;-webkit-border-top-right-radius:2px;-webkit-border-bottom-right-radius:2px;-moz-border-radius-topright:2px;-moz-border-radius-bottomright:2px;border-top-right-radius:2px;border-bottom-right-radius:2px;opacity:.8;cursor:default}.qti-item .xhtml_form .btn-info{float:left}.qti-item .xhtml_form .btn-success{float:right}.qti-item .xhtml_form .form_checklst .grid-row [class*=" col-"],.qti-item .xhtml_form .form_checklst .grid-row [class^="col-"]{margin:0}.qti-item .xhtml_form .form_checklst .grid-row [class*=" col-"] .elt_desc,.qti-item .xhtml_form .form_checklst .grid-row [class^="col-"] .elt_desc{padding:0 10px}.qti-item .xhtml_form .form_checklst .grid-row [class*=" col-"] .tooltip-trigger,.qti-item .xhtml_form .form_checklst .grid-row [class^="col-"] .tooltip-trigger{position:relative;top:2px;color:#c96043}.qti-item .xhtml_form .form_checklst .grid-row.readonly .elt_desc,.qti-item .xhtml_form .form_checklst .grid-row.readonly input[type="checkbox"]{cursor:not-allowed}.qti-item .xhtml_form .form_checklst .grid-row.readonly .elt_desc{opacity:0.45}.qti-item input[type="checkbox"],.qti-item input[type="radio"]{position:relative;margin-right:4px}.qti-item div.wysiwyg{border:1px solid #ccc;padding:5px;background-color:#fff}.qti-item div.wysiwyg *{margin:0;padding:0}.qti-item div.wysiwyg ul.panel{border-bottom:1px solid #ccc;float:left;width:100%;padding:0}.qti-item div.wysiwyg ul.panel li{list-style:none;float:left;margin:1px 2px 3px 0;background:#fff;-moz-user-select:none;-webkit-user-select:none;user-select:none}.qti-item div.wysiwyg ul.panel li.separator{width:1px;height:16px;margin:0 4px;border-left:1px solid #ccc}.qti-item div.wysiwyg ul.panel li{text-indent:-5000px;opacity:0.85;filter:alpha(opacity=85);display:block;width:16px;height:16px;background:url("/tao/views/js/lib/jwysiwyg/jquery.wysiwyg.gif") no-repeat -64px -80px;border:0;cursor:pointer;margin:1px}.qti-item div.wysiwyg ul.panel li.wysiwyg-button-hover,.qti-item div.wysiwyg ul.panel li.active{opacity:1.00;filter:alpha(opacity=100)}.qti-item div.wysiwyg ul.panel li.active{background-color:#f9f9f9;border:1px solid #ccc;border-left-color:#aaa;border-top-color:#aaa;margin:0}.qti-item div.wysiwyg ul.panel li.bold{background-position:0 -16px}.qti-item div.wysiwyg ul.panel li.italic{background-position:-16px -16px}.qti-item div.wysiwyg ul.panel li.strikeThrough{background-position:-32px -16px}.qti-item div.wysiwyg ul.panel li.underline{background-position:-48px -16px}.qti-item div.wysiwyg ul.panel li.justifyLeft{background-position:0 0}.qti-item div.wysiwyg ul.panel li.justifyCenter{background-position:-16px 0}.qti-item div.wysiwyg ul.panel li.justifyRight{background-position:-32px 0}.qti-item div.wysiwyg ul.panel li.justifyFull{background-position:-48px 0}.qti-item div.wysiwyg ul.panel li.indent{background-position:-64px 0}.qti-item div.wysiwyg ul.panel li.outdent{background-position:-80px 0}.qti-item div.wysiwyg ul.panel li.subscript{background-position:-64px -16px}.qti-item div.wysiwyg ul.panel li.superscript{background-position:-80px -16px}.qti-item div.wysiwyg ul.panel li.undo{background-position:0 -64px}.qti-item div.wysiwyg ul.panel li.redo{background-position:-16px -64px}.qti-item div.wysiwyg ul.panel li.insertOrderedlist{background-position:-32px -48px}.qti-item div.wysiwyg ul.panel li.insertUnorderedlist{background-position:-16px -48px}.qti-item div.wysiwyg ul.panel li.insertHorizontalRule{background-position:0 -48px}.qti-item div.wysiwyg ul.panel li.h1{background-position:0 -32px}.qti-item div.wysiwyg ul.panel li.h2{background-position:-16px -32px}.qti-item div.wysiwyg ul.panel li.h3{background-position:-32px -32px}.qti-item div.wysiwyg ul.panel li.h4{background-position:-48px -32px}.qti-item div.wysiwyg ul.panel li.h5{background-position:-64px -32px}.qti-item div.wysiwyg ul.panel li.h6{background-position:-80px -32px}.qti-item div.wysiwyg ul.panel li.cut{background-position:-32px -64px}.qti-item div.wysiwyg ul.panel li.copy{background-position:-48px -64px}.qti-item div.wysiwyg ul.panel li.paste{background-position:-64px -64px}.qti-item div.wysiwyg ul.panel li.insertTable{background-position:-64px -48px}.qti-item div.wysiwyg ul.panel li.increaseFontSize{background-position:-16px -80px}.qti-item div.wysiwyg ul.panel li.decreaseFontSize{background-position:-32px -80px}.qti-item div.wysiwyg ul.panel li.createlink{background-position:-80px -48px}.qti-item div.wysiwyg ul.panel li.insertImage{background-position:-80px -80px}.qti-item div.wysiwyg ul.panel li.html{background-position:-47px -46px}.qti-item div.wysiwyg ul.panel li.removeFormat{background-position:-80px -63px}.qti-item div.wysiwyg ul.panel li.empty{background-position:-64px -80px}.qti-item div.wysiwyg iframe{border:0;clear:left;margin:4px 0 0 1px}.qti-item .toggler:after{margin-left:3px;position:relative;top:2px;font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e611"}.qti-item .toggler.opened:after{font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e610"}.qti-item .toggled{display:none}.qti-item .adder:before{margin-right:5px;font-size:10.5px;font-size:1.05rem;font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e636"}.qti-item .closer:before,.qti-item .deleter:before{margin-right:5px;font-size:10.5px;font-size:1.05rem;font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e637"}.qti-item .undobox{display:block;position:fixed;top:50px;left:50%;margin-left:-200px;width:400px;z-index:100005}.qti-item input[data-increment],.qti-item input.duration-ctrl{width:40px !important;min-width:40px !important;text-align:right}.qti-item .duration-ctrl-wrapper,.qti-item .incrementer-ctrl-wrapper{position:relative;display:inline-block;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px}.qti-item .duration-ctrl-wrapper .incrementer,.qti-item .incrementer-ctrl-wrapper .incrementer{text-align:right;border:none;padding-right:18px}.qti-item .duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl,.qti-item .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl{border-left:1px #ddd solid;display:inline-block;height:100%;position:absolute;right:0;top:0}.qti-item .duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl>a,.qti-item .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl>a{outline:0 !important;cursor:pointer;display:inline-block;line-height:13px;color:#222;background:#f3f1ef;padding:0 4px 0 4px;font-size:10.5px;font-size:1.05rem;position:absolute;right:0;height:50%;text-align:center}.qti-item .duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl>a.inc,.qti-item .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl>a.inc{top:0;-moz-border-radius-topright:2px;-webkit-border-top-right-radius:2px;border-top-right-radius:2px}.qti-item .duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl>a.dec,.qti-item .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl>a.dec{top:50%;-moz-border-radius-bottomright:2px;-webkit-border-bottom-right-radius:2px;border-bottom-right-radius:2px}.qti-item .duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl>a.inc:before,.qti-item .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl>a.inc:before{position:relative;bottom:0px;font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e610"}.qti-item .duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl>a.dec:before,.qti-item .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl>a.dec:before{position:relative;top:0px;font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e611"}.qti-item .duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl>a:hover,.qti-item .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl>a:hover{background-color:#3e7da7;color:#fff}.qti-item .duration-ctrl-wrapper ~ .separator{padding:0 3px;text-align:center;opacity:.7}.qti-item [data-in-place],.qti-item .inplace{cursor:pointer;min-height:1em}.qti-item [data-in-place] input,.qti-item .inplace input{cursor:auto}.qti-item [data-in-place]:hover,.qti-item .inplace:hover{border:dotted 1px #3e7da7}.qti-item ul.listbox{margin:.1em 0;padding:0;list-style-type:none;display:block}.qti-item ul.listbox>li{white-space:no-wrap;position:relative;min-width:75%;border:solid 1px #ddd;border-bottom-width:0;vertical-align:top;margin:0;padding:.3em 2em .3em .2em;background-color:#f3f1ef;min-height:1.5em}.qti-item ul.listbox>li>.closer,.qti-item ul.listbox>li>.deleter{position:absolute;right:5px;top:0}.qti-item ul.listbox>li:first-child{-moz-border-radius:2px 2px 0 0;-webkit-border-radius:2px 2px 0 0;border-radius:2px 2px 0 0}.qti-item ul.listbox>li:last-child{-moz-border-radius:0 0 2px 2px;-webkit-border-radius:0 0 2px 2px;border-radius:0 0 2px 2px;border-bottom-width:1px}.qti-item ul.listbox>li.placeholder{background:none;margin:.5em;opacity:0.6}.qti-item .modal{background-color:#fff;border:1px solid #ddd;box-shadow:3px 3px 5px #666666;height:auto;opacity:0;top:-1000px;padding:40px;position:fixed;z-index:105002;margin:auto;left:0;right:0;overflow:hidden}.qti-item .modal .modal-close{position:absolute;right:12px;top:10px;cursor:pointer;font-weight:bold;color:#222;font-size:20px;font-size:2rem}.qti-item .modal .modal-close:hover{opacity:0.6}.qti-item .modal .modal-body .buttons{top:16px;position:relative}.qti-item .modal .modal-body .buttons button{-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;margin-left:8px;height:36px;text-shadow:none;text-transform:uppercase;color:#0e5d91 !important;background:none}.qti-item .modal .modal-body .buttons button:focus,.qti-item .modal .modal-body .buttons button:hover{background:#dbe7ef}.qti-item .modal-bg{background:none repeat scroll 0 0 #000;opacity:0.45;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=45)";filter:alpha(opacity=45);display:none;position:fixed;height:100%;width:100%;left:0;top:0;z-index:100001;overflow:hidden}.qti-item ul[data-button-group],.qti-item ul.button-group{list-style-type:none;padding:0;background-color:#fff;border:1px solid #ddd;border-radius:1px;margin:0 2px 2px 0;display:inline-block;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;font-size:12px;font-size:1.2rem}.qti-item ul[data-button-group]>li,.qti-item ul.button-group>li{border:0 none;color:#222;cursor:pointer;display:inline-block;float:left;min-width:26px;padding:4px 6px;text-align:center;text-decoration:none !important}.qti-item ul[data-button-group]>li.active,.qti-item ul.button-group>li.active{color:#fff;background-color:#0e5d91;-webkit-transition:background 0.4s ease;-moz-transition:all 0.4s ease;-o-transition:background 0.4s ease;transition:all 0.4s ease}.qti-item ul[data-button-group]>li:hover,.qti-item ul.button-group>li:hover{color:#fff;background-color:#3e7da7;-webkit-transition:background 0.4s ease;-moz-transition:all 0.4s ease;-o-transition:background 0.4s ease;transition:all 0.4s ease}.qti-item ul[data-button-group]>li.separator,.qti-item ul.button-group>li.separator{background-color:#ddd;float:left;height:18px;margin:5px 2px 0 2px;width:1px;min-width:1px;padding:0}.qti-item ul[data-button-group]>li[class^="icon-"],.qti-item ul[data-button-group]>li[class*=" icon-"],.qti-item ul.button-group>li[class^="icon-"],.qti-item ul.button-group>li[class*=" icon-"]{height:16px;margin-top:1px;width:16px;padding-top:2px}.qti-item .previewer{background-color:#fff;margin:5px;min-width:280px;min-height:200px;text-align:center}.qti-item .previewer .nopreview{color:#ddd;text-align:center;font-size:20px;font-size:2rem}.qti-item .previewer .nopreview:before{font-size:60px;font-size:6rem;font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e670";display:block !important}.qti-item .progressbar{height:2em;text-align:left;border:none;height:0.8em;background-color:#fff;border:1px solid #ddd}.qti-item .progressbar>span{height:100%;border:none;background-color:#3e7da7;display:block;color:#fff;-webkit-transition:width 0.6s ease 0s;-moz-transition:width 0.4s ease 0s;-o-transition:width 0.4s ease 0s;transition:width 0.4s ease 0s}.qti-item .progressbar.info>span{background-color:#0e5d91}.qti-item .progressbar.success>span{background-color:#0e914b}.qti-item .progressbar.warning>span{background-color:#d8ae5b}.qti-item .progressbar.error>span{background-color:#ba122b}.qti-item .grid-row,.qti-item .fixed-grid-row{width:100%}.qti-item .grid-row [class*=" col-"].col-12,.qti-item .grid-row [class^="col-"].col-12,.qti-item .fixed-grid-row [class*=" col-"].col-12,.qti-item .fixed-grid-row [class^="col-"].col-12{width:100%}.qti-item .grid-row [class*=" col-"]:last-child,.qti-item .grid-row [class^="col-"]:last-child,.qti-item .fixed-grid-row [class*=" col-"]:last-child,.qti-item .fixed-grid-row [class^="col-"]:last-child{margin-right:0}.qti-item .grid-container{overflow-x:visible !important}.qti-item.runtime{min-height:100%}.qti-item [class*="col-"] img{max-width:initial}.qti-item #modalFeedbacks{max-height:0}.qti-item .qti-itemBody .qti-modalFeedback{border-width:1px;padding:10px 10px 15px;background:#cfdfe9;position:relative;z-index:100002}.qti-item .qti-itemBody .qti-modalFeedback.positive{background:#cfe9db}.qti-item .qti-itemBody .qti-modalFeedback.negative{background:#f1d0d5}.qti-item .interaction-cover{display:block;opacity:0.05}.qti-item .qti-choice p:last-child,.qti-item .qti-prompt-container p:last-child{margin-bottom:0 !important}.qti-item .prompt,.qti-item .qti-prompt{word-wrap:break-word;overflow-wrap:break-word}.qti-item .MathJax:focus{outline:0}.qti-item .MathJax span{line-height:inherit;font-size:inherit}.qti-item.runtime .block-listing>li.active{border-color:#3e7da7 !important}.qti-item .block-listing>li{border:1px solid #e0e0e0;border-radius:2px;-webkit-border-radius:2px;background:transparent;padding:5px;margin:3px;cursor:pointer;position:relative}.qti-item .block-listing.horizontal>li{display:block;float:left}.qti-item .block-listing.solid,.qti-item .block-listing.bordered{padding-top:3px;padding-right:3px;padding-bottom:3px}.qti-item .block-listing.solid.none,.qti-item .block-listing.bordered.none{padding-left:3px}.qti-item .qti-block{border:1px solid transparent}.qti-item .qti-interaction:focus{outline-color:#0E5D91}.qti-item .qti-interaction .text-container{min-height:50px}.qti-item .qti-interaction .text-container.text-preformatted{font-family:Consolas,"Andale Mono WT","Andale Mono","Lucida Console","Lucida Sans Typewriter","DejaVu Sans Mono","Bitstream Vera Sans Mono","Liberation Mono","Nimbus Mono L",Monaco,"Courier New",Courier,monospace}.qti-item .qti-interaction .solid{border:6px solid #f5f4f2}.qti-item .qti-interaction .bordered{border:1px solid #e0e0e0;border-radius:2px;-webkit-border-radius:2px;background:white}.qti-item .qti-interaction .empty{border:1px #3e7da7 dashed !important;min-height:50px;cursor:default}.qti-item .qti-interaction input[type="color"],.qti-item .qti-interaction input[type="date"],.qti-item .qti-interaction input[type="datetime"],.qti-item .qti-interaction input[type="datetime-local"],.qti-item .qti-interaction input[type="email"],.qti-item .qti-interaction input[type="month"],.qti-item .qti-interaction input[type="number"],.qti-item .qti-interaction input[type="range"],.qti-item .qti-interaction input[type="search"],.qti-item .qti-interaction input[type="tel"],.qti-item .qti-interaction input[type="time"],.qti-item .qti-interaction input[type="text"],.qti-item .qti-interaction input[type="password"],.qti-item .qti-interaction input[type="url"],.qti-item .qti-interaction input[type="week"],.qti-item .qti-interaction textarea,.qti-item .qti-interaction select{border-top-color:#aaa;border-left-color:#aaa}.qti-item .qti-interaction[class^="list-style-"]>p::before,.qti-item .qti-interaction[class^="list-style-"]>div::before,.qti-item .qti-interaction[class^="list-style-"]>li::before,.qti-item .qti-interaction[class*=" list-style-"]>p::before,.qti-item .qti-interaction[class*=" list-style-"]>div::before,.qti-item .qti-interaction[class*=" list-style-"]>li::before{content:normal}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .qti-object-container{display:inline-block;vertical-align:bottom}.qti-item .qti-object-container.previewer{min-width:10px;min-height:10px}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .qti-choiceInteraction .overlay-answer-eliminator{display:none}.qti-item .qti-choiceInteraction [data-eliminable="container"]{display:none;position:absolute;top:0;left:50px;height:100%;padding-top:6px;z-index:3}.qti-item .qti-choiceInteraction [data-eliminable="container"] [data-eliminable="trigger"]{font-size:1.6rem;position:relative;z-index:4;cursor:pointer}.qti-item .qti-choiceInteraction [data-eliminable="container"]::before{position:absolute;top:-33px;left:-17px;font:inherit;cursor:default}.qti-item .qti-choiceInteraction.eliminable .label-box{margin-left:85px}.qti-item .qti-choiceInteraction.eliminable .choice-area{margin-top:25px}.qti-item .qti-choiceInteraction.eliminable .choice-area[class^="list-style-"] [data-eliminable="container"],.qti-item .qti-choiceInteraction.eliminable .choice-area[class*=" list-style-"] [data-eliminable="container"]{left:73px}.qti-item .qti-choiceInteraction.eliminable .choice-area[class^="list-style-"] .qti-choice.eliminated [data-eliminable="container"],.qti-item .qti-choiceInteraction.eliminable .choice-area[class*=" list-style-"] .qti-choice.eliminated [data-eliminable="container"]{padding-left:73px}.qti-item .qti-choiceInteraction.eliminable .choice-area[class^="list-style-"] .qti-choice:first-child.eliminated [data-eliminable="container"]::before,.qti-item .qti-choiceInteraction.eliminable .choice-area[class*=" list-style-"] .qti-choice:first-child.eliminated [data-eliminable="container"]::before{left:56px !important}.qti-item .qti-choiceInteraction.eliminable [data-eliminable]{display:block}.qti-item .qti-choiceInteraction.eliminable .qti-choice.eliminated .label-box .label-content{position:relative}.qti-item .qti-choiceInteraction.eliminable .qti-choice.eliminated .label-box .label-content .qti-block:after{content:\' \';width:100%;position:relative;top:-21px}.qti-item .qti-choiceInteraction.eliminable .qti-choice.eliminated .label-box .label-content .overlay-answer-eliminator{stroke:#000;stroke-width:1;display:inline;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%}.qti-item .qti-choiceInteraction.eliminable .qti-choice.eliminated [data-eliminable="container"]{width:100%;padding-left:50px;left:0;background:rgba(255,255,255,0.7);cursor:not-allowed}.qti-item .qti-choiceInteraction.eliminable .qti-choice.eliminated [data-eliminable="container"] [data-eliminable="trigger"]:before{content:"\\e69c"}.qti-item .qti-choiceInteraction.eliminable .qti-choice.eliminated [data-eliminable="container"]::before{left:33px !important}.qti-item .qti-choiceInteraction.eliminable .qti-choice:first-child [data-eliminable="container"]::before{content:attr(data-label)}.qti-item .qti-choiceInteraction .qti-choice .real-label{top:1px}.qti-item .qti-choiceInteraction .choice-area[class^="list-style-"] .label-content,.qti-item .qti-choiceInteraction .choice-area[class*=" list-style-"] .label-content{margin-left:30px}.qti-item .qti-choiceInteraction .choice-area[class^="list-style-"] p::before,.qti-item .qti-choiceInteraction .choice-area[class^="list-style-"] div::before,.qti-item .qti-choiceInteraction .choice-area[class^="list-style-"] li::before,.qti-item .qti-choiceInteraction .choice-area[class*=" list-style-"] p::before,.qti-item .qti-choiceInteraction .choice-area[class*=" list-style-"] div::before,.qti-item .qti-choiceInteraction .choice-area[class*=" list-style-"] li::before{position:absolute;left:30px;top:6px}.qti-item .qti-choiceInteraction .choice-area[class^="list-style-"] p.add-option:before,.qti-item .qti-choiceInteraction .choice-area[class^="list-style-"] div.add-option:before,.qti-item .qti-choiceInteraction .choice-area[class^="list-style-"] li.add-option:before,.qti-item .qti-choiceInteraction .choice-area[class*=" list-style-"] p.add-option:before,.qti-item .qti-choiceInteraction .choice-area[class*=" list-style-"] div.add-option:before,.qti-item .qti-choiceInteraction .choice-area[class*=" list-style-"] li.add-option:before{content:\'\';display:inline}.qti-item .qti-choiceInteraction .choice-area .label-content{display:inline-block}.qti-item .qti-choiceInteraction .choice-area .label-content .qti-block div img{width:100%}.qti-item .qti-choiceInteraction .block-listing>li{margin-top:0;margin-bottom:0;border-top:none;border-bottom:none;-moz-border-radius:0px;-webkit-border-radius:0px;border-radius:0px}.qti-item .qti-choiceInteraction .block-listing>li:first-child{margin-top:3px;border-top:1px solid #eee;-webkit-border-top-left-radius:2px;-webkit-border-top-right-radius:2px;-moz-border-radius-topleft:2px;-moz-border-radius-topright:2px;border-top-left-radius:2px;border-top-right-radius:2px}.qti-item .qti-choiceInteraction .block-listing>li:last-child{margin-bottom:3px;border-bottom:1px solid #eee;-webkit-border-bottom-right-radius:2px;-webkit-border-bottom-left-radius:2px;-moz-border-radius-bottomright:2px;-moz-border-radius-bottomleft:2px;border-bottom-right-radius:2px;border-bottom-left-radius:2px}.qti-item .qti-choiceInteraction .block-listing.horizontal>li{margin:3px;border:1px solid #eee;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px}.qti-item .qti-choiceInteraction .checked span.icon-checkbox:before{font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e69d"}.qti-item .qti-choiceInteraction .checked span.icon-radio:before{font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e69a"}.qti-item .qti-choiceInteraction .real-label input{position:absolute;left:-10000px}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .qti-orderInteraction .arrow-bar{text-align:center}.qti-item .qti-orderInteraction .arrow-bar span{margin:3px auto;font-size:25px;font-size:2.5rem;color:#919191;background:#f9f8f7;cursor:default;height:40px}.qti-item .qti-orderInteraction .arrow-bar span.active{background:#f3f1ef;cursor:pointer;color:#222}.qti-item .qti-orderInteraction .arrow-bar span.active:hover{color:#fff;background:#3e7da7}.qti-item .qti-orderInteraction .arrow-bar span.triggered{color:#fff;background:#3e7da7}.qti-item .qti-orderInteraction.qti-vertical .order-interaction-area{display:table;border-collapse:separate;border-spacing:5px 5px 5px 0;width:100%}.qti-item .qti-orderInteraction.qti-vertical ul.source,.qti-item .qti-orderInteraction.qti-vertical ul.target,.qti-item .qti-orderInteraction.qti-vertical ol.source,.qti-item .qti-orderInteraction.qti-vertical ol.target{display:table-cell;width:43%}.qti-item .qti-orderInteraction.qti-vertical .arrow-bar{display:table-cell;vertical-align:middle;padding:5px}.qti-item .qti-orderInteraction.qti-vertical .arrow-bar .icon-move-before{content:"\\e610"}.qti-item .qti-orderInteraction.qti-vertical .arrow-bar .icon-move-behind{content:"\\e611"}.qti-item .qti-orderInteraction.qti-vertical .arrow-bar span{padding:8px 0;display:block;width:50px}.qti-item .qti-orderInteraction.qti-vertical .arrow-bar span.inactive{visibility:hidden}.qti-item .qti-orderInteraction.qti-vertical .arrow-bar.middle span.inactive{display:none}.qti-item .qti-orderInteraction.qti-horizontal .block-listing{min-height:38px}.qti-item .qti-orderInteraction.qti-horizontal .arrow-bar{margin-bottom:10px}.qti-item .qti-orderInteraction.qti-horizontal .arrow-bar span{padding:0 15px;display:inline-block;line-height:1.6}.qti-item .qti-orderInteraction.qti-horizontal .arrow-bar span.inactive{visibility:hidden}.qti-item .qti-orderInteraction.qti-horizontal .arrow-bar span.icon-move-before{content:"\\e610"}.qti-item .qti-orderInteraction.qti-horizontal .arrow-bar span.icon-move-behind{content:"\\e611"}.qti-item .qti-orderInteraction li.dragged{border-color:#3e7da7 !important;list-style:none}.qti-item .qti-orderInteraction .drag-container{position:absolute;display:none;padding:0;margin:0;z-index:1}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .qti-extendedTextInteraction .text-container{min-height:50px}.qti-item .qti-extendedTextInteraction .text-container.text-preformatted{font-family:Consolas,"Andale Mono WT","Andale Mono","Lucida Console","Lucida Sans Typewriter","DejaVu Sans Mono","Bitstream Vera Sans Mono","Liberation Mono","Nimbus Mono L",Monaco,"Courier New",Courier,monospace}.qti-item .qti-extendedTextInteraction input{width:100%}.qti-item .qti-extendedTextInteraction .solid>li,.qti-item .qti-extendedTextInteraction .bordered>li{padding:0;border:none}.qti-item .qti-extendedTextInteraction .solid ~ input,.qti-item .qti-extendedTextInteraction .solid ~ textarea,.qti-item .qti-extendedTextInteraction .solid ~ .cke,.qti-item .qti-extendedTextInteraction .bordered ~ input,.qti-item .qti-extendedTextInteraction .bordered ~ textarea,.qti-item .qti-extendedTextInteraction .bordered ~ .cke{border:6px solid #f5f4f2}.qti-item .qti-extendedTextInteraction .solid ~ input .cke_top,.qti-item .qti-extendedTextInteraction .solid ~ textarea .cke_top,.qti-item .qti-extendedTextInteraction .solid ~ .cke .cke_top,.qti-item .qti-extendedTextInteraction .bordered ~ input .cke_top,.qti-item .qti-extendedTextInteraction .bordered ~ textarea .cke_top,.qti-item .qti-extendedTextInteraction .bordered ~ .cke .cke_top{border:none;margin:3px;width:calc(100% - 6px);-webkit-box-shadow:0 0 0 0 rgba(0,0,0,0);-moz-box-shadow:0 0 0 0 rgba(0,0,0,0);-ms-box-shadow:0 0 0 0 rgba(0,0,0,0);-o-box-shadow:0 0 0 0 rgba(0,0,0,0);box-shadow:0 0 0 0 rgba(0,0,0,0)}.qti-item .qti-extendedTextInteraction .solid ~ input .cke_bottom,.qti-item .qti-extendedTextInteraction .solid ~ textarea .cke_bottom,.qti-item .qti-extendedTextInteraction .solid ~ .cke .cke_bottom,.qti-item .qti-extendedTextInteraction .bordered ~ input .cke_bottom,.qti-item .qti-extendedTextInteraction .bordered ~ textarea .cke_bottom,.qti-item .qti-extendedTextInteraction .bordered ~ .cke .cke_bottom{border:none}.qti-item .qti-extendedTextInteraction .active>input,.qti-item .qti-extendedTextInteraction .active>textarea,.qti-item .qti-extendedTextInteraction .active input.active,.qti-item .qti-extendedTextInteraction .active textarea.active{border-color:#3e7da7}.qti-item .qti-extendedTextInteraction textarea{max-width:100% !important;width:100%;height:150px;resize:none}.qti-item .qti-extendedTextInteraction textarea[disabled="disabled"]{background-color:white;opacity:1 !important}.qti-item .qti-extendedTextInteraction .text-counter{text-align:right}.qti-item .qti-extendedTextInteraction .text-counter .count-words,.qti-item .qti-extendedTextInteraction .text-counter .count-chars{font-weight:bold}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .qti-associateInteraction .empty{cursor:pointer;min-height:0}.qti-item .qti-associateInteraction .choice-area{margin-bottom:30px}.qti-item .qti-associateInteraction .choice-area .deactivated{opacity:0.2;cursor:default !important}.qti-item .qti-associateInteraction .choice-area>.qti-choice{min-width:100px;min-height:30px;max-width:180px}.qti-item .qti-associateInteraction .choice-area>.qti-choice .qti-block img{display:flex}.qti-item .qti-associateInteraction .result-area{width:40%;min-width:260px;margin:auto}.qti-item .qti-associateInteraction .result-area>li{display:block;margin-bottom:30px;position:relative}.qti-item .qti-associateInteraction .result-area>li:before{border-top:1px solid #87aec8;display:block;width:80%;left:10%;height:1px;position:absolute;z-index:1;top:50%}.qti-item .qti-associateInteraction .result-area>li>.target{background:white;padding:5px;margin:5px;float:right;position:relative;z-index:2;min-width:100px;min-height:30px;max-width:180px;outline:5px #f5f4f2 solid;border:1px solid #eee;border-radius:2px;-webkit-border-radius:2px;overflow:hidden}.qti-item .qti-associateInteraction .result-area>li>.target .qti-block img{display:flex}.qti-item .qti-associateInteraction .result-area>li>.target.active{border-color:#3e7da7}.qti-item .qti-associateInteraction .result-area>li>.target:first-child{float:left}.qti-item .qti-associateInteraction .result-area>li>.target.dragged,.qti-item .qti-associateInteraction .result-area>li>.target.dragged:hover{outline:0}.qti-item .qti-associateInteraction .result-area>li.removing>div{background-color:#eee}.qti-item .qti-associateInteraction .result-area>li.incomplete-pair{display:none}.qti-item .qti-associateInteraction .result-area>li.incomplete-pair>div{border:1px dashed #ccc}.qti-item .qti-associateInteraction .result-area .remove-choice{cursor:pointer;position:absolute;right:0;bottom:0;margin:0 2px 2px 0;color:#0e5d91}.qti-item .qti-associateInteraction .result-area .remove-choice:hover{opacity:0.6}.qti-item .qti-associateInteraction .result-area .filled{cursor:pointer}.qti-item .qti-associateInteraction .result-area .filled:hover{background:#f3f7fa}.qti-item .result-area>li>div.filled ~ div.filled:before{border-top:1px solid #87c8a5 !important}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .qti-matchInteraction .matrix{table-layout:fixed}.qti-item .qti-matchInteraction .matrix tbody [data-edit]{width:30px}.qti-item .qti-matchInteraction .matrix td:not(.qti-choice),.qti-item .qti-matchInteraction .matrix th:not(.qti-choice){position:relative}.qti-item .qti-matchInteraction .matrix td:not(.qti-choice) label,.qti-item .qti-matchInteraction .matrix th:not(.qti-choice) label{top:0;left:0;width:100%;padding:inherit;height:100%}.qti-item .qti-matchInteraction .matrix td:not(.qti-choice) label .icon-checkbox,.qti-item .qti-matchInteraction .matrix th:not(.qti-choice) label .icon-checkbox{position:absolute;top:calc(50% - .8rem)}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .qti-mediaInteraction .mejs-container iframe{min-height:inherit}.qti-item .qti-mediaInteraction .overlay{background:#000;z-index:999;position:relative;opacity:0;width:100%;height:100%}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .qti-graphicInteraction .source li>img{display:block}.qti-item .qti-graphicInteraction .active>input,.qti-item .qti-graphicInteraction .active>textarea,.qti-item .qti-graphicInteraction .active input.active,.qti-item .qti-graphicInteraction .active textarea.active{border-color:#3e7da7}.qti-item .qti-graphicInteraction .image-editor{position:relative;float:left;padding:3px}.qti-item .qti-graphicInteraction .image-editor .mapping-editor{display:none;position:absolute;width:150px;height:150px;text-align:left;z-index:10009}.qti-item .qti-graphicInteraction .main-image-box{margin:0 auto;padding:0;text-align:center;overflow:visible}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .qti-graphicGapMatchInteraction ul.source{width:100%;margin:10px auto;padding:3px !important;clear:both;min-height:60px}.qti-item .qti-graphicGapMatchInteraction ul.source>li{background:#fff;border:solid 1px #ddd !important;line-height:60px;min-height:60px;min-width:60px;text-align:center;max-width:100%;font-size:20px;font-size:2rem;margin:0 3px 3px 0 !important;padding:0;cursor:pointer}.qti-item .qti-graphicGapMatchInteraction ul.source>li.active{border:solid 1px #3e7da7 !important;-webkit-transition:background, .1s, ease-out, 0s;-moz-transition:background, .1s, ease-out, 0s;-ms-transition:background, .1s, ease-out, 0s;-o-transition:background, .1s, ease-out, 0s;transition:background, .1s, ease-out, 0s}.qti-item .qti-graphicGapMatchInteraction ul.source>li.active:hover{background:#fff !important;cursor:default !important}.qti-item .qti-graphicGapMatchInteraction ul.source>li.active.selectable:hover{cursor:pointer !important}.qti-item .qti-graphicGapMatchInteraction ul.source>li.dragged{z-index:10}.qti-item .qti-graphicGapMatchInteraction ul.source>li.disabled{border:none;cursor:default !important;color:#333 !important;background-color:transparent !important}.qti-item .qti-graphicGapMatchInteraction ul.source>li img{display:block}.qti-item .qti-graphicGapMatchInteraction .gap-filler{display:block;position:absolute;z-index:20000}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .qti-graphicOrderInteraction ul.ordinals{width:100%;margin:10px auto;padding:0 !important;clear:both;min-height:54px}.qti-item .qti-graphicOrderInteraction ul.ordinals>li{width:30px;line-height:30px;text-align:center;font-size:20px;font-size:2rem;margin:0;background:#fff;font-family:helvetica, arial, sans-serif;margin-right:1px}.qti-item .qti-graphicOrderInteraction ul.ordinals>li:hover{cursor:pointer}.qti-item .qti-graphicOrderInteraction ul.ordinals>li.active{border:solid 1px #3e7da7;-webkit-transition:background, .4s, ease-out, 0s;-moz-transition:background, .4s, ease-out, 0s;-ms-transition:background, .4s, ease-out, 0s;-o-transition:background, .4s, ease-out, 0s;transition:background, .4s, ease-out, 0s}.qti-item .qti-graphicOrderInteraction ul.ordinals>li.active:hover{background:#fff !important;cursor:default !important}.qti-item .qti-graphicOrderInteraction ul.ordinals>li.disabled{border:none;cursor:default !important;color:#666 !important;background-color:transparent !important}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .qti-SelectPointInteraction .txt-success:hover{background:transparent !important}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .runtime:not(.widget-box) .qti-hottextInteraction .qti-hottext{padding:1px;border-width:1px !important}.qti-item .qti-hottextInteraction .qti-hottext{display:inline-block;background:#f3f1ef;margin-right:5px;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;position:relative;border-width:0px !important}.qti-item .qti-hottextInteraction .qti-hottext.error{color:#ba122b}.qti-item .qti-hottextInteraction .qti-hottext .hottext-checkmark{padding-left:3px}.qti-item .qti-hottextInteraction .qti-hottext [class^="icon-"].small,.qti-item .qti-hottextInteraction .qti-hottext [class*=" icon-"].small{font-size:12px;font-size:1.2rem;text-shadow:none;line-height:10px;top:1px}.qti-item .qti-hottextInteraction .qti-hottext [class^="icon-"].error,.qti-item .qti-hottextInteraction .qti-hottext [class*=" icon-"].error{color:#ba122b}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .qti-gapMatchInteraction .gapmatch-content{border:solid 1px transparent;background:#f3f1ef;color:#222;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;position:relative;top:0px;min-width:45px;min-height:20px;display:inline-block}.qti-item .qti-gapMatchInteraction .gapmatch-content audio,.qti-item .qti-gapMatchInteraction .gapmatch-content canvas,.qti-item .qti-gapMatchInteraction .gapmatch-content img,.qti-item .qti-gapMatchInteraction .gapmatch-content video{vertical-align:baseline}.qti-item .qti-gapMatchInteraction .gapmatch-content.empty{min-height:20px}.qti-item .qti-gapMatchInteraction .gapmatch-content .remove{float:right}.qti-item .qti-gapMatchInteraction .gapmatch-content.filled{top:0 !important}.qti-item .qti-gapMatchInteraction .gapmatch-content .qti-block{display:inline-block}.qti-item .qti-gapMatchInteraction .choice-area .deactivated{cursor:default;opacity:0.2}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .qti-sliderInteraction .ui-slider-horizontal{margin:0 20px}.qti-item .qti-sliderInteraction .ui-slider-vertical{margin:0 20px;display:inline-block}.qti-item .qti-sliderInteraction .qti-slider-values{position:relative}.qti-item .qti-sliderInteraction.qti-slider-horizontal .qti-slider-values{height:20px;margin:0 10px}.qti-item .qti-sliderInteraction.qti-slider-horizontal .slider-min,.qti-item .qti-sliderInteraction.qti-slider-horizontal .slider-max,.qti-item .qti-sliderInteraction.qti-slider-horizontal .slider-middle{position:absolute;width:40px;margin-left:-20px;text-align:center;font-size:12px;font-size:1.2rem}.qti-item .qti-sliderInteraction.qti-slider-horizontal .slider-min{left:0%}.qti-item .qti-sliderInteraction.qti-slider-horizontal .slider-max{left:100%}.qti-item .qti-sliderInteraction.qti-slider-vertical .qti-slider-values{width:30px;display:inline-block}.qti-item .qti-sliderInteraction.qti-slider-vertical .slider-min,.qti-item .qti-sliderInteraction.qti-slider-vertical .slider-max,.qti-item .qti-sliderInteraction.qti-slider-vertical .slider-middle{position:absolute}.qti-item .qti-sliderInteraction.qti-slider-vertical .slider-min{bottom:-10px}.qti-item .qti-sliderInteraction.qti-slider-vertical .slider-max{top:-10px}.qti-item .qti-sliderInteraction.qti-slider-vertical .ui-slider-handle{width:17px !important;height:10px !important;margin-left:-4px !important}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item select.qti-inlineChoiceInteraction{min-width:150px;max-width:100%;width:auto;padding-right:20px;font-size:14px}.qti-item .qti-inlineChoiceInteraction .select2-chosen{margin-right:30px}.qti-item .qti-inlineChoiceInteraction .select2-chosen,.qti-item select.qti-inlineChoiceInteraction,.qti-item .qti-inlineChoiceInteraction-dropdown .select2-result-label{font-family:"Franklin Gothic","Franklin Gothic Medium","Source Sans Pro",sans-serif !important;font-weight:normal !important}.qti-item .qti-inlineChoiceInteraction.select2-container-active{outline-color:#0E5D91;outline-style:auto;outline-width:5px}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .qti-textEntryInteraction table{border-collapse:separate;border-spacing:2px}.qti-item .qti-textEntryInteraction tr{height:27px;white-space:nowrap}.qti-item .qti-textEntryInteraction .icon-bin,.qti-item .qti-textEntryInteraction .icon-pin,.qti-item .qti-textEntryInteraction .icon-shuffle{text-align:center;padding:0 5px;cursor:pointer;vertical-align:middle}.qti-item .qti-textEntryInteraction .icon-radio,.qti-item .qti-textEntryInteraction .icon-checkbox,.qti-item .qti-textEntryInteraction .icon-radio-checked,.qti-item .qti-textEntryInteraction .icon-checkbox-checked{font-size:13px !important}.qti-item .qti-textEntryInteraction .icon-bin:hover,.qti-item .qti-textEntryInteraction .icon-pin:hover,.qti-item .qti-textEntryInteraction .icon-shuffle:hover{color:#3e7da7}.qti-item .qti-textEntryInteraction td[contenteditable],.qti-item .qti-textEntryInteraction .main-option{padding:0 7px;background:white;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px}.qti-item .qti-textEntryInteraction .main-option{border-top:1px #ddd solid;border-bottom:1px #ddd solid;padding-right:29px;min-width:180px}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .qti-uploadInteraction{padding:6px 6px 0 6px}.qti-item .qti-uploadInteraction input[type="file"]{height:50px}.qti-item .qti-uploadInteraction .grid-row{margin-bottom:0 !important}.qti-item .qti-uploadInteraction .progressbar{margin-bottom:6px}.qti-item .qti-uploadInteraction .btn-info{padding-top:0 !important}.qti-item .qti-uploadInteraction .file-name{padding:2px 3px !important}.qti-item .qti-uploadInteraction .file-upload{margin-right:20px}.qti-item .qti-uploadInteraction .file-upload-preview{background-color:#f3f1ef;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;max-width:100%;min-width:300px;min-height:250px;margin:0 20px 20px 0;height:auto;position:relative;overflow:hidden;display:none}.qti-item .qti-uploadInteraction .file-upload-preview.visible-file-upload-preview{display:block}.qti-item .qti-uploadInteraction .file-upload-preview.clickable{cursor:pointer}.qti-item .qti-uploadInteraction .file-upload-preview.runtime-visible-file-upload-preview{min-width:unset;min-height:unset;height:auto;background:transparent}.qti-item .qti-uploadInteraction .file-upload-preview p.nopreview{position:absolute;top:32%;left:0;font-weight:normal;font-family:"Franklin Gothic","Franklin Gothic Medium","Source Sans Pro",sans-serif;font-size:20px;font-size:2rem;text-shadow:1px 1px 0 rgba(0,0,0,0.3);color:#ddd;display:block;text-align:center;width:100%}.qti-item .qti-uploadInteraction .file-upload-preview p.nopreview:before{font-size:60px;font-size:6rem;font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e670";display:block !important}.qti-item .qti-uploadInteraction .file-upload-preview-popup{padding:40px 0 0;max-width:100%}.qti-item .qti-uploadInteraction .file-upload-preview-popup.modal{position:absolute;max-width:unset;height:auto;top:0 !important}.qti-item .qti-uploadInteraction .file-upload-preview-popup.modal .modal-body{overflow:auto;width:100%;height:100%;border-top:1px solid #ddd}.qti-item .qti-uploadInteraction .file-upload-preview-popup.modal img{display:block;margin:auto;max-width:unset}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .qti-rubricBlock .qti-rubricBlock-body{border:1px solid transparent}.qti-item .qti-rubricBlock>.col-12{border:1px solid #DDD !important;background-color:rgba(243,241,239,0.3)}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item .qti-customInteraction{position:relative}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item table.qti-table{border:1px solid #8d949e}.qti-item table.qti-table.table-center{display:table;margin:0 auto}.qti-item table.qti-table.table-right{display:table;margin:0 0 0 auto}.qti-item table.qti-table tr:nth-child(even){background:white}.qti-item table.qti-table tr:nth-child(odd){background:#f2f2f3}.qti-item table.qti-table th{background-color:#D4D5D7;font-weight:bold}.qti-item table.qti-table th,.qti-item table.qti-table td{border:1px solid #8d949e;min-width:30px;padding:3px 5px}.qti-item .xhtml_form .form-toolbar:before,.qti-item .qti-uploadInteraction:before,.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{content:" ";display:table}.qti-item .xhtml_form .form-toolbar:after,.qti-item .qti-uploadInteraction:after{clear:both}.qti-item [data-role="tooltip-target"]{color:#0e5d91;text-decoration:dashed underline #0e5d91;cursor:pointer}.qti-item [data-role="tooltip-target"]:after{font-family:\'tao\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\e63a";font-size:0.9rem;vertical-align:super;margin-left:2px;text-decoration:none;display:inline-block}.qti-item [data-role="tooltip-content"][aria-hidden="true"]{display:none}.qti-item .qti-item .tooltip{padding:10px}.qti-item .tooltip-active{position:static;border-style:none;padding:0;font-size:1em}.tao-preview-scope{padding-top:20px}\n\n/*# sourceMappingURL=qti-runner.css.map */.qti-item{font-family:"Source Sans Pro"}.qti-inlineChoiceInteraction .select2-chosen,select.qti-inlineChoiceInteraction,.qti-inlineChoiceInteraction-dropdown .select2-result-label{font-family:inherit !important;font-weight:normal !important}\n\n/*# sourceMappingURL=theme.css.map */.test-runner-scope .content-wrapper p.key-navigation-group,.test-runner-scope .content-wrapper div.key-navigation-group{padding:5px !important}.test-runner-scope .content-wrapper .key-navigation-group:not(.qti-extendedTextInteraction):not(.qti-textEntryInteraction){border-width:1px !important;border-style:solid;border-color:transparent}.test-runner-scope .content-wrapper .key-navigation-group:not(.qti-extendedTextInteraction):not(.qti-textEntryInteraction).focusin{border-color:#0e5d91 !important;outline:none}.test-runner-scope .content-wrapper .key-navigation-group:not(.qti-extendedTextInteraction):not(.qti-textEntryInteraction).qti-interaction .qti-choice.key-navigation-highlight{background:#e7eff4 !important}.test-runner-scope .content-wrapper span.key-navigation-group{border:none !important}.test-runner-scope .content-wrapper span.key-navigation-group.focusin{outline:solid #0e5d91 1px !important;outline-offset:1px}.test-runner-scope .test-sidebar .key-navigation-group.focusin{background:#e7eff4}.test-runner-scope .test-sidebar .key-navigation-group .qti-navigator-filters .key-navigation-highlight .qti-navigator-tab{border-width:2px}.test-runner-scope .test-sidebar .key-navigation-group .qti-navigator-filters .key-navigation-highlight:focus{outline:none}.test-runner-scope .test-sidebar .key-navigation-group .qti-navigator-filters .key-navigation-highlight:focus .qti-navigator-tab{border-top-color:#222 !important;border-left-color:#222 !important;border-right-color:#222 !important}.test-runner-scope .test-sidebar .key-navigation-group li.qti-navigator-item.key-navigation-highlight{padding-left:8px;border-left:solid 2px #222}.test-runner-scope .test-sidebar .key-navigation-group li.qti-navigator-item.key-navigation-highlight .key-navigation-highlight:focus{outline:none}.test-runner-scope .bottom-action-bar.content-action-bar.key-navigation-group.focusin{-webkit-box-shadow:0 0 6px 2px #3e7da7;-moz-box-shadow:0 0 6px 2px #3e7da7;-ms-box-shadow:0 0 6px 2px #3e7da7;-o-box-shadow:0 0 6px 2px #3e7da7;box-shadow:0 0 6px 2px #3e7da7}.test-runner-scope .bottom-action-bar.content-action-bar.key-navigation-group .key-navigation-highlight:focus{margin-bottom:0;border-bottom-color:#e7eff4 !important;outline:none}.test-runner-scope .bottom-action-bar.content-action-bar.key-navigation-group .key-navigation-highlight:focus.active{border-bottom-color:transparent !important;background:#e7eff4 !important}.test-runner-scope .bottom-action-bar.content-action-bar.key-navigation-group .key-navigation-highlight:focus:not(.active):not(:active) .li-inner{color:#e7eff4}header .settings-menu .key-navigation-group{padding-right:5px}header .settings-menu .key-navigation-group.focusin{background-color:rgba(14,93,145,0.5);padding-bottom:10px}header .settings-menu .key-navigation-highlight:focus{height:54px;color:white !important;border-bottom:solid 2px white !important}\n\n/*# sourceMappingURL=key-navigation.css.map */.countdown{opacity:0;position:relative;display:inline-block;overflow:hidden;text-align:center;vertical-align:top;line-height:1.2;padding:0 20px;margin-top:-1px;height:100%}.countdown.rendered{opacity:1;-webkit-transition:opacity, 300ms, linear, 0s;-moz-transition:opacity, 300ms, linear, 0s;-ms-transition:opacity, 300ms, linear, 0s;-o-transition:opacity, 300ms, linear, 0s;transition:opacity, 300ms, linear, 0s}.countdown .label{max-width:130px;display:block;font-size:12px;font-size:1.2rem}\n\n/*# sourceMappingURL=countdown.css.map */.timer-box{opacity:0;padding-top:0;white-space:nowrap;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}.timer-box.rendered{opacity:1;-webkit-transition:opacity, 300ms, linear, 0s;-moz-transition:opacity, 300ms, linear, 0s;-ms-transition:opacity, 300ms, linear, 0s;-o-transition:opacity, 300ms, linear, 0s;transition:opacity, 300ms, linear, 0s}.timer-box .timer-toggler{text-decoration:none;color:#fff;line-height:1.3;opacity:.68;padding:8px 20px;position:relative;top:-1px;left:20px;z-index:2;-webkit-transition:opacity, .5s, ease-out, 0s;-moz-transition:opacity, .5s, ease-out, 0s;-ms-transition:opacity, .5s, ease-out, 0s;-o-transition:opacity, .5s, ease-out, 0s;transition:opacity, .5s, ease-out, 0s}.timer-box .timer-toggler:hover,.timer-box .timer-toggler:active,.timer-box .timer-toggler:focus{outline:unset}.timer-box .timer-toggler:hover{opacity:.93;-webkit-transition:opacity, .5s, ease-out, 0s;-moz-transition:opacity, .5s, ease-out, 0s;-ms-transition:opacity, .5s, ease-out, 0s;-o-transition:opacity, .5s, ease-out, 0s;transition:opacity, .5s, ease-out, 0s}.timer-box.zen .timer-toggler{opacity:.93;-webkit-transition:opacity, .5s, ease-out, 0s;-moz-transition:opacity, .5s, ease-out, 0s;-ms-transition:opacity, .5s, ease-out, 0s;-o-transition:opacity, .5s, ease-out, 0s;transition:opacity, .5s, ease-out, 0s}.timer-box.zen .countdown .time{opacity:0;-webkit-transition:opacity, 1s, ease-out, 0s;-moz-transition:opacity, 1s, ease-out, 0s;-ms-transition:opacity, 1s, ease-out, 0s;-o-transition:opacity, 1s, ease-out, 0s;transition:opacity, 1s, ease-out, 0s}.timer-box .countdown::before{content:\' \';background:rgba(255,255,255,0.3);width:1px;height:20px;position:absolute;left:0;top:5px}.timer-box .countdown:first-child::before{content:none}.timer-box .countdown[data-scope=test][data-type=min]{-ms-flex-order:5;-webkit-order:5;order:5}.timer-box .countdown[data-scope=test]{-ms-flex-order:10;-webkit-order:10;order:10}.timer-box .countdown[data-scope=testPart][data-type=min]{-ms-flex-order:15;-webkit-order:15;order:15}.timer-box .countdown[data-scope=testPart]{-ms-flex-order:20;-webkit-order:20;order:20}.timer-box .countdown[data-scope=section][data-type=min]{-ms-flex-order:25;-webkit-order:25;order:25}.timer-box .countdown[data-scope=section]{-ms-flex-order:30;-webkit-order:30;order:30}.timer-box .countdown[data-scope=item][data-type=min]{-ms-flex-order:35;-webkit-order:35;order:35}.timer-box .countdown[data-scope=item]{-ms-flex-order:40;-webkit-order:40;order:40}\n\n/*# sourceMappingURL=timerbox.css.map */.modal.has-secondary .message{font-weight:bold}.modal.has-secondary .buttons{width:100%;text-align:center}.modal.has-secondary .buttons button.waiting:disabled{background-color:transparent !important;color:#222 !important;opacity:1 !important;font-size:1.6rem !important;text-shadow:none !important;text-transform:none}.modal.has-secondary .buttons .between-buttons-text{color:#7a7a7a;padding:0 1rem;font-size:12px;font-size:1.2rem}.modal.has-secondary .button-subtext{font-size:11px;font-size:1.1rem;color:#7a7a7a;text-align:center;margin-top:1.5rem}\n\n/*# sourceMappingURL=waitingDialog.css.map */.calculator{position:relative;font-family:monospace, sans-serif;font-size:12px;width:100%;height:100%;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:column;-webkit-flex-direction:column;flex-direction:column;-ms-align-content:stretch;-webkit-align-content:stretch;align-content:stretch}.calculator sup,.calculator sub{font-size:0.75em}.calculator sup{top:-.5em}.calculator sub{bottom:-.5em}.calculator .screen,.calculator .input{position:relative;-ms-flex:0 0 auto;-webkit-flex:0 0 auto;flex:0 0 auto}.calculator .focus{outline:2px solid #0e5d91}.calculator .keyboard{position:relative;-ms-flex:1 1;-webkit-flex:1 1;flex:1 1}.calculator .calculator-keyboard{position:relative;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:column;-webkit-flex-direction:column;flex-direction:column;-ms-align-content:stretch;-webkit-align-content:stretch;align-content:stretch;background:#f3f1ef;color:#222;width:100%;height:100%;padding-top:8px}.calculator .calculator-keyboard .row{position:relative;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-align-content:stretch;-webkit-align-content:stretch;align-content:stretch;-ms-flex:1 1 auto;-webkit-flex:1 1 auto;flex:1 1 auto;width:100%;height:100%}.calculator .calculator-keyboard .spacer{-ms-flex:1 1 auto;-webkit-flex:1 1 auto;flex:1 1 auto;width:3.2em;height:100%}.calculator .calculator-keyboard span{position:relative;display:inline-block;z-index:1;font-size:1.3em !important}.calculator .calculator-keyboard button{position:relative;background-color:#f3f1ef;color:#222 !important;display:inline-block;border-radius:0;border:none;padding:0;text-align:center;text-shadow:none;cursor:pointer;-ms-flex:1 1 auto;-webkit-flex:1 1 auto;flex:1 1 auto;width:3.2em;height:100%;font-size:1em !important}.calculator .calculator-keyboard button:not(.switch):before{content:" ";border-radius:50%;display:inline-block;position:absolute;z-index:0;top:calc(50% - 1.6em + 2px);left:calc(50% - 1.6em + 2px);width:calc(3.2em - 4px);height:calc(3.2em - 4px)}.calculator .calculator-keyboard button:hover:before{background:#a4a9b1}.calculator .calculator-keyboard button.disabled{visibility:hidden}.calculator .calculator-keyboard button.switch span{color:#222 !important;border-color:#919191 !important;border-top:1px solid;border-bottom:1px solid;height:auto;width:100%;padding:4px 0.5em;font-size:1em !important}.calculator .calculator-keyboard button.switch.first span{border-left:1px solid;border-top-left-radius:2px;border-bottom-left-radius:2px}.calculator .calculator-keyboard button.switch.last span{border-right:1px solid;border-top-right-radius:2px;border-bottom-right-radius:2px}.calculator .calculator-keyboard button.switch:before{content:" ";border-radius:2px;display:inline-block;position:absolute;z-index:0;top:calc(50% - .5em - 4px);bottom:calc(50% - .5em - 4px);left:3px;right:3px}.calculator .calculator-keyboard button.operand span{font-weight:bold;font-size:1.7em !important}.calculator .calculator-keyboard button.command span{color:#0e5d91 !important}.calculator .calculator-keyboard button.execute:before{background:#3e7da7}.calculator .calculator-keyboard button.execute span{font-weight:bold;color:#fff !important;font-size:1.7em !important}.calculator .calculator-keyboard button svg{display:inline-block;width:1em;height:1em;stroke-width:0;stroke:currentColor;fill:currentColor}.calculator .calculator-keyboard button svg.backspace-outline{width:1.2em;height:1.2em}.calculator.degree .calculator-keyboard button.switch[data-command="degree"]:before{background:#3e7da7}.calculator.degree .calculator-keyboard button.switch[data-command="degree"] span{color:#fff !important}.calculator.radian .calculator-keyboard button.switch[data-command="radian"]:before{background:#3e7da7}.calculator.radian .calculator-keyboard button.switch[data-command="radian"] span{color:#fff !important}.calculator .simple-screen{position:relative;width:100%;font-size:1.3em !important;color:#222;font-family:monospace}.calculator .simple-screen .screen-panel{position:relative;width:100%;overflow:auto;word-break:break-all;text-align:left;padding:8px 8px}.calculator .simple-screen .history{font-size:1em !important;border:1px solid #ddd;color:#4e4e4e;height:calc(16px + 3.9em);line-height:1.3em}.calculator .simple-screen .history .history-line .history-expression{text-align:left}.calculator .simple-screen .history .history-line .history-expression,.calculator .simple-screen .history .history-line .history-expression .term{font-weight:lighter}.calculator .simple-screen .history .history-line .history-result{text-align:right;font-weight:bolder}.calculator .simple-screen .history .history-line .history-result:before{content:"=";display:inline-block;font-weight:lighter;padding-right:.2em}.calculator .simple-screen .expression{font-size:1.3em !important;background:#fff;color:#222;height:calc(16px + 3.2em);line-height:1.6em}.calculator .simple-screen .term{padding:0}.calculator .simple-screen .term.term-operator:not([data-token="POW"]):not([data-token="FAC"]):not([data-token="NEG"]):not([data-token="POS"]){padding:0 .2em}.calculator .simple-screen .term.term-operator[data-token="FAC"],.calculator .simple-screen .term.term-operator[data-token="NEG"],.calculator .simple-screen .term.term-operator[data-token="POS"]{margin-left:-.1em;margin-right:-.1em}.calculator .simple-screen .term.term-function:not([data-token="SQRT"]):not([data-token="CBRT"]){padding-right:.2em}.calculator .simple-screen .term.term-operand{font-weight:bold}.calculator .simple-screen .term.term-modificator{font-weight:lighter}.calculator .simple-screen .term.term-constant{font-style:italic;font-weight:bold}.calculator .simple-screen .term.term-variable{font-weight:bold;color:#3e7da7}.calculator .simple-screen .term.term-unknown{color:#d8ae5b;text-decoration:underline wavy #ba122b}.calculator .simple-screen .term.term-elide{display:none}.calculator .simple-screen .term.term-error{color:#ba122b}.calculator .simple-screen .term.term-syntaxError{color:#ba122b;text-decoration:underline wavy #ba122b}.calculator.error .screen .expression{background:#f1d0d5}\n\n/*# sourceMappingURL=calculator.css.map */.mediaplayer{position:relative;border:1px solid #333;border-radius:2px;-webkit-border-radius:2px;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;background:#000}.mediaplayer .icon-sound:before{content:"\\e6af"}.mediaplayer .icon-mute:before{content:"\\e69e"}.mediaplayer .error{display:none}.mediaplayer .player{position:relative}.mediaplayer .player iframe{pointer-events:none}.mediaplayer .player .overlay{position:absolute;z-index:1;top:0;left:0;bottom:0;right:0;opacity:1;background:transparent none}.mediaplayer .player .action{position:absolute;z-index:2;top:50%;left:50%;width:64px;height:64px;margin-top:-32px;margin-left:-32px;text-align:center;text-decoration:none;display:none;font-size:64px;font-size:6.4rem;color:#fff}.mediaplayer .player .action .icon{-moz-border-radius:10px;-webkit-border-radius:10px;border-radius:10px;padding:6px 12px;background-color:#000;opacity:0.2}.mediaplayer .player .action .icon:hover{opacity:0.6}.mediaplayer .controls{visibility:hidden;position:relative;padding:5px;display:table;table-layout:fixed;width:100%;border-top:1px solid #333}.mediaplayer .controls .bar{display:table-row}.mediaplayer .controls .control{display:table-cell}.mediaplayer .controls .actions{position:relative;-webkit-transition:all, .1, ease-in-out, 0s;-moz-transition:all, .1, ease-in-out, 0s;-ms-transition:all, .1, ease-in-out, 0s;-o-transition:all, .1, ease-in-out, 0s;transition:all, .1, ease-in-out, 0s}.mediaplayer .controls .actions .action{text-align:center;line-height:2.2rem;width:2.2rem;height:2.2rem;text-decoration:none;color:#dcdcdc;-webkit-transition:all, .2, ease-in-out, 0s;-moz-transition:all, .2, ease-in-out, 0s;-ms-transition:all, .2, ease-in-out, 0s;-o-transition:all, .2, ease-in-out, 0s;transition:all, .2, ease-in-out, 0s}.mediaplayer .controls .actions .action:hover{opacity:1}.mediaplayer .controls .actions .action .icon{line-height:2.2rem}.mediaplayer .controls .actions .play{opacity:0.7;border-right:1px solid #333}.mediaplayer .controls .actions .mute{opacity:0.8;border-left:1px solid #333}.mediaplayer .controls .slider{cursor:pointer;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;-moz-border-radius:10px;-webkit-border-radius:10px;border-radius:10px;-webkit-transition:all, .1, ease-in-out, 0s;-moz-transition:all, .1, ease-in-out, 0s;-ms-transition:all, .1, ease-in-out, 0s;-o-transition:all, .1, ease-in-out, 0s;transition:all, .1, ease-in-out, 0s;background:#fff}.mediaplayer .controls .slider .noUi-background{-moz-border-radius:10px;-webkit-border-radius:10px;border-radius:10px;background:#fff}.mediaplayer .controls .slider.noUi-connect,.mediaplayer .controls .slider .noUi-connect{-moz-border-radius:10px;-webkit-border-radius:10px;border-radius:10px;background:#333}.mediaplayer .controls .slider .noUi-handle{width:11px;height:11px;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;-moz-border-radius:10px;-webkit-border-radius:10px;border-radius:10px;background:#858585}.mediaplayer .controls .slider .noUi-handle:hover{background:#5c5c5c}.mediaplayer .controls .slider .noUi-handle:after{display:none}.mediaplayer .controls .slider.noUi-horizontal{height:9px}.mediaplayer .controls .slider.noUi-horizontal .noUi-handle{top:-2px}.mediaplayer .controls .slider.noUi-vertical{width:9px}.mediaplayer .controls .slider.noUi-vertical .noUi-handle{left:-2px}.mediaplayer .controls .infos{cursor:default;margin:0 1rem;line-height:2.2rem;color:#999;font-size:10px;font-size:1rem;font-weight:bold}.mediaplayer .controls .infos [data-control="time-end"]:before{content:\' / \'}.mediaplayer .controls .timer{width:8rem;text-align:center}.mediaplayer .controls .seek{position:relative;height:1rem;margin-top:5px;padding-left:1rem}.mediaplayer .controls .playback{margin-right:1rem;width:2.2rem}.mediaplayer .controls .sound{width:2.2rem;height:2.2rem}.mediaplayer .controls .sound .volume{cursor:default;position:absolute;z-index:3;background-color:#000;padding:0 10px 0 10px;height:0;top:0;left:-1px;opacity:0;border:solid 1px #333;-webkit-transition:height 300ms ease-out, top 300ms ease-out, opacity 50ms linear 250ms;-moz-transition:height 300ms ease-out, top 300ms ease-out, opacity 50ms linear 250ms;-ms-transition:height 300ms ease-out, top 300ms ease-out, opacity 50ms linear 250ms;-o-transition:height 300ms ease-out, top 300ms ease-out, opacity 50ms linear 250ms;transition:height 300ms ease-out, top 300ms ease-out, opacity 50ms linear 250ms}.mediaplayer .controls .sound .volume.up,.mediaplayer .controls .sound .volume.down{height:120px;padding:10px 10px 5px 10px;opacity:1}.mediaplayer .controls .sound .volume.up .slider,.mediaplayer .controls .sound .volume.down .slider{opacity:1;transition:opacity 50ms linear 200ms;-webkit-transition:opacity 50ms linear 200ms;-moz-transition:opacity 50ms linear 200ms;-ms-transition:opacity 50ms linear 200ms;-o-transition:opacity 50ms linear 200ms;transition:opacity 50ms linear 200ms}.mediaplayer .controls .sound .volume.up{top:-125px;-webkit-transition:height 300ms ease-out 50ms, top 300ms ease-out 50ms, opacity 50ms linear;-moz-transition:height 300ms ease-out 50ms, top 300ms ease-out 50ms, opacity 50ms linear;-ms-transition:height 300ms ease-out 50ms, top 300ms ease-out 50ms, opacity 50ms linear;-o-transition:height 300ms ease-out 50ms, top 300ms ease-out 50ms, opacity 50ms linear;transition:height 300ms ease-out 50ms, top 300ms ease-out 50ms, opacity 50ms linear}.mediaplayer .controls .sound .volume.down{top:29px;-webkit-transition:height 300ms ease-out 50ms, opacity 50ms linear;-moz-transition:height 300ms ease-out 50ms, opacity 50ms linear;-ms-transition:height 300ms ease-out 50ms, opacity 50ms linear;-o-transition:height 300ms ease-out 50ms, opacity 50ms linear;transition:height 300ms ease-out 50ms, opacity 50ms linear}.mediaplayer .controls .sound .slider{opacity:0}.mediaplayer .controls .sound .slider .noUi-handle{cursor:pointer;width:9px;height:9px}.mediaplayer .controls .sound .slider.noUi-horizontal{width:50px;height:7px}.mediaplayer .controls .sound .slider.noUi-vertical{width:7px;height:100px}.mediaplayer .controls [data-control="play"]{display:none}.mediaplayer .controls [data-control="pause"]{display:none}.mediaplayer .controls [data-control="mute"]{display:inline-block}.mediaplayer .controls [data-control="unmute"]{display:none}.mediaplayer.video .sound .volume,.mediaplayer.youtube .sound .volume{width:2.2rem;bottom:2.2rem;right:0}.mediaplayer.audio .sound .volume{height:2.2rem;right:2.2rem;bottom:0}.mediaplayer.ready .controls{visibility:visible}.mediaplayer.ready.paused.canplay .overlay{cursor:pointer}.mediaplayer.ready.paused.canplay .player:hover [data-control="play"]{display:inline-block}.mediaplayer.ready.paused.canplay.youtube.ended .player:hover [data-control="play"]{display:none}.mediaplayer.ready.playing.canpause .overlay{cursor:pointer}.mediaplayer.ready.playing.canpause .player:hover [data-control="pause"]{display:inline-block}.mediaplayer.playing.canpause .controls [data-control="pause"]{display:inline-block}.mediaplayer.paused.canplay .controls [data-control="play"]{display:inline-block}.mediaplayer.paused.canplay .controls [data-control="pause"]{display:none}.mediaplayer.muted .controls [data-control="mute"]{display:none}.mediaplayer.muted .controls [data-control="unmute"]{display:inline-block}.mediaplayer.nogui .player iframe{pointer-events:inherit}.mediaplayer.nogui .overlay{display:none !important}.mediaplayer.nogui .controls{display:none !important}.mediaplayer.error .media,.mediaplayer.error .controls{display:none}.mediaplayer.error .error{display:table;text-align:center;width:100%;height:100%}.mediaplayer.error .error .message{color:#ba122b;display:table-cell;vertical-align:middle}.mediaplayer.loading::before{content:\'\';box-sizing:border-box;position:absolute;top:50%;left:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:1px solid #ccc;border-top-color:#07d;animation:spinner .6s linear infinite}@keyframes spinner{to{transform:rotate(360deg)}}\n\n/*# sourceMappingURL=player.css.map */');
//# sourceMappingURL=app.min.js.map